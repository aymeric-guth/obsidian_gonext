/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  Assert: () => Assert,
  Helper: () => Helper,
  Paths: () => Paths,
  default: () => MyPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");

// node_modules/uuid/dist/esm-browser/stringify.js
var byteToHex = [];
for (i = 0; i < 256; ++i) {
  byteToHex.push((i + 256).toString(16).slice(1));
}
var i;
function unsafeStringify(arr, offset = 0) {
  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + "-" + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + "-" + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + "-" + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + "-" + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();
}

// node_modules/uuid/dist/esm-browser/rng.js
var getRandomValues;
var rnds8 = new Uint8Array(16);
function rng() {
  if (!getRandomValues) {
    getRandomValues = typeof crypto !== "undefined" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);
    if (!getRandomValues) {
      throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");
    }
  }
  return getRandomValues(rnds8);
}

// node_modules/uuid/dist/esm-browser/native.js
var randomUUID = typeof crypto !== "undefined" && crypto.randomUUID && crypto.randomUUID.bind(crypto);
var native_default = {
  randomUUID
};

// node_modules/uuid/dist/esm-browser/v4.js
function v4(options, buf, offset) {
  if (native_default.randomUUID && !buf && !options) {
    return native_default.randomUUID();
  }
  options = options || {};
  var rnds = options.random || (options.rng || rng)();
  rnds[6] = rnds[6] & 15 | 64;
  rnds[8] = rnds[8] & 63 | 128;
  if (buf) {
    offset = offset || 0;
    for (var i = 0; i < 16; ++i) {
      buf[offset + i] = rnds[i];
    }
    return buf;
  }
  return unsafeStringify(rnds);
}
var v4_default = v4;

// main.ts
var dayShort = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
var monthShort = [
  "Jan",
  "Feb",
  "Mar",
  "Apr",
  "May",
  "Jun",
  "Jul",
  "Aug",
  "Sep",
  "Oct",
  "Nov",
  "Dec"
];
var DEFAULT_SETTINGS = {
  mySetting: "default"
};
var MyPlugin = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.vaultContent = [];
    this.vaultContentDict = {};
  }
  openViewInNewTabIfNotOpened(name) {
    const f = this.app.vault.getAbstractFileByPath(name);
    if (f === void 0 || f === null) {
      console.warn(`file not found ${name}`);
      return;
    }
    const active = this.app.workspace.getLeaf();
    const root = active.parent;
    let found = false;
    let node = void 0;
    const emptyTabs = [];
    for (const leaf of root.children) {
      const file = this.getFileFromLeaf(leaf);
      if (file === void 0 || file === null) {
        emptyTabs.push(leaf);
        continue;
      }
      if (file.name === f.name) {
        found = true;
        node = leaf;
      }
    }
    if (!found) {
      if (emptyTabs.length > 0) {
        node = emptyTabs[0];
      } else {
        this.app.workspace.createLeafInParent(
          root,
          root.children.length + 1
        );
        node = root.children[root.children.length - 1];
      }
    }
    node.openFile(f, { active: true });
  }
  getFileCacheFromLeaf(leaf) {
    let file = void 0;
    try {
      file = leaf.view.file;
    } catch (e) {
      return void 0;
    }
    if (file === void 0 || file === null) {
      return void 0;
    }
    const abstractPath = this.app.vault.getAbstractFileByPath(file);
    return this.app.metadataCache.getFileCache(abstractPath);
  }
  getFileFromLeaf(leaf) {
    let file = void 0;
    try {
      file = leaf.view.file;
    } catch (e) {
      return void 0;
    }
    return this.app.vault.getAbstractFileByPath(file);
  }
  extractUUIDFromLink(link) {
    Assert.True(
      link.length >= 36,
      `extractUUIDFromLink: Invalid parameter type: link: "${link}"`
    );
    Assert.True(
      Helper.isUUID(link.slice(0, 36)),
      `extractUUIDFromLink: Invalid parameter type: link: "${link}"`
    );
    if (link.length === 36) {
      return link;
    } else {
      return link.slice(0, 36);
    }
  }
  grugAlias(_id) {
    const cache = this.getFileCacheFromUUID(_id);
    if (cache === void 0) {
      console.error(`grugAlias: file not found in grug cache ${_id}`);
      return "";
    }
    console.log(cache);
    console.log();
    let targetName = void 0;
    const fm = cache.frontmatter;
    if (cache.headings.length > 0 && cache.headings[0].level === 1) {
      targetName = cache.headings[0].heading;
    } else if (fm.alias !== void 0) {
      if (Array.isArray(fm.alias) && fm.alias.length > 0) {
        targetName = cache.frontmatter.alias[0];
      } else {
        targetName = cache.frontmatter.alias;
      }
    } else {
      targetName = _id;
    }
    const file = this.getFileFromUUID(_id);
    if (file === void 0) {
      console.error(`grugAlias: Cannot grug this id: ${_id}`);
      return "";
    }
    const path = `${file.path.split("/").slice(0, -1)}/${_id}`;
    return `[[${path}|${targetName}]]`;
  }
  getFileFromUUID(_id) {
    return this.vaultContentDict[_id];
  }
  getFileCacheFromUUID(_id) {
    const f = this.vaultContentDict[_id];
    if (f === void 0) {
      return void 0;
    }
    return this.app.metadataCache.getFileCache(f);
  }
  async onload() {
    var _a, _b;
    console.log("gonext - onload()");
    await this.loadSettings();
    this.metadataCache = this.app.metadataCache;
    this.workspace = this.app.workspace;
    this.dv = this.app.plugins.plugins.dataview.api;
    this.files = {};
    this.api = {};
    window.gonext = {
      // @ts-ignore
      state: (_b = (_a = window.gonext) == null ? void 0 : _a.state) != null ? _b : {},
      // @ts-ignore
      app: this.app
    };
    (0, import_obsidian.addIcon)(
      "GoNextIcon",
      `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path fill="currentColor" d="M20 12V2h2v10zm4 0V2h2v10zm4 0V2h2v10zm-12 8a3.912 3.912 0 0 1-4-4a3.912 3.912 0 0 1 4-4v-2a6 6 0 1 0 6 6h-2a3.912 3.912 0 0 1-4 4"></path><path fill="currentColor" d="M28.893 18.454L26.098 16l-1.318 1.504l2.792 2.452l-2.36 4.088l-3.427-1.16a9.032 9.032 0 0 1-2.714 1.565L18.36 28h-4.72l-.71-3.55a9.095 9.095 0 0 1-2.695-1.572l-3.447 1.166l-2.36-4.088l2.725-2.395a8.926 8.926 0 0 1-.007-3.128l-2.718-2.39l2.36-4.087l3.427 1.16A9.03 9.03 0 0 1 12.93 7.55L13.64 4H16V2h-2.36a2 2 0 0 0-1.961 1.608l-.504 2.519a10.967 10.967 0 0 0-1.327.753l-2.42-.819a1.998 1.998 0 0 0-2.372.895l-2.36 4.088a2 2 0 0 0 .411 2.502l1.931 1.697C5.021 15.495 5 15.745 5 16c0 .258.01.513.028.766l-1.92 1.688a2 2 0 0 0-.413 2.502l2.36 4.088a1.998 1.998 0 0 0 2.374.895l2.434-.824a10.974 10.974 0 0 0 1.312.759l.503 2.518A2 2 0 0 0 13.64 30h4.72a2 2 0 0 0 1.961-1.608l.504-2.519a10.967 10.967 0 0 0 1.327-.753l2.419.818a1.998 1.998 0 0 0 2.373-.894l2.36-4.088a2 2 0 0 0-.411-2.502"></path></svg>`
    );
    this.addCommand({
      id: "open-assets",
      name: "Open Assets",
      // @ts-ignore
      callback: async () => {
        const leaf = this.app.workspace.getLeaf();
        const file = this.getFileFromLeaf(leaf);
        const cache = this.getFileCacheFromLeaf(leaf);
        const adapter = this.app.vault.adapter;
        const vaultDir = adapter.basePath;
        const fm = cache.frontmatter;
        if (fm === void 0) {
          console.log(`file does not have a frontmatter: ${file.path}`);
          return;
        }
        const uuid = fm.uuid;
        if (uuid === void 0) {
          console.log(`file does not have a uuid: ${file.path}`);
          return;
        }
        if (!await adapter.exists(`${Paths.Assets}/${uuid}/`)) {
          await this.app.vault.adapter.mkdir(`${Paths.Assets}/${uuid}/`);
        }
        const assetPath = `${vaultDir}/${Paths.Assets}/${uuid}/`;
        console.log(assetPath);
        const { shell } = require("electron");
        shell.showItemInFolder(assetPath);
      }
    });
    this.addCommand({
      id: "open-index",
      name: "Open Index",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Notes/eec0a297-982c-471c-9748-4943ec45fe94.md");
      }
    });
    this.addCommand({
      id: "open-inbox",
      name: "Open Inbox",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Notes/8c7aad2a-b67f-44b7-86fd-27a50410be65.md");
      }
    });
    this.addCommand({
      id: "open-planning",
      name: "Open Planning",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Notes/d371e0f9-1a7f-4cd0-8fa4-260c176da4a4.md");
      }
    });
    this.addCommand({
      id: "open-next_actions",
      name: "Open Next Actions",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Notes/ab7aec92-2273-40bc-9632-da70937b5575.md");
      }
    });
    this.addCommand({
      id: "open-someday_maybe",
      name: "Open Someday Maybe",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Notes/e7b605b9-4d3a-4c17-bf4e-e7f1a51f7a30.md");
      }
    });
    this.addCommand({
      id: "open-waiting_for",
      name: "Open Waiting For",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Notes/7a13d7ac-732b-4cec-91f0-1498c824b82e.md");
      }
    });
    this.addCommand({
      id: "open-todays-log",
      name: "Open Today's Logs",
      // @ts-ignore
      callback: () => {
        const now = new Date();
        const nowIso = now.toISOString().slice(0, 10);
        if (!this.loadNoteNamed(nowIso)) {
          this.note(nowIso);
        }
      }
    });
    this.addCommand({
      id: "list-orphaned",
      name: "List Orphaned",
      // @ts-ignore
      callback: async () => {
        const files = this.app.vault.getFiles();
        const links = {};
        const r = [];
        let i = 0;
        let failed = 0;
        for (const f of files) {
          links[f.path] = 0;
        }
        const mdc = this.app.metadataCache;
        for (const f of files) {
          i++;
          const cache = this.app.metadataCache.getFileCache(f);
          if (cache.links === void 0) {
            continue;
          }
          for (const l of cache.links) {
            const link = await this.app.metadataCache.linkResolver(l.link);
            if (link === void 0) {
              failed++;
            }
          }
        }
        console.log(failed);
        for (const l of r) {
          ;
        }
      }
    });
    this.addCommand({
      id: "check-duplicates",
      name: "Check for Duplicates",
      // @ts-ignore
      callback: () => {
        const res = {};
        let i = 0;
        const pages = this.dv.pages(`"${Paths.Notes}"`);
        for (const page of pages) {
          const uuid = page.file.name;
          const cache = this.getFileCacheFromUUID(uuid);
          const nameHeading = this.getResourceName(
            cache
          );
          if (nameHeading === void 0 || nameHeading === "") {
            continue;
          }
          if (nameHeading.length !== 10 || nameHeading[0] !== "2") {
            continue;
          }
          if (res[nameHeading] === void 0 || res[nameHeading] === null) {
            res[nameHeading] = [uuid];
          } else {
            res[nameHeading].push(uuid);
          }
        }
        const keys = Object.keys(res);
        keys.sort();
        for (const key of keys) {
          if (res[key].length > 1) {
            console.log(key);
            for (const page of res[key]) {
              console.log(`	${page}`);
            }
          }
        }
      }
    });
    this.addCommand({
      id: "open-yesterdays-logs",
      name: "Open Yesterday's Logs",
      // @ts-ignore
      callback: () => {
        const now = new Date();
        now.setDate(now.getDate() - 1);
        const nowIso = now.toISOString().slice(0, 10);
        this.loadNoteNamed(nowIso);
      }
    });
    this.addCommand({
      id: "open-todays-daily",
      name: "Open Today's Daily",
      // @ts-ignore
      callback: () => {
        const now = new Date();
        const nowIso = now.toISOString().slice(0, 10);
        this.loadActionNamed(nowIso);
      }
    });
    this.addCommand({
      id: "open-tomorrows-daily",
      name: "Open Tomorrow's Daily",
      // @ts-ignore
      callback: () => {
        const now = new Date();
        now.setDate(now.getDate() + 1);
        const nowIso = now.toISOString().slice(0, 10);
        this.loadActionNamed(nowIso);
      }
    });
    this.addCommand({
      id: "open-yesterdays-daily",
      name: "Open Yesterday's Daily",
      // @ts-ignore
      callback: () => {
        const now = new Date();
        now.setDate(now.getDate() - 1);
        const nowIso = now.toISOString().slice(0, 10);
        this.loadActionNamed(nowIso);
      }
    });
    this.addCommand({
      id: "generate-note",
      name: "Generate Note",
      // @ts-ignore
      callback: () => {
        this.note();
      }
    });
    this.addCommand({
      id: "generate-verbatim",
      name: "Generate Verbatim",
      // @ts-ignore
      callback: () => {
        this.verbatim();
      }
    });
    this.addCommand({
      id: "generate-action",
      name: "Generate Action",
      // @ts-ignore
      callback: () => {
        this.action();
      }
    });
    this.addCommand({
      id: "clippy-the-clipper",
      name: "Clippy Clip",
      // @ts-ignore
      callback: () => {
        navigator.clipboard.readText().then((text) => {
          let _id = void 0;
          try {
            _id = this.extractUUIDFromLink(text);
          } catch (e) {
            return;
          }
          const file = this.getFileFromUUID(_id);
          Assert.True(
            file !== void 0,
            `getFileFromUUID: returned undefined for uuid: ${_id}`
          );
          const alias = this.grugAlias(_id);
          const activeLeaf = this.app.workspace.getLeaf();
          if (activeLeaf) {
            const editor = activeLeaf.view.sourceMode.cmEditor;
            const cursor = editor.getCursor();
            editor.replaceRange(alias, cursor);
          }
        });
      }
    });
    this.addCommand({
      id: "copy-uuid",
      name: "Copy UUID",
      // @ts-ignore
      callback: async () => {
        const leaf = this.app.workspace.getLeaf();
        const file = this.getFileFromLeaf(leaf);
        const cache = this.getFileCacheFromLeaf(leaf);
        const fm = cache.frontmatter;
        if (fm === void 0) {
          console.log(`file does not have a frontmatter: ${file.path}`);
          return;
        }
        const uuid = fm.uuid;
        if (uuid === void 0) {
          console.log(`file does not have a uuid: ${file.path}`);
          return;
        }
        if (["Verbatim", "Notes", "Actions"].contains(file.parent.name)) {
          await navigator.clipboard.writeText(String(cache.frontmatter.uuid));
        }
      }
    });
    this.addCommand({
      id: "safe-delete",
      name: "Safe Delete",
      // @ts-ignore
      callback: () => {
        const file = this.app.workspace.getActiveFile();
        if (file === void 0) {
          return;
        }
        const safeFromHarm = [
          "INBOX.md",
          "INDEX.md",
          "Logs.md",
          "NEXT ACTIONS.md",
          "SOMEDAY MAYBE.md",
          "WAITING FOR.md",
          "Planning.md"
        ];
        const fm = this.app.metadataCache.getFileCache(file).frontmatter;
        if (safeFromHarm.contains(file.path)) {
          console.log(
            "Oopsie, almost did an oopsie. Got your back bro"
          );
          return;
        }
        if (fm.tags !== void 0 && fm.tags.length >= 0) {
          for (const tag of fm.tags) {
            if (tag === "project/daily") {
              console.log(
                "Hey George What's up George, You cannot do that George"
              );
              return;
            }
          }
        }
        console.log(`deleted file: ${file.path}`);
        this.app.vault.delete(file);
      }
    });
    this.addCommand({
      id: "append-to-inbox",
      name: "Append to Inbox",
      // @ts-ignore
      callback: () => {
        const f = this.app.vault.getAbstractFileByPath("INBOX.md");
        if (f === void 0 || f === null) {
          console.warn(`file not found INBOX.md`);
          return;
        }
        const active = this.app.workspace.getLeaf();
        const root = active.parent;
        let found = false;
        let node = void 0;
        const emptyTabs = [];
        for (const leaf of root.children) {
          const file = this.getFileFromLeaf(leaf);
          if (file === void 0 || file === null) {
            emptyTabs.push(leaf);
            continue;
          }
          if (file.name === f.name) {
            found = true;
            node = leaf;
          }
        }
        if (!found) {
          if (emptyTabs.length > 0) {
            node = emptyTabs[0];
          } else {
            this.app.workspace.createLeafInParent(
              root,
              root.children.length + 1
            );
            node = root.children[root.children.length - 1];
          }
        }
        const editorAction = (node2) => {
          const editor = node2.view.sourceMode.cmEditor;
          editor.insertText("\n\n---\n\n", editor.lastLine());
          editor.setCursor(editor.lastLine(), 0);
        };
        if (this.app.workspace.getActiveFile() === null || this.app.workspace.getActiveFile().name !== "INBOX.md") {
          node.openFile(f, {
            active: true
          }).then((_) => editorAction(node));
        } else {
          editorAction(node);
        }
      }
    });
    this.app.workspace.onLayoutReady(() => {
      console.log("workspace - layout-ready");
      for (const f of this.app.vault.getFiles()) {
        if (!Helper.isUUID(f.basename)) {
          continue;
        }
        this.vaultContentDict[f.basename] = f;
      }
    });
    this.app.metadataCache.on(
      "changed",
      (file, data, cache) => {
        if (Helper.isUUID(file.basename)) {
          this.vaultContentDict[file.basename] = file;
        }
      }
    );
    this.app.workspace.on("active-leaf-change", () => {
      return this.sneakyTabRenamer(this.app);
    });
    this.app.workspace.on("quick-preview", () => {
      return this.sneakyTabRenamer(this.app);
    });
    this.app.workspace.on("resize", () => {
      return this.sneakyTabRenamer(this.app);
    });
  }
  sneakyTabRenamer(app) {
    const root = this.app.workspace.getLeaf().parent;
    for (const leaf of root.children) {
      const file = leaf.view.file;
      if (file === void 0) {
        continue;
      }
      const cache = this.app.metadataCache.getFileCache(file);
      const fm = cache.frontmatter;
      if (fm === void 0) {
        continue;
      }
      let text = "";
      if (file.parent.name === "Actions") {
        const at = new Date(fm.at);
        text = `(A) ${dayShort[at.getDay()]}. ${at.getDate()} ${monthShort[at.getMonth()]}`;
      } else if (file.parent.name === "Notes") {
        if (cache.headings.length > 0 && cache.headings[0].level === 1) {
          text = `(N) ${cache.headings[0].heading}`;
        } else {
          text = `(N) ${fm.uuid}`;
        }
      } else if (file.parent.name === "Verbatim") {
        if (cache.headings.length > 0 && cache.headings[0].level === 1) {
          text = `(V) ${cache.headings[0].heading}`;
        } else {
          text = `(V) ${fm.uuid}`;
        }
      } else {
        console.warn(`type undefined for fm: ${fm}`);
        return;
      }
      leaf.tabHeaderInnerTitleEl.innerText = text;
      leaf.tabHeaderInnerTitleEl.innerHTML = text;
    }
  }
  getResourceName(cache) {
    let resourceName = "";
    if (cache.headings.length > 0 && cache.headings[0].level === 1) {
      resourceName = cache.headings[0].heading;
    } else if (cache.frontmatter.alias !== void 0) {
      if (Array.isArray(cache.frontmatter.alias) && cache.frontmatter.alias.length > 0) {
        resourceName = cache.frontmatter.alias[0];
      } else {
        resourceName = cache.frontmatter.alias;
      }
    } else {
      resourceName = cache.frontmatter.uuid;
    }
    return resourceName;
  }
  loadResourceNamed(name, path) {
    const pages = this.dv.pages(`"${path}"`).where((page) => {
      const uuid = page.file.name;
      const cache = this.getFileCacheFromUUID(uuid);
      const nameHeading = this.getResourceName(cache);
      if (nameHeading === void 0) {
        return false;
      }
      if (nameHeading !== name) {
        return false;
      }
      return true;
    });
    if (pages.length === 0) {
      return;
    }
    if (pages.length === 0) {
      return false;
    } else {
      this.openViewInNewTabIfNotOpened(`${path}/${pages[0].file.name}.md`);
      return true;
    }
  }
  loadActionNamed(name) {
    return this.loadResourceNamed(name, Paths.Actions);
  }
  loadNoteNamed(name) {
    return this.loadResourceNamed(name, Paths.Notes);
  }
  onunload() {
    console.log("gonext - onunload()");
    delete window.gonext;
  }
  async loadSettings() {
    this.settings = Object.assign(
      {},
      DEFAULT_SETTINGS,
      await this.loadData()
    );
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  action() {
    const dt = new Date();
    const note = {
      uuid: v4_default(),
      created_at: dt.toISOString(),
      path: "",
      data: ""
    };
    note.path = `${Paths.Actions}/${note.uuid}.md`;
    note.data = `---
uuid: "${note.uuid}"
created_at: "${note.created_at}"
---
# 
## content
`;
    const f = this.app.vault.create(note.path, note.data).then((f2) => {
      return f2;
    });
    const active = this.app.workspace.activeLeaf;
    const root = active.parent;
    this.app.workspace.createLeafInParent(root, root.children.length + 1);
    const leaf = root.children[root.children.length - 1];
    f.then((file) => {
      leaf.openFile(file, { active: true });
    });
  }
  verbatim(name) {
    const dt = new Date();
    const note = {
      uuid: v4_default(),
      created_at: dt.toISOString(),
      path: "",
      data: ""
    };
    note.path = `${Paths.Verbatim}/${note.uuid}.md`;
    note.data = `---
uuid: "${note.uuid}"
created_at: "${note.created_at}"
---
# ${name}
## Content
`;
    if (name === void 0) {
      note.data = `---
uuid: "${note.uuid}"
created_at: "${note.created_at}"
---
# 
## Content
`;
    } else {
      note.data = `---
uuid: "${note.uuid}"
created_at: "${note.created_at}"
---
# ${name}
## Content
`;
    }
    const f = this.app.vault.create(note.path, note.data).then((f2) => {
      return f2;
    });
    const active = this.app.workspace.activeLeaf;
    const root = active.parent;
    this.app.workspace.createLeafInParent(root, root.children.length + 1);
    const leaf = root.children[root.children.length - 1];
    f.then((file) => {
      leaf.openFile(file, { active: true });
    });
  }
  note(name) {
    const dt = new Date();
    const note = {
      uuid: v4_default(),
      created_at: dt.toISOString(),
      path: "",
      data: ""
    };
    note.path = `${Paths.Notes}/${note.uuid}.md`;
    if (name === void 0) {
      note.data = `---
uuid: "${note.uuid}"
created_at: "${note.created_at}"
---
# 
## Content
`;
    } else {
      note.data = `---
uuid: "${note.uuid}"
created_at: "${note.created_at}"
---
# ${name}
## Content
`;
    }
    const f = this.app.vault.create(note.path, note.data).then((f2) => {
      return f2;
    });
    const active = this.app.workspace.activeLeaf;
    const root = active.parent;
    this.app.workspace.createLeafInParent(root, root.children.length + 1);
    const leaf = root.children[root.children.length - 1];
    f.then((file) => {
      leaf.openFile(file, { active: true });
    });
  }
};
var Helper = {
  nilCheck(val) {
    return val === void 0 || val === null;
  },
  roundToOneDecimal(val) {
    return Math.round(val * 10) / 10;
  },
  durationStringToSec(val) {
    if (val === void 0 || val.length === 0) {
      return 0;
    }
    const mult = val.slice(-1);
    let m = 0;
    if (mult === "h") {
      m = 60 * 60;
    } else if (mult === "m") {
      m = 60;
    } else if (mult === "d") {
      m = 24 * 60 * 60;
    } else if (mult == "w") {
      m = 24 * 60 * 60 * 7;
    } else {
      console.warn(`Unhandled case val: ${val}`);
      return void 0;
    }
    return m * parseInt(val.slice(0, -1));
  },
  msecToStringDuration(val) {
    const oneHourInMsec = 36e5;
    const oneDayInMsec = 864e5;
    if (val >= 24 * oneHourInMsec) {
      return String(Helper.roundToOneDecimal(val / oneDayInMsec)).padStart(
        2,
        "0"
      ) + " d";
    } else {
      return String(Helper.roundToOneDecimal(val / oneHourInMsec)).padStart(
        2,
        "0"
      ) + " h";
    }
  },
  isUUID(val) {
    if (typeof val !== "string") {
      return false;
    }
    return val.length === 36;
  }
};
var ValidationError = class extends Error {
  constructor(message) {
    super(message);
    this.name = "ValidationError";
  }
};
var Assert = {
  True(predicate, message, strict = true) {
    if (!predicate) {
      if (strict) {
        throw new ValidationError(message);
      } else {
        console.error(message);
      }
    }
  },
  False(predicate, message, strict = false) {
    if (predicate) {
      if (strict) {
        throw new ValidationError(message);
      } else {
        console.error(message);
      }
    }
  }
};
var Paths = {
  Actions: "Actions",
  Notes: "Notes",
  Verbatim: "Verbatim",
  Assets: "Assets",
  Tasks: "Actions"
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3N0cmluZ2lmeS5qcyIsICJub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JuZy5qcyIsICJub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL25hdGl2ZS5qcyIsICJub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3Y0LmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvLyBAdHMtaWdub3JlXG5pbXBvcnQge1xuXHRQbHVnaW4sXG5cdFdvcmtzcGFjZSxcblx0Ly8gQHRzLWlnbm9yZVxuXHRIVE1MRWxlbWVudCxcblx0YWRkSWNvbixcblx0Q2FjaGVkTWV0YWRhdGEsXG5cdFRGaWxlLFxuXHRUQWJzdHJhY3RGaWxlLFxufSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCwgdjEgYXMgdXVpZHYxIH0gZnJvbSBcInV1aWRcIjtcblxuY29uc3QgZGF5U2hvcnQgPSBbXCJTdW5cIiwgXCJNb25cIiwgXCJUdWVcIiwgXCJXZWRcIiwgXCJUaHVcIiwgXCJGcmlcIiwgXCJTYXRcIl07XG5jb25zdCBtb250aFNob3J0ID0gW1xuXHRcIkphblwiLFxuXHRcIkZlYlwiLFxuXHRcIk1hclwiLFxuXHRcIkFwclwiLFxuXHRcIk1heVwiLFxuXHRcIkp1blwiLFxuXHRcIkp1bFwiLFxuXHRcIkF1Z1wiLFxuXHRcIlNlcFwiLFxuXHRcIk9jdFwiLFxuXHRcIk5vdlwiLFxuXHRcIkRlY1wiLFxuXTtcblxuLy8gUmVtZW1iZXIgdG8gcmVuYW1lIHRoZXNlIGNsYXNzZXMgYW5kIGludGVyZmFjZXMhXG5pbnRlcmZhY2UgTXlQbHVnaW5TZXR0aW5ncyB7XG5cdG15U2V0dGluZzogc3RyaW5nO1xufVxuXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBNeVBsdWdpblNldHRpbmdzID0ge1xuXHRteVNldHRpbmc6IFwiZGVmYXVsdFwiLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXlQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuXHRzZXR0aW5nczogTXlQbHVnaW5TZXR0aW5ncztcblx0d29ya3NwYWNlOiBXb3Jrc3BhY2U7XG5cdG1ldGFkYXRhQ2FjaGU6IGFueTtcblx0ZHY6IGFueTtcblx0Ly8gQHRzLWlnbm9yZVxuXHRyZW5kZXI6IFJlbmRlcjtcblx0ZGVidWc6IGJvb2xlYW47XG5cdHRhc2tJblN0YXR1c0JhcjogSFRNTEVsZW1lbnQ7XG5cdGFwaTogYW55O1xuXHR2YXVsdENvbnRlbnQ6IFRGaWxlW10gPSBbXTtcblx0dmF1bHRDb250ZW50RGljdDogeyBbaWQ6IHN0cmluZ106IFRGaWxlIH0gPSB7fTtcblxuXHRvcGVuVmlld0luTmV3VGFiSWZOb3RPcGVuZWQobmFtZTogc3RyaW5nKSB7XG5cdFx0Y29uc3QgZiA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChuYW1lKTtcblx0XHRpZiAoZiA9PT0gdW5kZWZpbmVkIHx8IGYgPT09IG51bGwpIHtcblx0XHRcdGNvbnNvbGUud2FybihgZmlsZSBub3QgZm91bmQgJHtuYW1lfWApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnN0IGFjdGl2ZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCk7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGNvbnN0IHJvb3QgPSBhY3RpdmUucGFyZW50O1xuXHRcdC8vIHJlY2hlcmNoZXIgc2kgcGFzIGRcdTAwRTlqYSBvdXZlcnQgZGFucyBsZXMgb25nbGV0cyBhY3RpZnNcblx0XHQvLyBzaW5vbiBjclx1MDBFOWVyIHVuIG5vdXZlbCBvbmdsZXQsIG91dnJpciBsZSBmaWNoaWVyLCBldCBlbiBmYWlyZSBsJ29uZ2xldCBhY3RpZlxuXHRcdGxldCBmb3VuZCA9IGZhbHNlO1xuXHRcdGxldCBub2RlID0gdW5kZWZpbmVkO1xuXHRcdGNvbnN0IGVtcHR5VGFicyA9IFtdO1xuXG5cdFx0Zm9yIChjb25zdCBsZWFmIG9mIHJvb3QuY2hpbGRyZW4pIHtcblx0XHRcdGNvbnN0IGZpbGUgPSB0aGlzLmdldEZpbGVGcm9tTGVhZihsZWFmKTtcblx0XHRcdGlmIChmaWxlID09PSB1bmRlZmluZWQgfHwgZmlsZSA9PT0gbnVsbCkge1xuXHRcdFx0XHRlbXB0eVRhYnMucHVzaChsZWFmKTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChmaWxlLm5hbWUgPT09IGYubmFtZSkge1xuXHRcdFx0XHRmb3VuZCA9IHRydWU7XG5cdFx0XHRcdG5vZGUgPSBsZWFmO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoIWZvdW5kKSB7XG5cdFx0XHRpZiAoZW1wdHlUYWJzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0bm9kZSA9IGVtcHR5VGFic1swXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5jcmVhdGVMZWFmSW5QYXJlbnQoXG5cdFx0XHRcdFx0cm9vdCxcblx0XHRcdFx0XHRyb290LmNoaWxkcmVuLmxlbmd0aCArIDEsXG5cdFx0XHRcdCk7XG5cdFx0XHRcdG5vZGUgPSByb290LmNoaWxkcmVuW3Jvb3QuY2hpbGRyZW4ubGVuZ3RoIC0gMV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bm9kZS5vcGVuRmlsZShmLCB7IGFjdGl2ZTogdHJ1ZSwgfSk7XG5cdH1cblxuXHRnZXRGaWxlQ2FjaGVGcm9tTGVhZihsZWFmKTogQ2FjaGVkTWV0YWRhdGEge1xuXHRcdGxldCBmaWxlID0gdW5kZWZpbmVkO1xuXHRcdHRyeSB7XG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRmaWxlID0gbGVhZi52aWV3LmZpbGU7XG5cdFx0fSBjYXRjaCB7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHRpZiAoZmlsZSA9PT0gdW5kZWZpbmVkIHx8IGZpbGUgPT09IG51bGwpIHtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRjb25zdCBhYnN0cmFjdFBhdGggPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZmlsZSk7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdHJldHVybiB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShhYnN0cmFjdFBhdGgpO1xuXHR9XG5cblx0Z2V0RmlsZUZyb21MZWFmKGxlYWYpOiBUQWJzdHJhY3RGaWxlIHtcblx0XHRsZXQgZmlsZSA9IHVuZGVmaW5lZDtcblx0XHR0cnkge1xuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0ZmlsZSA9IGxlYWYudmlldy5maWxlO1xuXHRcdH0gY2F0Y2gge1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdHJldHVybiB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZmlsZSk7XG5cdH1cblxuXHRleHRyYWN0VVVJREZyb21MaW5rKGxpbms6IHN0cmluZykge1xuXHRcdEFzc2VydC5UcnVlKFxuXHRcdFx0bGluay5sZW5ndGggPj0gMzYsXG5cdFx0XHRgZXh0cmFjdFVVSURGcm9tTGluazogSW52YWxpZCBwYXJhbWV0ZXIgdHlwZTogbGluazogXCIke2xpbmt9XCJgLFxuXHRcdCk7XG5cblx0XHQvLyBhdCB0aGlzIHBvaW50IGxpbmsgaXMgZWl0aGVyIGZvcm0gdXVpZCNoZWFkaW5nIHx8IGludmFsaWRcblx0XHQvLyB3ZSBjYW4gc2FmZWx5IGFzc3VtZSAwOjM2IGlzIHRoZSB1dWlkXG5cdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRIZWxwZXIuaXNVVUlEKGxpbmsuc2xpY2UoMCwgMzYpKSxcblx0XHRcdGBleHRyYWN0VVVJREZyb21MaW5rOiBJbnZhbGlkIHBhcmFtZXRlciB0eXBlOiBsaW5rOiBcIiR7bGlua31cImAsXG5cdFx0KTtcblx0XHRpZiAobGluay5sZW5ndGggPT09IDM2KSB7XG5cdFx0XHRyZXR1cm4gbGluaztcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIGxpbmsuc2xpY2UoMCwgMzYpO1xuXHRcdH1cblx0fVxuXG5cdGdydWdBbGlhcyhfaWQ6IHN0cmluZyk6IHN0cmluZyB7XG5cdFx0Y29uc3QgY2FjaGUgPSB0aGlzLmdldEZpbGVDYWNoZUZyb21VVUlEKF9pZCk7XG5cdFx0aWYgKGNhY2hlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoYGdydWdBbGlhczogZmlsZSBub3QgZm91bmQgaW4gZ3J1ZyBjYWNoZSAke19pZH1gKTtcblx0XHRcdHJldHVybiBcIlwiO1xuXHRcdH1cblxuXHRcdGNvbnNvbGUubG9nKGNhY2hlKTtcblx0XHRjb25zb2xlLmxvZygpO1xuXHRcdC8vIHdoYXQgaXMgdGhlIG5hbWluZyBwcmVmZXJlbmNlP1xuXHRcdC8vIGFsaWFzID4gbmFtZSBoZWFkaW5nXG5cdFx0bGV0IHRhcmdldE5hbWUgPSB1bmRlZmluZWQ7XG5cdFx0Y29uc3QgZm0gPSBjYWNoZS5mcm9udG1hdHRlcjtcblxuXHRcdGlmIChjYWNoZS5oZWFkaW5ncy5sZW5ndGggPiAwICYmIGNhY2hlLmhlYWRpbmdzWzBdLmxldmVsID09PSAxKSB7XG5cdFx0XHR0YXJnZXROYW1lID0gY2FjaGUuaGVhZGluZ3NbMF0uaGVhZGluZztcblx0XHR9IGVsc2UgaWYgKGZtLmFsaWFzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGlmIChBcnJheS5pc0FycmF5KGZtLmFsaWFzKSAmJiBmbS5hbGlhcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdC8vIHByb2JsZW0gYXRoZWlzdHM/XG5cdFx0XHRcdHRhcmdldE5hbWUgPSBjYWNoZS5mcm9udG1hdHRlci5hbGlhc1swXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRhcmdldE5hbWUgPSBjYWNoZS5mcm9udG1hdHRlci5hbGlhcztcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0TmFtZSA9IF9pZDtcblx0XHR9XG5cblx0XHRjb25zdCBmaWxlID0gdGhpcy5nZXRGaWxlRnJvbVVVSUQoX2lkKTtcblx0XHRpZiAoZmlsZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKGBncnVnQWxpYXM6IENhbm5vdCBncnVnIHRoaXMgaWQ6ICR7X2lkfWApO1xuXHRcdFx0cmV0dXJuIFwiXCI7XG5cdFx0fVxuXHRcdGNvbnN0IHBhdGggPSBgJHtmaWxlLnBhdGguc3BsaXQoXCIvXCIpLnNsaWNlKDAsIC0xKX0vJHtfaWR9YDtcblxuXHRcdHJldHVybiBgW1ske3BhdGh9fCR7dGFyZ2V0TmFtZX1dXWA7XG5cdH1cblxuXHRnZXRGaWxlRnJvbVVVSUQoX2lkOiBzdHJpbmcpOiBUQWJzdHJhY3RGaWxlIHtcblx0XHRyZXR1cm4gdGhpcy52YXVsdENvbnRlbnREaWN0W19pZF07XG5cdH1cblxuXHRnZXRGaWxlQ2FjaGVGcm9tVVVJRChfaWQ6IHN0cmluZyk6IENhY2hlZE1ldGFkYXRhIHtcblx0XHRjb25zdCBmID0gdGhpcy52YXVsdENvbnRlbnREaWN0W19pZF07XG5cdFx0aWYgKGYgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZik7XG5cdH1cblxuXHRhc3luYyBvbmxvYWQoKSB7XG5cdFx0Y29uc29sZS5sb2coXCJnb25leHQgLSBvbmxvYWQoKVwiKTtcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXHRcdHRoaXMubWV0YWRhdGFDYWNoZSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGU7XG5cdFx0dGhpcy53b3Jrc3BhY2UgPSB0aGlzLmFwcC53b3Jrc3BhY2U7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdHRoaXMuZHYgPSB0aGlzLmFwcC5wbHVnaW5zLnBsdWdpbnMuZGF0YXZpZXcuYXBpO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHR0aGlzLmZpbGVzID0ge307XG5cblx0XHR0aGlzLmFwaSA9IHt9O1xuXG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdHdpbmRvdy5nb25leHQgPSB7XG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRzdGF0ZTogd2luZG93LmdvbmV4dD8uc3RhdGUgPz8ge30sXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRhcHA6IHRoaXMuYXBwLFxuXHRcdH07XG5cdFx0YWRkSWNvbihcblx0XHRcdFwiR29OZXh0SWNvblwiLFxuXHRcdFx0YDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMzJcIiBoZWlnaHQ9XCIzMlwiIHZpZXdCb3g9XCIwIDAgMzIgMzJcIj48cGF0aCBmaWxsPVwiY3VycmVudENvbG9yXCIgZD1cIk0yMCAxMlYyaDJ2MTB6bTQgMFYyaDJ2MTB6bTQgMFYyaDJ2MTB6bS0xMiA4YTMuOTEyIDMuOTEyIDAgMCAxLTQtNGEzLjkxMiAzLjkxMiAwIDAgMSA0LTR2LTJhNiA2IDAgMSAwIDYgNmgtMmEzLjkxMiAzLjkxMiAwIDAgMS00IDRcIj48L3BhdGg+PHBhdGggZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNMjguODkzIDE4LjQ1NEwyNi4wOTggMTZsLTEuMzE4IDEuNTA0bDIuNzkyIDIuNDUybC0yLjM2IDQuMDg4bC0zLjQyNy0xLjE2YTkuMDMyIDkuMDMyIDAgMCAxLTIuNzE0IDEuNTY1TDE4LjM2IDI4aC00LjcybC0uNzEtMy41NWE5LjA5NSA5LjA5NSAwIDAgMS0yLjY5NS0xLjU3MmwtMy40NDcgMS4xNjZsLTIuMzYtNC4wODhsMi43MjUtMi4zOTVhOC45MjYgOC45MjYgMCAwIDEtLjAwNy0zLjEyOGwtMi43MTgtMi4zOWwyLjM2LTQuMDg3bDMuNDI3IDEuMTZBOS4wMyA5LjAzIDAgMCAxIDEyLjkzIDcuNTVMMTMuNjQgNEgxNlYyaC0yLjM2YTIgMiAwIDAgMC0xLjk2MSAxLjYwOGwtLjUwNCAyLjUxOWExMC45NjcgMTAuOTY3IDAgMCAwLTEuMzI3Ljc1M2wtMi40Mi0uODE5YTEuOTk4IDEuOTk4IDAgMCAwLTIuMzcyLjg5NWwtMi4zNiA0LjA4OGEyIDIgMCAwIDAgLjQxMSAyLjUwMmwxLjkzMSAxLjY5N0M1LjAyMSAxNS40OTUgNSAxNS43NDUgNSAxNmMwIC4yNTguMDEuNTEzLjAyOC43NjZsLTEuOTIgMS42ODhhMiAyIDAgMCAwLS40MTMgMi41MDJsMi4zNiA0LjA4OGExLjk5OCAxLjk5OCAwIDAgMCAyLjM3NC44OTVsMi40MzQtLjgyNGExMC45NzQgMTAuOTc0IDAgMCAwIDEuMzEyLjc1OWwuNTAzIDIuNTE4QTIgMiAwIDAgMCAxMy42NCAzMGg0LjcyYTIgMiAwIDAgMCAxLjk2MS0xLjYwOGwuNTA0LTIuNTE5YTEwLjk2NyAxMC45NjcgMCAwIDAgMS4zMjctLjc1M2wyLjQxOS44MThhMS45OTggMS45OTggMCAwIDAgMi4zNzMtLjg5NGwyLjM2LTQuMDg4YTIgMiAwIDAgMC0uNDExLTIuNTAyXCI+PC9wYXRoPjwvc3ZnPmAsXG5cdFx0KTtcblxuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcIm9wZW4tYXNzZXRzXCIsXG5cdFx0XHRuYW1lOiBcIk9wZW4gQXNzZXRzXCIsXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRjb25zdCBsZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoKTtcblx0XHRcdFx0Y29uc3QgZmlsZSA9IHRoaXMuZ2V0RmlsZUZyb21MZWFmKGxlYWYpO1xuXHRcdFx0XHRjb25zdCBjYWNoZSA9IHRoaXMuZ2V0RmlsZUNhY2hlRnJvbUxlYWYobGVhZik7XG5cdFx0XHRcdGNvbnN0IGFkYXB0ZXIgPSB0aGlzLmFwcC52YXVsdC5hZGFwdGVyO1xuXHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdGNvbnN0IHZhdWx0RGlyID0gYWRhcHRlci5iYXNlUGF0aDtcblxuXHRcdFx0XHRjb25zdCBmbSA9IGNhY2hlLmZyb250bWF0dGVyO1xuXHRcdFx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGBmaWxlIGRvZXMgbm90IGhhdmUgYSBmcm9udG1hdHRlcjogJHtmaWxlLnBhdGh9YCk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKGZtKVxuXG5cdFx0XHRcdGNvbnN0IHV1aWQgPSBmbS51dWlkO1xuXHRcdFx0XHRpZiAodXVpZCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coYGZpbGUgZG9lcyBub3QgaGF2ZSBhIHV1aWQ6ICR7ZmlsZS5wYXRofWApO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghYXdhaXQgYWRhcHRlci5leGlzdHMoYCR7UGF0aHMuQXNzZXRzfS8ke3V1aWR9L2ApKSB7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5ta2RpcihgJHtQYXRocy5Bc3NldHN9LyR7dXVpZH0vYCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBhc3NldFBhdGggPSBgJHt2YXVsdERpcn0vJHtQYXRocy5Bc3NldHN9LyR7dXVpZH0vYDtcblx0XHRcdFx0Y29uc29sZS5sb2coYXNzZXRQYXRoKTtcblx0XHRcdFx0Y29uc3QgeyBzaGVsbCB9ID0gcmVxdWlyZShcImVsZWN0cm9uXCIpO1xuXHRcdFx0XHRzaGVsbC5zaG93SXRlbUluRm9sZGVyKGFzc2V0UGF0aCk7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcIm9wZW4taW5kZXhcIixcblx0XHRcdG5hbWU6IFwiT3BlbiBJbmRleFwiLFxuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0dGhpcy5vcGVuVmlld0luTmV3VGFiSWZOb3RPcGVuZWQoXCJOb3Rlcy9lZWMwYTI5Ny05ODJjLTQ3MWMtOTc0OC00OTQzZWM0NWZlOTQubWRcIik7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcIm9wZW4taW5ib3hcIixcblx0XHRcdG5hbWU6IFwiT3BlbiBJbmJveFwiLFxuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0dGhpcy5vcGVuVmlld0luTmV3VGFiSWZOb3RPcGVuZWQoXCJOb3Rlcy84YzdhYWQyYS1iNjdmLTQ0YjctODZmZC0yN2E1MDQxMGJlNjUubWRcIik7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcIm9wZW4tcGxhbm5pbmdcIixcblx0XHRcdG5hbWU6IFwiT3BlbiBQbGFubmluZ1wiLFxuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0dGhpcy5vcGVuVmlld0luTmV3VGFiSWZOb3RPcGVuZWQoXCJOb3Rlcy9kMzcxZTBmOS0xYTdmLTRjZDAtOGZhNC0yNjBjMTc2ZGE0YTQubWRcIik7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcIm9wZW4tbmV4dF9hY3Rpb25zXCIsXG5cdFx0XHRuYW1lOiBcIk9wZW4gTmV4dCBBY3Rpb25zXCIsXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xuXHRcdFx0XHR0aGlzLm9wZW5WaWV3SW5OZXdUYWJJZk5vdE9wZW5lZChcIk5vdGVzL2FiN2FlYzkyLTIyNzMtNDBiYy05NjMyLWRhNzA5MzdiNTU3NS5tZFwiKTtcblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6IFwib3Blbi1zb21lZGF5X21heWJlXCIsXG5cdFx0XHRuYW1lOiBcIk9wZW4gU29tZWRheSBNYXliZVwiLFxuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0dGhpcy5vcGVuVmlld0luTmV3VGFiSWZOb3RPcGVuZWQoXCJOb3Rlcy9lN2I2MDViOS00ZDNhLTRjMTctYmY0ZS1lN2YxYTUxZjdhMzAubWRcIik7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcIm9wZW4td2FpdGluZ19mb3JcIixcblx0XHRcdG5hbWU6IFwiT3BlbiBXYWl0aW5nIEZvclwiLFxuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0dGhpcy5vcGVuVmlld0luTmV3VGFiSWZOb3RPcGVuZWQoXCJOb3Rlcy83YTEzZDdhYy03MzJiLTRjZWMtOTFmMC0xNDk4YzgyNGI4MmUubWRcIik7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcIm9wZW4tdG9kYXlzLWxvZ1wiLFxuXHRcdFx0bmFtZTogXCJPcGVuIFRvZGF5J3MgTG9nc1wiLFxuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKTtcblx0XHRcdFx0Y29uc3Qgbm93SXNvID0gbm93LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xuXHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdGlmICghdGhpcy5sb2FkTm90ZU5hbWVkKG5vd0lzbykpIHtcblx0XHRcdFx0XHR0aGlzLm5vdGUobm93SXNvKTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHR9KTtcblxuXG5cdFx0Ly8gbGluayBicnV0IC0+IHBhdGhcblx0XHQvLyBsaW5rIHNvdXMgZm9ybWUgaW5kZXRlcm1pblx1MDBFOVxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogXCJsaXN0LW9ycGhhbmVkXCIsXG5cdFx0XHRuYW1lOiBcIkxpc3QgT3JwaGFuZWRcIixcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGZpbGVzID0gdGhpcy5hcHAudmF1bHQuZ2V0RmlsZXMoKTtcblx0XHRcdFx0Y29uc3QgbGlua3MgPSB7fVxuXHRcdFx0XHRjb25zdCByID0gW107XG5cdFx0XHRcdGxldCBpID0gMDtcblx0XHRcdFx0bGV0IGZhaWxlZCA9IDA7XG5cblx0XHRcdFx0Zm9yIChjb25zdCBmIG9mIGZpbGVzKSB7XG5cdFx0XHRcdFx0bGlua3NbZi5wYXRoXSA9IDA7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBhcHAubWV0YWRhdGFDYWNoZS5nZXRMaW5rcygpXG5cdFx0XHRcdC8vIGFwcC5tZXRhZGF0YUNhY2hlLmxpbmtSZXNvbHZlclF1ZXVlXG5cdFx0XHRcdC8vIGFwcC5tZXRhZGF0YUNhY2hlLmxpbmtSZXNvbHZlclxuXHRcdFx0XHQvLyBhcHAubWV0YWRhdGFDYWNoZS5yZXNvbHZlTGlua1xuXHRcdFx0XHQvLyBhcHAubWV0YWRhdGFDYWNoZS5maWxlVG9MaW5rVGV4dFxuXHRcdFx0XHQvLyBhcHAubWV0YWRhdGFDYWNoZS5nZXRMaW5rUGF0aERlc3Rcblx0XHRcdFx0Ly8gYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0Rmlyc3RMaW5rUGF0aERlc3Rcblx0XHRcdFx0Ly9cblx0XHRcdFx0Ly8gYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0QmFja2xpbmtzRm9yRmlsZVxuXHRcdFx0XHRjb25zdCBtZGMgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlO1xuXG5cblx0XHRcdFx0Zm9yIChjb25zdCBmIG9mIGZpbGVzKSB7XG5cdFx0XHRcdFx0Ly8gY29uc29sZS5sb2coZilcblx0XHRcdFx0XHRpKys7XG5cdFx0XHRcdFx0Y29uc3QgY2FjaGUgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShmKTtcblx0XHRcdFx0XHRpZiAoY2FjaGUubGlua3MgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gY29uc29sZS5sb2coY2FjaGUpO1xuXHRcdFx0XHRcdGZvciAoY29uc3QgbCBvZiBjYWNoZS5saW5rcykge1xuXHRcdFx0XHRcdFx0Y29uc3QgbGluayA9IGF3YWl0IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUubGlua1Jlc29sdmVyKGwubGluayk7XG5cdFx0XHRcdFx0XHRpZiAobGluayA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRcdGZhaWxlZCsrO1xuXHRcdFx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZyhmKVxuXHRcdFx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZyhjYWNoZSlcblx0XHRcdFx0XHRcdFx0Ly8gY29uc29sZS5sb2cobC5saW5rKVxuXHRcdFx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZyhcIlxcblxcblwiKVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Ly8gY29uc29sZS5sb2codGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRMaW5rcGF0aChsLmxpbmspKTtcblxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRjb25zb2xlLmxvZyhmYWlsZWQpO1xuXG5cdFx0XHRcdGZvciAoY29uc3QgbCBvZiByKSB7XG5cdFx0XHRcdFx0O1xuXHRcdFx0XHRcdC8vIGNvbnNvbGUubG9nKGwpXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6IFwiY2hlY2stZHVwbGljYXRlc1wiLFxuXHRcdFx0bmFtZTogXCJDaGVjayBmb3IgRHVwbGljYXRlc1wiLFxuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0Y29uc3QgcmVzID0ge307XG5cdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0bGV0IGkgPSAwO1xuXHRcdFx0XHRjb25zdCBwYWdlcyA9IHRoaXMuZHYucGFnZXMoYFwiJHtQYXRocy5Ob3Rlc31cImApO1xuXHRcdFx0XHRmb3IgKGNvbnN0IHBhZ2Ugb2YgcGFnZXMpIHtcblx0XHRcdFx0XHRjb25zdCB1dWlkID0gcGFnZS5maWxlLm5hbWU7XG5cdFx0XHRcdFx0Y29uc3QgY2FjaGUgPSB0aGlzLmdldEZpbGVDYWNoZUZyb21VVUlEKHV1aWQpO1xuXHRcdFx0XHRcdGNvbnN0IG5hbWVIZWFkaW5nID0gdGhpcy5nZXRSZXNvdXJjZU5hbWUoXG5cdFx0XHRcdFx0XHRjYWNoZSxcblx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0aWYgKG5hbWVIZWFkaW5nID09PSB1bmRlZmluZWQgfHwgbmFtZUhlYWRpbmcgPT09IFwiXCIpIHtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIGlzIG5vdCBkYXRlIGZvcm1hdFxuXHRcdFx0XHRcdGlmIChuYW1lSGVhZGluZy5sZW5ndGggIT09IDEwIHx8IG5hbWVIZWFkaW5nWzBdICE9PSBcIjJcIikge1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKHJlc1tuYW1lSGVhZGluZ10gPT09IHVuZGVmaW5lZCB8fCByZXNbbmFtZUhlYWRpbmddID09PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRyZXNbbmFtZUhlYWRpbmddID0gW3V1aWRdO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXNbbmFtZUhlYWRpbmddLnB1c2godXVpZCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocmVzKTtcblx0XHRcdFx0a2V5cy5zb3J0KCk7XG5cdFx0XHRcdGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcblx0XHRcdFx0XHRpZiAocmVzW2tleV0ubGVuZ3RoID4gMSkge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coa2V5KTtcblx0XHRcdFx0XHRcdGZvciAoY29uc3QgcGFnZSBvZiByZXNba2V5XSkge1xuXHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhgXHQke3BhZ2V9YCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcIm9wZW4teWVzdGVyZGF5cy1sb2dzXCIsXG5cdFx0XHRuYW1lOiBcIk9wZW4gWWVzdGVyZGF5J3MgTG9nc1wiLFxuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKTtcblx0XHRcdFx0bm93LnNldERhdGUobm93LmdldERhdGUoKSAtIDEpO1xuXHRcdFx0XHRjb25zdCBub3dJc28gPSBub3cudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cdFx0XHRcdHRoaXMubG9hZE5vdGVOYW1lZChub3dJc28pO1xuXHRcdFx0fSxcblx0XHR9KTtcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogXCJvcGVuLXRvZGF5cy1kYWlseVwiLFxuXHRcdFx0bmFtZTogXCJPcGVuIFRvZGF5J3MgRGFpbHlcIixcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG5cdFx0XHRcdGNvbnN0IG5vd0lzbyA9IG5vdy50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTtcblx0XHRcdFx0dGhpcy5sb2FkQWN0aW9uTmFtZWQobm93SXNvKTtcblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6IFwib3Blbi10b21vcnJvd3MtZGFpbHlcIixcblx0XHRcdG5hbWU6IFwiT3BlbiBUb21vcnJvdydzIERhaWx5XCIsXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xuXHRcdFx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRub3cuc2V0RGF0ZShub3cuZ2V0RGF0ZSgpICsgMSk7XG5cdFx0XHRcdGNvbnN0IG5vd0lzbyA9IG5vdy50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTtcblx0XHRcdFx0dGhpcy5sb2FkQWN0aW9uTmFtZWQobm93SXNvKTtcblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6IFwib3Blbi15ZXN0ZXJkYXlzLWRhaWx5XCIsXG5cdFx0XHRuYW1lOiBcIk9wZW4gWWVzdGVyZGF5J3MgRGFpbHlcIixcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG5cdFx0XHRcdG5vdy5zZXREYXRlKG5vdy5nZXREYXRlKCkgLSAxKTtcblx0XHRcdFx0Y29uc3Qgbm93SXNvID0gbm93LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xuXHRcdFx0XHR0aGlzLmxvYWRBY3Rpb25OYW1lZChub3dJc28pO1xuXHRcdFx0fSxcblx0XHR9KTtcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogXCJnZW5lcmF0ZS1ub3RlXCIsXG5cdFx0XHRuYW1lOiBcIkdlbmVyYXRlIE5vdGVcIixcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdHRoaXMubm90ZSgpO1xuXHRcdFx0fSxcblx0XHR9KTtcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogXCJnZW5lcmF0ZS12ZXJiYXRpbVwiLFxuXHRcdFx0bmFtZTogXCJHZW5lcmF0ZSBWZXJiYXRpbVwiLFxuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0dGhpcy52ZXJiYXRpbSgpO1xuXHRcdFx0fSxcblx0XHR9KTtcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogXCJnZW5lcmF0ZS1hY3Rpb25cIixcblx0XHRcdG5hbWU6IFwiR2VuZXJhdGUgQWN0aW9uXCIsXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xuXHRcdFx0XHR0aGlzLmFjdGlvbigpO1xuXHRcdFx0fSxcblx0XHR9KTtcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogXCJjbGlwcHktdGhlLWNsaXBwZXJcIixcblx0XHRcdG5hbWU6IFwiQ2xpcHB5IENsaXBcIixcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdG5hdmlnYXRvci5jbGlwYm9hcmQucmVhZFRleHQoKS50aGVuKCh0ZXh0KSA9PiB7XG5cdFx0XHRcdFx0bGV0IF9pZCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0X2lkID0gdGhpcy5leHRyYWN0VVVJREZyb21MaW5rKHRleHQpO1xuXHRcdFx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjb25zdCBmaWxlID0gdGhpcy5nZXRGaWxlRnJvbVVVSUQoX2lkKTtcblx0XHRcdFx0XHRBc3NlcnQuVHJ1ZShcblx0XHRcdFx0XHRcdGZpbGUgIT09IHVuZGVmaW5lZCxcblx0XHRcdFx0XHRcdGBnZXRGaWxlRnJvbVVVSUQ6IHJldHVybmVkIHVuZGVmaW5lZCBmb3IgdXVpZDogJHtfaWR9YCxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdGNvbnN0IGFsaWFzID0gdGhpcy5ncnVnQWxpYXMoX2lkKTtcblx0XHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdFx0Y29uc3QgYWN0aXZlTGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCk7XG5cdFx0XHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0XHRcdGlmIChhY3RpdmVMZWFmKSB7XG5cdFx0XHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdFx0XHRjb25zdCBlZGl0b3IgPSBhY3RpdmVMZWFmLnZpZXcuc291cmNlTW9kZS5jbUVkaXRvcjtcblx0XHRcdFx0XHRcdGNvbnN0IGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3IoKTtcblx0XHRcdFx0XHRcdGVkaXRvci5yZXBsYWNlUmFuZ2UoYWxpYXMsIGN1cnNvcik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6IFwiY29weS11dWlkXCIsXG5cdFx0XHRuYW1lOiBcIkNvcHkgVVVJRFwiLFxuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcblx0XHRcdFx0Y29uc3QgbGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCk7XG5cdFx0XHRcdGNvbnN0IGZpbGUgPSB0aGlzLmdldEZpbGVGcm9tTGVhZihsZWFmKTtcblx0XHRcdFx0Y29uc3QgY2FjaGUgPSB0aGlzLmdldEZpbGVDYWNoZUZyb21MZWFmKGxlYWYpO1xuXHRcdFx0XHRjb25zdCBmbSA9IGNhY2hlLmZyb250bWF0dGVyO1xuXHRcdFx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGBmaWxlIGRvZXMgbm90IGhhdmUgYSBmcm9udG1hdHRlcjogJHtmaWxlLnBhdGh9YCk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3QgdXVpZCA9IGZtLnV1aWQ7XG5cdFx0XHRcdGlmICh1dWlkID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhgZmlsZSBkb2VzIG5vdCBoYXZlIGEgdXVpZDogJHtmaWxlLnBhdGh9YCk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKFtcIlZlcmJhdGltXCIsIFwiTm90ZXNcIiwgXCJBY3Rpb25zXCJdLmNvbnRhaW5zKGZpbGUucGFyZW50Lm5hbWUpKSB7XG5cdFx0XHRcdFx0YXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoU3RyaW5nKGNhY2hlLmZyb250bWF0dGVyLnV1aWQpKTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHR9KTtcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6IFwic2FmZS1kZWxldGVcIixcblx0XHRcdG5hbWU6IFwiU2FmZSBEZWxldGVcIixcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGZpbGUgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO1xuXHRcdFx0XHRpZiAoZmlsZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3Qgc2FmZUZyb21IYXJtID0gW1xuXHRcdFx0XHRcdFwiSU5CT1gubWRcIixcblx0XHRcdFx0XHRcIklOREVYLm1kXCIsXG5cdFx0XHRcdFx0XCJMb2dzLm1kXCIsXG5cdFx0XHRcdFx0XCJORVhUIEFDVElPTlMubWRcIixcblx0XHRcdFx0XHRcIlNPTUVEQVkgTUFZQkUubWRcIixcblx0XHRcdFx0XHRcIldBSVRJTkcgRk9SLm1kXCIsXG5cdFx0XHRcdFx0XCJQbGFubmluZy5tZFwiLFxuXHRcdFx0XHRdO1xuXHRcdFx0XHRjb25zdCBmbSA9XG5cdFx0XHRcdFx0dGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZmlsZSkuZnJvbnRtYXR0ZXI7XG5cdFx0XHRcdGlmIChzYWZlRnJvbUhhcm0uY29udGFpbnMoZmlsZS5wYXRoKSkge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFxuXHRcdFx0XHRcdFx0XCJPb3BzaWUsIGFsbW9zdCBkaWQgYW4gb29wc2llLiBHb3QgeW91ciBiYWNrIGJyb1wiLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGZtLnRhZ3MgIT09IHVuZGVmaW5lZCAmJiBmbS50YWdzLmxlbmd0aCA+PSAwKSB7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCB0YWcgb2YgZm0udGFncykge1xuXHRcdFx0XHRcdFx0aWYgKHRhZyA9PT0gXCJwcm9qZWN0L2RhaWx5XCIpIHtcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coXG5cdFx0XHRcdFx0XHRcdFx0XCJIZXkgR2VvcmdlIFdoYXQncyB1cCBHZW9yZ2UsIFlvdSBjYW5ub3QgZG8gdGhhdCBHZW9yZ2VcIixcblx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnNvbGUubG9nKGBkZWxldGVkIGZpbGU6ICR7ZmlsZS5wYXRofWApO1xuXHRcdFx0XHR0aGlzLmFwcC52YXVsdC5kZWxldGUoZmlsZSk7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcImFwcGVuZC10by1pbmJveFwiLFxuXHRcdFx0bmFtZTogXCJBcHBlbmQgdG8gSW5ib3hcIixcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdC8vIG91dmVydHVyZSBwYXMgaW5zdGFudGFuXHUwMEU5ZVxuXHRcdFx0XHRjb25zdCBmID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKFwiSU5CT1gubWRcIik7XG5cdFx0XHRcdGlmIChmID09PSB1bmRlZmluZWQgfHwgZiA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdGNvbnNvbGUud2FybihgZmlsZSBub3QgZm91bmQgSU5CT1gubWRgKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBhY3RpdmUgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZigpO1xuXHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdGNvbnN0IHJvb3QgPSBhY3RpdmUucGFyZW50O1xuXHRcdFx0XHQvLyByZWNoZXJjaGVyIHNpIHBhcyBkXHUwMEU5amEgb3V2ZXJ0IGRhbnMgbGVzIG9uZ2xldHMgYWN0aWZzXG5cdFx0XHRcdC8vIHNpbm9uIGNyXHUwMEU5ZXIgdW4gbm91dmVsIG9uZ2xldCwgb3V2cmlyIGxlIGZpY2hpZXIsIGV0IGVuIGZhaXJlIGwnb25nbGV0IGFjdGlmXG5cdFx0XHRcdGxldCBmb3VuZCA9IGZhbHNlO1xuXHRcdFx0XHRsZXQgbm9kZSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0Y29uc3QgZW1wdHlUYWJzID0gW107XG5cblx0XHRcdFx0Zm9yIChjb25zdCBsZWFmIG9mIHJvb3QuY2hpbGRyZW4pIHtcblx0XHRcdFx0XHRjb25zdCBmaWxlID0gdGhpcy5nZXRGaWxlRnJvbUxlYWYobGVhZik7XG5cdFx0XHRcdFx0aWYgKGZpbGUgPT09IHVuZGVmaW5lZCB8fCBmaWxlID09PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRlbXB0eVRhYnMucHVzaChsZWFmKTtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChmaWxlLm5hbWUgPT09IGYubmFtZSkge1xuXHRcdFx0XHRcdFx0Zm91bmQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0bm9kZSA9IGxlYWY7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCFmb3VuZCkge1xuXHRcdFx0XHRcdGlmIChlbXB0eVRhYnMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0bm9kZSA9IGVtcHR5VGFic1swXTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLmNyZWF0ZUxlYWZJblBhcmVudChcblx0XHRcdFx0XHRcdFx0cm9vdCxcblx0XHRcdFx0XHRcdFx0cm9vdC5jaGlsZHJlbi5sZW5ndGggKyAxLFxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdG5vZGUgPSByb290LmNoaWxkcmVuW3Jvb3QuY2hpbGRyZW4ubGVuZ3RoIC0gMV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3QgZWRpdG9yQWN0aW9uID0gKG5vZGUpID0+IHtcblx0XHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdFx0Y29uc3QgZWRpdG9yID0gbm9kZS52aWV3LnNvdXJjZU1vZGUuY21FZGl0b3I7XG5cdFx0XHRcdFx0ZWRpdG9yLmluc2VydFRleHQoXCJcXG5cXG4tLS1cXG5cXG5cIiwgZWRpdG9yLmxhc3RMaW5lKCkpO1xuXHRcdFx0XHRcdGVkaXRvci5zZXRDdXJzb3IoZWRpdG9yLmxhc3RMaW5lKCksIDApO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpID09PSBudWxsIHx8XG5cdFx0XHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKS5uYW1lICE9PSBcIklOQk9YLm1kXCJcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0bm9kZS5vcGVuRmlsZShmLCB7XG5cdFx0XHRcdFx0XHRhY3RpdmU6IHRydWUsXG5cdFx0XHRcdFx0fSkudGhlbigoXykgPT4gZWRpdG9yQWN0aW9uKG5vZGUpKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRlZGl0b3JBY3Rpb24obm9kZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub25MYXlvdXRSZWFkeSgoKSA9PiB7XG5cdFx0XHRjb25zb2xlLmxvZyhcIndvcmtzcGFjZSAtIGxheW91dC1yZWFkeVwiKTtcblx0XHRcdGZvciAoY29uc3QgZiBvZiB0aGlzLmFwcC52YXVsdC5nZXRGaWxlcygpKSB7XG5cdFx0XHRcdGlmICghSGVscGVyLmlzVVVJRChmLmJhc2VuYW1lKSkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy52YXVsdENvbnRlbnREaWN0W2YuYmFzZW5hbWVdID0gZjtcblx0XHRcdH1cblx0XHR9KTtcblx0XHQvLyB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLm9uXG5cdFx0dGhpcy5hcHAubWV0YWRhdGFDYWNoZS5vbihcblx0XHRcdFwiY2hhbmdlZFwiLFxuXHRcdFx0KGZpbGU6IFRGaWxlLCBkYXRhOiBzdHJpbmcsIGNhY2hlOiBDYWNoZWRNZXRhZGF0YSkgPT4ge1xuXHRcdFx0XHRpZiAoSGVscGVyLmlzVVVJRChmaWxlLmJhc2VuYW1lKSkge1xuXHRcdFx0XHRcdHRoaXMudmF1bHRDb250ZW50RGljdFtmaWxlLmJhc2VuYW1lXSA9IGZpbGU7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0KTtcblxuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vbihcImFjdGl2ZS1sZWFmLWNoYW5nZVwiLCAoKSA9PiB7XG5cdFx0XHRyZXR1cm4gdGhpcy5zbmVha3lUYWJSZW5hbWVyKHRoaXMuYXBwKTtcblx0XHR9KTtcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oXCJxdWljay1wcmV2aWV3XCIsICgpID0+IHtcblx0XHRcdHJldHVybiB0aGlzLnNuZWFreVRhYlJlbmFtZXIodGhpcy5hcHApO1xuXHRcdH0pO1xuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vbihcInJlc2l6ZVwiLCAoKSA9PiB7XG5cdFx0XHRyZXR1cm4gdGhpcy5zbmVha3lUYWJSZW5hbWVyKHRoaXMuYXBwKTtcblx0XHR9KTtcblx0fVxuXG5cdHNuZWFreVRhYlJlbmFtZXIoYXBwKSB7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGNvbnN0IHJvb3QgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZigpLnBhcmVudDtcblxuXHRcdGZvciAoY29uc3QgbGVhZiBvZiByb290LmNoaWxkcmVuKSB7XG5cdFx0XHRjb25zdCBmaWxlID0gbGVhZi52aWV3LmZpbGU7XG5cdFx0XHRpZiAoZmlsZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRjb25zdCBjYWNoZSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpO1xuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y29uc3QgZm0gPSBjYWNoZS5mcm9udG1hdHRlcjtcblx0XHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgdGV4dCA9IFwiXCI7XG5cdFx0XHRpZiAoZmlsZS5wYXJlbnQubmFtZSA9PT0gXCJBY3Rpb25zXCIpIHtcblx0XHRcdFx0Y29uc3QgYXQgPSBuZXcgRGF0ZShmbS5hdCk7XG5cdFx0XHRcdHRleHQgPSBgKEEpICR7ZGF5U2hvcnRbYXQuZ2V0RGF5KCldfS4gJHthdC5nZXREYXRlKCl9ICR7bW9udGhTaG9ydFthdC5nZXRNb250aCgpXX1gO1xuXHRcdFx0fSBlbHNlIGlmIChmaWxlLnBhcmVudC5uYW1lID09PSBcIk5vdGVzXCIpIHtcblx0XHRcdFx0aWYgKGNhY2hlLmhlYWRpbmdzLmxlbmd0aCA+IDAgJiYgY2FjaGUuaGVhZGluZ3NbMF0ubGV2ZWwgPT09IDEpIHtcblx0XHRcdFx0XHR0ZXh0ID0gYChOKSAke2NhY2hlLmhlYWRpbmdzWzBdLmhlYWRpbmd9YDtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0ZXh0ID0gYChOKSAke2ZtLnV1aWR9YDtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChmaWxlLnBhcmVudC5uYW1lID09PSBcIlZlcmJhdGltXCIpIHtcblx0XHRcdFx0aWYgKGNhY2hlLmhlYWRpbmdzLmxlbmd0aCA+IDAgJiYgY2FjaGUuaGVhZGluZ3NbMF0ubGV2ZWwgPT09IDEpIHtcblx0XHRcdFx0XHR0ZXh0ID0gYChWKSAke2NhY2hlLmhlYWRpbmdzWzBdLmhlYWRpbmd9YDtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0ZXh0ID0gYChWKSAke2ZtLnV1aWR9YDtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKGB0eXBlIHVuZGVmaW5lZCBmb3IgZm06ICR7Zm19YClcblx0XHRcdFx0cmV0dXJuXG5cdFx0XHR9XG5cblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGxlYWYudGFiSGVhZGVySW5uZXJUaXRsZUVsLmlubmVyVGV4dCA9IHRleHQ7XG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRsZWFmLnRhYkhlYWRlcklubmVyVGl0bGVFbC5pbm5lckhUTUwgPSB0ZXh0O1xuXHRcdH1cblx0fVxuXG5cdGdldFJlc291cmNlTmFtZShjYWNoZTogQ2FjaGVkTWV0YWRhdGEpOiBzdHJpbmcge1xuXHRcdGxldCByZXNvdXJjZU5hbWUgPSBcIlwiO1xuXG5cdFx0aWYgKGNhY2hlLmhlYWRpbmdzLmxlbmd0aCA+IDAgJiYgY2FjaGUuaGVhZGluZ3NbMF0ubGV2ZWwgPT09IDEpIHtcblx0XHRcdHJlc291cmNlTmFtZSA9IGNhY2hlLmhlYWRpbmdzWzBdLmhlYWRpbmc7XG5cdFx0fSBlbHNlIGlmIChjYWNoZS5mcm9udG1hdHRlci5hbGlhcyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRpZiAoQXJyYXkuaXNBcnJheShjYWNoZS5mcm9udG1hdHRlci5hbGlhcykgJiYgY2FjaGUuZnJvbnRtYXR0ZXIuYWxpYXMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHQvLyBwcm9ibGVtIGF0aGVpc3RzP1xuXHRcdFx0XHRyZXNvdXJjZU5hbWUgPSBjYWNoZS5mcm9udG1hdHRlci5hbGlhc1swXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJlc291cmNlTmFtZSA9IGNhY2hlLmZyb250bWF0dGVyLmFsaWFzO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXNvdXJjZU5hbWUgPSBjYWNoZS5mcm9udG1hdHRlci51dWlkO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzb3VyY2VOYW1lO1xuXG5cdH1cblxuXHRsb2FkUmVzb3VyY2VOYW1lZChuYW1lOiBzdHJpbmcsIHBhdGg6IHN0cmluZyk6IGJvb2xlYW4ge1xuXHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdlxuXHRcdFx0LnBhZ2VzKGBcIiR7cGF0aH1cImApXG5cdFx0XHQud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdFx0Y29uc3QgdXVpZCA9IHBhZ2UuZmlsZS5uYW1lO1xuXHRcdFx0XHRjb25zdCBjYWNoZSA9IHRoaXMuZ2V0RmlsZUNhY2hlRnJvbVVVSUQodXVpZCk7XG5cdFx0XHRcdGNvbnN0IG5hbWVIZWFkaW5nID0gdGhpcy5nZXRSZXNvdXJjZU5hbWUoY2FjaGUpO1xuXG5cdFx0XHRcdGlmIChuYW1lSGVhZGluZyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKG5hbWVIZWFkaW5nICE9PSBuYW1lKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9KTtcblxuXHRcdGlmIChwYWdlcy5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAocGFnZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMub3BlblZpZXdJbk5ld1RhYklmTm90T3BlbmVkKGAke3BhdGh9LyR7cGFnZXNbMF0uZmlsZS5uYW1lfS5tZGApO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHR9XG5cblx0bG9hZEFjdGlvbk5hbWVkKG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLmxvYWRSZXNvdXJjZU5hbWVkKG5hbWUsIFBhdGhzLkFjdGlvbnMpO1xuXHR9XG5cblx0bG9hZE5vdGVOYW1lZChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy5sb2FkUmVzb3VyY2VOYW1lZChuYW1lLCBQYXRocy5Ob3Rlcyk7XG5cdH1cblxuXHRvbnVubG9hZCgpIHtcblx0XHRjb25zb2xlLmxvZyhcImdvbmV4dCAtIG9udW5sb2FkKClcIik7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGRlbGV0ZSB3aW5kb3cuZ29uZXh0O1xuXHR9XG5cblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKFxuXHRcdFx0e30sXG5cdFx0XHRERUZBVUxUX1NFVFRJTkdTLFxuXHRcdFx0YXdhaXQgdGhpcy5sb2FkRGF0YSgpLFxuXHRcdCk7XG5cdH1cblxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0fVxuXG5cdGFjdGlvbigpIHtcblx0XHRjb25zdCBkdCA9IG5ldyBEYXRlKCk7XG5cdFx0Y29uc3Qgbm90ZSA9IHtcblx0XHRcdHV1aWQ6IHV1aWR2NCgpLFxuXHRcdFx0Y3JlYXRlZF9hdDogZHQudG9JU09TdHJpbmcoKSxcblx0XHRcdHBhdGg6IFwiXCIsXG5cdFx0XHRkYXRhOiBcIlwiLFxuXHRcdH07XG5cblx0XHRub3RlLnBhdGggPSBgJHtQYXRocy5BY3Rpb25zfS8ke25vdGUudXVpZH0ubWRgO1xuXHRcdG5vdGUuZGF0YSA9IGAtLS1cXG51dWlkOiBcIiR7bm90ZS51dWlkfVwiXFxuY3JlYXRlZF9hdDogXCIke25vdGUuY3JlYXRlZF9hdH1cIlxcbi0tLVxcbiMgXFxuIyMgY29udGVudFxcbmA7XG5cblx0XHRjb25zdCBmID0gdGhpcy5hcHAudmF1bHQuY3JlYXRlKG5vdGUucGF0aCwgbm90ZS5kYXRhKS50aGVuKChmKSA9PiB7XG5cdFx0XHRyZXR1cm4gZjtcblx0XHR9KTtcblx0XHRjb25zdCBhY3RpdmUgPSB0aGlzLmFwcC53b3Jrc3BhY2UuYWN0aXZlTGVhZjtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0Y29uc3Qgcm9vdCA9IGFjdGl2ZS5wYXJlbnQ7XG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLmNyZWF0ZUxlYWZJblBhcmVudChyb290LCByb290LmNoaWxkcmVuLmxlbmd0aCArIDEpO1xuXHRcdGNvbnN0IGxlYWYgPSByb290LmNoaWxkcmVuW3Jvb3QuY2hpbGRyZW4ubGVuZ3RoIC0gMV07XG5cdFx0Zi50aGVuKChmaWxlKSA9PiB7XG5cdFx0XHRsZWFmLm9wZW5GaWxlKGZpbGUsIHsgYWN0aXZlOiB0cnVlIH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0dmVyYmF0aW0obmFtZT86IHN0cmluZykge1xuXHRcdGNvbnN0IGR0ID0gbmV3IERhdGUoKTtcblx0XHRjb25zdCBub3RlID0ge1xuXHRcdFx0dXVpZDogdXVpZHY0KCksXG5cdFx0XHRjcmVhdGVkX2F0OiBkdC50b0lTT1N0cmluZygpLFxuXHRcdFx0cGF0aDogXCJcIixcblx0XHRcdGRhdGE6IFwiXCIsXG5cdFx0fTtcblxuXHRcdG5vdGUucGF0aCA9IGAke1BhdGhzLlZlcmJhdGltfS8ke25vdGUudXVpZH0ubWRgO1xuXHRcdG5vdGUuZGF0YSA9IGAtLS1cXG51dWlkOiBcIiR7bm90ZS51dWlkfVwiXFxuY3JlYXRlZF9hdDogXCIke25vdGUuY3JlYXRlZF9hdH1cIlxcbi0tLVxcbiMgJHtuYW1lfVxcbiMjIENvbnRlbnRcXG5gO1xuXG5cdFx0aWYgKG5hbWUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0bm90ZS5kYXRhID0gYC0tLVxcbnV1aWQ6IFwiJHtub3RlLnV1aWR9XCJcXG5jcmVhdGVkX2F0OiBcIiR7bm90ZS5jcmVhdGVkX2F0fVwiXFxuLS0tXFxuIyBcXG4jIyBDb250ZW50XFxuYDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bm90ZS5kYXRhID0gYC0tLVxcbnV1aWQ6IFwiJHtub3RlLnV1aWR9XCJcXG5jcmVhdGVkX2F0OiBcIiR7bm90ZS5jcmVhdGVkX2F0fVwiXFxuLS0tXFxuIyAke25hbWV9XFxuIyMgQ29udGVudFxcbmA7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZiA9IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZShub3RlLnBhdGgsIG5vdGUuZGF0YSkudGhlbigoZikgPT4ge1xuXHRcdFx0cmV0dXJuIGY7XG5cdFx0fSk7XG5cdFx0Y29uc3QgYWN0aXZlID0gdGhpcy5hcHAud29ya3NwYWNlLmFjdGl2ZUxlYWY7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGNvbnN0IHJvb3QgPSBhY3RpdmUucGFyZW50O1xuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5jcmVhdGVMZWFmSW5QYXJlbnQocm9vdCwgcm9vdC5jaGlsZHJlbi5sZW5ndGggKyAxKTtcblx0XHRjb25zdCBsZWFmID0gcm9vdC5jaGlsZHJlbltyb290LmNoaWxkcmVuLmxlbmd0aCAtIDFdO1xuXHRcdGYudGhlbigoZmlsZSkgPT4ge1xuXHRcdFx0bGVhZi5vcGVuRmlsZShmaWxlLCB7IGFjdGl2ZTogdHJ1ZSB9KTtcblx0XHR9KTtcblx0fVxuXG5cdG5vdGUobmFtZT86IHN0cmluZykge1xuXHRcdGNvbnN0IGR0ID0gbmV3IERhdGUoKTtcblx0XHRjb25zdCBub3RlID0ge1xuXHRcdFx0dXVpZDogdXVpZHY0KCksXG5cdFx0XHRjcmVhdGVkX2F0OiBkdC50b0lTT1N0cmluZygpLFxuXHRcdFx0cGF0aDogXCJcIixcblx0XHRcdGRhdGE6IFwiXCIsXG5cdFx0fTtcblxuXHRcdG5vdGUucGF0aCA9IGAke1BhdGhzLk5vdGVzfS8ke25vdGUudXVpZH0ubWRgO1xuXHRcdGlmIChuYW1lID09PSB1bmRlZmluZWQpIHtcblx0XHRcdG5vdGUuZGF0YSA9IGAtLS1cXG51dWlkOiBcIiR7bm90ZS51dWlkfVwiXFxuY3JlYXRlZF9hdDogXCIke25vdGUuY3JlYXRlZF9hdH1cIlxcbi0tLVxcbiMgXFxuIyMgQ29udGVudFxcbmA7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG5vdGUuZGF0YSA9IGAtLS1cXG51dWlkOiBcIiR7bm90ZS51dWlkfVwiXFxuY3JlYXRlZF9hdDogXCIke25vdGUuY3JlYXRlZF9hdH1cIlxcbi0tLVxcbiMgJHtuYW1lfVxcbiMjIENvbnRlbnRcXG5gO1xuXHRcdH1cblxuXHRcdGNvbnN0IGYgPSB0aGlzLmFwcC52YXVsdC5jcmVhdGUobm90ZS5wYXRoLCBub3RlLmRhdGEpLnRoZW4oKGYpID0+IHtcblx0XHRcdHJldHVybiBmO1xuXHRcdH0pO1xuXHRcdGNvbnN0IGFjdGl2ZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVMZWFmO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRjb25zdCByb290ID0gYWN0aXZlLnBhcmVudDtcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuY3JlYXRlTGVhZkluUGFyZW50KHJvb3QsIHJvb3QuY2hpbGRyZW4ubGVuZ3RoICsgMSk7XG5cdFx0Y29uc3QgbGVhZiA9IHJvb3QuY2hpbGRyZW5bcm9vdC5jaGlsZHJlbi5sZW5ndGggLSAxXTtcblx0XHRmLnRoZW4oKGZpbGUpID0+IHtcblx0XHRcdGxlYWYub3BlbkZpbGUoZmlsZSwgeyBhY3RpdmU6IHRydWUgfSk7XG5cdFx0fSk7XG5cdH1cbn1cblxuZXhwb3J0IGNvbnN0IEhlbHBlciA9IHtcblx0bmlsQ2hlY2sodmFsOiBhbnkpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdmFsID09PSB1bmRlZmluZWQgfHwgdmFsID09PSBudWxsO1xuXHR9LFxuXG5cdHJvdW5kVG9PbmVEZWNpbWFsKHZhbDogbnVtYmVyKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gTWF0aC5yb3VuZCh2YWwgKiAxMCkgLyAxMDtcblx0fSxcblxuXHRkdXJhdGlvblN0cmluZ1RvU2VjKHZhbCkge1xuXHRcdGlmICh2YWwgPT09IHVuZGVmaW5lZCB8fCB2YWwubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9XG5cdFx0Y29uc3QgbXVsdCA9IHZhbC5zbGljZSgtMSk7XG5cdFx0bGV0IG0gPSAwO1xuXHRcdGlmIChtdWx0ID09PSBcImhcIikge1xuXHRcdFx0bSA9IDYwICogNjA7XG5cdFx0fSBlbHNlIGlmIChtdWx0ID09PSBcIm1cIikge1xuXHRcdFx0bSA9IDYwO1xuXHRcdH0gZWxzZSBpZiAobXVsdCA9PT0gXCJkXCIpIHtcblx0XHRcdG0gPSAyNCAqIDYwICogNjA7XG5cdFx0fSBlbHNlIGlmIChtdWx0ID09IFwid1wiKSB7XG5cdFx0XHRtID0gMjQgKiA2MCAqIDYwICogNztcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS53YXJuKGBVbmhhbmRsZWQgY2FzZSB2YWw6ICR7dmFsfWApO1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHRyZXR1cm4gbSAqIHBhcnNlSW50KHZhbC5zbGljZSgwLCAtMSkpO1xuXHR9LFxuXG5cdG1zZWNUb1N0cmluZ0R1cmF0aW9uKHZhbDogbnVtYmVyKSB7XG5cdFx0Y29uc3Qgb25lSG91ckluTXNlYyA9IDM2MDAwMDA7IC8vIDEgaG91ciBpbiBtc2VjXG5cdFx0Y29uc3Qgb25lRGF5SW5Nc2VjID0gODY0MDAwMDA7IC8vIDEgZGF5IGluIG1zZWNcblx0XHRpZiAodmFsID49IDI0ICogb25lSG91ckluTXNlYykge1xuXHRcdFx0cmV0dXJuIChcblx0XHRcdFx0U3RyaW5nKEhlbHBlci5yb3VuZFRvT25lRGVjaW1hbCh2YWwgLyBvbmVEYXlJbk1zZWMpKS5wYWRTdGFydChcblx0XHRcdFx0XHQyLFxuXHRcdFx0XHRcdFwiMFwiLFxuXHRcdFx0XHQpICsgXCIgZFwiXG5cdFx0XHQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRTdHJpbmcoSGVscGVyLnJvdW5kVG9PbmVEZWNpbWFsKHZhbCAvIG9uZUhvdXJJbk1zZWMpKS5wYWRTdGFydChcblx0XHRcdFx0XHQyLFxuXHRcdFx0XHRcdFwiMFwiLFxuXHRcdFx0XHQpICsgXCIgaFwiXG5cdFx0XHQpO1xuXHRcdH1cblx0fSxcblxuXHRpc1VVSUQodmFsOiBzdHJpbmcpOiBib29sZWFuIHtcblx0XHRpZiAodHlwZW9mIHZhbCAhPT0gXCJzdHJpbmdcIikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdmFsLmxlbmd0aCA9PT0gMzY7XG5cdH0sXG59O1xuXG5jbGFzcyBWYWxpZGF0aW9uRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG5cdGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcblx0XHRzdXBlcihtZXNzYWdlKTsgLy8gKDEpXG5cdFx0dGhpcy5uYW1lID0gXCJWYWxpZGF0aW9uRXJyb3JcIjsgLy8gKDIpXG5cdH1cbn1cblxuZXhwb3J0IGNvbnN0IEFzc2VydCA9IHtcblx0VHJ1ZShwcmVkaWNhdGU6IGJvb2xlYW4sIG1lc3NhZ2U6IHN0cmluZywgc3RyaWN0ID0gdHJ1ZSkge1xuXHRcdGlmICghcHJlZGljYXRlKSB7XG5cdFx0XHRpZiAoc3RyaWN0KSB7XG5cdFx0XHRcdHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IobWVzc2FnZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0RmFsc2UocHJlZGljYXRlOiBib29sZWFuLCBtZXNzYWdlOiBzdHJpbmcsIHN0cmljdCA9IGZhbHNlKSB7XG5cdFx0aWYgKHByZWRpY2F0ZSkge1xuXHRcdFx0aWYgKHN0cmljdCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKG1lc3NhZ2UpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihtZXNzYWdlKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG59O1xuXG5leHBvcnQgY29uc3QgUGF0aHMgPSB7XG5cdEFjdGlvbnM6IFwiQWN0aW9uc1wiLFxuXHROb3RlczogXCJOb3Rlc1wiLFxuXHRWZXJiYXRpbTogXCJWZXJiYXRpbVwiLFxuXHRBc3NldHM6IFwiQXNzZXRzXCIsXG5cdFRhc2tzOiBcIkFjdGlvbnNcIixcbn07XG4iLCAiaW1wb3J0IHZhbGlkYXRlIGZyb20gJy4vdmFsaWRhdGUuanMnO1xuXG4vKipcbiAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWFhYWFhYWFhYXG4gKi9cbnZhciBieXRlVG9IZXggPSBbXTtcbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4LnB1c2goKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnNsaWNlKDEpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1bnNhZmVTdHJpbmdpZnkoYXJyLCBvZmZzZXQgPSAwKSB7XG4gIC8vIE5vdGU6IEJlIGNhcmVmdWwgZWRpdGluZyB0aGlzIGNvZGUhICBJdCdzIGJlZW4gdHVuZWQgZm9yIHBlcmZvcm1hbmNlXG4gIC8vIGFuZCB3b3JrcyBpbiB3YXlzIHlvdSBtYXkgbm90IGV4cGVjdC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZC9wdWxsLzQzNFxuICAvL1xuICAvLyBOb3RlIHRvIGZ1dHVyZS1zZWxmOiBObywgeW91IGNhbid0IHJlbW92ZSB0aGUgYHRvTG93ZXJDYXNlKClgIGNhbGwuXG4gIC8vIFJFRjogaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkL3B1bGwvNjc3I2lzc3VlY29tbWVudC0xNzU3MzUxMzUxXG4gIHJldHVybiAoYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAzXV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA2XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDddXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA5XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDExXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEzXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE1XV0pLnRvTG93ZXJDYXNlKCk7XG59XG5mdW5jdGlvbiBzdHJpbmdpZnkoYXJyLCBvZmZzZXQgPSAwKSB7XG4gIHZhciB1dWlkID0gdW5zYWZlU3RyaW5naWZ5KGFyciwgb2Zmc2V0KTtcbiAgLy8gQ29uc2lzdGVuY3kgY2hlY2sgZm9yIHZhbGlkIFVVSUQuICBJZiB0aGlzIHRocm93cywgaXQncyBsaWtlbHkgZHVlIHRvIG9uZVxuICAvLyBvZiB0aGUgZm9sbG93aW5nOlxuICAvLyAtIE9uZSBvciBtb3JlIGlucHV0IGFycmF5IHZhbHVlcyBkb24ndCBtYXAgdG8gYSBoZXggb2N0ZXQgKGxlYWRpbmcgdG9cbiAgLy8gXCJ1bmRlZmluZWRcIiBpbiB0aGUgdXVpZClcbiAgLy8gLSBJbnZhbGlkIGlucHV0IHZhbHVlcyBmb3IgdGhlIFJGQyBgdmVyc2lvbmAgb3IgYHZhcmlhbnRgIGZpZWxkc1xuICBpZiAoIXZhbGlkYXRlKHV1aWQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKCdTdHJpbmdpZmllZCBVVUlEIGlzIGludmFsaWQnKTtcbiAgfVxuICByZXR1cm4gdXVpZDtcbn1cbmV4cG9ydCBkZWZhdWx0IHN0cmluZ2lmeTsiLCAiLy8gVW5pcXVlIElEIGNyZWF0aW9uIHJlcXVpcmVzIGEgaGlnaCBxdWFsaXR5IHJhbmRvbSAjIGdlbmVyYXRvci4gSW4gdGhlIGJyb3dzZXIgd2UgdGhlcmVmb3JlXG4vLyByZXF1aXJlIHRoZSBjcnlwdG8gQVBJIGFuZCBkbyBub3Qgc3VwcG9ydCBidWlsdC1pbiBmYWxsYmFjayB0byBsb3dlciBxdWFsaXR5IHJhbmRvbSBudW1iZXJcbi8vIGdlbmVyYXRvcnMgKGxpa2UgTWF0aC5yYW5kb20oKSkuXG5cbnZhciBnZXRSYW5kb21WYWx1ZXM7XG52YXIgcm5kczggPSBuZXcgVWludDhBcnJheSgxNik7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBybmcoKSB7XG4gIC8vIGxhenkgbG9hZCBzbyB0aGF0IGVudmlyb25tZW50cyB0aGF0IG5lZWQgdG8gcG9seWZpbGwgaGF2ZSBhIGNoYW5jZSB0byBkbyBzb1xuICBpZiAoIWdldFJhbmRvbVZhbHVlcykge1xuICAgIC8vIGdldFJhbmRvbVZhbHVlcyBuZWVkcyB0byBiZSBpbnZva2VkIGluIGEgY29udGV4dCB3aGVyZSBcInRoaXNcIiBpcyBhIENyeXB0byBpbXBsZW1lbnRhdGlvbi5cbiAgICBnZXRSYW5kb21WYWx1ZXMgPSB0eXBlb2YgY3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pO1xuICAgIGlmICghZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NyeXB0by5nZXRSYW5kb21WYWx1ZXMoKSBub3Qgc3VwcG9ydGVkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkI2dldHJhbmRvbXZhbHVlcy1ub3Qtc3VwcG9ydGVkJyk7XG4gICAgfVxuICB9XG4gIHJldHVybiBnZXRSYW5kb21WYWx1ZXMocm5kczgpO1xufSIsICJ2YXIgcmFuZG9tVVVJRCA9IHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5yYW5kb21VVUlEICYmIGNyeXB0by5yYW5kb21VVUlELmJpbmQoY3J5cHRvKTtcbmV4cG9ydCBkZWZhdWx0IHtcbiAgcmFuZG9tVVVJRFxufTsiLCAiaW1wb3J0IG5hdGl2ZSBmcm9tICcuL25hdGl2ZS5qcyc7XG5pbXBvcnQgcm5nIGZyb20gJy4vcm5nLmpzJztcbmltcG9ydCB7IHVuc2FmZVN0cmluZ2lmeSB9IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcbmZ1bmN0aW9uIHY0KG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIGlmIChuYXRpdmUucmFuZG9tVVVJRCAmJiAhYnVmICYmICFvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5hdGl2ZS5yYW5kb21VVUlEKCk7XG4gIH1cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBybmRzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTtcblxuICAvLyBQZXIgNC40LCBzZXQgYml0cyBmb3IgdmVyc2lvbiBhbmQgYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgXG4gIHJuZHNbNl0gPSBybmRzWzZdICYgMHgwZiB8IDB4NDA7XG4gIHJuZHNbOF0gPSBybmRzWzhdICYgMHgzZiB8IDB4ODA7XG5cbiAgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG4gIGlmIChidWYpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHJuZHNbaV07XG4gICAgfVxuICAgIHJldHVybiBidWY7XG4gIH1cbiAgcmV0dXJuIHVuc2FmZVN0cmluZ2lmeShybmRzKTtcbn1cbmV4cG9ydCBkZWZhdWx0IHY0OyJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQSxzQkFTTzs7O0FDSlAsSUFBSSxZQUFZLENBQUM7QUFDakIsS0FBUyxJQUFJLEdBQUcsSUFBSSxLQUFLLEVBQUUsR0FBRztBQUM1QixZQUFVLE1BQU0sSUFBSSxLQUFPLFNBQVMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQ2xEO0FBRlM7QUFHRixTQUFTLGdCQUFnQixLQUFLLFNBQVMsR0FBRztBQU0vQyxVQUFRLFVBQVUsSUFBSSxTQUFTLENBQUMsQ0FBQyxJQUFJLFVBQVUsSUFBSSxTQUFTLENBQUMsQ0FBQyxJQUFJLFVBQVUsSUFBSSxTQUFTLENBQUMsQ0FBQyxJQUFJLFVBQVUsSUFBSSxTQUFTLENBQUMsQ0FBQyxJQUFJLE1BQU0sVUFB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QUN4QixVQUFJO0FBQUEsSUFDTCxXQUFXLFNBQVMsS0FBSztBQUN4QixVQUFJLEtBQUssS0FBSztBQUFBLElBQ2YsV0FBVyxRQUFRLEtBQUs7QUFDdkIsVUFBSSxLQUFLLEtBQUssS0FBSztBQUFBLElBQ3BCLE9BQU87QUFDTixjQUFRLEtBQUssdUJBQXVCLEtBQUs7QUFDekMsYUFBTztBQUFBLElBQ1I7QUFFQSxXQUFPLElBQUksU0FBUyxJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUM7QUFBQSxFQUNyQztBQUFBLEVBRUEscUJBQXFCLEtBQWE7QUFDakMsVUFBTSxnQkFBZ0I7QUFDdEIsVUFBTSxlQUFlO0FBQ3JCLFFBQUksT0FBTyxLQUFLLGVBQWU7QUFDOUIsYUFDQyxPQUFPLE9BQU8sa0JBQWtCLE1BQU0sWUFBWSxDQUFDLEVBQUU7QUFBQSxRQUNwRDtBQUFBLFFBQ0E7QUFBQSxNQUNELElBQUk7QUFBQSxJQUVOLE9BQU87QUFDTixhQUNDLE9BQU8sT0FBTyxrQkFBa0IsTUFBTSxhQUFhLENBQUMsRUFBRTtBQUFBLFFBQ3JEO0FBQUEsUUFDQTtBQUFBLE1BQ0QsSUFBSTtBQUFBLElBRU47QUFBQSxFQUNEO0FBQUEsRUFFQSxPQUFPLEtBQXNCO0FBQzVCLFFBQUksT0FBTyxRQUFRLFVBQVU7QUFDNUIsYUFBTztBQUFBLElBQ1I7QUFDQSxXQUFPLElBQUksV0FBVztBQUFBLEVBQ3ZCO0FBQ0Q7QUFFQSxJQUFNLGtCQUFOLGNBQThCLE1BQU07QUFBQSxFQUNuQyxZQUFZLFNBQVM7QUFDcEIsVUFBTSxPQUFPO0FBQ2IsU0FBSyxPQUFPO0FBQUEsRUFDYjtBQUNEO0FBRU8sSUFBTSxTQUFTO0FBQUEsRUFDckIsS0FBSyxXQUFvQixTQUFpQixTQUFTLE1BQU07QUFDeEQsUUFBSSxDQUFDLFdBQVc7QUFDZixVQUFJLFFBQVE7QUFDWCxjQUFNLElBQUksZ0JBQWdCLE9BQU87QUFBQSxNQUNsQyxPQUFPO0FBQ04sZ0JBQVEsTUFBTSxPQUFPO0FBQUEsTUFDdEI7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUFBLEVBQ0EsTUFBTSxXQUFvQixTQUFpQixTQUFTLE9BQU87QUFDMUQsUUFBSSxXQUFXO0FBQ2QsVUFBSSxRQUFRO0FBQ1gsY0FBTSxJQUFJLGdCQUFnQixPQUFPO0FBQUEsTUFDbEMsT0FBTztBQUNOLGdCQUFRLE1BQU0sT0FBTztBQUFBLE1BQ3RCO0FBQUEsSUFDRDtBQUFBLEVBQ0Q7QUFDRDtBQUVPLElBQU0sUUFBUTtBQUFBLEVBQ3BCLFNBQVM7QUFBQSxFQUNULE9BQU87QUFBQSxFQUNQLFVBQVU7QUFBQSxFQUNWLFFBQVE7QUFBQSxFQUNSLE9BQU87QUFDUjsiLAogICJuYW1lcyI6IFsibm9kZSIsICJmIl0KfQo=
