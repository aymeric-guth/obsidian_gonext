/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  ExampleModal: () => ExampleModal,
  default: () => MyPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");

// constants.ts
var Paths = {
  Tasks: "813 Tasks",
  Components: "Components",
  Goals: "Goals",
  Slipbox: "803 Slipbox",
  Inbox: "800 Inbox",
  Refs: "802 Refs",
  Archives: "400 Archives",
  Logs: "600 Log",
  Attachments: "000 Attachments",
  Journal: "Journal",
  Resources: "Resources",
  Projects: "100 Projects",
  Domains: "Domains",
  Names: "Names"
};
var Status = {
  Todo: "todo",
  Doing: "doing",
  Done: "done",
  Maybe: "maybe",
  Standby: "standby",
  Trash: "trash"
};
var GoalStatus = {
  Reframe: "reframe",
  Research: "research",
  Operationalize: "operationalize",
  Planify: "planify",
  Dependant: "dependant",
  Active: "active",
  Failed: "failed",
  Success: "success"
};
var Types = {
  Fleeting: 13,
  Literature: 1,
  Permanent: 2,
  Task: 3,
  Praxis: 4,
  Provision: 5,
  Log: 6,
  Resource: 7,
  Media: 8,
  Project: 12,
  Org: 9,
  Domain: 10,
  Component: 11
};
var Namespace = {
  Area: "area",
  Context: "context",
  Layer: "layer",
  Org: "org",
  Project: "project"
};
var Default = {
  Area: "none",
  Context: "any",
  Layer: "none",
  Org: "none",
  Project: "none"
};

// api.ts
var FrontmatterJS = class {
  singular(values, field) {
    if (!Helper.nilCheck(this.fm[field])) {
      const value = this.fm[field];
      if (typeof value === "string") {
        if (!values.contains(value)) {
          values.push(value);
        }
      } else {
        console.warn(
          `'${field}' is ignored, invalid data-type: '${typeof this.fm[field]}'`
        );
      }
    }
  }
  plural(values, field) {
    if (!Helper.nilCheck(this.fm[field])) {
      if (!Array.isArray(this.fm[field])) {
        console.warn(
          `'${field}' is ignored, invalid data-type: '${field}'`
        );
      } else {
        for (const value of this.fm[field]) {
          if (typeof value === "string") {
            if (!values.contains(value)) {
              values.push(value);
            }
          } else {
            console.warn(
              `'${value}s.${value}' is ignored, invalid data-type: '${typeof value}'`
            );
          }
        }
      }
    }
  }
  constructor(page) {
    Assert.True(page !== void 0, "'page' is undefined");
    this.f = page.file;
    const f = this.f;
    Assert.True(f !== void 0, "'f' is undefined");
    this.fm = f.frontmatter;
    Assert.True(this.fm !== void 0, "'fm' is undefined");
    Assert.True(
      this.fm.uuid !== void 0,
      `'uuid' is undefined for '${this.f.path}'`
    );
    this.uuid = this.fm.uuid;
    this.version = this.fm.version;
    this.type = this.fm.type;
    this.createdAt = new Date(this.fm.created_at);
    this.at = this.fm.at !== void 0 ? new Date(this.fm.at) : new Date();
    this.before = this.fm.before !== void 0 ? new Date(this.fm.before) : new Date();
    this.after = this.fm.after !== void 0 ? new Date(this.fm.after) : new Date();
    this.components = [];
    this.domains = [];
    this.projects = [];
    this.contexts = [];
    this.traits = [];
    const domains = [];
    const components = [];
    const projects = [];
    const names = [];
    const contexts = [];
    const contents = [];
    const traits = [];
    if (!Helper.nilCheck(this.fm.tags)) {
      if (!Array.isArray(this.fm.tags)) {
        console.warn("'tags' is ignored, invalid data-type");
        this.fm.tags = [];
      }
      for (const tag of this.fm.tags) {
        if (tag.slice(0, 7) === "domain/") {
          domains.push(tag.slice(7));
        } else if (tag.slice(0, 10) === "component/") {
          components.push(tag.slice(10));
        } else if (tag.slice(0, 8) === "project/") {
          projects.push(tag.slice(8));
        } else if (tag.slice(0, 5) === "name/") {
          names.push(tag.slice(5));
        } else if (tag.slice(0, 8) == "context/") {
          contexts.push(tag.slice(8));
        } else if (tag.slice(0, 8) == "content/") {
          contents.push(tag.slice(8));
        } else if (tag.slice(0, 6) == "trait/") {
          traits.push(tag.slice(6));
        }
      }
    }
    this.singular(domains, "domain");
    this.plural(domains, "domains");
    this.singular(components, "components");
    this.plural(components, "components");
    this.singular(projects, "project");
    this.plural(projects, "projects");
    this.singular(contents, "contents");
    this.plural(contents, "contents");
    this.singular(names, "name");
    this.plural(names, "names");
    this.plural(names, "alias");
    this.singular(traits, "trait");
    this.plural(traits, "traits");
    this.domains = domains;
    this.components = components;
    this.projects = projects;
    this.names = names;
    this.contexts = contexts;
    this.contents = contents;
    this.traits = traits;
  }
  getDomain(emptyDefault = true) {
    if (emptyDefault) {
      return this.domains[0];
    } else {
      return this.domains[0] === void 0 ? "unknown" : this.domains[0];
    }
  }
  getDomains() {
    return this.domains;
  }
  getTraits() {
    return this.traits;
  }
  getComponents() {
    return this.components;
  }
  getProject(emptyDefault = true) {
    if (emptyDefault) {
      return this.projects[0];
    } else {
      return this.projects[0] === void 0 ? "" : this.projects[0];
    }
  }
  getProjects() {
    return this.projects;
  }
  getName(emptyDefault = true) {
    if (emptyDefault) {
      return this.names[0];
    } else {
      return this.names[0] === void 0 ? "" : this.names[0];
    }
  }
  getContent(emptyDefault = true) {
    if (emptyDefault) {
      return this.contents[0];
    } else {
      return this.contents[0] === void 0 ? "" : this.contents[0];
    }
  }
  getNames() {
    return this.names;
  }
  getContext(emptyDefault = true) {
    if (emptyDefault) {
      return this.contexts[0];
    } else {
      return this.contexts[0] === void 0 ? "" : this.contexts[0];
    }
  }
  resolve(dv) {
    const domains = [];
    for (const domain of this.domains) {
      if (Helper.isUUID(domain)) {
        const pages = dv.pages(`"${Paths.Domains}"`).where((page) => page.file.frontmatter.uuid === domain);
        if (pages.length > 1) {
          throw new Error();
        } else if (pages.length === 1) {
          const page = pages[0];
          domains.push(page.file.frontmatter.name);
        }
      } else {
        const pages = dv.pages(`"${Paths.Domains}"`).where((page) => page.file.frontmatter.name === domain);
        if (pages.length > 1) {
          throw new Error();
        } else if (pages.length === 1) {
          const page = pages[0];
          domains.push(page.file.frontmatter.name);
        }
      }
    }
    if (domains.length !== this.domains.length) {
      console.warn(`Domain resolution failed for: ${this.domains}`);
    }
    this.domains = domains;
  }
};
var ValidationError = class extends Error {
  constructor(message) {
    super(message);
    this.name = "ValidationError";
  }
};
var Assert = {
  True(predicate, message) {
    if (!predicate) {
      throw new ValidationError(message);
    }
  }
};
var Helper = {
  nilCheck(val) {
    return val === void 0 || val === null;
  },
  getKeyFuck(groupBy) {
    switch (groupBy) {
      default:
      case "doneAt":
        return (entry) => entry.file.frontmatter.doneAt.toISOString().slice(0, 10);
        break;
      case "createdAt":
        return (entry) => entry.file.frontmatter.createdAt.toISOString().slice(0, 10);
        break;
      case "project":
        return (entry) => entry.file.frontmatter.project;
        break;
      case "area":
        return (entry) => entry.file.frontmatter.area;
        break;
    }
  },
  getKey(groupBy) {
    switch (groupBy) {
      default:
      case "doneAt":
        return (entry) => entry.doneAt.toISOString().slice(0, 10);
        break;
      case "createdAt":
        return (entry) => entry.createdAt.toISOString().slice(0, 10);
        break;
      case "project":
        return (entry) => entry.project;
        break;
      case "area":
        return (entry) => entry.area;
        break;
    }
  },
  numberTypeToString(val) {
    switch (val.type) {
      case Types.Fleeting:
        return "fleeting";
      case Types.Log:
        return "log";
      case Types.Project:
        return "project";
      case Types.Org:
        return "org";
      case Types.Domain:
        return "domain";
      case Types.Component:
        return "component";
      default:
        throw new Error(
          `numberTypeToString: type: "${val.type}" not implemented "${val.uuid}"`
        );
    }
  },
  roundToOneDecimal(val) {
    return Math.round(val * 10) / 10;
  },
  isChildTag(parent, child) {
    if (child.length <= parent.length + 1) {
      return false;
    } else if (child.slice(0, parent.length + 1) != `${parent}/`) {
      return false;
    }
    return true;
  },
  getField(field, defaultValue) {
    if (field === void 0 || field === null) {
      return defaultValue;
    } else {
      return field;
    }
  },
  getDate(dt) {
    if (dt === "" || dt === null) {
      return void 0;
    } else if (dt !== void 0) {
      dt = new Date(dt);
      if (isNaN(dt)) {
        return void 0;
      } else {
        return dt;
      }
    } else {
      return void 0;
    }
  },
  getTag(fm, type, emptyDefault = void 0) {
    let name = "";
    let defaultValue = "";
    if (type === "area") {
      name = Namespace.Area;
      defaultValue = Default.Area;
    } else if (type === "context") {
      name = Namespace.Context;
      defaultValue = Default.Context;
    } else if (type === "layer") {
      name = Namespace.Layer;
      defaultValue = Default.Layer;
    } else if (type === "org") {
      name = Namespace.Org;
      defaultValue = Default.Org;
    } else if (type === "project") {
      name = Namespace.Project;
      defaultValue = Default.Project;
    } else if (type == "domain") {
      name = "domain";
      defaultValue = "none";
    } else {
      throw new Error(`getTag got unsuported type: '${type}'`);
    }
    const len = name.length + 1;
    const defaultTag = `${name}/${defaultValue}`;
    let defaultRetVal = defaultTag;
    if (emptyDefault) {
      defaultRetVal = void 0;
    }
    if (fm === void 0) {
      return defaultRetVal;
    }
    const tags = fm.tags;
    if (tags === void 0 || tags.length === 0) {
      return defaultRetVal;
    }
    for (const tag of tags) {
      if (tag == defaultTag) {
        return defaultRetVal;
      }
      if (tag.length > len && tag.slice(0, len) == `${name}/`) {
        return tag;
      }
    }
    return defaultRetVal;
  },
  getName(fm) {
    const components = Helper.getComponents(fm);
    if (components.length < 1) {
      throw new Error(`Helper.getName() ${fm}`);
    }
    let name = void 0;
    let occurences = 0;
    for (const component of components) {
      if (component.slice(0, 15) === "component/name/") {
        name = component.slice(15);
        occurences += 1;
      }
    }
    if (occurences > 1) {
      throw new Error(
        `Helper.getName() ${fm} multiple occurences of 'component/name'`
      );
    }
    if (name === void 0) {
      throw new Error(
        `Helper.getName() ${fm} 'component/name' undefined`
      );
    }
    return name;
  },
  getComponents(fm) {
    const components = [];
    if (Helper.nilCheck(fm.tags)) {
      return [];
    }
    for (const tag of fm.tags) {
      if (tag.length > 10 && tag.slice(0, 10) === "component/") {
        components.push(tag);
      }
    }
    return components;
  },
  getArea(fm, emptyDefault = false) {
    return Helper.getTag(fm, "area", emptyDefault);
  },
  getContext(fm, emptyDefault = false) {
    return Helper.getTag(fm, "context", emptyDefault);
  },
  getDomain(fm, emptyDefault = false) {
    return Helper.getTag(fm, "domain", emptyDefault);
  },
  getLayer(fm, emptyDefault = false) {
    return Helper.getTag(fm, "layer", emptyDefault);
  },
  getOrg(fm, emptyDefault = false) {
    return Helper.getTag(fm, "org", emptyDefault);
  },
  getProject(fm, emptyDefault = false) {
    return Helper.getTag(fm, "project", emptyDefault);
  },
  durationStringToSec(val) {
    if (val === void 0 || val.length === 0) {
      return 0;
    }
    const mult = val.slice(-1);
    let m = 0;
    if (mult === "h") {
      m = 60 * 60;
    } else if (mult === "m") {
      m = 60;
    } else if (mult === "d") {
      m = 24 * 60 * 60;
    } else if (mult == "w") {
      m = 24 * 60 * 60 * 7;
    } else {
      console.warn(`Unhandled case val: ${val}`);
      return void 0;
    }
    return m * parseInt(val.slice(0, -1));
  },
  msecToStringDuration(val) {
    const oneHourInMsec = 36e5;
    const oneDayInMsec = 864e5;
    if (val >= 24 * oneHourInMsec) {
      return String(Helper.roundToOneDecimal(val / oneDayInMsec)).padStart(
        2,
        "0"
      ) + " d";
    } else {
      return String(Helper.roundToOneDecimal(val / oneHourInMsec)).padStart(
        2,
        "0"
      ) + " h";
    }
  },
  isUUID(val) {
    if (typeof val !== "string") {
      return false;
    }
    return val.length === 36;
  },
  sortByAge(a, b) {
    const fmA = new FrontmatterJS(a);
    const fmB = new FrontmatterJS(b);
    return fmA.createdAt.getTime() - fmB.createdAt.getTime();
  },
  sortByPriority(a, b) {
    const fmA = new FrontmatterJS(a);
    const fmB = new FrontmatterJS(b);
    return fmB.fm.priority - fmA.fm.priority;
  },
  sortByPriorityAndAge(a, b) {
    const fmA = new FrontmatterJS(a);
    const fmB = new FrontmatterJS(b);
    if (fmA.fm.priority !== fmB.fm.priority.priority) {
      return Helper.sortByPriority(a, b);
    } else {
      return Helper.sortByAge(a, b);
    }
  },
  sortByDuration(a, b) {
    const fmA = new FrontmatterJS(a);
    const fmB = new FrontmatterJS(b);
    return Helper.durationStringToSec(fmA.fm.time_estimate) - Helper.durationStringToSec(fmB.fm.time_estimate);
  },
  sortByPriorityAndDuration(a, b) {
    const fmA = new FrontmatterJS(a);
    const fmB = new FrontmatterJS(b);
    if (fmA.fm.priority !== fmB.fm.priority) {
      return Helper.sortByPriority(a, b);
    } else {
      return Helper.sortByDuration(a, b);
    }
  },
  sortByPriorityAndDurationAndAge(a, b) {
    const fmA = new FrontmatterJS(a);
    const fmB = new FrontmatterJS(b);
    if (fmA.fm.priority !== fmB.fm.priority) {
      return Helper.sortByPriority(a, b);
    } else if (fmA.fm.time_estimate !== fmB.fm.time_estimate) {
      return Helper.sortByDuration(a, b);
    } else {
      return Helper.sortByAge(a, b);
    }
  }
};
var AutoField = {
  tags(dv, fm, level = 2) {
    const tags = fm.tags;
    if (tags == void 0 || tags.length === 0) {
      return;
    }
    tags.sort();
    dv.header(level, "Tags");
    let s = "";
    for (const tag of tags) {
      s += ` #${tag}`;
    }
    dv.paragraph(s);
  },
  healmon(dv) {
    const fm = new FrontmatterJS(dv.current());
    const current = fm.createdAt.toISOString().slice(0, 10);
    const pages = dv.pages(`"${Paths.Journal}"`).where((page) => {
      const jFm = new FrontmatterJS(page);
      if (jFm.getProject() !== "homecook") {
        return false;
      }
      let jCurrent = null;
      try {
        jCurrent = jFm.createdAt.toISOString().slice(0, 10);
      } catch (e) {
        dv.paragraph(
          `Invalid date: ${Renderer.makeLinkShortUUID(dv, page.file)}`
        );
        console.error(jFm);
      }
      if (current !== jCurrent) {
        return false;
      }
      return true;
    });
    if (pages.length) {
      dv.header(4, "repas");
      for (const page of pages) {
        dv.paragraph(Renderer.makeLinkShortUUID(dv, page.file));
      }
    }
  },
  authors(dv, fm) {
    const authors = fm.authors;
    if (authors === void 0 || authors.length === 0) {
      return;
    }
    dv.header(3, "Authors");
    dv.list(authors);
  },
  title(dv, fm) {
    const title = fm.alias;
    if (title === void 0 || title.length === 0) {
      return;
    }
    dv.header(3, title);
  },
  logs(dv, entries) {
    const buff = [];
    let totalTime = 0;
    for (const entry of entries) {
      const fme = entry.file.frontmatter;
      const e = [];
      let start = 0;
      let stop = 0;
      if (fme === void 0 || fme.created_at === void 0) {
        throw new Error(`Invalid frontmatter: ${fme.uuid}`);
      }
      start = new Date(fme.created_at);
      e.push(start.toISOString().slice(0, 10));
      if (fme.done_at === void 0) {
        stop = Date.now();
      } else {
        stop = new Date(fme.done_at);
      }
      totalTime += stop - start;
      e.push(
        dv.sectionLink(
          fme.uuid,
          "## Content",
          false,
          fme.uuid.slice(0, 8)
        )
      );
      e.push(Math.round((stop - start) / (1e3 * 60 * 60) * 10) / 10);
      if (fme.reviewed === void 0 || fme.reviewed === 0) {
        e.push(0);
      } else {
        e.push(fme.reviewed);
      }
      buff.push(e);
    }
    if (buff.length > 0) {
      dv.header(2, "Logs");
      dv.table(["created_at", "uuid", "session", "reviewed"], buff);
      if (totalTime > 0) {
        dv.paragraph(
          `_totalTime (h):_ ${Math.round(totalTime / (1e3 * 60 * 60) * 10) / 10}`
        );
      }
    }
  },
  media(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    const pages = dv.pages(`"${Paths.Refs}/${fm.ref_id}"`).array();
    if (pages.length !== 1) {
      return;
    }
    const media = pages[0];
    const mediaFm = media.file.frontmatter;
    AutoField.title(dv, mediaFm);
    dv.paragraph(Renderer.makeLinkAlias(dv, media.file));
    AutoField.authors(dv, mediaFm);
    AutoField.tags(dv, mediaFm, 3);
    const logEntries = dv.pages(`"${Paths.Logs}/${fm.uuid}"`).where((p) => p.type === 6).sort((k) => k.created_at, "desc");
    AutoField.logs(dv, logEntries);
  },
  autoFieldTitle(dv, fm) {
    const title = fm.alias;
    if (title == void 0) {
      return;
    }
    dv.header(1, title);
  },
  autoFieldAuthors(dv, fm) {
    const authors = fm.authors;
    if (authors === void 0 || authors.length === 0) {
      return;
    }
    dv.header(2, "Authors");
    dv.list(authors);
  },
  autoFieldTags(dv, fm) {
    const tags = fm.tags;
    if (tags == void 0 || tags.length === 0) {
      return;
    }
    tags.sort();
    dv.header(2, "Tags");
    let s = "";
    for (const tag of tags) {
      s += ` #${tag}`;
    }
    dv.paragraph(s);
  },
  literature(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    if (fm === void 0) {
      return;
    }
    if (Helper.nilCheck(fm.authors)) {
    } else {
      this.autoFieldTitle(dv, fm);
      this.autoFieldAuthors(dv, fm);
      this.autoFieldTags(dv, fm);
    }
  },
  goal(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    if (fm === void 0) {
      console.warn("fm is required");
      return;
    }
    const created_at = new Date(fm.created_at);
    const logEntries = dv.pages(`"${Paths.Logs}/${fm.uuid}"`).where((p) => p.type === 6).sort((k) => k.created_at, "desc");
    const buff = [];
    for (const entry of logEntries) {
      const fme = entry.file.frontmatter;
      const e = [];
      if (fme === void 0 || fme.created_at === void 0) {
        throw new Error(`Invalid frontmatter: ${fme.uuid}`);
      }
      const start = new Date(fme.created_at);
      e.push(start.toISOString().slice(0, 10));
      e.push(
        dv.sectionLink(
          fme.uuid,
          "## Content",
          false,
          fme.uuid.slice(0, 8)
        )
      );
      buff.push(e);
    }
    const before = new Date(fm.before);
    const timeframe = (before.getTime() - created_at.getTime()) / (1e3 * 3600 * 24);
    let timeframeText = "";
    dv.header(3, "Timeframe");
    if (timeframe > 0 && timeframe < 30) {
      timeframeText = "runaway";
    } else if (timeframe < 60) {
      timeframeText = "10,000 feet";
    } else if (timeframe < 360) {
      timeframeText = "20,000 feet";
    } else if (timeframe < 720) {
      timeframeText = "30,000 feet";
    } else if (timeframe < 1080) {
      timeframeText = "40,000 feet";
    } else {
      timeframeText = "50,000 feet";
    }
    dv.paragraph(timeframeText);
    if (buff.length > 0) {
      dv.header(2, "Reviews");
      dv.table(["reviewed_at", "uuid"], buff);
    }
  },
  daily(dv) {
    const current = dv.current().file.frontmatter;
    const currentAt = new Date(current.at);
    const currentAtShort = currentAt.toISOString().slice(0, 10);
    const gonext = app.plugins.plugins.obsidian_gonext;
    const noteHelper = new NoteHelper(gonext, dv, new Frontmatter(gonext));
    const pages = dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (current.uuid === fm.uuid) {
        return false;
      }
      if (fm.fm.status !== "todo" || fm.getProject() === "daily") {
        return false;
      }
      const now = currentAt;
      let fmAtShort = void 0;
      try {
        fmAtShort = fm.at.toISOString().slice(0, 10);
      } catch (e) {
        throw new Error(`${fm.uuid}`);
      }
      if (!noteHelper.isDoable(page, currentAt)) {
        return false;
      }
      if (page.file.frontmatter.at !== void 0 && fmAtShort === currentAtShort) {
        return true;
      }
      if (page.file.frontmatter.at !== void 0 && fm.at.getTime() < now.getTime()) {
        return true;
      }
      if (page.file.frontmatter.before !== void 0 && fm.before.getTime() > now.getTime()) {
        return true;
      }
      if (page.file.frontmatter.after !== void 0 && fm.after.getTime() < now.getTime()) {
        return true;
      }
      return false;
    }).sort((k) => k.at, "asc");
    if (pages.length === 0) {
      return;
    }
    const buff = [];
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      const h = String(fm.at.getHours()).padStart(2, "0");
      const m = String(fm.at.getMinutes()).padStart(2, "0");
      if (page.file.frontmatter.status === "done") {
        buff.push([
          `~~${Renderer.makeLinkShortUUID(dv, page.file, "Task")}~~`,
          `~~${h}:${m}~~`
        ]);
      } else {
        buff.push([
          `${Renderer.makeLinkShortUUID(dv, page.file, "Task")}`,
          `${h}:${m}`
        ]);
      }
    }
    dv.table(["uuid", "at"], buff);
  },
  dailyGoals(dv) {
    const current = dv.current().file.frontmatter;
    const currentAt = new Date(current.at);
    const pages = dv.pages(`"${Paths.Goals}"`).where((page) => {
      if (page.file.frontmatter.status !== "active") {
        return false;
      } else {
        return true;
      }
    }).sort((k) => k.at, "asc");
    if (pages.length === 0) {
      return;
    }
    for (const page of pages) {
      dv.paragraph(Renderer.makeLinkShortUUID(dv, page.file));
    }
  },
  task(dv) {
    const dvLib = new DvLib();
    dvLib.autoFieldTask(dv);
  },
  log(dv) {
    const dvLib = new DvLib();
    dvLib.autoFieldLog(dv);
  }
};
var Renderer = {
  makeLinkName(dv, f, anchor = "Content") {
    if (Helper.nilCheck(f.frontmatter.name)) {
      return Renderer.makeLinkShortUUID(dv, f, anchor);
    }
    return dv.sectionLink(f.path, anchor, false, `${f.frontmatter.name}`);
  },
  makeLinkAlias(dv, f, anchor = "Content") {
    if (Helper.nilCheck(f.frontmatter.alias)) {
      return Renderer.makeLinkShortUUID(dv, f, anchor);
    }
    return dv.sectionLink(f.path, anchor, false, `${f.frontmatter.alias}`);
  },
  makeLinkShortUUID(dv, f, anchor = "Content") {
    return dv.sectionLink(
      f.path,
      anchor,
      false,
      `${f.frontmatter.uuid.slice(0, 8)}`
    );
  },
  makeLink(dv, f, name = void 0, anchor = "Content") {
    return dv.sectionLink(f.path, anchor, false, name);
  },
  projectLogs(dv, data) {
    const cols = ["type", "task_id", "log_id", "took", "reviewed"];
    const buff = [];
    let totalTime = 0;
    for (const d of data) {
      const f = d.file;
      const fm = d.file.frontmatter;
      Assert.True(
        !Helper.nilCheck(fm.uuid),
        `"uuid" id not defined for: ${f.path}`
      );
      Assert.True(
        !Helper.nilCheck(fm.type),
        `"type" id not defined for: ${f.path}`
      );
      const createdAt = new Date(fm.created_at);
      const doneAt = new Date(fm.done_at);
      const delta = doneAt.getTime() - createdAt.getTime();
      totalTime += delta;
      const record = {
        taskId: "",
        logId: Renderer.makeLinkAlias(dv, f),
        took: Math.round(delta / (1e3 * 60 * 60) * 10) / 10,
        reviewed: Helper.nilCheck(fm.reviewed) ? 0 : fm.reviewed,
        type: void 0
      };
      const pages = dv.pages(`"${Paths.Tasks}/${fm.parent_id}"`).array();
      if (pages.length !== 1) {
        throw new Error(
          `parent task with id: "${fm.parent_id}" does not exists`
        );
      }
      const parent = pages[0];
      switch (parent.file.frontmatter.type) {
        case Types.Task:
          record.type = `<font color=8B0000>task</font>`;
          record.taskId = Renderer.makeLinkShortUUID(
            dv,
            parent.file,
            "Task"
          );
          break;
        case Types.Media:
          record.type = `<font color=00008B>media</font>`;
          record.taskId = Renderer.makeLinkShortUUID(
            dv,
            parent.file,
            "Content"
          );
          break;
        case Types.Praxis:
          record.type = `<font color=FF8C00>praxis</font>`;
          record.taskId = Renderer.makeLinkShortUUID(
            dv,
            parent.file,
            "Content"
          );
          break;
        case Types.Provision:
          record.type = `<font color=DC143C>provision</font>`;
          record.taskId = Renderer.makeLinkShortUUID(
            dv,
            parent.file,
            "Content"
          );
          break;
        default:
          throw new Error(
            `Renderer.projectLogs: type "${parent.file.frontmatter.type}" not implemented`
          );
      }
      buff.push([
        record.type,
        record.taskId,
        record.logId,
        record.took,
        record.reviewed
      ]);
    }
    dv.table(cols, buff);
  },
  goal(dv, data) {
    const buff = [];
    for (const fm of data) {
      const created_at = fm.createdAt;
      const logEntries = dv.pages(`"${Paths.Logs}/${fm.uuid}"`).where((p) => p.type === 6).sort((k) => k.created_at, "desc");
      const before = new Date(fm.fm.before);
      const timeframe = (before.getTime() - created_at.getTime()) / (1e3 * 3600 * 24);
      let timeframeText = "";
      if (timeframe > 0 && timeframe < 30) {
        timeframeText = "runaway";
      } else if (timeframe < 60) {
        timeframeText = "10,000 feet";
      } else if (timeframe < 360) {
        timeframeText = "20,000 feet";
      } else if (timeframe < 720) {
        timeframeText = "30,000 feet";
      } else if (timeframe < 1080) {
        timeframeText = "40,000 feet";
      } else {
        timeframeText = "50,000 feet";
      }
      buff.push([
        before.toISOString().slice(0, 10),
        dv.sectionLink(
          fm.uuid,
          "## Content",
          false,
          fm.uuid.slice(0, 8)
        ),
        fm.getDomain(),
        timeframeText
      ]);
    }
    dv.table(["deadline", "uuid", "domain", "timeframe"], buff);
  },
  inboxEntry(dv, data) {
    const cols = [
      "uuid",
      // "type",
      // "age",
      // "size",
      "name"
      // "project",
      // "domain",
      // "components",
    ];
    const buff = [];
    for (const d of data) {
      const f = d.file;
      const fm = d.file.frontmatter;
      Assert.True(
        !Helper.nilCheck(fm.uuid),
        `"uuid" id not defined for: ${f.path}`
      );
      Assert.True(
        !Helper.nilCheck(fm.type),
        `"type" id not defined for: ${f.path}`
      );
      const now = new Date();
      const delta = now.getTime() - fm.createdAt.getTime();
      const since = Helper.msecToStringDuration(delta);
      let name = "";
      if (fm.domain !== "domain/undefined") {
        name = fm.domain;
      } else if (fm.project !== void 0) {
        name = fm.project;
      } else {
        name = "\\-";
      }
      const record = {
        uuid: Helper.numberTypeToString(fm) === "fleeting" ? `&#128196 ${Renderer.makeLinkAlias(dv, f)}` : Renderer.makeLinkAlias(dv, f),
        // uuid: `&#9728 ${Renderer.makeLinkAlias(dv, f)}`,
        type: Helper.numberTypeToString(fm),
        since: `${since}`,
        size: f.size,
        project: fm.project === void 0 ? "\\-" : fm.project.slice(8),
        domain: fm.domain === void 0 ? "\\-" : fm.domain.slice(7),
        //Renderer.domainBase(dv, fm.domain),
        name
      };
      if (record.type === "log") {
        const pages = dv.pages(`"${Paths.Tasks}/${fm.parent_id}"`).array();
        if (pages.length !== 1) {
          throw new Error(`${fm.parent_id} ${fm.id}`);
        }
        const parent = pages[0];
        switch (parent.type) {
          case Types.Task:
            record.uuid = `&#128211 ${record.uuid}`;
            record.type = `<font color=8B0000>task</font>`;
            break;
          case Types.Praxis:
            record.uuid = `&#128188 ${record.uuid}`;
            record.type = `<font color=FF8C00>praxis</font>`;
            break;
          case Types.Media:
            record.uuid = `&#128191 ${record.uuid}`;
            record.type = `<font color=00008B>media</font>`;
            break;
          case Types.Provision:
            record.type = `<font color=DC143C>provision</font>`;
            break;
          default:
            break;
        }
      }
      buff.push([
        record.uuid,
        // record.type,
        // record.since,
        // record.size,
        record.name
        // record.project,
        // record.domain,
      ]);
    }
    dv.table(cols, buff);
  },
  resourceBase(dv, data) {
    const cols = ["uuid"];
    const buff = [];
    for (const d of data) {
      const f = d.file;
      const fm = d.file.frontmatter;
      Assert.True(
        !Helper.nilCheck(fm.uuid),
        `"uuid" id not defined for: ${f.path}`
      );
      buff.push([Renderer.makeLinkAlias(dv, f)]);
    }
    dv.table(cols, buff);
  },
  basicRelation(dv, data) {
    const cols = ["uuid", "name"];
    const buff = [];
    for (const d of data) {
      const f = d.file;
      const fm = d.file.frontmatter;
      Assert.True(
        !Helper.nilCheck(fm.uuid),
        `"uuid" id not defined for: ${f.path}`
      );
      buff.push([Renderer.makeLinkAlias(dv, f), fm.name]);
    }
    dv.table(cols, buff);
  },
  praxisBase(dv, data) {
    const buff = [];
    const cols = ["tasks", "uuid", "estimate"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      buff.push([
        dv.markdownTaskList(f.tasks),
        dv.fileLink(f.path, false, f.name.slice(0, 8)),
        fm.time_estimate
      ]);
    }
    dv.table(cols, buff);
  },
  waitingTask(dv, data) {
    const buff = [];
    const cols = ["tasks", "uuid", "estimate", "cause"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      buff.push([
        dv.markdownTaskList(f.tasks),
        dv.fileLink(f.path, false, f.name.slice(0, 8)),
        fm.time_estimate,
        fm.cause
      ]);
    }
    dv.table(cols, buff);
  },
  readyTask(dv, data) {
    const buff = [];
    const cols = ["uuid", "task", "estimate", "area"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      buff.push([
        Renderer.makeLinkAlias(dv, f, "Task"),
        dv.markdownTaskList(f.tasks),
        fm.time_estimate,
        Helper.getField(Helper.getArea(fm, true), "\\-")
      ]);
    }
    dv.table(cols, buff);
  },
  provisionBase(dv, data) {
    const buff = [];
    const cols = ["uuid", "supplier", "content", "estimate"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      buff.push([
        dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
        fm.supplier,
        dv.markdownTaskList(f.tasks),
        fm.time_estimate
      ]);
    }
    dv.table(cols, buff);
  },
  basicTaskJournal(dv, data) {
    const buff = [];
    const cols = ["uuid", "tasks", "estimate"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      const domain = Helper.getDomain(fm, true) === void 0 ? "\\-" : Helper.getDomain(fm);
      if (fm.ref_id === void 0) {
        buff.push([
          // journal.contains(fm.uuid) ? "->" : "\\-",
          dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
          dv.markdownTaskList(f.tasks),
          fm.time_estimate
        ]);
      } else {
        const ref = dv.pages(`"${Paths.Refs}/${fm.ref_id}"`).array();
        if (ref.length === 0) {
          throw new Error(
            `task: '${fm.uuid}' has an undefined ref_id: '${fm.ref_id}'`
          );
        } else {
          buff.push([
            dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
            Renderer.makeLinkAlias(dv, ref[0].file),
            fm.time_estimate,
            domain
          ]);
        }
      }
    }
    dv.table(cols, buff);
  },
  activeTask(dv, data) {
    const buff = [];
    const cols = ["uuid", "tasks", "session"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      const logs = dv.pages(`"${Paths.Logs}/${fm.uuid}"`).where((p) => p.type === 6).sort((k) => k.created_at, "desc");
      const last = logs[0];
      const createdAt = new Date(last.created_at);
      const now = new Date();
      buff.push([
        dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
        dv.markdownTaskList(f.tasks),
        ((t) => {
          return Math.round(t / (3600 * 1e3) * 10) / 10;
        })(now.getTime() - createdAt.getTime())
      ]);
    }
    dv.table(cols, buff);
  },
  basicTask(dv, data) {
    const buff = [];
    const cols = ["uuid", "tasks", "estimate", "domain"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      const domain = Helper.getDomain(fm, true) === void 0 ? "\\-" : Helper.getDomain(fm);
      if (fm.ref_id === void 0) {
        buff.push([
          dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
          dv.markdownTaskList(f.tasks),
          fm.time_estimate,
          domain
        ]);
      } else {
        const ref = dv.pages(`"${Paths.Refs}/${fm.ref_id}"`).array();
        if (ref.length === 0) {
          throw new Error(
            `task: '${fm.uuid}' has an undefined ref_id: '${fm.ref_id}'`
          );
        } else {
          buff.push([
            dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
            Renderer.makeLinkAlias(dv, ref[0].file),
            fm.time_estimate,
            domain
          ]);
        }
      }
    }
    dv.table(cols, buff);
  },
  logs(dv, entries) {
    const buff = [];
    let totalTime = 0;
    for (const entry of entries) {
      const fme = entry.file.frontmatter;
      const e = [];
      let start = 0;
      let stop = 0;
      if (fme === void 0 || fme.created_at === void 0) {
        throw new Error(`Invalid frontmatter: ${fme.uuid}`);
      }
      start = new Date(fme.created_at);
      e.push(start.toISOString().slice(0, 10));
      if (fme.done_at === void 0) {
        stop = Date.now();
      } else {
        stop = new Date(fme.done_at);
      }
      totalTime += stop - start;
      e.push(
        dv.sectionLink(
          fme.uuid,
          "## Content",
          false,
          fme.uuid.slice(0, 8)
        )
      );
      e.push(Math.round((stop - start) / (1e3 * 60 * 60) * 10) / 10);
      if (fme.reviewed === void 0 || fme.reviewed === 0) {
        e.push(0);
      } else {
        e.push(fme.reviewed);
      }
      buff.push(e);
    }
    if (buff.length > 0) {
      dv.header(2, "Logs");
      dv.table(["created_at", "uuid", "session", "reviewed"], buff);
      if (totalTime > 0) {
        dv.paragraph(
          `_totalTime (h):_ ${Math.round(totalTime / (1e3 * 60 * 60) * 10) / 10}`
        );
      }
    }
  },
  mediaWithLogs(dv, data) {
    const buff = [];
    const cols = ["uuid", "tasks", "estimate", "current", "domain"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      const ref = dv.pages(`"${Paths.Refs}/${fm.ref_id}"`).array();
      if (ref.length === 0) {
        throw new Error(
          `task: '${fm.uuid}' has an undefined ref_id: '${fm.ref_id}'`
        );
      }
      const domain = Helper.getDomain(fm, true) === void 0 ? "\\-" : Helper.getDomain(fm);
      const logEntries = dv.pages(`"${Paths.Logs}/${fm.uuid}"`).where((p) => p.type === Types.Log).sort((k) => k.created_at, "desc");
      let totalTime = 0;
      for (const entry of logEntries) {
        const fme = entry.file.frontmatter;
        const e = [];
        let start = 0;
        let stop = 0;
        if (fme === void 0 || fme.created_at === void 0) {
          throw new Error(`Invalid frontmatter: ${fme.uuid}`);
        }
        start = new Date(fme.created_at);
        try {
          e.push(start.toISOString().slice(0, 10));
        } catch (e2) {
          console.error(entry.uuid);
        }
        if (fme.done_at === void 0) {
          stop = Date.now();
        } else {
          stop = new Date(fme.done_at);
        }
        totalTime += stop - start;
      }
      buff.push([
        dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
        Renderer.makeLinkAlias(dv, ref[0].file),
        fm.time_estimate,
        `${Math.round(totalTime / (1e3 * 60 * 60) * 10) / 10}h`,
        domain
      ]);
    }
    dv.table(cols, buff);
  },
  taskDoneWithLogs(dv, data) {
    const buff = [];
    const cols = [
      "taskId",
      "logId",
      "createdAt",
      "doneAt",
      "timeEstimate",
      "took",
      "project"
    ];
    for (const d of data) {
      const f = d.file;
      const fm = d.file.frontmatter;
      const createdAt = new Date(fm.created_at);
      const doneAt = new Date(fm.done_at);
      const timeEstimate = "";
      const took = (doneAt - createdAt) / (1e3 * 3600);
      const pages = dv.pages(`"${Paths.Tasks}"`).where((page) => page.file.frontmatter.uuid === fm.parent_id);
      if (pages.length !== 1) {
        throw new Error();
      }
      const parent = pages[0];
      const parentFm = parent.file.frontmatter;
      const parentF = parent.file;
      buff.push([
        Renderer.makeLinkShortUUID(dv, parent.file, "Task"),
        Renderer.makeLinkShortUUID(dv, f),
        createdAt.toISOString().slice(0, 10),
        doneAt.toISOString().slice(0, 10),
        timeEstimate,
        ((t) => {
          return Math.round(t * 10) / 10;
        })(took),
        Helper.getProject(parentFm)
      ]);
    }
    dv.table(cols, buff);
  },
  projects(dv, pages) {
    const cols = ["name"];
    const buff = [];
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      buff.push([Renderer.makeLink(dv, page.file, fm.getName())]);
    }
    dv.table(cols, buff);
  },
  basicDoneTaskWithLogs(dv, data) {
    const cols = [
      "uuid",
      "createdAt",
      "doneAt",
      "timeEstimate",
      "took",
      "delta",
      "project",
      "area"
    ];
    dv.table(cols, data);
  },
  basicDoneTaskWithoutLogs(dv, data) {
    const cols = ["taskId", "createdAt", "project", "area"];
    dv.table(cols, data);
  },
  basicProgressedTaskWithLog(dv, data) {
    const cols = [
      "taskId",
      "logId",
      // "createdAt",
      // "doneAt",
      "took",
      // "tookAcc",
      "project"
      // "domain",
    ];
    dv.table(cols, data);
  },
  // dailyTask(dv, data) {
  // 	Renderer.makeLinkShortUUID(this.dv, page.file),
  // 	dv.
  // 				rs.push([
  // 					"paragraph",
  // 					Renderer.makeLinkShortUUID(this.dv, page.file),
  // 				]);
  // }
  do(dv, rs) {
    for (const row of rs) {
      switch (row[0]) {
        case "header":
          const [, level, heading] = row;
          dv.header(level, heading);
          break;
        case "paragraph":
          const [, text] = row;
          dv.paragraph(text);
          break;
        case "array":
          const [, renderer, data] = row;
          renderer(dv, data);
          break;
        case "stats":
          const [, name, unit, value] = row;
          dv.paragraph(`${name} (${unit}): ${value}`);
          break;
        default:
          throw new Error(`Unsuported opcode: "fuckoff"`);
      }
    }
  }
};
var Frontmatter = class {
  constructor(gonext) {
    this.gonext = gonext;
  }
  projectParseMeta(dv) {
    const current = dv.current();
    const projectName = current.file.folder.slice(
      Paths.Projects.length + 1
    );
    const projectDir = current.file.folder;
    if (projectName.contains("/")) {
      throw new Error(
        `projectDir: ${projectDir} folder: ${current.file.folder}`
      );
    }
    const pages = dv.pages(`"${projectDir}/meta"`).array();
    if (pages.length !== 1) {
      throw new Error(`len: ${pages.length}`);
    }
    const fm = pages[0].file.frontmatter;
    const uuid = fm.uuid;
    if (Helper.nilCheck(uuid)) {
      throw new Error(`project 'uuid' is not defined`);
    }
    const name = fm.name;
    if (Helper.nilCheck(name)) {
      throw new Error(`'name' is not defined`);
    }
    const domains = fm.domains;
    if (!Array.isArray(domains)) {
      throw new Error(`'domains' must be of array type`);
    }
    return {
      uuid,
      name,
      domains
    };
  }
  getCreatedAt(f) {
    return Helper.nilCheck(f.frontmatter.created_at) ? new Date(f.ctime.ts) : new Date(f.frontmatter.created_at);
  }
  getCurrentFrontmatter() {
    const file = this.gonext.workspace.getActiveFile();
    const fileContent = this.gonext.metadataCache.getFileCache(file);
    if (fileContent === void 0) {
      return void 0;
    }
    const fm = fileContent.frontmatter;
    if (fm === void 0) {
      return void 0;
    }
    return fm;
  }
  parseListByNamespace(fm) {
    const byAreas = fm.by_areas === void 0 ? [] : fm.by_areas;
    const byContexts = fm.by_contexts === void 0 ? [] : fm.by_contexts;
    const byLayers = fm.by_layers === void 0 ? [] : fm.by_layers;
    const byOrgs = fm.by_orgs === void 0 ? [] : fm.by_orgs;
    const byProjects = fm.by_projects === void 0 ? [] : fm.by_projects;
    return [byAreas, byContexts, byLayers, byOrgs, byProjects];
  }
  parseListBeforeAfter(fm) {
    const before = Helper.getDate(fm.before);
    const after = Helper.getDate(fm.after);
    return [before, after];
  }
  parseListFilterBy(fm) {
    if (fm === void 0) {
      return [];
    }
    const filterBy = fm.filter_by;
    if (!Array.isArray(filterBy)) {
      return [];
    }
    return filterBy;
  }
  parseListGroupBy(fm) {
    if (fm === void 0) {
      return "";
    }
    const groupBy = fm.group_by;
    if (!(typeof groupBy === "undefined") && !(typeof groupBy === "string")) {
      return "";
    }
    return groupBy;
  }
  parseAllProgressedTasks() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      throw new Error(`Invalid frontmatter, cannot proceed`);
    }
    const groupBy = this.parseListGroupBy(fm);
    const filterBy = this.parseListFilterBy(fm);
    const [before, after] = this.parseListBeforeAfter(fm);
    return [groupBy, filterBy, before, after];
  }
  parseAllDoneTasks() {
    return this.parseAllProgressedTasks();
  }
  parseAllDoneTaskWithoutLog() {
    return this.parseAllProgressedTasks();
  }
  parseAllTodoAdHoc() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      throw new Error(`Invalid frontmatter, cannot proceed`);
    }
    const groupBy = this.parseListGroupBy(fm);
    const filterBy = this.parseListFilterBy(fm);
    const [before, after] = this.parseListBeforeAfter(fm);
    const minPriority = Helper.getField(fm.min_priority, 0);
    return [groupBy, filterBy, before, after, minPriority];
  }
  parseInbox() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      return [[], [], 0, 4294967295];
    }
    const source = Helper.nilCheck(fm.source) ? ["logs", "fleeting"] : fm.source;
    const groupBy = Helper.nilCheck(fm.group_by) ? "none" : fm.group_by;
    const filterBy = this.parseListFilterBy(fm);
    const minSize = Helper.nilCheck(fm.min_size) ? 0 : fm.min_size;
    const maxSize = Helper.nilCheck(fm.max_size) ? 4294967295 : fm.max_size;
    return [source, groupBy, filterBy, minSize, maxSize];
  }
  parseTodoList() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      return [[], [], [], [], [], 0];
    }
    const [byAreas, byContexts, byLayers, byOrgs, byProjects] = this.parseListByNamespace(fm);
    const minPriority = Helper.getField(fm.min_priority, 0);
    return [byAreas, byContexts, byLayers, byOrgs, byProjects, minPriority];
  }
  parseDoneList() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      return [[], [], [], [], [], [], []];
    }
    const [byAreas, byContexts, byLayers, byOrgs, byProjects] = this.parseListByNamespace(fm);
    const [before, after] = this.parseListBeforeAfter(fm);
    const fields = Helper.getField(fm.fields, []);
    const stats = Helper.getField(fm.stats, []);
    return [
      byAreas,
      byContexts,
      byLayers,
      byOrgs,
      byProjects,
      fields,
      stats,
      before,
      after
    ];
  }
};
var NoteHelper = class {
  constructor(gonext, dv, frontmatter) {
    this.gonext = gonext;
    this.dv = dv;
    this.frontmatter = frontmatter;
  }
  isDoable(task, at = void 0) {
    const fm = task.file.frontmatter;
    if (fm.status !== Status.Todo) {
      return false;
    }
    if (fm.after !== void 0) {
      const after = new Date(fm.after);
      if (Date.now() <= after.getTime()) {
        return false;
      }
    }
    if (at !== void 0) {
      const fmAt = new Date(fm.at);
      fmAt.setHours(0);
      fmAt.setMinutes(0);
      fmAt.setSeconds(0);
      if (at.getTime() < fmAt.getTime()) {
        return false;
      }
    } else {
      if (fm.at !== void 0) {
        const at2 = new Date(fm.at);
        if (Date.now() <= at2.getTime()) {
          return false;
        }
      }
    }
    const deps = fm.needs;
    if (deps === void 0 || deps.length === 0) {
      return true;
    }
    if (this.hasPendingDependencies(deps)) {
      return false;
    }
    return true;
  }
  hasPendingDependencies(deps) {
    for (const dep of deps) {
      const task = this.dv.pages(`"${Paths.Tasks}/${dep}"`).array();
      if (task.length === 0) {
        console.warn(
          `hasPendingDependencies: "${Paths.Tasks}/${dep}" task does not exists`
        );
        continue;
      }
      const fm = task[0].file.frontmatter;
      if (fm.type !== Types.Task && fm.type !== Types.Provision && fm.type !== Types.Praxis) {
        continue;
      }
      if (fm.status === Status.Todo) {
        return true;
      }
    }
    return false;
  }
  isChildTag(parent, child) {
    if (child.length <= parent.length + 1) {
      return false;
    } else if (child.slice(0, parent.length + 1) != `${parent}/`) {
      return false;
    }
    return true;
  }
  getNamespaceContent(ns) {
    const children = [];
    const pages = this.dv.pages(`#${ns}`);
    for (const p of pages) {
      const tags = p.file.frontmatter.tags;
      if (tags === void 0 || tags.length === 0) {
        continue;
      }
      for (const tag of tags) {
        if (this.isChildTag(ns, tag)) {
          const t = tag.slice(ns.length + 1);
          if (!children.contains(t)) {
            children.push(t);
          }
        }
      }
    }
    return children;
  }
  isLastRevision(page) {
    const revisionList = (dv, root, current) => {
      let head = current;
      while (true) {
        const pages = dv.pages(`"${root}"`).where(
          (page2) => page2.file.frontmatter.next === head.file.frontmatter.uuid
        );
        if (pages.length > 1) {
          throw new Error();
        } else if (pages.length === 0) {
          break;
        }
        head = pages[0];
      }
      const buff = [];
      let cur = head;
      while (true) {
        buff.push(cur);
        const fm2 = cur.file.frontmatter;
        if (fm2.next === void 0) {
          break;
        }
        const pages = dv.pages(`"${root}/${fm2.next}"`);
        if (pages.length === 0) {
          break;
        }
        cur = pages[0];
      }
      return buff;
    };
    const note = page;
    const fm = note.file.frontmatter;
    let revisions = [];
    switch (fm.type) {
      case Types.Permanent:
        revisions = revisionList(this.dv, Paths.Slipbox, note);
        break;
      case Types.Resource:
        revisions = revisionList(this.dv, Paths.Resources, note);
        break;
      default:
        throw new Error();
    }
    if (revisions.length <= 1) {
      return true;
    }
    return revisions[0].file.frontmatter.uuid === fm.uuid;
  }
};
var ListMaker = class {
  constructor(gonext, dv, frontmatter) {
    this.gonext = gonext;
    this.dv = dv;
    this.frontmatter = frontmatter;
    this.noteHelper = new NoteHelper(gonext, dv, frontmatter);
  }
  nameInNamespace(fm, ns) {
    let found = false;
    if (ns.length === 0) {
      return true;
    }
    for (const a of ns) {
      const root = a.split("/");
      Assert.True(root.length === 2, `Invalid tag: '${a}'`);
      const parent = root[0].slice(0, 1) === "!" ? root[0].slice(1) : root[0];
      const name = Helper.getTag(fm, parent);
      if (a.slice(0, 1) === "!") {
        if (name === a.slice(1)) {
          return false;
        } else {
          found = true;
        }
      } else {
        if (name === a) {
          found = true;
        } else {
          found = false;
        }
      }
    }
    return found;
  }
  myNameInNamespace(name, ns) {
    let found = false;
    if (ns.length === 0) {
      return true;
    }
    for (const a of ns) {
      if (a.slice(0, 1) === "!") {
        if (name === a.slice(1)) {
          return false;
        } else {
          found = true;
        }
      } else {
        if (name === a) {
          found = true;
        } else {
          found = false;
        }
      }
    }
    return found;
  }
  filterByNamespace(fm, byAreas, byContexts, byLayers, byOrgs, byProjects) {
    if (!this.myNameInNamespace(Helper.getArea(fm), byAreas)) {
      return false;
    }
    if (!this.myNameInNamespace(Helper.getContext(fm), byContexts)) {
      return false;
    }
    if (!this.myNameInNamespace(Helper.getLayer(fm), byLayers)) {
      return false;
    }
    if (!this.myNameInNamespace(Helper.getOrg(fm), byOrgs)) {
      return false;
    }
    if (!this.myNameInNamespace(Helper.getProject(fm), byProjects)) {
      return false;
    }
    return true;
  }
  filterByDate(dt, before, after) {
    if (before !== void 0 && dt.getTime() > before.getTime()) {
      return false;
    }
    if (after !== void 0 && dt.getTime() < after.getTime()) {
      return false;
    }
    return true;
  }
  goals() {
    const rs = [];
    const bins = {};
    bins[GoalStatus.Reframe] = [];
    bins[GoalStatus.Research] = [];
    bins[GoalStatus.Operationalize] = [];
    bins[GoalStatus.Planify] = [];
    bins[GoalStatus.Dependant] = [];
    bins[GoalStatus.Active] = [];
    bins[GoalStatus.Success] = [];
    bins[GoalStatus.Failed] = [];
    const pages = this.dv.pages(`"${Paths.Goals}"`).where((page) => {
      const fmp = page.file.frontmatter;
      if (bins[fmp.status] === void 0) {
        return true;
      } else {
        const fm = new FrontmatterJS(page);
        bins[fmp.status].push(fm);
        return false;
      }
    });
    const keys = Object.keys(bins);
    keys.sort();
    for (const k of keys) {
      const buff = bins[k];
      buff.sort((a, b) => {
        const dta = new Date(a.fm.before);
        const dtb = new Date(b.fm.before);
        return dta.getTime() - dtb.getTime();
      });
    }
    const displayGoals = (k, rs2) => {
      rs2.push(["header", 3, k]);
      const buff = bins[k];
      rs2.push(["array", Renderer.goal, buff]);
    };
    rs.push(["header", 2, "operational"]);
    displayGoals("active", rs);
    displayGoals("planify", rs);
    rs.push(["header", 2, "non-operational"]);
    displayGoals("reframe", rs);
    displayGoals("research", rs);
    displayGoals("operationalize", rs);
    rs.push(["header", 2, "done"]);
    displayGoals("success", rs);
    displayGoals("failed", rs);
    return rs;
  }
  projectTasksSheetRelationFrontmatter(dv) {
    const current = dv.current();
    const fm = new FrontmatterJS(current);
    return {
      name: fm.getName(),
      uuid: fm.uuid,
      active: fm.fm.active === void 0 || fm.fm.active === true ? true : false
    };
  }
  projectTasksSheetRelation(dv) {
    const project = this.projectTasksSheetRelationFrontmatter(dv);
    const rs = [];
    const bins = {
      nextAction: [],
      waitingFor: [],
      somedayMaybe: []
    };
    {
      const pages2 = dv.pages(`"Journal"`).where((page) => {
        const fm = new FrontmatterJS(page);
        return fm.getProject() === project.name;
      }).sort((k) => k.created_at, "desc");
      if (pages2.length > 0) {
        rs.push(["header", 2, `Journal (${pages2.length})`]);
        for (const page of pages2) {
          const fm = new FrontmatterJS(page);
          const text = Renderer.makeLink(
            dv,
            fm.f,
            `${fm.createdAt.toISOString().slice(0, 10)}`,
            "entry"
          );
          rs.push(["paragraph", text]);
        }
      }
    }
    const pages = dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (fm.fm.status === "done") {
        return false;
      }
      if (["daily", "weekly", "monthly"].contains(project.name)) {
        return false;
      } else if (project.name === "adhoc" && fm.getProject() === void 0) {
        page.file.frontmatter.project = "adhoc";
        return true;
      } else if (project.name === fm.getProject()) {
        return true;
      } else {
        return false;
      }
    });
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      if (this.noteHelper.isDoable(page)) {
        if (fm.fm.priority > 0) {
          bins.nextAction.push(page);
        } else {
          bins.somedayMaybe.push(page);
        }
      } else {
        bins.waitingFor.push(page);
      }
    }
    if (bins.nextAction.length > 0) {
      rs.push(["header", 2, `Next Actions (${bins.nextAction.length})`]);
      bins.nextAction.sort(Helper.sortByPriorityAndDurationAndAge);
      rs.push(["array", Renderer.basicTaskJournal, bins.nextAction]);
    }
    if (bins.waitingFor.length > 0) {
      rs.push(["header", 2, `Waiting (${bins.waitingFor.length})`]);
      bins.waitingFor.sort(Helper.sortByPriorityAndDurationAndAge);
      rs.push(["array", Renderer.basicTaskJournal, bins.waitingFor]);
    }
    if (bins.somedayMaybe.length > 0) {
      rs.push(["header", 2, `Maybe (${bins.somedayMaybe.length})`]);
      bins.somedayMaybe.sort(Helper.sortByPriorityAndDurationAndAge);
      rs.push(["array", Renderer.basicTaskJournal, bins.somedayMaybe]);
    }
    return rs;
  }
  projectLogsSheetRelation(dv) {
    const project = this.projectTasksSheetRelationFrontmatter(dv);
    const filterBy = [];
    const rs = [];
    rs.push(["header", 2, "Logs"]);
    const logs = this.dv.pages(`"${Paths.Logs}"`).where((page) => {
      if (page.type !== Types.Log) {
        return false;
      }
      if (page.file.frontmatter.reviewed > 0) {
        return false;
      }
      return true;
    });
    const buff = {};
    for (const e of logs) {
      const fm = e.file.frontmatter;
      if (filterBy.length > 0 && !this.nameInNamespace(fm, filterBy)) {
        continue;
      }
      fm.createdAt = this.frontmatter.getCreatedAt(e.file);
      Assert.True(
        !Helper.nilCheck(fm.parent_id),
        `Missing field "parent_id" from log: "${fm.uuid}"`
      );
      const parent = this.dv.pages(`"${Paths.Tasks}/${fm.parent_id}"`).array();
      if (parent.length !== 1) {
        continue;
      }
      Assert.True(
        parent.length === 1,
        `Parent: ${fm.parent_id} not found for log: "${fm.uuid}"`
      );
      fm.project = Helper.getProject(parent[0].file.frontmatter);
      fm.area = Helper.getArea(parent[0].file.frontmatter, true);
      if (fm.project !== `project/${project.name === "adhoc" ? "none" : project.name}`) {
        continue;
      }
      if (Helper.nilCheck(fm.done_at)) {
        continue;
      }
      const date = fm.done_at.slice(0, 10);
      if (buff[date] === void 0) {
        buff[date] = [e];
      } else {
        buff[date].push(e);
      }
    }
    const keys = Object.keys(buff);
    keys.sort();
    for (const date of keys) {
      buff[date].sort(
        (a, b) => b.file.frontmatter.createdAt.getTime() - a.file.frontmatter.createdAt.getTime()
      );
    }
    for (const date of keys.reverse()) {
      rs.push(["header", 3, date]);
      rs.push(["array", Renderer.projectLogs, buff[date]]);
    }
    return rs;
  }
  getProjectLogs(dv, project) {
    const logs = this.dv.pages(`"${Paths.Logs}"`).where((page) => {
      if (page.type !== Types.Log) {
        return false;
      }
      return true;
    });
    const buff = [];
    for (const e of logs) {
      const fm = e.file.frontmatter;
      Assert.True(
        !Helper.nilCheck(fm.parent_id),
        `Missing field "parent_id" from log: "${fm.uuid}"`
      );
      const parent = this.dv.pages(`"${Paths.Tasks}/${fm.parent_id}"`).array();
      if (parent.length !== 1) {
        continue;
      }
      fm.project = Helper.getProject(parent[0].file.frontmatter);
      fm.area = Helper.getArea(parent[0].file.frontmatter, true);
      if (fm.project !== `project/${project.name === "adhoc" ? "none" : project.name}`) {
        continue;
      }
      if (Helper.nilCheck(fm.done_at)) {
        continue;
      }
      buff.push(e);
    }
    return buff;
  }
  projectLogsSheet(dv) {
    const project = this.frontmatter.projectParseMeta(dv);
    const fml = this.frontmatter.getCurrentFrontmatter();
    if (fml === void 0) {
      throw new Error(`Invalid frontmatter, cannot proceed`);
    }
    const before = Helper.nilCheck(fml.before) ? new Date(0) : new Date(fml.before);
    const after = Helper.nilCheck(fml.after) ? new Date() : new Date(fml.after);
    const filterBy = this.frontmatter.parseListFilterBy(fml);
    const rs = [];
    let totalTime = 0;
    rs.push(["header", 1, project.name]);
    const logs = this.dv.pages(`"${Paths.Logs}"`).where((page) => {
      if (page.type !== Types.Log) {
        return false;
      }
      return true;
    });
    const buff = {};
    for (const e of logs) {
      const fm = e.file.frontmatter;
      if (filterBy.length > 0 && !this.nameInNamespace(fm, filterBy)) {
        continue;
      }
      fm.createdAt = this.frontmatter.getCreatedAt(e.file);
      Assert.True(
        !Helper.nilCheck(fm.parent_id),
        `Missing field "parent_id" from log: "${fm.uuid}"`
      );
      const parent = this.dv.pages(`"${Paths.Tasks}/${fm.parent_id}"`).array();
      if (parent.length !== 1) {
        continue;
      }
      fm.project = Helper.getProject(parent[0].file.frontmatter);
      fm.area = Helper.getArea(parent[0].file.frontmatter, true);
      if (fm.project !== `project/${project.name === "adhoc" ? "none" : project.name}`) {
        continue;
      }
      if (Helper.nilCheck(fm.done_at)) {
        continue;
      }
      const date = fm.done_at.slice(0, 10);
      const createdAt = new Date(fm.created_at);
      const doneAt = new Date(fm.done_at);
      if (createdAt > before) {
        continue;
      }
      if (createdAt < after) {
        continue;
      }
      if (buff[date] === void 0) {
        buff[date] = [e];
      } else {
        buff[date].push(e);
      }
      const delta = doneAt.getTime() - createdAt.getTime();
      totalTime += delta;
    }
    dv.paragraph(
      `_totalTime (h):_ ${Math.round(totalTime / (1e3 * 60 * 60) * 10) / 10}`
    );
    const keys = Object.keys(buff);
    keys.sort();
    for (const date of keys) {
      buff[date].sort(
        (a, b) => b.file.frontmatter.createdAt.getTime() - a.file.frontmatter.createdAt.getTime()
      );
    }
    for (const date of keys.reverse()) {
      rs.push(["header", 3, date]);
      rs.push(["array", Renderer.projectLogs, buff[date]]);
    }
    return rs;
  }
  logs() {
    const [groupBy, filterBy, before, after] = this.frontmatter.parseAllProgressedTasks();
    const tasks = this.dv.pages(`"${Paths.Tasks}"`).where((page) => page.file.frontmatter.status !== "doing");
    const buff = [];
    for (const task of tasks) {
      const fm = task.file.frontmatter;
      if (filterBy.length > 0 && !this.nameInNamespace(fm, filterBy)) {
        continue;
      }
      const timeEstimate = Helper.durationStringToSec(fm.time_estimate);
      if (timeEstimate === void 0 && fm.time_estimate !== void 0) {
        throw new Error(
          `Invalid value: "${fm.time_estimate}" for entry: "${fm.uuid}"`
        );
      } else {
        fm.timeEstimate = timeEstimate;
      }
      const logs = this.dv.pages(`"${Paths.Logs}/${fm.uuid}"`).where((page) => page.type === Types.Log).sort((k) => k.created_at, "asc");
      if (logs.length < 1) {
        continue;
      }
      fm.took = 0;
      const project = Helper.getField(Helper.getProject(fm, true), "");
      const area = Helper.getField(Helper.getArea(fm, true), "");
      for (const log of logs) {
        const fml = log.file.frontmatter;
        const entry = {
          alias: fm.alias,
          uuid: fm.uuid,
          logId: fml.uuid,
          estimate: fm.timeEstimate,
          project,
          area,
          domain: Helper.getField(Helper.getDomain(fm, true), ""),
          path: task.file.path,
          logPath: log.file.path,
          createdAt: void 0,
          doneAt: void 0,
          took: void 0,
          tookAcc: void 0,
          deltaAcc: void 0
        };
        if (fml.created_at === void 0) {
          console.error(log);
          throw new Error(
            `task: ${fm.uuid} last entry is missing 'created_at' field`
          );
        }
        if (fml.done_at === void 0) {
          console.error(log);
          throw new Error(
            `task: ${fm.uuid} last entry is missing 'done_at' field`
          );
        }
        entry.createdAt = new Date(fml.created_at);
        entry.doneAt = new Date(fml.done_at);
        if (!this.filterByDate(entry.doneAt, before, after)) {
          continue;
        }
        const took = (entry.doneAt.getTime() - entry.createdAt.getTime()) / 1e3;
        fm.took += took;
        entry.took = took;
        entry.tookAcc = fm.took;
        entry.deltaAcc = timeEstimate - fm.took;
        buff.push(entry);
      }
    }
    const keyGetter = Helper.getKey(groupBy);
    const bins = {};
    for (const entry of buff) {
      let d = void 0;
      try {
        d = keyGetter(entry);
      } catch (e) {
        throw new Error(entry);
      }
      if (bins[d] === void 0) {
        bins[d] = [entry];
      } else {
        bins[d].push(entry);
      }
    }
    const keys = Object.keys(bins);
    keys.sort();
    const rs = [];
    for (const key of keys.reverse()) {
      rs.push(["header", 2, key]);
      const arr = [];
      let totalTime = 0;
      for (const e of bins[key]) {
        const buff2 = [];
        buff2.push(
          Renderer.makeLinkShortUUID(
            this.dv,
            { path: e.path, frontmatter: { uuid: e.uuid } },
            "Task"
          )
        );
        buff2.push(
          Renderer.makeLinkShortUUID(
            this.dv,
            { path: e.logPath, frontmatter: { uuid: e.logId } },
            "Content"
          )
        );
        const convertSecondsToHours = (t) => {
          return Math.round(t / 3600 * 10) / 10;
        };
        buff2.push(`${convertSecondsToHours(e.took)}`);
        buff2.push(`${e.project}`);
        arr.push(buff2);
        totalTime += e.took;
      }
      totalTime = Math.round(totalTime / 3600 * 10) / 10;
      rs.push(["stats", "totalTime", "h", totalTime]);
      rs.push(["array", Renderer.basicProgressedTaskWithLog, arr]);
    }
    return rs;
  }
  inbox(dv) {
    const rs = [];
    const buff = [];
    const filterBy = [];
    const minSize = 0;
    const maxSize = 4294967295;
    const fleetings = this.dv.pages(`"${Paths.Inbox}"`).array();
    for (const e of fleetings) {
      const fm = e.file.frontmatter;
      e.file.frontmatter.createdAt = this.frontmatter.getCreatedAt(
        e.file
      );
      let fmjs = null;
      try {
        fmjs = new FrontmatterJS(e);
      } catch (ValidationError2) {
        console.log(e);
        dv.paragraph(Renderer.makeLink(dv, e.file));
        break;
      }
      fm.project = Helper.getProject(fm, true);
      fm.domain = `domain/${fmjs.getDomain()}`;
      fm.components = Helper.getComponents(fm);
      if (e.file.size < minSize) {
        continue;
      }
      if (e.file.size > maxSize) {
        continue;
      }
      buff.push(e);
    }
    const logs = [];
    for (const e of logs) {
      const fm = e.file.frontmatter;
      fm.createdAt = this.frontmatter.getCreatedAt(e.file);
      Assert.True(
        !Helper.nilCheck(fm.parent_id),
        `Missing field "parent_id" from log: "${fm.uuid}"`
      );
      const parent = this.dv.pages(`"${Paths.Tasks}/${fm.parent_id}"`).array();
      Assert.True(
        parent.length === 1,
        `Parent: ${fm.parent_id} not found for log: "${fm.uuid}"`
      );
      fm.project = Helper.getProject(parent[0].file.frontmatter, true);
      fm.domain = void 0;
      fm.components = [];
      if (e.file.size < minSize) {
        continue;
      }
      if (e.file.size > maxSize) {
        continue;
      }
      buff.push(e);
    }
    const sortBySizeThenDate = function(a, b) {
      const fA = a.file;
      const fB = b.file;
      if (fA.size !== fB.size) {
        return fB.size - fA.size;
      } else {
        return fA.frontmatter.createdAt.getTime() - fB.frontmatter.createdAt.getTime();
      }
    };
    const sortByAge = (a, b) => a.file.frontmatter.createdAt.getTime() - b.file.frontmatter.createdAt.getTime();
    buff.sort(sortByAge);
    rs.push(["array", Renderer.inboxEntry, buff]);
    return rs;
  }
  projects() {
    const rs = [];
    const bins = {
      active: [],
      inactive: []
    };
    const pages = this.dv.pages(`"Projects"`).sort((k) => k.name, "asc");
    for (const project of pages) {
      const fmProject = new FrontmatterJS(project);
      if (fmProject.fm.active === false) {
        bins.inactive.push(project);
        continue;
      } else if (fmProject.getName() === "adhoc") {
        bins.active.push(project);
        continue;
      } else if (["yearly", "monthly", "weekly", "daily"].contains(
        fmProject.getName()
      )) {
        continue;
      }
      const tasks = this.dv.pages(`#project/${fmProject.getName()}`).where((page) => {
        if (page.file.folder !== `${Paths.Tasks}`) {
          return false;
        }
        const fmTask = new FrontmatterJS(page);
        if (fmTask.fm.priority === 0) {
          return false;
        }
        if (["todo", "doing", "waiting"].contains(fmTask.fm.status)) {
          return true;
        }
        return false;
      });
      if (tasks.length > 0) {
        bins.active.push(project);
      } else {
        bins.inactive.push(project);
      }
    }
    rs.push(["header", 2, "Active"]);
    rs.push(["array", Renderer.projects, bins.active]);
    rs.push(["header", 2, "Inactive"]);
    rs.push(["array", Renderer.projects, bins.inactive]);
    return rs;
  }
  praxis() {
    const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      if (page.file.frontmatter.type !== Types.Praxis) {
        return false;
      }
      if (page.file.frontmatter.status !== Status.Todo) {
        return false;
      }
      return true;
    }).array();
    const rs = [];
    rs.push(["header", 1, "Praxis"]);
    rs.push(["array", Renderer.basicTask, pages]);
    return rs;
  }
  planning(lastWeek = 2) {
    const rs = [];
    const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (fm.at === void 0) {
        return false;
      }
      if (fm.getProject() !== "daily") {
        return false;
      }
      return true;
    }).sort((page) => page.file.frontmatter.at, "desc");
    const bins = {};
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      let at = void 0;
      try {
        at = fm.at.toISOString().slice(0, 10);
      } catch (e) {
        throw new Error(`Invalid date: '${fm.fm.uuid}'`);
      }
      const weekNumber = this.getWeekNumber(fm.at);
      if (bins[weekNumber] === void 0) {
        bins[weekNumber] = [fm];
      } else {
        bins[weekNumber].push(fm);
      }
    }
    const now = new Date();
    const currentWeekNumber = this.getWeekNumber(now);
    for (const key of Object.keys(bins)) {
      const weekNumber = Number(key);
      if (weekNumber + lastWeek < currentWeekNumber) {
        continue;
      }
      if (weekNumber < currentWeekNumber) {
        rs.push(["header", 2, `~~week ${key}~~`]);
      } else if (weekNumber === currentWeekNumber) {
        rs.push(["header", 2, `*week ${key}*`]);
      } else {
        rs.push(["header", 2, `week ${key}`]);
      }
      bins[key].sort((a, b) => {
        return a.at.getTime() - b.at.getTime();
      });
      for (const task of bins[key]) {
        const day = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"][task.at.getDay()];
        const text = Renderer.makeLink(
          this.dv,
          task.f,
          `${task.at.toISOString().slice(0, 10)}, ${day}`,
          "Task"
        );
        if (weekNumber < currentWeekNumber) {
          rs.push(["paragraph", `~~${text}~~`]);
        } else if (weekNumber === currentWeekNumber) {
          if (this.dayOfYear(task.at) < this.dayOfYear(now)) {
            rs.push(["paragraph", `~~${text}~~`]);
          } else {
            rs.push(["paragraph", `${text}`]);
          }
        } else {
          rs.push(["paragraph", `${text}`]);
        }
      }
    }
    return rs;
  }
  dayOfYear(dt) {
    const year = dt.getFullYear();
    const month = dt.getMonth() + 1;
    const day = dt.getDate();
    const N1 = Math.floor(275 * month / 9);
    const N2 = Math.floor((month + 9) / 12);
    const N3 = 1 + Math.floor((year - 4 * Math.floor(year / 4) + 2) / 3);
    return N1 - N2 * N3 + day - 30;
  }
  getWeekNumber(d) {
    d = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));
    d.setUTCDate(d.getUTCDate() + 4 - (d.getUTCDay() || 7));
    const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));
    return Math.ceil(((d - yearStart) / 864e5 + 1) / 7);
  }
  getWeekNumber4(d) {
    d = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));
    const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));
    const firstSunday = yearStart.getUTCDay() === 0 ? yearStart : new Date(
      Date.UTC(
        d.getUTCFullYear(),
        0,
        1 + (7 - yearStart.getUTCDay())
      )
    );
    const daysSinceFirstSunday = (d - firstSunday + 864e5) / 864e5;
    return Math.ceil(daysSinceFirstSunday / 7);
  }
  getMonth(year, weekNumber) {
    const firstDayOfYear = new Date(year, 0, 1);
    const firstDayOfWeek = firstDayOfYear.getDay();
    const daysToAdd = (weekNumber - 1) * 7 - firstDayOfWeek + (firstDayOfWeek === 0 ? 1 : 0);
    const weekStartDate = new Date(
      firstDayOfYear.setDate(firstDayOfYear.getDate() + daysToAdd)
    );
    if (weekStartDate.getDate() > 24) {
      weekStartDate.setDate(weekStartDate.getDate() + 7);
    }
    const monthNumber = weekStartDate.getMonth();
    return monthNumber + 1;
  }
  getMonthName(monthNumber) {
    const date = new Date(2e3, monthNumber - 1);
    return date.toLocaleString("default", { month: "long" });
  }
  journal() {
    const rs = [];
    const bins = {};
    const suiviWeekly = {};
    const suiviMonthly = {};
    const suiviYearly = {};
    const pages = this.dv.pages(`"Journal"`).sort((page) => page.file.frontmatter.created_at, "desc");
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      const weekNumber = this.getWeekNumber4(fm.createdAt);
      const year = fm.createdAt.getFullYear();
      const month = fm.createdAt.getMonth() + 1;
      let msg = "";
      msg += `createdAt: ${fm.createdAt.toISOString().slice(0, 10)}
`;
      msg += `weekNumber: ${weekNumber}
`;
      msg += `year: ${year}
`;
      msg += `month: ${month}
`;
      msg += `day: ${fm.createdAt.getDay()}
`;
      const day = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"][fm.createdAt.getDay()];
      msg += `day: ${day}
`;
      console.log(msg);
      if (bins[year] === void 0) {
        bins[year] = {};
      }
      if (bins[year][weekNumber.toString()] === void 0) {
        bins[year][weekNumber.toString()] = {};
      }
      if (suiviMonthly[year] === void 0) {
        suiviMonthly[year] = {};
      }
      if (suiviWeekly[year] === void 0) {
        suiviWeekly[year] = {};
      }
      let tag = "";
      if (fm.getDomain() !== void 0) {
        tag = fm.getDomain();
      } else if (fm.getProject() !== void 0) {
        tag = fm.getProject();
      } else {
        tag = "adhoc";
      }
      if (tag == "weekly") {
        if (suiviWeekly[year][weekNumber] === void 0) {
          suiviWeekly[year][weekNumber] = [page];
        } else {
          suiviWeekly[year][weekNumber].push(page);
        }
        continue;
      } else if (tag === "monthly") {
        if (suiviMonthly[year][month] === void 0) {
          suiviMonthly[year][month] = [page];
        } else {
          suiviMonthly[year][month].push(page);
        }
        continue;
      } else if (tag === "yearly") {
        if (suiviYearly[year] === void 0) {
          suiviYearly[year] = [page];
        } else {
          suiviYearly[year].push(page);
        }
        continue;
      }
      if (bins[year][weekNumber][tag] === void 0) {
        bins[year][weekNumber][tag] = [page];
      } else {
        bins[year][weekNumber][tag].push(page);
      }
    }
    {
      const years = Object.keys(bins);
      let lastYear = 9999;
      let lastMonth = 13;
      years.sort().reverse();
      for (const year of years) {
        rs.push(["header", 2, year]);
        if (parseInt(year, 10) < lastYear) {
          lastMonth = 13;
          lastYear = parseInt(year, 10);
          if (suiviYearly[year] !== void 0) {
            for (const page of suiviYearly[year]) {
              const fm = new FrontmatterJS(page);
              rs.push([
                "paragraph",
                Renderer.makeLinkAlias(this.dv, fm.f)
              ]);
            }
          }
        }
        for (let week = 52; week > 0; week--) {
          const thisMonth = this.getMonth(year, week);
          if (suiviMonthly[year][thisMonth] !== void 0) {
            if (lastMonth !== thisMonth) {
              lastMonth = thisMonth;
              rs.push([
                "header",
                3,
                this.getMonthName(lastMonth)
              ]);
              if (suiviMonthly[year][thisMonth] !== void 0) {
                for (const page of suiviMonthly[year][thisMonth]) {
                  const fm = new FrontmatterJS(page);
                  rs.push([
                    "paragraph",
                    Renderer.makeLinkAlias(this.dv, fm.f)
                  ]);
                }
              }
            }
          }
          if (suiviWeekly[year][week] === void 0 && bins[year][week] === void 0) {
            continue;
          }
          rs.push(["header", 4, `week ${week.toString()}`]);
          if (suiviWeekly[year][week] !== void 0) {
            for (const page of suiviWeekly[year][week]) {
              const fm = new FrontmatterJS(page);
              rs.push([
                "paragraph",
                Renderer.makeLinkAlias(this.dv, fm.f)
              ]);
            }
          }
          if (bins[year][week] === void 0) {
            continue;
          }
          const tags = Object.keys(bins[year][week]);
          tags.sort();
          for (const tag of tags) {
            rs.push(["header", 5, tag]);
            bins[year][week][tag].sort((a, b) => {
              const fmA = new FrontmatterJS(a);
              const fmB = new FrontmatterJS(b);
              return fmB.createdAt.getTime() - fmA.createdAt.getTime();
            });
            for (const page of bins[year][week][tag]) {
              const fm = new FrontmatterJS(page);
              if (fm.type === 6) {
              } else {
                const d = fm.createdAt.toISOString().slice(0, 10);
                const day = [
                  "Sun",
                  "Mon",
                  "Tue",
                  "Wed",
                  "Thu",
                  "Fri",
                  "Sat"
                ][fm.createdAt.getDay()];
                const text = `${d}, ${day}`;
                rs.push([
                  "paragraph",
                  Renderer.makeLink(this.dv, fm.f, text)
                ]);
              }
            }
          }
        }
      }
    }
    return rs;
  }
  calendar() {
    const rs = [];
    const bins = {};
    const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (fm.fm.at === void 0 && fm.fm.before === void 0 && fm.fm.after === void 0) {
        return false;
      }
      if (fm.fm.status !== "todo") {
        return false;
      }
      if (fm.getProject() === "daily") {
        return false;
      }
      return true;
    });
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      let year = 0;
      let month = 0;
      let day = 0;
      if (fm.fm.before !== void 0) {
        year = fm.before.getFullYear();
        month = fm.before.getMonth();
        day = fm.before.getUTCDate();
      } else if (fm.fm.at !== void 0) {
        year = fm.at.getFullYear();
        month = fm.at.getMonth();
        day = fm.at.getUTCDate();
      } else if (fm.after !== void 0) {
        year = fm.after.getFullYear();
        month = fm.after.getMonth();
        day = fm.after.getUTCDate();
      } else {
        throw new Error();
      }
      if (bins[year] === void 0) {
        bins[year] = {};
      }
      if (bins[year][month] === void 0) {
        bins[year][month] = {};
      }
      if (bins[year][month][day] === void 0) {
        bins[year][month][day] = {};
      }
      if (bins[year][month][day]["at"] === void 0) {
        bins[year][month][day]["at"] = [];
      }
      if (bins[year][month][day]["before"] === void 0) {
        bins[year][month][day]["before"] = [];
      }
      if (bins[year][month][day]["after"] === void 0) {
        bins[year][month][day]["after"] = [];
      }
      if (fm.fm.before !== void 0) {
        bins[year][month][day]["before"].push(page);
      } else if (fm.fm.at !== void 0) {
        bins[year][month][day]["at"].push(page);
      } else {
        bins[year][month][day]["after"].push(page);
      }
    }
    {
      const years = Object.keys(bins);
      years.sort((a, b) => parseInt(a) - parseInt(b));
      for (const year of years) {
        rs.push(["header", 2, year]);
        const months = Object.keys(bins[year]);
        months.sort((a, b) => parseInt(a) - parseInt(b));
        for (const month of months) {
          rs.push([
            "header",
            3,
            `${["January", "Febuary", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"][month]}`
          ]);
          const days = Object.keys(bins[year][month]);
          days.sort((a, b) => parseInt(a) - parseInt(b));
          for (const day of days) {
            const weeks = [
              "Sun",
              "Mon",
              "Tue",
              "Wed",
              "Thu",
              "Fri",
              "Sat"
            ];
            const before = bins[year][month][day]["before"];
            const at = bins[year][month][day]["at"];
            const after = bins[year][month][day]["after"];
            console.log(
              `year: ${year}
month: ${month}
day: ${day}`
            );
            if (before.length > 0) {
              for (const page of before) {
                console.log("--- before ---");
                console.log(page);
                console.log("------");
                const fm = new FrontmatterJS(page);
                const text = `before: ${weeks[fm.before.getDay()]} ${day} ${fm.at.toISOString().slice(11, 16)} | ${fm.getProject()}`;
                rs.push([
                  "paragraph",
                  Renderer.makeLink(
                    this.dv,
                    fm.f,
                    text,
                    "Task"
                  )
                ]);
              }
            }
            if (at.length > 0) {
              at.sort((a, b) => {
                const fmA = new FrontmatterJS(a);
                const fmB = new FrontmatterJS(b);
                return fmB.at.getTime() - fmA.at.getTime();
              });
              for (const page of at) {
                console.log("--- at ---");
                console.log(page);
                console.log("------");
                const fm = new FrontmatterJS(page);
                const text = `at: ${weeks[fm.at.getDay()]} ${day} ${fm.at.toISOString().slice(11, 16)} | ${fm.getProject()}`;
                rs.push([
                  "paragraph",
                  Renderer.makeLink(
                    this.dv,
                    fm.f,
                    text,
                    "Task"
                  )
                ]);
              }
            }
            if (after.length > 0) {
              for (const page of after) {
                console.log("--- after ---");
                console.log(page);
                console.log("------");
                const fm = new FrontmatterJS(page);
                const text = ` after: ${weeks[fm.after.getDay()]} ${day} ${fm.at.toISOString().slice(11, 16)} | ${fm.getProject()}`;
                rs.push([
                  "paragraph",
                  Renderer.makeLink(
                    this.dv,
                    fm.f,
                    text,
                    "Task"
                  )
                ]);
              }
            }
          }
        }
      }
    }
    return rs;
  }
  globalTaskList(pages) {
    const rs = [];
    const bins = {};
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      if (fm.getProject() === void 0) {
        fm.projects = ["adhoc"];
      }
      if (bins[fm.getProject()] === void 0) {
        bins[fm.getProject()] = [page];
      } else {
        bins[fm.getProject()].push(page);
      }
    }
    const projects = Object.keys(bins);
    projects.sort();
    for (const project of projects) {
      const tasks = bins[project];
      tasks.sort(Helper.sortByPriorityAndDurationAndAge);
      rs.push(["header", 2, `${project}`]);
      rs.push(["array", Renderer.basicTaskJournal, tasks]);
    }
    return rs;
  }
  nextActions(dv) {
    const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (["daily", "weekly", "monthly", "yearly"].contains(
        fm.getProject()
      )) {
        return false;
      }
      if (!this.projectIsActive(fm.getProject())) {
        return false;
      }
      if (!this.noteHelper.isDoable(page)) {
        return false;
      }
      if (fm.fm.priority === 0) {
        return false;
      }
      return true;
    });
    return this.globalTaskList(pages);
  }
  waitingFor(dv) {
    const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (["daily", "weekly", "monthly", "yearly"].contains(
        fm.getProject()
      )) {
        return false;
      }
      if (!["todo", "waiting"].contains(fm.fm.status)) {
        return false;
      }
      if (!this.projectIsActive(fm.getProject())) {
        return false;
      }
      if (this.noteHelper.isDoable(page) || fm.fm.priority === 0) {
        return false;
      }
      return true;
    });
    return this.globalTaskList(pages);
  }
  projectIsActive(name) {
    const project = this.dv.pages(`"Projects"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (fm.getName() !== name) {
        return false;
      }
      if (fm.fm.active === false) {
        return false;
      }
      return true;
    });
    return project.length > 0;
  }
  somedayMaybe(dv) {
    const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (["daily", "weekly", "monthly", "yearly"].contains(
        fm.getProject()
      )) {
        return false;
      }
      if (!this.projectIsActive(fm.getProject())) {
        return false;
      }
      if (!this.noteHelper.isDoable(page) || fm.fm.priority > 0) {
        return false;
      }
      return true;
    });
    return this.globalTaskList(pages);
  }
};
var DvLib = class {
  constructor() {
    this.taskDir = "813 Tasks";
    this.inboxDir = "800 Inbox";
    this.refDir = "802 Refs";
    this.logDir = "600 Log";
    this.Task = {
      BASE: 3,
      DAILY: 4
    };
    this.Type = {
      TASK: 3,
      DAILY: 4,
      LOG: 6
    };
    this.Status = {
      TODO: "todo",
      DONE: "done",
      DOING: "doing",
      TRASH: "trash",
      MAYBE: "maybe",
      STANDBY: "standby"
    };
    this.Namespace = {
      AREA: "area",
      CONTEXT: "context",
      LAYER: "layer",
      ORG: "org",
      PROJECT: "project"
    };
    this.Default = {
      AREA: "none",
      CONTEXT: "any",
      LAYER: "none",
      ORG: "none",
      PROJECT: "none"
    };
    this._dv = "";
  }
  set dv(mod) {
    this._dv = mod;
  }
  get dv() {
    return this._dv;
  }
  isChildTag(parent, child) {
    if (child.length <= parent.length + 1) {
      return false;
    } else if (child.slice(0, parent.length + 1) != `${parent}/`) {
      return false;
    }
    return true;
  }
  stripTag(tag) {
    let t = "";
    if (tag.slice(-1) === "/") {
      t = tag.slice(0, -1);
    } else {
      t = tag;
    }
    if (t.slice(0, 1) === "#") {
      t = t.slice(1, t.length);
    }
    return t;
  }
  getTaskFromUUID(dv, uuid) {
    const n = dv.pages(`"${this.taskDir}/${uuid}"`);
    if (n.length === 0) {
      console.warn(`"${this.taskDir}/${uuid}" task does not exists`);
      return void 0;
    }
    return n[0];
  }
  hasValidFormat(task) {
    const fm = task.file.frontmatter;
    if (fm === void 0) {
      console.warn(
        `"${this.taskDir}/${task.uuid}" task does not have a frontmatter`
      );
      return false;
    }
    if (fm.type === void 0) {
      console.warn(
        `"${this.taskDir}/${task.uuid}" task does not have a \`type\` field`
      );
      return false;
    }
    if (fm.status === void 0) {
      console.warn(
        `"${this.taskDir}/${task.uuid}" task does not have a \`status\` field`
      );
      return false;
    }
    return true;
  }
  hasPendingDependencies(dv, deps) {
    for (const dep of deps) {
      const task = this.getTaskFromUUID(dv, dep);
      if (task === void 0) {
        continue;
      }
      if (!this.hasValidFormat(task)) {
        continue;
      }
      const fm = task.file.frontmatter;
      if (fm.type !== this.Task.BASE && fm.type !== this.Task.DAILY) {
        continue;
      }
      if (fm.status === this.Status.TODO) {
        return true;
      }
    }
    return false;
  }
  isDoable(dv, task) {
    const fm = task.file.frontmatter;
    if (fm.status !== this.Status.TODO) {
      return false;
    }
    if (fm.after !== void 0) {
      const after = new Date(fm.after);
      if (Date.now() <= after.getTime()) {
        return false;
      }
    }
    const deps = fm.needs;
    if (deps === void 0 || deps.length === 0) {
      return true;
    }
    if (this.hasPendingDependencies(dv, deps)) {
      return false;
    }
    return true;
  }
  getNamespaceContent(dv, ns) {
    const children = [];
    const resp = dv.pages(`#${ns}`);
    for (const f of resp) {
      const tags = f.tags;
      if (tags === void 0) {
        continue;
      }
      for (const tag of tags) {
        if (this.isChildTag(ns, tag)) {
          const t = tag.slice(ns.length + 1);
          if (!children.includes(t)) {
            children.push(t);
          }
        }
      }
    }
    return children;
  }
  isDone(dv, dep) {
    const task = this.getTaskFromUUID(dv, dep);
    if (task === void 0) {
      return false;
    }
    if (!this.hasValidFormat(task)) {
      return false;
    }
    const fm = task.file.frontmatter;
    if (fm.status === this.Status.DONE) {
      return true;
    }
    return false;
  }
  getTasks(dv, tag, taskType = [this.Task.BASE, this.Task.DAILY], status = this.Status.TODO) {
    const buff = [];
    const tasks = dv.pages(tag);
    for (const task of tasks) {
      const fm = task.file.frontmatter;
      if (fm === void 0) {
        continue;
      }
      if (fm.status === void 0 || fm.status !== status) {
        continue;
      }
      if (fm.type === void 0 || !taskType.contains(fm.type)) {
        continue;
      }
      buff.push(task);
    }
    return buff;
  }
  formatTask(dv, task) {
    return dv.fileLink(task.file.path);
  }
  formatTaskBis(dv, task) {
    const f = task.file;
    let ctx = "";
    for (const tag of f.tags) {
      if (tag.slice(0, 9) == "#context/") {
        ctx = tag.slice(9);
      }
    }
    return [
      dv.fileLink(f.path),
      dv.markdownTaskList(f.tasks),
      f.frontmatter.time_estimate,
      ctx
    ];
  }
  formatTaskBase(dv, task) {
    const f = task.file;
    const fm = f.frontmatter;
    const tags = fm.tags;
    const area = this.getArea(tags);
    return [
      dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
      dv.markdownTaskList(f.tasks),
      fm.time_estimate,
      area
    ];
  }
  formatTaskWaiting(dv, task) {
    const f = task.file;
    const fm = f.frontmatter;
    const deps = [];
    if (fm.needs !== void 0) {
      for (const dep of fm.needs) {
        deps.push(dv.fileLink(`${this.taskDir}/${dep}`));
      }
    }
  }
  formatTaskMaybe(dv, task) {
    const f = task.file;
    const fm = f.frontmatter;
    const deps = [];
    return [dv.fileLink(f.path)];
  }
  makeAsyncRequest(dv, uuid) {
    return dv.query(`LIST WHERE needs AND contains(needs, "${uuid}")`).then((value) => {
      return value;
    });
  }
  getDependantTasks(dv, task) {
    const buff = [];
    const uuid = task.file.name;
    if (task.file.frontmatter === void 0) {
      return buff;
    }
    const tasks = dv.pages(`"${this.taskDir}"`).where((p) => p.needs !== void 0 && p.needs.contains(uuid));
    for (const tk of tasks) {
      const t = dv.pages(`"${tk.file.path}"`);
      buff.push(t[0]);
    }
    return buff;
  }
  byDependencyAndPriorityAndCreatedAt(dv, a, b) {
    const ftA = a.file.frontmatter;
    const ftB = b.file.frontmatter;
    const prioA = ftA.priority;
    const prioB = ftB.priority;
    const depsA = this.getDependantTasks(dv, a);
    const depsB = this.getDependantTasks(dv, b);
    if (depsA.length - depsB.length !== 0) {
      return depsA.length - depsB.length;
    }
    if (prioA - prioB !== 0) {
      return prioA - prioB;
    }
    const dateA = new Date(ftA.created_at);
    const dateB = new Date(ftB.created_at);
    return (dateA.getTime() - dateB.getTime()) * -1;
  }
  formatTaskPlanningWaiting(dv, task) {
    const f = task.file;
    return [
      // ajouter alias sur le link
      dv.markdownTaskList(f.tasks),
      dv.fileLink(f.path, false, f.name.slice(0, 8)),
      f.frontmatter.time_estimate,
      f.frontmatter.cause
    ];
  }
  renderBaseAsArray(dv, tasks) {
    const arr = [];
    tasks.forEach((task) => {
      arr.push(this.formatTaskBase(dv, task));
    });
    dv.table(["uuid", "tasks", "estimate", "area"], arr);
  }
  renderPlanningWaiting(dv, tasks) {
    const arr = [];
    tasks.forEach((task) => {
      arr.push(this.formatTaskPlanningWaiting(dv, task));
    });
    dv.table(["tasks", "uuid", "estimate", "cause"], arr);
  }
  renderMaybeAsArray(dv, tasks) {
    const arr = [];
    tasks.forEach(({ ref, task }) => {
      if (task !== void 0) {
        arr.push(this.formatTaskMaybe(dv, task));
      }
    });
    dv.table(["uuid"], arr);
  }
  formatTaskDaily(dv, task) {
    const f = task.file;
    const fm = task.file.frontmatter;
    const tags = task.file.tags;
    const areas = [];
    for (const tag of tags) {
      if (tag.slice(0, 6) == "#area/") {
        areas.push(tag.slice(6));
      }
    }
    const links = [];
    for (const link of f.outlinks) {
      links.push(link);
    }
    const tasks = [];
    for (const t of f.tasks) {
      tasks.push(t);
    }
    return [
      dv.fileLink(f.path),
      links.length > 0 ? dv.markdownList(links) : dv.markdownTaskList(tasks),
      fm.time_allocated,
      areas.length > 0 ? dv.markdownList(areas) : ""
    ];
  }
  formatFleeting(dv, task) {
    const f = task.file;
    const fm = task.file.frontmatter;
    const tags = task.file.tags;
    const hours = 3600;
    const days = 86400;
    let dt = new Date();
    if (fm !== void 0 && fm.created_at !== void 0) {
      dt = new Date(fm.created_at);
    } else {
      dt = new Date(f.ctime.ts);
    }
    const now = new Date();
    const delta = (now.getTime() - dt.getTime()) / 1e3;
    let since = "";
    const toDt = (t) => {
      return String(Math.round(t * 10) / 10).padStart(2, "0");
    };
    if (delta >= days) {
      since = toDt(delta / days) + "d";
    } else {
      since = toDt(delta / hours) + "h";
    }
    if (fm.alias === void 0 || fm.alias === "") {
      return [dv.fileLink(`${f.path}`), since, f.size];
    } else {
      return [dv.fileLink(`${f.path}`, false, fm.alias), since, f.size];
    }
  }
  renderDailyAsArray(dv, tasks) {
    const arr = [];
    tasks.forEach((task) => {
      arr.push(this.formatTaskDaily(dv, task));
    });
    dv.table(["uuid", "content", "duration", "area"], arr);
  }
  renderFleetingAsArray(dv, tasks) {
    const arr = [];
    tasks.forEach((task) => {
      arr.push(this.formatFleeting(dv, task));
    });
    dv.table(["content", "age", "size"], arr);
  }
  autoFieldNeed(dv, fm) {
    if (fm.needs === void 0) {
      return;
    }
    const buff = [];
    for (const dep of fm.needs) {
      if (!this.isDone(dv, dep)) {
        buff.push(dv.fileLink(`${this.taskDir}/${dep}`));
      }
    }
    if (buff.length > 0) {
      dv.header(2, "Needs");
      dv.list(buff);
    }
  }
  autoFieldNeededBy(dv, current) {
    const tasks = this.getDependantTasks(dv, current);
    if (tasks.length === 0) {
      return;
    }
    const buff = [];
    for (const task of tasks) {
      if (!this.isDone(dv, task.uuid)) {
        buff.push(dv.fileLink(task.file.path));
      }
    }
    if (buff.length > 0) {
      dv.header(2, "NeededBy");
      dv.list(buff);
    }
  }
  autoFieldTags(dv, fm) {
    const tags = fm.tags;
    if (tags == void 0 || tags.length === 0) {
      return;
    }
    tags.sort();
    dv.header(2, "Tags");
    let s = "";
    for (const tag of tags) {
      s += ` #${tag}`;
    }
    dv.paragraph(s);
  }
  autoFieldTaskBase(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    if (fm === void 0) {
      console.warn("fm is required");
      return;
    }
    this.autoFieldNeed(dv, fm);
    this.autoFieldNeededBy(dv, current);
    this.autoFieldTags(dv, fm);
    const logEntries = dv.pages(`"${this.logDir}/${fm.uuid}"`).where((p) => p.type === 6).sort((k) => k.created_at, "desc");
    const buff = [];
    let totalTime = 0;
    for (const entry of logEntries) {
      const fme = entry.file.frontmatter;
      const e = [];
      let start = 0;
      let stop = 0;
      if (fme === void 0 || fme.created_at === void 0) {
        throw new Error(`Invalid frontmatter: ${fme.uuid}`);
      }
      start = new Date(fme.created_at);
      e.push(start.toISOString().slice(0, 10));
      if (fme.done_at === void 0) {
        stop = Date.now();
      } else {
        stop = new Date(fme.done_at);
      }
      totalTime += stop - start;
      e.push(
        dv.sectionLink(
          fme.uuid,
          "## Content",
          false,
          fme.uuid.slice(0, 8)
        )
      );
      e.push(Math.round((stop - start) / (1e3 * 60 * 60) * 10) / 10);
      if (fme.reviewed === void 0 || fme.reviewed === 0) {
        e.push(0);
      } else {
        e.push(fme.reviewed);
      }
      buff.push(e);
    }
    if (buff.length > 0) {
      dv.header(2, "Logs");
      dv.table(["created_at", "uuid", "session", "reviewed"], buff);
      if (totalTime > 0) {
        dv.paragraph(
          `_totalTime (h):_ ${Math.round(totalTime / (1e3 * 60 * 60) * 10) / 10}`
        );
      }
    }
  }
  autoFieldLog(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    if (fm === void 0) {
      return;
    }
    dv.header(2, "Parent");
    dv.paragraph(dv.fileLink(`${this.taskDir}/${fm.parent_id}`));
  }
  autoFieldAuthors(dv, fm) {
    const authors = fm.authors;
    if (authors === void 0 || authors.length === 0) {
      return;
    }
    dv.header(2, "Authors");
    dv.list(authors);
  }
  autoFieldTitle(dv, fm) {
    const title = fm.alias;
    if (title == void 0) {
      return;
    }
    dv.header(1, title);
  }
  autoFieldLiteratureNote(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    if (fm === void 0) {
      return;
    }
    this.autoFieldTitle(dv, fm);
    this.autoFieldAuthors(dv, fm);
    this.autoFieldTags(dv, fm);
  }
  autoFieldPermanent(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    if (fm === void 0) {
      return;
    }
    this.autoFieldTags(dv, fm);
  }
  autoFieldTask(dv) {
    return this.autoFieldTaskBase(dv);
  }
  autoFieldLiterature(dv) {
    return this.autoFieldLiteratureNote(dv);
  }
  autoFieldFleeting(dv) {
    return;
  }
  autoFieldSupply(dv) {
    return;
  }
  findTasksByProject(dv, name) {
    const buff = [];
    if (name !== "" && name !== "none") {
      const tasks = this.getTasks(dv, `${this.Namespace.PROJECT}/none`, [
        this.Task.BASE
      ]);
      for (const task of tasks) {
        const fm = task.file.frontmatter;
        if (this.isDoable(dv, task)) {
          buff.push(task);
        }
      }
    } else {
      const tasks = this.getTasks(dv, "", [this.Task.BASE]);
      for (const task of tasks) {
        const fm = task.file.frontmatter;
        const tags = fm.tags;
        if (fm.tags === void 0 && (name === "" || name === "none") || fm.tags.contains(`${this.Namespace.PROJECT}/none`)) {
          if (this.isDoable(dv, task)) {
            buff.push(task);
          }
        }
      }
    }
    buff.sort();
    return buff;
  }
  getTag(tags, type) {
    let name = "";
    let defaultValue = "";
    if (type === "area") {
      name = this.Namespace.AREA;
      defaultValue = this.Default.AREA;
    } else if (type === "context") {
      name = this.Namespace.CONTEXT;
      defaultValue = this.Default.CONTEXT;
    } else if (type === "layer") {
      name = this.Namespace.LAYER;
      defaultValue = this.Default.LAYER;
    } else if (type === "org") {
      name = this.Namespace.ORG;
      defaultValue = this.Default.ORG;
    } else if (type === "project") {
      name = this.Namespace.PROJECT;
      defaultValue = this.Default.PROJECT;
    } else {
      throw new Error(`getTag got unsuported type: ${type}`);
    }
    const len = name.length + 1;
    const defaultTag = `${name}/${defaultValue}`;
    if (tags === void 0) {
      return defaultTag;
    }
    for (const tag of tags) {
      if (tag.length > len && tag.slice(0, len) == `${name}/`) {
        return tag;
      }
    }
    return defaultTag;
  }
  getArea(tags) {
    return this.getTag(tags, "area");
  }
  getContext(tags) {
    return this.getTag(tags, "context");
  }
  getLayer(tags) {
    return this.getTag(tags, "layer");
  }
  getOrg(tags) {
    return this.getTag(tags, "org");
  }
  getProject(tags) {
    return this.getTag(tags, "project");
  }
  parseListFrontmatter(fm) {
    let minPriority = 0;
    if (fm.min_priority !== void 0) {
      minPriority = fm.min_priority;
    }
    let ignore = [];
    if (fm.ignore !== void 0) {
      ignore = fm.ignore;
    }
    let byAreas = [];
    if (fm.by_areas !== void 0) {
      byAreas = fm.by_areas;
    }
    let byProjects = [];
    if (fm.by_projects !== void 0) {
      byProjects = fm.by_projects;
    }
    return [minPriority, ignore, byAreas, byProjects];
  }
  renderNamespaceContent(dv) {
    const self = dv.current();
    const name = self.file.name.toLowerCase().slice(0, -1);
    dv.header(1, "Index");
    dv.header(2, `${self.file.name}`);
    const tags = this.getNamespaceContent(dv, name);
    tags.sort();
    for (const tag of tags) {
      dv.paragraph(`#${name}/${tag}`);
    }
  }
  renderUnprocessedLogs(dv) {
    const logs = dv.pages(`"${this.logDir}"`).where(
      (p) => p.type === this.Type.LOG && (p.reviewd === void 0 || p.reviewed < 1)
    ).sort((k) => k.created_at, "asc");
    const buff = [];
    const arr = [];
    logs.forEach((entry) => {
      const fm = entry.file.frontmatter;
      if (fm === void 0) {
        return;
      }
      const parentId = fm.parent_id;
      if (parentId === void 0) {
        throw new Error(`Invalid log entry: ${entry.file.path}`);
      }
      const parent = dv.pages(`"${this.taskDir}/${parentId}"`);
      const parentFm = parent.file.frontmatter;
      if (parentFm === void 0) {
        throw new Error(`Invalid task: ${parent.file.path}`);
      }
      let project = this.getProject(parentFm.tags);
      if (project === `${this.Namespace.PROJECT}/${this.Default.PROJECT}`) {
        project = "";
      }
      let area = this.getArea(parentFm.tags);
      if (area === `${this.Namespace.AREA}/${this.Default.AREA}`) {
        area = "";
      }
      const formated = [];
      formated.push(
        dv.sectionLink(
          entry.file.path,
          "Content",
          false,
          `${fm.uuid.slice(0, 8)}`
        )
      );
      const createdAt = new Date(fm.created_at);
      formated.push(createdAt.toISOString().slice(0, 10));
      formated.push(project);
      formated.push(area);
      arr.push(formated);
    });
    dv.table(["uuid", "created_at", "project", "area"], arr);
  }
  assertTaskDoneAt(dv, taskId) {
    const task = dv.pages(`"${this.taskDir}/${taskId}"`);
    if (task.length === 0) {
      throw new Error(`task: ${taskId} doest not exists`);
    }
    const fm = task.file.frontmatter;
    if (fm === void 0) {
      throw new Error(`task: ${taskId} does not have a frontmatter`);
    }
    const logs = dv.pages(`"${this.logDir}/${taskId}"`).sort((k) => k.created_at, "asc");
    if (logs.length < 1) {
      throw new Error(`task: ${taskId} has no Logs`);
    }
    const lastEntry = logs[logs.length - 1];
    if (lastEntry.file.frontmatter.done_at === void 0) {
      throw new Error(
        `task: ${taskId} last entry is missing 'done_at' field`
      );
    }
    const doneAt = new Date(lastEntry.file.frontmatter.done_at);
    return [
      dv.sectionLink(
        task.file.path,
        "Content",
        false,
        `${task.file.frontmatter.uuid.slice(0, 8)}`
      ),
      `${doneAt.toISOString().slice(0, 10)}`
    ];
  }
  getDoneTimeline(dv) {
    const tasks = dv.pages(`"${this.taskDir}"`).where((p) => p.status === "done");
    const buff = [];
    for (const task of tasks) {
      const fm = task.file.frontmatter;
      if (fm === void 0) {
        throw new Error(`task: ${fm.uuid} does not have a frontmatter`);
      }
      const logs = dv.pages(`"${this.logDir}/${fm.uuid}"`).sort((k) => k.created_at, "asc");
      if (logs.length < 1) {
        console.warn(`task: ${fm.uuid} has no Logs`);
      }
      const lastEntry = logs[logs.length - 1];
      if (lastEntry === void 0) {
        continue;
      }
      if (lastEntry.file.frontmatter.done_at === void 0) {
        throw new Error(
          `task: ${fm.uuid} last entry is missing 'done_at' field`
        );
      }
      fm.doneAt = new Date(lastEntry.file.frontmatter.done_at);
      buff.push(task);
    }
    buff.sort((a, b) => {
      const dateA = new Date(a.file.frontmatter.doneAt);
      const dateB = new Date(b.file.frontmatter.doneAt);
      return (dateA.getTime() - dateB.getTime()) * -1;
    });
    const arr = [];
    buff.forEach((e) => {
      arr.push([
        dv.sectionLink(
          e.file.path,
          "Content",
          false,
          `${e.file.frontmatter.uuid.slice(0, 8)}`
        ),
        `${e.file.frontmatter.doneAt.toISOString().slice(0, 16)}`
      ]);
    });
    dv.table(["uuid", "doneAt"], arr);
  }
  durationStringToSec(val) {
    const mult = val.slice(-1);
    let m = 0;
    if (mult === "h") {
      m = 60 * 60;
    } else if (mult === "m") {
      m = 60;
    } else if (mult === "d") {
      m = 24 * 60 * 60;
    } else {
      console.warn(`Unhandled case mult: ${mult}`);
    }
    return m * parseInt(val.slice(0, -1));
  }
  testDvFunc() {
    const dv = app.plugins.plugins.dataview.api;
    const tasks = dv.pages(`"${this.taskDir}"`).where((p) => p.status === "done");
    const buff = [];
    for (const task of tasks) {
      const fm = task.file.frontmatter;
      if (fm === void 0) {
        throw new Error(`task: ${fm.uuid} does not have a frontmatter`);
      }
      const logs = dv.pages(`"${this.logDir}/${fm.uuid}"`).sort((k) => k.created_at, "asc");
      if (logs.length < 1) {
        console.warn(`task: ${fm.uuid} has no Logs`);
      }
      const lastEntry = logs[logs.length - 1];
      if (lastEntry === void 0) {
        continue;
      }
      if (lastEntry.file.frontmatter.done_at === void 0) {
        throw new Error(
          `task: ${fm.uuid} last entry is missing 'done_at' field`
        );
      }
      fm.doneAt = new Date(lastEntry.file.frontmatter.done_at);
      buff.push(task);
    }
    buff.sort((a, b) => {
      const dateA = new Date(a.file.frontmatter.doneAt);
      const dateB = new Date(b.file.frontmatter.doneAt);
      return (dateA.getTime() - dateB.getTime()) * -1;
    });
    const arr = [];
    buff.forEach((e) => {
      arr.push([
        dv.sectionLink(
          e.file.path,
          "Content",
          false,
          `${e.file.frontmatter.uuid.slice(0, 8)}`
        ),
        `${e.file.frontmatter.doneAt.toISOString().slice(0, 16)}`
      ]);
    });
  }
};

// main.ts
var { randomUUID } = require("crypto");
var DEFAULT_SETTINGS = {
  mySetting: "default"
};
var MyPlugin = class extends import_obsidian.Plugin {
  printCoucou() {
    console.log("Couou, tu veux voir ma bite?");
  }
  // reviewLog() {
  // 	const fm = this.getCurrentFrontmatter();
  // 	if (fm === undefined) {
  // 		return;
  // 	}
  //
  // 	if (fm.type === undefined) {
  // 		// console.warn(`file: ${fm} does not have a valid schema`);
  // 		return;
  // 	}
  //
  // 	if (fm.type !== 6) {
  // 		// console.warn(`file: ${fm} is not of "log" type`);
  // 		return;
  // 	}
  //
  // 	const currentReviewed = fm.reviewed;
  // 	// obsidian plugin API, write file on disk, frontmatter changed
  // }
  async onload() {
    var _a, _b;
    console.log("gonext - onload()");
    await this.loadSettings();
    this.metadataCache = app.metadataCache;
    this.workspace = app.workspace;
    this.dv = app.plugins.plugins.dataview.api;
    this.frontmatter = new Frontmatter(this);
    this.listMaker = new ListMaker(this, this.dv, this.frontmatter);
    this.api = {
      getArea: Helper.getArea,
      getContext: Helper.getContext,
      getDomain: Helper.getDomain,
      getLayer: Helper.getLayer,
      getOrg: Helper.getOrg,
      getProject: Helper.getProject,
      durationStringToSec: Helper.durationStringToSec,
      paths: Paths,
      types: Types,
      status: Status,
      namespace: Namespace,
      default: Default,
      frontmatter: this.frontmatter,
      listMaker: this.listMaker,
      renderer: Renderer,
      autoField: AutoField,
      dvLib: new DvLib()
    };
    window.gonext = {
      // @ts-ignore
      state: (_b = (_a = window.gonext) == null ? void 0 : _a.state) != null ? _b : {},
      // @ts-ignore
      app: this.app
    };
    this.taskInStatusBar = this.addStatusBarItem();
    this.taskInStatusBar.setText("");
    this.app.workspace.on("active-leaf-change", () => {
      const root = app.workspace.activeLeaf.parent;
      for (const leaf of root.children) {
        const tabTitleOrig = leaf.tabHeaderInnerTitleEl.innerText;
        if (tabTitleOrig.length !== 36) {
          continue;
        }
        let path = void 0;
        try {
          path = leaf.view.getSyncViewState().state.file;
        } catch (e) {
          continue;
        }
        const file = app.vault.getAbstractFileByPath(path);
        const fm = app.metadataCache.getFileCache(file).frontmatter;
        if (fm === void 0) {
          continue;
        }
        let text = "";
        if (fm.type === 3 && Helper.getProject(fm) !== void 0 && Helper.getProject(fm) === "project/daily") {
          const at = new Date(fm.at);
          const day = [
            "Sun",
            "Mon",
            "Tue",
            "Wed",
            "Thu",
            "Fri",
            "Sat"
          ][at.getDay()];
          text = `${day}. ${at.toISOString().slice(0, 10)}`;
        } else {
          text = fm.alias;
          if (Helper.nilCheck(text) || text === "") {
            return;
          }
        }
        leaf.tabHeaderInnerTitleEl.innerText = text;
        leaf.tabHeaderInnerTitleEl.innerHTML = text;
      }
    });
    this.addCommand({
      id: "gonext-utils-copy-current-file-uuid",
      name: "Copy current file UUID",
      // @ts-ignore
      editorCallback: (editor, view) => {
        const fm = this.gonext.getCurrentFrontmatter();
        if (fm === void 0) {
          return;
        }
        if (fm.uuid == void 0) {
          return;
        }
      }
    });
    this.addCommand({
      id: "gonext-generate-fleeting",
      name: "Generate fleeting note",
      // @ts-ignore
      editorCallback: (editor, view) => {
        const dt = new Date();
        const note = {
          uuid: randomUUID(),
          type: 13,
          version: "0.0.4",
          created_at: dt.toISOString(),
          path: "",
          data: ""
        };
        note.path = `800 Inbox/${note.uuid}.md`;
        note.data = `---
type: 13
uuid: "${note.uuid}"
created_at: "${note.created_at}"
version: "0.0.4"
---
## Content
`;
        const f = app.vault.create(note.path, note.data).then((f2) => {
          return f2;
        });
        const active = app.workspace.activeLeaf;
        const root = active.parent;
        app.workspace.createLeafInParent(
          root,
          root.children.length + 1
        );
        const leaf = root.children[root.children.length - 1];
        f.then((file) => {
          leaf.openFile(file, { active: true });
        });
      }
    });
    this.addCommand({
      id: "safe-delete",
      name: "Safe Delete",
      // @ts-ignore
      editorCallback: (editor, view) => {
        const file = app.workspace.getActiveFile();
        const fm = app.metadataCache.getFileCache(file).frontmatter;
        if (fm === void 0) {
          return;
        }
        const rootPath = [
          `${Paths.Journal}.md`,
          `${Paths.Inbox}.md`,
          "Ad Hoc.md",
          "allDoneTasks.md",
          "allDoneTasksWithoutLog.md",
          "allMedia.md",
          "allProgressedTasks.md",
          "noteLocator.md",
          "Praxis.md"
        ];
        for (const p of rootPath) {
          if (file.path === p) {
            return;
          }
        }
        if (
          // @ts-ignore
          file.path.split(0, Paths.Resources.length) === // @ts-ignore
          Paths.Resources
        ) {
          return;
        }
        console.log(`deleted file: ${file.path}`);
        app.vault.delete(file);
      }
    });
    this.addCommand({
      id: "display-modal",
      name: "Display modal",
      callback: () => {
        new ExampleModal(this.app).open();
      }
    });
    this.addCommand({
      id: "go-parent",
      name: "Go Parent",
      // @ts-ignore
      editorCallback: (editor, view) => {
        const file = app.workspace.getActiveFile();
        const fm = app.metadataCache.getFileCache(file).frontmatter;
        if (fm === void 0) {
          return;
        }
        if (fm.parent_id === void 0 && fm.ref_id === void 0) {
          console.warn(
            `parent_id: '${fm.parent_id}' ref_id: '${fm.ref_id}'`
          );
          return;
        }
        if (fm.type === void 0 || fm.type !== Types.Log && fm.type !== Types.Media && fm.type !== Types.Fleeting) {
          console.warn(
            `invalid type: '${fm.type}' for note: '${fm.uuid}'`
          );
          return;
        }
        const parent = fm.type === Types.Log ? `${Paths.Tasks}/${fm.parent_id}.md` : `${Paths.Refs}/${fm.ref_id}.md`;
        const page = app.vault.getAbstractFileByPath(parent);
        app.workspace.openLinkText(parent, "/", false);
      }
    });
  }
  onunload() {
    console.log("gonext - onunload()");
    delete window.gonext;
  }
  async loadSettings() {
    this.settings = Object.assign(
      {},
      DEFAULT_SETTINGS,
      await this.loadData()
    );
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var ExampleModal = class extends import_obsidian.Modal {
  constructor(app2) {
    super(app2);
  }
  onOpen() {
    const { contentEl } = this;
    const dv = this.app.plugins.plugins.dataview.api;
    const tasks = dv.pages().array().slice(0, 10);
    let s = "";
    for (const task of tasks) {
      s += `${task.file.path}

`;
    }
    contentEl.setText(s);
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJjb25zdGFudHMudHMiLCAiYXBpLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvLyBAdHMtaWdub3JlXG5pbXBvcnQge1xuXHRBcHAsXG5cdE1vZGFsLFxuXHRQbHVnaW4sXG5cdFdvcmtzcGFjZSxcblx0Ly8gQHRzLWlnbm9yZVxuXHRIVE1MRWxlbWVudCxcblx0TWFya2Rvd25WaWV3LFxufSBmcm9tIFwib2JzaWRpYW5cIjtcbi8vIEB0cy1pZ25vcmVcbmltcG9ydCB7XG5cdEhlbHBlcixcblx0RnJvbnRtYXR0ZXIsXG5cdExpc3RNYWtlcixcblx0Ly8gQHRzLWlnbm9yZVxuXHROYW1lc3BhY2UsXG5cdC8vIEB0cy1pZ25vcmVcblx0UmVuZGVyZXIsXG5cdEF1dG9GaWVsZCxcblx0Ly8gQHRzLWlnbm9yZVxuXHREdkxpYixcbn0gZnJvbSBcIi4vYXBpXCI7XG4vLyBAdHMtaWdub3JlXG5pbXBvcnQgeyBQYXRocywgU3RhdHVzLCBUeXBlcywgTmFtZXNwYWNlLCBEZWZhdWx0IH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5jb25zdCB7IHJhbmRvbVVVSUQgfSA9IHJlcXVpcmUoXCJjcnlwdG9cIik7XG5cbi8vIFJlbWVtYmVyIHRvIHJlbmFtZSB0aGVzZSBjbGFzc2VzIGFuZCBpbnRlcmZhY2VzIVxuaW50ZXJmYWNlIE15UGx1Z2luU2V0dGluZ3Mge1xuXHRteVNldHRpbmc6IHN0cmluZztcbn1cblxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogTXlQbHVnaW5TZXR0aW5ncyA9IHtcblx0bXlTZXR0aW5nOiBcImRlZmF1bHRcIixcbn07XG5cbi8vIHJlcHJcdTAwRTlzZW50ZSBsYSB2dWUgYWN0dWVsbGUsIGwnb25nbGV0IGFjdGlmLCBsZSBmb2N1c1xuLy8gY29udGllbnQgdW5lIHJlZiBhdSBmcm9udG1hdHRlciBxdWkgZXN0IHByZXByb2Nlc3MsXG4vLyBpZSBjaGFtcHMgZm0ucHJvamVjdCwgZm0uYXJlYSwgLi4uIHNvbnQgcG9wdWxcdTAwRTlzXG5jbGFzcyBDdXJyZW50IHtcblx0Y29uc3RydWN0b3IoKSB7IH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXlQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuXHRzZXR0aW5nczogTXlQbHVnaW5TZXR0aW5ncztcblx0d29ya3NwYWNlOiBXb3Jrc3BhY2U7XG5cdG1ldGFkYXRhQ2FjaGU6IGFueTtcblx0ZHY6IGFueTtcblx0Ly8gQHRzLWlnbm9yZVxuXHRyZW5kZXI6IFJlbmRlcjtcblx0ZGVidWc6IGJvb2xlYW47XG5cdHRhc2tJblN0YXR1c0JhcjogSFRNTEVsZW1lbnQ7XG5cdGFwaTogYW55O1xuXHRsaXN0TWFrZXI6IExpc3RNYWtlcjtcblx0ZnJvbnRtYXR0ZXI6IEZyb250bWF0dGVyO1xuXG5cdHByaW50Q291Y291KCkge1xuXHRcdGNvbnNvbGUubG9nKFwiQ291b3UsIHR1IHZldXggdm9pciBtYSBiaXRlP1wiKTtcblx0fVxuXG5cdC8vIHJldmlld0xvZygpIHtcblx0Ly8gXHRjb25zdCBmbSA9IHRoaXMuZ2V0Q3VycmVudEZyb250bWF0dGVyKCk7XG5cdC8vIFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0Ly8gXHRcdHJldHVybjtcblx0Ly8gXHR9XG5cdC8vXG5cdC8vIFx0aWYgKGZtLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHQvLyBcdFx0Ly8gY29uc29sZS53YXJuKGBmaWxlOiAke2ZtfSBkb2VzIG5vdCBoYXZlIGEgdmFsaWQgc2NoZW1hYCk7XG5cdC8vIFx0XHRyZXR1cm47XG5cdC8vIFx0fVxuXHQvL1xuXHQvLyBcdGlmIChmbS50eXBlICE9PSA2KSB7XG5cdC8vIFx0XHQvLyBjb25zb2xlLndhcm4oYGZpbGU6ICR7Zm19IGlzIG5vdCBvZiBcImxvZ1wiIHR5cGVgKTtcblx0Ly8gXHRcdHJldHVybjtcblx0Ly8gXHR9XG5cdC8vXG5cdC8vIFx0Y29uc3QgY3VycmVudFJldmlld2VkID0gZm0ucmV2aWV3ZWQ7XG5cdC8vIFx0Ly8gb2JzaWRpYW4gcGx1Z2luIEFQSSwgd3JpdGUgZmlsZSBvbiBkaXNrLCBmcm9udG1hdHRlciBjaGFuZ2VkXG5cdC8vIH1cblxuXHRhc3luYyBvbmxvYWQoKSB7XG5cdFx0Y29uc29sZS5sb2coXCJnb25leHQgLSBvbmxvYWQoKVwiKTtcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXHRcdHRoaXMubWV0YWRhdGFDYWNoZSA9IGFwcC5tZXRhZGF0YUNhY2hlO1xuXHRcdHRoaXMud29ya3NwYWNlID0gYXBwLndvcmtzcGFjZTtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0dGhpcy5kdiA9IGFwcC5wbHVnaW5zLnBsdWdpbnMuZGF0YXZpZXcuYXBpO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHR0aGlzLmZyb250bWF0dGVyID0gbmV3IEZyb250bWF0dGVyKHRoaXMpO1xuXHRcdHRoaXMubGlzdE1ha2VyID0gbmV3IExpc3RNYWtlcih0aGlzLCB0aGlzLmR2LCB0aGlzLmZyb250bWF0dGVyKTtcblxuXHRcdHRoaXMuYXBpID0ge1xuXHRcdFx0Z2V0QXJlYTogSGVscGVyLmdldEFyZWEsXG5cdFx0XHRnZXRDb250ZXh0OiBIZWxwZXIuZ2V0Q29udGV4dCxcblx0XHRcdGdldERvbWFpbjogSGVscGVyLmdldERvbWFpbixcblx0XHRcdGdldExheWVyOiBIZWxwZXIuZ2V0TGF5ZXIsXG5cdFx0XHRnZXRPcmc6IEhlbHBlci5nZXRPcmcsXG5cdFx0XHRnZXRQcm9qZWN0OiBIZWxwZXIuZ2V0UHJvamVjdCxcblx0XHRcdGR1cmF0aW9uU3RyaW5nVG9TZWM6IEhlbHBlci5kdXJhdGlvblN0cmluZ1RvU2VjLFxuXHRcdFx0cGF0aHM6IFBhdGhzLFxuXHRcdFx0dHlwZXM6IFR5cGVzLFxuXHRcdFx0c3RhdHVzOiBTdGF0dXMsXG5cdFx0XHRuYW1lc3BhY2U6IE5hbWVzcGFjZSxcblx0XHRcdGRlZmF1bHQ6IERlZmF1bHQsXG5cdFx0XHRmcm9udG1hdHRlcjogdGhpcy5mcm9udG1hdHRlcixcblx0XHRcdGxpc3RNYWtlcjogdGhpcy5saXN0TWFrZXIsXG5cdFx0XHRyZW5kZXJlcjogUmVuZGVyZXIsXG5cdFx0XHRhdXRvRmllbGQ6IEF1dG9GaWVsZCxcblx0XHRcdGR2TGliOiBuZXcgRHZMaWIoKSxcblx0XHR9O1xuXG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdHdpbmRvdy5nb25leHQgPSB7XG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRzdGF0ZTogd2luZG93LmdvbmV4dD8uc3RhdGUgPz8ge30sXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRhcHA6IHRoaXMuYXBwLFxuXHRcdH07XG5cblx0XHR0aGlzLnRhc2tJblN0YXR1c0JhciA9IHRoaXMuYWRkU3RhdHVzQmFySXRlbSgpO1xuXHRcdHRoaXMudGFza0luU3RhdHVzQmFyLnNldFRleHQoXCJcIik7XG5cblx0XHQvLyBjb25zb2xlLmxvZyh3aW5kb3cuYXBwKTtcblx0XHQvLyB0aGlzLnN0YXR1c0JhciA9IHRoaXMuYXBwLmNyZWF0ZURpdigpO1xuXHRcdC8vIHRoaXMuc3RhdHVzQmFyLmlubmVySFRNTCA9IFwiXCI7XG5cdFx0Ly8gdGhpcy5hcHAuZG9tLnN0YXR1c0JhckVsLmFwcGVuZENoaWxkKGVsKTtcblxuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vbihcImFjdGl2ZS1sZWFmLWNoYW5nZVwiLCAoKSA9PiB7XG5cdFx0XHQvLyBjb25zdCBhY3RpdmVUYXNrcyA9IHRoaXMuZHZcblx0XHRcdC8vIFx0LnBhZ2VzKGBcIjgxMyBUYXNrc1wiYClcblx0XHRcdC8vIFx0LndoZXJlKChmbSkgPT4gZm0uc3RhdHVzID09PSBcImRvaW5nXCIpO1xuXHRcdFx0Ly8gdGhpcy50YXNrSW5TdGF0dXNCYXIuc2V0VGV4dChgJHthY3RpdmVUYXNrcy5sZW5ndGh9IGFjdGl2ZWApO1xuXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRjb25zdCByb290ID0gYXBwLndvcmtzcGFjZS5hY3RpdmVMZWFmLnBhcmVudDtcblx0XHRcdGZvciAoY29uc3QgbGVhZiBvZiByb290LmNoaWxkcmVuKSB7XG5cdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0Y29uc3QgdGFiVGl0bGVPcmlnID0gbGVhZi50YWJIZWFkZXJJbm5lclRpdGxlRWwuaW5uZXJUZXh0O1xuXHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdGlmICh0YWJUaXRsZU9yaWcubGVuZ3RoICE9PSAzNikge1xuXHRcdFx0XHRcdC8vIGNvbnNvbGUud2FybihcIid0YWJUaXRsZU9yaWcubGVuZ3RoJyAhPT0gMzZcIik7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRsZXQgcGF0aCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRwYXRoID0gbGVhZi52aWV3LmdldFN5bmNWaWV3U3RhdGUoKS5zdGF0ZS5maWxlO1xuXHRcdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb25zdCBmaWxlID0gYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChwYXRoKTtcblx0XHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0XHRjb25zdCBmbSA9IGFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShmaWxlKS5mcm9udG1hdHRlcjtcblxuXHRcdFx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bGV0IHRleHQgPSBcIlwiO1xuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0Zm0udHlwZSA9PT0gMyAmJlxuXHRcdFx0XHRcdEhlbHBlci5nZXRQcm9qZWN0KGZtKSAhPT0gdW5kZWZpbmVkICYmXG5cdFx0XHRcdFx0SGVscGVyLmdldFByb2plY3QoZm0pID09PSBcInByb2plY3QvZGFpbHlcIlxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRjb25zdCBhdCA9IG5ldyBEYXRlKGZtLmF0KTtcblx0XHRcdFx0XHRjb25zdCBkYXkgPSBbXG5cdFx0XHRcdFx0XHRcIlN1blwiLFxuXHRcdFx0XHRcdFx0XCJNb25cIixcblx0XHRcdFx0XHRcdFwiVHVlXCIsXG5cdFx0XHRcdFx0XHRcIldlZFwiLFxuXHRcdFx0XHRcdFx0XCJUaHVcIixcblx0XHRcdFx0XHRcdFwiRnJpXCIsXG5cdFx0XHRcdFx0XHRcIlNhdFwiLFxuXHRcdFx0XHRcdF1bYXQuZ2V0RGF5KCldO1xuXHRcdFx0XHRcdHRleHQgPSBgJHtkYXl9LiAke2F0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApfWA7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0XHRcdHRleHQgPSBmbS5hbGlhcztcblx0XHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdFx0aWYgKEhlbHBlci5uaWxDaGVjayh0ZXh0KSB8fCB0ZXh0ID09PSBcIlwiKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0bGVhZi50YWJIZWFkZXJJbm5lclRpdGxlRWwuaW5uZXJUZXh0ID0gdGV4dDtcblx0XHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0XHRsZWFmLnRhYkhlYWRlcklubmVyVGl0bGVFbC5pbm5lckhUTUwgPSB0ZXh0O1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gVGhpcyBhZGRzIGFuIGVkaXRvciBjb21tYW5kIHRoYXQgY2FuIHBlcmZvcm0gc29tZSBvcGVyYXRpb24gb24gdGhlIGN1cnJlbnQgZWRpdG9yIGluc3RhbmNlXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcImdvbmV4dC11dGlscy1jb3B5LWN1cnJlbnQtZmlsZS11dWlkXCIsXG5cdFx0XHRuYW1lOiBcIkNvcHkgY3VycmVudCBmaWxlIFVVSURcIixcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yOiBFZGl0b3IsIHZpZXc6IE1hcmtkb3duVmlldykgPT4ge1xuXHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdGNvbnN0IGZtID0gdGhpcy5nb25leHQuZ2V0Q3VycmVudEZyb250bWF0dGVyKCk7XG5cdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHQvLyBjb25zb2xlLndhcm4oXG5cdFx0XHRcdFx0Ly8gXHRcIkN1cnJlbnQgZmlsZSBkb2VzIG5vdCBoYXZlIGEgdmFsaWQgYGZyb250bWF0dGVyYFwiLFxuXHRcdFx0XHRcdC8vICk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGZtLnV1aWQgPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Ly8gY29uc29sZS53YXJuKFwiQ3VycmVudCBmaWxlIGRvZXMgbm90IGhhdmUgYSB2YWxpZCBgVVVJRGBcIik7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gY29uc29sZS5sb2coXCJlZGl0b3IgY2FsbGJhY2sgZnVuY3Rpb25cIik7XG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKGVkaXRvci5nZXRTZWxlY3Rpb24oKSk7XG5cdFx0XHRcdC8vIGVkaXRvci5yZXBsYWNlU2VsZWN0aW9uKCdTYW1wbGUgRWRpdG9yIENvbW1hbmQnKTtcblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6IFwiZ29uZXh0LWdlbmVyYXRlLWZsZWV0aW5nXCIsXG5cdFx0XHRuYW1lOiBcIkdlbmVyYXRlIGZsZWV0aW5nIG5vdGVcIixcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yOiBFZGl0b3IsIHZpZXc6IE1hcmtkb3duVmlldykgPT4ge1xuXHRcdFx0XHRjb25zdCBkdCA9IG5ldyBEYXRlKCk7XG5cdFx0XHRcdGNvbnN0IG5vdGUgPSB7XG5cdFx0XHRcdFx0dXVpZDogcmFuZG9tVVVJRCgpLFxuXHRcdFx0XHRcdHR5cGU6IDEzLFxuXHRcdFx0XHRcdHZlcnNpb246IFwiMC4wLjRcIixcblx0XHRcdFx0XHRjcmVhdGVkX2F0OiBkdC50b0lTT1N0cmluZygpLFxuXHRcdFx0XHRcdHBhdGg6IFwiXCIsXG5cdFx0XHRcdFx0ZGF0YTogXCJcIixcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRub3RlLnBhdGggPSBgODAwIEluYm94LyR7bm90ZS51dWlkfS5tZGA7XG5cdFx0XHRcdG5vdGUuZGF0YSA9IGAtLS1cXG50eXBlOiAxM1xcbnV1aWQ6IFwiJHtub3RlLnV1aWR9XCJcXG5jcmVhdGVkX2F0OiBcIiR7bm90ZS5jcmVhdGVkX2F0fVwiXFxudmVyc2lvbjogXCIwLjAuNFwiXFxuLS0tXFxuIyMgQ29udGVudFxcbmA7XG5cblx0XHRcdFx0Y29uc3QgZiA9IGFwcC52YXVsdC5jcmVhdGUobm90ZS5wYXRoLCBub3RlLmRhdGEpLnRoZW4oKGYpID0+IHtcblx0XHRcdFx0XHRyZXR1cm4gZjtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Ly8gY29uc3QgbmV3TGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5zcGxpdEFjdGl2ZUxlYWYoKTtcblx0XHRcdFx0Ly8gYXBwLndvcmtzcGFjZS5vcGVuTGlua1RleHQobm90ZS5wYXRoLCBcIi9cIiwgdHJ1ZSwgbmV3TGVhZikudGhlbigoKSA9PiB7fSk7XG5cdFx0XHRcdC8vIHJldmVhbExlYWYobGVhZjogV29ya3NwYWNlTGVhZik6IFByb21pc2U8dm9pZD47XG5cdFx0XHRcdGNvbnN0IGFjdGl2ZSA9IGFwcC53b3Jrc3BhY2UuYWN0aXZlTGVhZjtcblx0XHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0XHRjb25zdCByb290ID0gYWN0aXZlLnBhcmVudDtcblx0XHRcdFx0YXBwLndvcmtzcGFjZS5jcmVhdGVMZWFmSW5QYXJlbnQoXG5cdFx0XHRcdFx0cm9vdCxcblx0XHRcdFx0XHRyb290LmNoaWxkcmVuLmxlbmd0aCArIDEsXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGNvbnN0IGxlYWYgPSByb290LmNoaWxkcmVuW3Jvb3QuY2hpbGRyZW4ubGVuZ3RoIC0gMV07XG5cdFx0XHRcdC8vIGNyZWF0ZUxlYWZJblBhcmVudChwYXJlbnQ6IFdvcmtzcGFjZVNwbGl0LCBpbmRleDogbnVtYmVyKTogV29ya3NwYWNlTGVhZjtcblx0XHRcdFx0Ly8gc2V0QWN0aXZlTGVhZihsZWFmOiBXb3Jrc3BhY2VMZWFmLCBwYXJhbXM/OiB7Zm9jdXM/OiBib29sZWFuO30pOiB2b2lkO1xuXHRcdFx0XHRmLnRoZW4oKGZpbGUpID0+IHtcblx0XHRcdFx0XHRsZWFmLm9wZW5GaWxlKGZpbGUsIHsgYWN0aXZlOiB0cnVlIH0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0Ly8gV29ya3NwYWNlTGVhZi5vcGVuRmlsZSgpXG5cdFx0XHRcdC8vIG9wZW5GaWxlKGZpbGU6IFRGaWxlLCBvcGVuU3RhdGU/OiBPcGVuVmlld1N0YXRlKTogUHJvbWlzZTx2b2lkPjtcblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6IFwic2FmZS1kZWxldGVcIixcblx0XHRcdG5hbWU6IFwiU2FmZSBEZWxldGVcIixcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yOiBFZGl0b3IsIHZpZXc6IE1hcmtkb3duVmlldykgPT4ge1xuXHRcdFx0XHRjb25zdCBmaWxlID0gYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XG5cdFx0XHRcdGNvbnN0IGZtID0gYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpLmZyb250bWF0dGVyO1xuXHRcdFx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnN0IHJvb3RQYXRoID0gW1xuXHRcdFx0XHRcdGAke1BhdGhzLkpvdXJuYWx9Lm1kYCxcblx0XHRcdFx0XHRgJHtQYXRocy5JbmJveH0ubWRgLFxuXHRcdFx0XHRcdFwiQWQgSG9jLm1kXCIsXG5cdFx0XHRcdFx0XCJhbGxEb25lVGFza3MubWRcIixcblx0XHRcdFx0XHRcImFsbERvbmVUYXNrc1dpdGhvdXRMb2cubWRcIixcblx0XHRcdFx0XHRcImFsbE1lZGlhLm1kXCIsXG5cdFx0XHRcdFx0XCJhbGxQcm9ncmVzc2VkVGFza3MubWRcIixcblx0XHRcdFx0XHRcIm5vdGVMb2NhdG9yLm1kXCIsXG5cdFx0XHRcdFx0XCJQcmF4aXMubWRcIixcblx0XHRcdFx0XTtcblx0XHRcdFx0Zm9yIChjb25zdCBwIG9mIHJvb3RQYXRoKSB7XG5cdFx0XHRcdFx0aWYgKGZpbGUucGF0aCA9PT0gcCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0XHRmaWxlLnBhdGguc3BsaXQoMCwgUGF0aHMuUmVzb3VyY2VzLmxlbmd0aCkgPT09XG5cdFx0XHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0XHRcdFBhdGhzLlJlc291cmNlc1xuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zb2xlLmxvZyhgZGVsZXRlZCBmaWxlOiAke2ZpbGUucGF0aH1gKTtcblx0XHRcdFx0YXBwLnZhdWx0LmRlbGV0ZShmaWxlKTtcblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6IFwiZGlzcGxheS1tb2RhbFwiLFxuXHRcdFx0bmFtZTogXCJEaXNwbGF5IG1vZGFsXCIsXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xuXHRcdFx0XHRuZXcgRXhhbXBsZU1vZGFsKHRoaXMuYXBwKS5vcGVuKCk7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcImdvLXBhcmVudFwiLFxuXHRcdFx0bmFtZTogXCJHbyBQYXJlbnRcIixcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yOiBFZGl0b3IsIHZpZXc6IE1hcmtkb3duVmlldykgPT4ge1xuXHRcdFx0XHRjb25zdCBmaWxlID0gYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XG5cdFx0XHRcdGNvbnN0IGZtID0gYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpLmZyb250bWF0dGVyO1xuXHRcdFx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChmbS5wYXJlbnRfaWQgPT09IHVuZGVmaW5lZCAmJiBmbS5yZWZfaWQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNvbnNvbGUud2Fybihcblx0XHRcdFx0XHRcdGBwYXJlbnRfaWQ6ICcke2ZtLnBhcmVudF9pZH0nIHJlZl9pZDogJyR7Zm0ucmVmX2lkfSdgLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdGZtLnR5cGUgPT09IHVuZGVmaW5lZCB8fFxuXHRcdFx0XHRcdChmbS50eXBlICE9PSBUeXBlcy5Mb2cgJiZcblx0XHRcdFx0XHRcdGZtLnR5cGUgIT09IFR5cGVzLk1lZGlhICYmXG5cdFx0XHRcdFx0XHRmbS50eXBlICE9PSBUeXBlcy5GbGVldGluZylcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0XHRcdFx0YGludmFsaWQgdHlwZTogJyR7Zm0udHlwZX0nIGZvciBub3RlOiAnJHtmbS51dWlkfSdgLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gaHR0cHM6Ly9kb2NzLm9ic2lkaWFuLm1kL1JlZmVyZW5jZS9UeXBlU2NyaXB0K0FQSS9Xb3Jrc3BhY2UvY3JlYXRlTGVhZkluUGFyZW50XG5cdFx0XHRcdC8vIGFwcC53b3Jrc3BhY2UuY3JlYXRlTGVhZkluUGFyZW50KCk7XG5cdFx0XHRcdC8vIGNvbnN0IGxlYWYgPSBhcHAud29ya3NwYWNlLmdldExlYWYodHJ1ZSk7XG5cdFx0XHRcdC8vIHBhcmVudCBpZFxuXHRcdFx0XHRjb25zdCBwYXJlbnQgPVxuXHRcdFx0XHRcdGZtLnR5cGUgPT09IFR5cGVzLkxvZ1xuXHRcdFx0XHRcdFx0PyBgJHtQYXRocy5UYXNrc30vJHtmbS5wYXJlbnRfaWR9Lm1kYFxuXHRcdFx0XHRcdFx0OiBgJHtQYXRocy5SZWZzfS8ke2ZtLnJlZl9pZH0ubWRgO1xuXHRcdFx0XHRjb25zdCBwYWdlID0gYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChwYXJlbnQpO1xuXHRcdFx0XHRhcHAud29ya3NwYWNlLm9wZW5MaW5rVGV4dChwYXJlbnQsIFwiL1wiLCBmYWxzZSk7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXHR9XG5cblx0b251bmxvYWQoKSB7XG5cdFx0Y29uc29sZS5sb2coXCJnb25leHQgLSBvbnVubG9hZCgpXCIpO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRkZWxldGUgd2luZG93LmdvbmV4dDtcblx0fVxuXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbihcblx0XHRcdHt9LFxuXHRcdFx0REVGQVVMVF9TRVRUSU5HUyxcblx0XHRcdGF3YWl0IHRoaXMubG9hZERhdGEoKSxcblx0XHQpO1xuXHR9XG5cblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIEV4YW1wbGVNb2RhbCBleHRlbmRzIE1vZGFsIHtcblx0Y29uc3RydWN0b3IoYXBwOiBBcHApIHtcblx0XHRzdXBlcihhcHApO1xuXHR9XG5cblx0b25PcGVuKCkge1xuXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRjb25zdCBkdiA9IHRoaXMuYXBwLnBsdWdpbnMucGx1Z2lucy5kYXRhdmlldy5hcGk7XG5cdFx0Y29uc3QgdGFza3MgPSBkdi5wYWdlcygpLmFycmF5KCkuc2xpY2UoMCwgMTApO1xuXHRcdGxldCBzID0gXCJcIjtcblx0XHRmb3IgKGNvbnN0IHRhc2sgb2YgdGFza3MpIHtcblx0XHRcdHMgKz0gYCR7dGFzay5maWxlLnBhdGh9XFxuXFxuYDtcblx0XHR9XG5cdFx0Y29udGVudEVsLnNldFRleHQocyk7XG5cdH1cblxuXHRvbkNsb3NlKCkge1xuXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xuXHR9XG59XG4iLCAiZXhwb3J0IGNvbnN0IFBhdGhzID0ge1xuXHRUYXNrczogXCI4MTMgVGFza3NcIixcblx0Q29tcG9uZW50czogXCJDb21wb25lbnRzXCIsXG5cdEdvYWxzOiBcIkdvYWxzXCIsXG5cdFNsaXBib3g6IFwiODAzIFNsaXBib3hcIixcblx0SW5ib3g6IFwiODAwIEluYm94XCIsXG5cdFJlZnM6IFwiODAyIFJlZnNcIixcblx0QXJjaGl2ZXM6IFwiNDAwIEFyY2hpdmVzXCIsXG5cdExvZ3M6IFwiNjAwIExvZ1wiLFxuXHRBdHRhY2htZW50czogXCIwMDAgQXR0YWNobWVudHNcIixcblx0Sm91cm5hbDogXCJKb3VybmFsXCIsXG5cdFJlc291cmNlczogXCJSZXNvdXJjZXNcIixcblx0UHJvamVjdHM6IFwiMTAwIFByb2plY3RzXCIsXG5cdERvbWFpbnM6IFwiRG9tYWluc1wiLFxuXHROYW1lczogXCJOYW1lc1wiLFxufTtcblxuZXhwb3J0IGNvbnN0IFN0YXR1cyA9IHtcblx0VG9kbzogXCJ0b2RvXCIsXG5cdERvaW5nOiBcImRvaW5nXCIsXG5cdERvbmU6IFwiZG9uZVwiLFxuXHRNYXliZTogXCJtYXliZVwiLFxuXHRTdGFuZGJ5OiBcInN0YW5kYnlcIixcblx0VHJhc2g6IFwidHJhc2hcIixcbn07XG5leHBvcnQgY29uc3QgR29hbFN0YXR1cyA9IHtcblx0UmVmcmFtZTogXCJyZWZyYW1lXCIsXG5cdFJlc2VhcmNoOiBcInJlc2VhcmNoXCIsXG5cdE9wZXJhdGlvbmFsaXplOiBcIm9wZXJhdGlvbmFsaXplXCIsXG5cdFBsYW5pZnk6IFwicGxhbmlmeVwiLFxuXHREZXBlbmRhbnQ6IFwiZGVwZW5kYW50XCIsXG5cdEFjdGl2ZTogXCJhY3RpdmVcIixcblx0RmFpbGVkOiBcImZhaWxlZFwiLFxuXHRTdWNjZXNzOiBcInN1Y2Nlc3NcIixcbn07XG5cbmV4cG9ydCBjb25zdCBUeXBlcyA9IHtcblx0RmxlZXRpbmc6IDEzLFxuXHRMaXRlcmF0dXJlOiAxLFxuXHRQZXJtYW5lbnQ6IDIsXG5cdFRhc2s6IDMsXG5cdFByYXhpczogNCxcblx0UHJvdmlzaW9uOiA1LFxuXHRMb2c6IDYsXG5cdFJlc291cmNlOiA3LFxuXHRNZWRpYTogOCxcblx0UHJvamVjdDogMTIsXG5cdE9yZzogOSxcblx0RG9tYWluOiAxMCxcblx0Q29tcG9uZW50OiAxMSxcbn07XG5cbmV4cG9ydCBjb25zdCBOYW1lc3BhY2UgPSB7XG5cdEFyZWE6IFwiYXJlYVwiLFxuXHRDb250ZXh0OiBcImNvbnRleHRcIixcblx0TGF5ZXI6IFwibGF5ZXJcIixcblx0T3JnOiBcIm9yZ1wiLFxuXHRQcm9qZWN0OiBcInByb2plY3RcIixcbn07XG5cbmV4cG9ydCBjb25zdCBEZWZhdWx0ID0ge1xuXHRBcmVhOiBcIm5vbmVcIixcblx0Q29udGV4dDogXCJhbnlcIixcblx0TGF5ZXI6IFwibm9uZVwiLFxuXHRPcmc6IFwibm9uZVwiLFxuXHRQcm9qZWN0OiBcIm5vbmVcIixcbn07XG4iLCAiaW1wb3J0IHsgYXNzZXJ0LCBncm91cCwgdGltZSB9IGZyb20gXCJjb25zb2xlXCI7XG5pbXBvcnQgeyB1bnppcCB9IGZyb20gXCJ6bGliXCI7XG5pbXBvcnQge1xuXHRQYXRocyxcblx0U3RhdHVzLFxuXHRUeXBlcyxcblx0TmFtZXNwYWNlLFxuXHREZWZhdWx0LFxuXHRHb2FsU3RhdHVzLFxufSBmcm9tIFwiLi9jb25zdGFudHNcIjtcblxuY2xhc3MgRmlsdGVyQnkge1xuXHRwdWJsaWMgZm06IGFueTtcblx0cHVibGljIHByZWRpY2F0ZXM6IHN0cmluZ1tdO1xuXHRwdWJsaWMgY29udGV4dHM6IHN0cmluZ1tdO1xuXG5cdGNvbnN0cnVjdG9yKGZtOiBhbnkpIHtcblx0XHR0aGlzLmZtID0gZm07XG5cdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHRoaXMucHJlZGljYXRlcyA9IFtdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnByZWRpY2F0ZXMgPSBBcnJheS5pc0FycmF5KGZtLmZpbHRlcl9ieSkgPyBmbS5maWx0ZXJfYnkgOiBbXTtcblx0XHR9XG5cdH1cblxuXHRuYW1lSW5OYW1lc3BhY2UoZm06IGFueSwgbnM6IHN0cmluZ1tdKSB7XG5cdFx0bGV0IGZvdW5kID0gZmFsc2U7XG5cdFx0aWYgKG5zLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Zm9yIChjb25zdCBhIG9mIG5zKSB7XG5cdFx0XHRjb25zdCByb290ID0gYS5zcGxpdChcIi9cIik7XG5cdFx0XHRBc3NlcnQuVHJ1ZShyb290Lmxlbmd0aCA9PT0gMiwgYEludmFsaWQgdGFnOiAnJHthfSdgKTtcblx0XHRcdGNvbnN0IHBhcmVudCA9XG5cdFx0XHRcdHJvb3RbMF0uc2xpY2UoMCwgMSkgPT09IFwiIVwiID8gcm9vdFswXS5zbGljZSgxKSA6IHJvb3RbMF07XG5cdFx0XHRjb25zdCBuYW1lID0gSGVscGVyLmdldFRhZyhmbSwgcGFyZW50KTtcblxuXHRcdFx0aWYgKGEuc2xpY2UoMCwgMSkgPT09IFwiIVwiKSB7XG5cdFx0XHRcdC8vIG5lZ2F0aXZlIG1hdGNoLCBkaXNjYXJkIGVudHJ5XG5cdFx0XHRcdGlmIChuYW1lID09PSBhLnNsaWNlKDEpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdC8vIG5vIG1hdGNoLCByZWluaXRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRmb3VuZCA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIHBvc2l0aXZlIG1hdGNoLCBrZWVwIGVudHJ5XG5cdFx0XHRcdGlmIChuYW1lID09PSBhKSB7XG5cdFx0XHRcdFx0Zm91bmQgPSB0cnVlO1xuXHRcdFx0XHRcdC8vIG5vIG1hdGNoLCByZWluaXRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRmb3VuZCA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZvdW5kO1xuXHR9XG5cblx0ZmlsdGVyKGZtOiBhbnkpIHtcblx0XHRpZiAodGhpcy5wcmVkaWNhdGVzLmxlbmd0aCA9PSAwKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiAhdGhpcy5uYW1lSW5OYW1lc3BhY2UoZm0sIHRoaXMucHJlZGljYXRlcyk7XG5cdH1cbn1cblxuY2xhc3MgRnJvbnRtYXR0ZXJKUyB7XG5cdHB1YmxpYyB1dWlkOiBzdHJpbmc7XG5cdHB1YmxpYyB2ZXJzaW9uOiBzdHJpbmc7XG5cdHB1YmxpYyB0eXBlOiBudW1iZXI7XG5cdHB1YmxpYyBjcmVhdGVkQXQ6IERhdGU7XG5cdHB1YmxpYyBhdDogRGF0ZTtcblx0cHVibGljIGJlZm9yZTogRGF0ZTtcblx0cHVibGljIGFmdGVyOiBEYXRlO1xuXHRwdWJsaWMgY29tcG9uZW50czogc3RyaW5nW107XG5cdHB1YmxpYyBkb21haW5zOiBzdHJpbmdbXTtcblx0cHVibGljIG5hbWVzOiBzdHJpbmdbXTtcblx0cHVibGljIHByb2plY3RzOiBzdHJpbmdbXTtcblx0cHVibGljIGZtO1xuXHRwdWJsaWMgY29udGVudHM6IHN0cmluZ1tdO1xuXHRwdWJsaWMgdHJhaXRzOiBzdHJpbmdbXTtcblx0cHVibGljIGNvbnRleHRzOiBzdHJpbmdbXTtcblx0cHVibGljIHN0YXR1czogc3RyaW5nO1xuXHRwdWJsaWMgZjtcblxuXHRzaW5ndWxhcih2YWx1ZXM6IHN0cmluZ1tdLCBmaWVsZDogc3RyaW5nKSB7XG5cdFx0aWYgKCFIZWxwZXIubmlsQ2hlY2sodGhpcy5mbVtmaWVsZF0pKSB7XG5cdFx0XHRjb25zdCB2YWx1ZSA9IHRoaXMuZm1bZmllbGRdO1xuXHRcdFx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuXHRcdFx0XHRpZiAoIXZhbHVlcy5jb250YWlucyh2YWx1ZSkpIHtcblx0XHRcdFx0XHR2YWx1ZXMucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnNvbGUud2Fybihcblx0XHRcdFx0XHRgJyR7ZmllbGR9JyBpcyBpZ25vcmVkLCBpbnZhbGlkIGRhdGEtdHlwZTogJyR7dHlwZW9mIHRoaXMuZm1bZmllbGRdfSdgLFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHBsdXJhbCh2YWx1ZXM6IHN0cmluZ1tdLCBmaWVsZDogc3RyaW5nKSB7XG5cdFx0aWYgKCFIZWxwZXIubmlsQ2hlY2sodGhpcy5mbVtmaWVsZF0pKSB7XG5cdFx0XHRpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5mbVtmaWVsZF0pKSB7XG5cdFx0XHRcdGNvbnNvbGUud2Fybihcblx0XHRcdFx0XHRgJyR7ZmllbGR9JyBpcyBpZ25vcmVkLCBpbnZhbGlkIGRhdGEtdHlwZTogJyR7ZmllbGR9J2AsXG5cdFx0XHRcdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmb3IgKGNvbnN0IHZhbHVlIG9mIHRoaXMuZm1bZmllbGRdKSB7XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuXHRcdFx0XHRcdFx0aWYgKCF2YWx1ZXMuY29udGFpbnModmFsdWUpKSB7XG5cdFx0XHRcdFx0XHRcdHZhbHVlcy5wdXNoKHZhbHVlKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0XHRcdFx0XHRgJyR7dmFsdWV9cy4ke3ZhbHVlfScgaXMgaWdub3JlZCwgaW52YWxpZCBkYXRhLXR5cGU6ICcke3R5cGVvZiB2YWx1ZX0nYCxcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Y29uc3RydWN0b3IocGFnZSkge1xuXHRcdEFzc2VydC5UcnVlKHBhZ2UgIT09IHVuZGVmaW5lZCwgXCIncGFnZScgaXMgdW5kZWZpbmVkXCIpO1xuXHRcdHRoaXMuZiA9IHBhZ2UuZmlsZTtcblx0XHRjb25zdCBmID0gdGhpcy5mO1xuXHRcdEFzc2VydC5UcnVlKGYgIT09IHVuZGVmaW5lZCwgXCInZicgaXMgdW5kZWZpbmVkXCIpO1xuXHRcdHRoaXMuZm0gPSBmLmZyb250bWF0dGVyO1xuXHRcdEFzc2VydC5UcnVlKHRoaXMuZm0gIT09IHVuZGVmaW5lZCwgXCInZm0nIGlzIHVuZGVmaW5lZFwiKTtcblx0XHRBc3NlcnQuVHJ1ZShcblx0XHRcdHRoaXMuZm0udXVpZCAhPT0gdW5kZWZpbmVkLFxuXHRcdFx0YCd1dWlkJyBpcyB1bmRlZmluZWQgZm9yICcke3RoaXMuZi5wYXRofSdgLFxuXHRcdCk7XG5cdFx0Ly8gQXNzZXJ0LlRydWUodGhpcy5mbS52ZXJzaW9uICE9PSB1bmRlZmluZWQsIFwiJ3ZlcnNpb24nIGlzIHVuZGVmaW5lZFwiKTtcblx0XHQvLyBBc3NlcnQuVHJ1ZShmbS5jcmVhdGVkX2F0ICE9PSB1bmRlZmluZWQsIFwiJ2NyZWF0ZWRfYXQnIGlzIHVuZGVmaW5lZFwiKTtcblxuXHRcdHRoaXMudXVpZCA9IHRoaXMuZm0udXVpZDtcblx0XHR0aGlzLnZlcnNpb24gPSB0aGlzLmZtLnZlcnNpb247XG5cdFx0dGhpcy50eXBlID0gdGhpcy5mbS50eXBlO1xuXHRcdHRoaXMuY3JlYXRlZEF0ID0gbmV3IERhdGUodGhpcy5mbS5jcmVhdGVkX2F0KTtcblx0XHR0aGlzLmF0ID0gdGhpcy5mbS5hdCAhPT0gdW5kZWZpbmVkID8gbmV3IERhdGUodGhpcy5mbS5hdCkgOiBuZXcgRGF0ZSgpO1xuXHRcdHRoaXMuYmVmb3JlID1cblx0XHRcdHRoaXMuZm0uYmVmb3JlICE9PSB1bmRlZmluZWRcblx0XHRcdFx0PyBuZXcgRGF0ZSh0aGlzLmZtLmJlZm9yZSlcblx0XHRcdFx0OiBuZXcgRGF0ZSgpO1xuXHRcdHRoaXMuYWZ0ZXIgPVxuXHRcdFx0dGhpcy5mbS5hZnRlciAhPT0gdW5kZWZpbmVkID8gbmV3IERhdGUodGhpcy5mbS5hZnRlcikgOiBuZXcgRGF0ZSgpO1xuXHRcdHRoaXMuY29tcG9uZW50cyA9IFtdO1xuXHRcdHRoaXMuZG9tYWlucyA9IFtdO1xuXHRcdHRoaXMucHJvamVjdHMgPSBbXTtcblx0XHR0aGlzLmNvbnRleHRzID0gW107XG5cdFx0dGhpcy50cmFpdHMgPSBbXTtcblxuXHRcdGNvbnN0IGRvbWFpbnMgPSBbXTtcblx0XHRjb25zdCBjb21wb25lbnRzID0gW107XG5cdFx0Y29uc3QgcHJvamVjdHMgPSBbXTtcblx0XHRjb25zdCBuYW1lcyA9IFtdO1xuXHRcdGNvbnN0IGNvbnRleHRzID0gW107XG5cdFx0Y29uc3QgY29udGVudHMgPSBbXTtcblx0XHRjb25zdCB0cmFpdHMgPSBbXTtcblxuXHRcdGlmICghSGVscGVyLm5pbENoZWNrKHRoaXMuZm0udGFncykpIHtcblx0XHRcdGlmICghQXJyYXkuaXNBcnJheSh0aGlzLmZtLnRhZ3MpKSB7XG5cdFx0XHRcdGNvbnNvbGUud2FybihcIid0YWdzJyBpcyBpZ25vcmVkLCBpbnZhbGlkIGRhdGEtdHlwZVwiKTtcblx0XHRcdFx0dGhpcy5mbS50YWdzID0gW107XG5cdFx0XHR9XG5cblx0XHRcdGZvciAoY29uc3QgdGFnIG9mIHRoaXMuZm0udGFncykge1xuXHRcdFx0XHRpZiAodGFnLnNsaWNlKDAsIDcpID09PSBcImRvbWFpbi9cIikge1xuXHRcdFx0XHRcdGRvbWFpbnMucHVzaCh0YWcuc2xpY2UoNykpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHRhZy5zbGljZSgwLCAxMCkgPT09IFwiY29tcG9uZW50L1wiKSB7XG5cdFx0XHRcdFx0Y29tcG9uZW50cy5wdXNoKHRhZy5zbGljZSgxMCkpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHRhZy5zbGljZSgwLCA4KSA9PT0gXCJwcm9qZWN0L1wiKSB7XG5cdFx0XHRcdFx0cHJvamVjdHMucHVzaCh0YWcuc2xpY2UoOCkpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHRhZy5zbGljZSgwLCA1KSA9PT0gXCJuYW1lL1wiKSB7XG5cdFx0XHRcdFx0bmFtZXMucHVzaCh0YWcuc2xpY2UoNSkpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHRhZy5zbGljZSgwLCA4KSA9PSBcImNvbnRleHQvXCIpIHtcblx0XHRcdFx0XHRjb250ZXh0cy5wdXNoKHRhZy5zbGljZSg4KSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAodGFnLnNsaWNlKDAsIDgpID09IFwiY29udGVudC9cIikge1xuXHRcdFx0XHRcdGNvbnRlbnRzLnB1c2godGFnLnNsaWNlKDgpKTtcblx0XHRcdFx0fSBlbHNlIGlmICh0YWcuc2xpY2UoMCwgNikgPT0gXCJ0cmFpdC9cIikge1xuXHRcdFx0XHRcdHRyYWl0cy5wdXNoKHRhZy5zbGljZSg2KSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLnNpbmd1bGFyKGRvbWFpbnMsIFwiZG9tYWluXCIpO1xuXHRcdHRoaXMucGx1cmFsKGRvbWFpbnMsIFwiZG9tYWluc1wiKTtcblx0XHR0aGlzLnNpbmd1bGFyKGNvbXBvbmVudHMsIFwiY29tcG9uZW50c1wiKTtcblx0XHR0aGlzLnBsdXJhbChjb21wb25lbnRzLCBcImNvbXBvbmVudHNcIik7XG5cdFx0dGhpcy5zaW5ndWxhcihwcm9qZWN0cywgXCJwcm9qZWN0XCIpO1xuXHRcdHRoaXMucGx1cmFsKHByb2plY3RzLCBcInByb2plY3RzXCIpO1xuXHRcdHRoaXMuc2luZ3VsYXIoY29udGVudHMsIFwiY29udGVudHNcIik7XG5cdFx0dGhpcy5wbHVyYWwoY29udGVudHMsIFwiY29udGVudHNcIik7XG5cdFx0dGhpcy5zaW5ndWxhcihuYW1lcywgXCJuYW1lXCIpO1xuXHRcdHRoaXMucGx1cmFsKG5hbWVzLCBcIm5hbWVzXCIpO1xuXHRcdHRoaXMucGx1cmFsKG5hbWVzLCBcImFsaWFzXCIpO1xuXHRcdHRoaXMuc2luZ3VsYXIodHJhaXRzLCBcInRyYWl0XCIpO1xuXHRcdHRoaXMucGx1cmFsKHRyYWl0cywgXCJ0cmFpdHNcIik7XG5cblx0XHR0aGlzLmRvbWFpbnMgPSBkb21haW5zO1xuXHRcdHRoaXMuY29tcG9uZW50cyA9IGNvbXBvbmVudHM7XG5cdFx0dGhpcy5wcm9qZWN0cyA9IHByb2plY3RzO1xuXHRcdHRoaXMubmFtZXMgPSBuYW1lcztcblx0XHR0aGlzLmNvbnRleHRzID0gY29udGV4dHM7XG5cdFx0dGhpcy5jb250ZW50cyA9IGNvbnRlbnRzO1xuXHRcdHRoaXMudHJhaXRzID0gdHJhaXRzO1xuXHR9XG5cblx0Z2V0RG9tYWluKGVtcHR5RGVmYXVsdCA9IHRydWUpOiBzdHJpbmcge1xuXHRcdGlmIChlbXB0eURlZmF1bHQpIHtcblx0XHRcdHJldHVybiB0aGlzLmRvbWFpbnNbMF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB0aGlzLmRvbWFpbnNbMF0gPT09IHVuZGVmaW5lZCA/IFwidW5rbm93blwiIDogdGhpcy5kb21haW5zWzBdO1xuXHRcdH1cblx0fVxuXG5cdGdldERvbWFpbnMoKTogc3RyaW5nW10ge1xuXHRcdHJldHVybiB0aGlzLmRvbWFpbnM7XG5cdH1cblxuXHRnZXRUcmFpdHMoKTogc3RyaW5nW10ge1xuXHRcdHJldHVybiB0aGlzLnRyYWl0cztcblx0fVxuXG5cdGdldENvbXBvbmVudHMoKTogc3RyaW5nW10ge1xuXHRcdHJldHVybiB0aGlzLmNvbXBvbmVudHM7XG5cdH1cblxuXHRnZXRQcm9qZWN0KGVtcHR5RGVmYXVsdCA9IHRydWUpOiBzdHJpbmcge1xuXHRcdGlmIChlbXB0eURlZmF1bHQpIHtcblx0XHRcdHJldHVybiB0aGlzLnByb2plY3RzWzBdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wcm9qZWN0c1swXSA9PT0gdW5kZWZpbmVkID8gXCJcIiA6IHRoaXMucHJvamVjdHNbMF07XG5cdFx0fVxuXHR9XG5cblx0Z2V0UHJvamVjdHMoKTogc3RyaW5nW10ge1xuXHRcdHJldHVybiB0aGlzLnByb2plY3RzO1xuXHR9XG5cblx0Z2V0TmFtZShlbXB0eURlZmF1bHQgPSB0cnVlKTogc3RyaW5nIHtcblx0XHRpZiAoZW1wdHlEZWZhdWx0KSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5uYW1lc1swXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHRoaXMubmFtZXNbMF0gPT09IHVuZGVmaW5lZCA/IFwiXCIgOiB0aGlzLm5hbWVzWzBdO1xuXHRcdH1cblx0fVxuXG5cdGdldENvbnRlbnQoZW1wdHlEZWZhdWx0ID0gdHJ1ZSk6IHN0cmluZyB7XG5cdFx0aWYgKGVtcHR5RGVmYXVsdCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuY29udGVudHNbMF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB0aGlzLmNvbnRlbnRzWzBdID09PSB1bmRlZmluZWQgPyBcIlwiIDogdGhpcy5jb250ZW50c1swXTtcblx0XHR9XG5cdH1cblxuXHRnZXROYW1lcygpOiBzdHJpbmdbXSB7XG5cdFx0cmV0dXJuIHRoaXMubmFtZXM7XG5cdH1cblxuXHRnZXRDb250ZXh0KGVtcHR5RGVmYXVsdCA9IHRydWUpOiBzdHJpbmcge1xuXHRcdGlmIChlbXB0eURlZmF1bHQpIHtcblx0XHRcdHJldHVybiB0aGlzLmNvbnRleHRzWzBdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jb250ZXh0c1swXSA9PT0gdW5kZWZpbmVkID8gXCJcIiA6IHRoaXMuY29udGV4dHNbMF07XG5cdFx0fVxuXHR9XG5cblx0cmVzb2x2ZShkdikge1xuXHRcdGNvbnN0IGRvbWFpbnMgPSBbXTtcblx0XHRmb3IgKGNvbnN0IGRvbWFpbiBvZiB0aGlzLmRvbWFpbnMpIHtcblx0XHRcdGlmIChIZWxwZXIuaXNVVUlEKGRvbWFpbikpIHtcblx0XHRcdFx0Y29uc3QgcGFnZXMgPSBkdlxuXHRcdFx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLkRvbWFpbnN9XCJgKVxuXHRcdFx0XHRcdC53aGVyZSgocGFnZSkgPT4gcGFnZS5maWxlLmZyb250bWF0dGVyLnV1aWQgPT09IGRvbWFpbik7XG5cdFx0XHRcdGlmIChwYWdlcy5sZW5ndGggPiAxKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCk7XG5cdFx0XHRcdH0gZWxzZSBpZiAocGFnZXMubGVuZ3RoID09PSAxKSB7XG5cdFx0XHRcdFx0Y29uc3QgcGFnZSA9IHBhZ2VzWzBdO1xuXHRcdFx0XHRcdGRvbWFpbnMucHVzaChwYWdlLmZpbGUuZnJvbnRtYXR0ZXIubmFtZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IHBhZ2VzID0gZHZcblx0XHRcdFx0XHQucGFnZXMoYFwiJHtQYXRocy5Eb21haW5zfVwiYClcblx0XHRcdFx0XHQud2hlcmUoKHBhZ2UpID0+IHBhZ2UuZmlsZS5mcm9udG1hdHRlci5uYW1lID09PSBkb21haW4pO1xuXHRcdFx0XHRpZiAocGFnZXMubGVuZ3RoID4gMSkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcigpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHBhZ2VzLmxlbmd0aCA9PT0gMSkge1xuXHRcdFx0XHRcdGNvbnN0IHBhZ2UgPSBwYWdlc1swXTtcblx0XHRcdFx0XHRkb21haW5zLnB1c2gocGFnZS5maWxlLmZyb250bWF0dGVyLm5hbWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChkb21haW5zLmxlbmd0aCAhPT0gdGhpcy5kb21haW5zLmxlbmd0aCkge1xuXHRcdFx0Y29uc29sZS53YXJuKGBEb21haW4gcmVzb2x1dGlvbiBmYWlsZWQgZm9yOiAke3RoaXMuZG9tYWluc31gKTtcblx0XHR9XG5cblx0XHR0aGlzLmRvbWFpbnMgPSBkb21haW5zO1xuXHR9XG59XG5cbmNsYXNzIFZhbGlkYXRpb25FcnJvciBleHRlbmRzIEVycm9yIHtcblx0Y29uc3RydWN0b3IobWVzc2FnZSkge1xuXHRcdHN1cGVyKG1lc3NhZ2UpOyAvLyAoMSlcblx0XHR0aGlzLm5hbWUgPSBcIlZhbGlkYXRpb25FcnJvclwiOyAvLyAoMilcblx0fVxufVxuXG5leHBvcnQgY29uc3QgQXNzZXJ0ID0ge1xuXHRUcnVlKHByZWRpY2F0ZTogYm9vbGVhbiwgbWVzc2FnZTogc3RyaW5nKSB7XG5cdFx0aWYgKCFwcmVkaWNhdGUpIHtcblx0XHRcdHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IobWVzc2FnZSk7XG5cdFx0fVxuXHR9LFxufTtcblxuZXhwb3J0IGNvbnN0IEhlbHBlciA9IHtcblx0bmlsQ2hlY2sodmFsOiBhbnkpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdmFsID09PSB1bmRlZmluZWQgfHwgdmFsID09PSBudWxsO1xuXHR9LFxuXG5cdGdldEtleUZ1Y2soZ3JvdXBCeSkge1xuXHRcdHN3aXRjaCAoZ3JvdXBCeSkge1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdGNhc2UgXCJkb25lQXRcIjpcblx0XHRcdFx0cmV0dXJuIChlbnRyeSkgPT5cblx0XHRcdFx0XHRlbnRyeS5maWxlLmZyb250bWF0dGVyLmRvbmVBdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwiY3JlYXRlZEF0XCI6XG5cdFx0XHRcdHJldHVybiAoZW50cnkpID0+XG5cdFx0XHRcdFx0ZW50cnkuZmlsZS5mcm9udG1hdHRlci5jcmVhdGVkQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcInByb2plY3RcIjpcblx0XHRcdFx0cmV0dXJuIChlbnRyeSkgPT4gZW50cnkuZmlsZS5mcm9udG1hdHRlci5wcm9qZWN0O1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgXCJhcmVhXCI6XG5cdFx0XHRcdHJldHVybiAoZW50cnkpID0+IGVudHJ5LmZpbGUuZnJvbnRtYXR0ZXIuYXJlYTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9LFxuXG5cdGdldEtleShncm91cEJ5KSB7XG5cdFx0c3dpdGNoIChncm91cEJ5KSB7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0Y2FzZSBcImRvbmVBdFwiOlxuXHRcdFx0XHRyZXR1cm4gKGVudHJ5KSA9PiBlbnRyeS5kb25lQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcImNyZWF0ZWRBdFwiOlxuXHRcdFx0XHRyZXR1cm4gKGVudHJ5KSA9PiBlbnRyeS5jcmVhdGVkQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcInByb2plY3RcIjpcblx0XHRcdFx0cmV0dXJuIChlbnRyeSkgPT4gZW50cnkucHJvamVjdDtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwiYXJlYVwiOlxuXHRcdFx0XHRyZXR1cm4gKGVudHJ5KSA9PiBlbnRyeS5hcmVhO1xuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cdH0sXG5cblx0bnVtYmVyVHlwZVRvU3RyaW5nKHZhbCk6IHN0cmluZyB7XG5cdFx0c3dpdGNoICh2YWwudHlwZSkge1xuXHRcdFx0Y2FzZSBUeXBlcy5GbGVldGluZzpcblx0XHRcdFx0cmV0dXJuIFwiZmxlZXRpbmdcIjtcblx0XHRcdGNhc2UgVHlwZXMuTG9nOlxuXHRcdFx0XHRyZXR1cm4gXCJsb2dcIjtcblx0XHRcdGNhc2UgVHlwZXMuUHJvamVjdDpcblx0XHRcdFx0cmV0dXJuIFwicHJvamVjdFwiO1xuXHRcdFx0Y2FzZSBUeXBlcy5Pcmc6XG5cdFx0XHRcdHJldHVybiBcIm9yZ1wiO1xuXHRcdFx0Y2FzZSBUeXBlcy5Eb21haW46XG5cdFx0XHRcdHJldHVybiBcImRvbWFpblwiO1xuXHRcdFx0Y2FzZSBUeXBlcy5Db21wb25lbnQ6XG5cdFx0XHRcdHJldHVybiBcImNvbXBvbmVudFwiO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdGBudW1iZXJUeXBlVG9TdHJpbmc6IHR5cGU6IFwiJHt2YWwudHlwZX1cIiBub3QgaW1wbGVtZW50ZWQgXCIke3ZhbC51dWlkfVwiYCxcblx0XHRcdFx0KTtcblx0XHR9XG5cdH0sXG5cblx0cm91bmRUb09uZURlY2ltYWwodmFsOiBudW1iZXIpOiBudW1iZXIge1xuXHRcdHJldHVybiBNYXRoLnJvdW5kKHZhbCAqIDEwKSAvIDEwO1xuXHR9LFxuXG5cdGlzQ2hpbGRUYWcocGFyZW50LCBjaGlsZCkge1xuXHRcdGlmIChjaGlsZC5sZW5ndGggPD0gcGFyZW50Lmxlbmd0aCArIDEpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9IGVsc2UgaWYgKGNoaWxkLnNsaWNlKDAsIHBhcmVudC5sZW5ndGggKyAxKSAhPSBgJHtwYXJlbnR9L2ApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0Z2V0RmllbGQoZmllbGQsIGRlZmF1bHRWYWx1ZSkge1xuXHRcdGlmIChmaWVsZCA9PT0gdW5kZWZpbmVkIHx8IGZpZWxkID09PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gZGVmYXVsdFZhbHVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gZmllbGQ7XG5cdFx0fVxuXHR9LFxuXG5cdGdldERhdGUoZHQpIHtcblx0XHRpZiAoZHQgPT09IFwiXCIgfHwgZHQgPT09IG51bGwpIHtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fSBlbHNlIGlmIChkdCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRkdCA9IG5ldyBEYXRlKGR0KTtcblx0XHRcdGlmIChpc05hTihkdCkpIHtcblx0XHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBkdDtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cdH0sXG5cblx0Z2V0VGFnKGZtLCB0eXBlLCBlbXB0eURlZmF1bHQgPSB1bmRlZmluZWQpIHtcblx0XHRsZXQgbmFtZSA9IFwiXCI7XG5cdFx0bGV0IGRlZmF1bHRWYWx1ZSA9IFwiXCI7XG5cblx0XHRpZiAodHlwZSA9PT0gXCJhcmVhXCIpIHtcblx0XHRcdG5hbWUgPSBOYW1lc3BhY2UuQXJlYTtcblx0XHRcdGRlZmF1bHRWYWx1ZSA9IERlZmF1bHQuQXJlYTtcblx0XHR9IGVsc2UgaWYgKHR5cGUgPT09IFwiY29udGV4dFwiKSB7XG5cdFx0XHRuYW1lID0gTmFtZXNwYWNlLkNvbnRleHQ7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSBEZWZhdWx0LkNvbnRleHQ7XG5cdFx0fSBlbHNlIGlmICh0eXBlID09PSBcImxheWVyXCIpIHtcblx0XHRcdG5hbWUgPSBOYW1lc3BhY2UuTGF5ZXI7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSBEZWZhdWx0LkxheWVyO1xuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gXCJvcmdcIikge1xuXHRcdFx0bmFtZSA9IE5hbWVzcGFjZS5Pcmc7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSBEZWZhdWx0Lk9yZztcblx0XHR9IGVsc2UgaWYgKHR5cGUgPT09IFwicHJvamVjdFwiKSB7XG5cdFx0XHRuYW1lID0gTmFtZXNwYWNlLlByb2plY3Q7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSBEZWZhdWx0LlByb2plY3Q7XG5cdFx0fSBlbHNlIGlmICh0eXBlID09IFwiZG9tYWluXCIpIHtcblx0XHRcdG5hbWUgPSBcImRvbWFpblwiO1xuXHRcdFx0ZGVmYXVsdFZhbHVlID0gXCJub25lXCI7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgZ2V0VGFnIGdvdCB1bnN1cG9ydGVkIHR5cGU6ICcke3R5cGV9J2ApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGxlbiA9IG5hbWUubGVuZ3RoICsgMTtcblx0XHRjb25zdCBkZWZhdWx0VGFnID0gYCR7bmFtZX0vJHtkZWZhdWx0VmFsdWV9YDtcblxuXHRcdGxldCBkZWZhdWx0UmV0VmFsID0gZGVmYXVsdFRhZztcblx0XHRpZiAoZW1wdHlEZWZhdWx0KSB7XG5cdFx0XHRkZWZhdWx0UmV0VmFsID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gZGVmYXVsdFJldFZhbDtcblx0XHR9XG5cblx0XHRjb25zdCB0YWdzID0gZm0udGFncztcblx0XHRpZiAodGFncyA9PT0gdW5kZWZpbmVkIHx8IHRhZ3MubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gZGVmYXVsdFJldFZhbDtcblx0XHR9XG5cdFx0Ly8gLT4gdGFnIG4nZXhpc3RlIHBhcyAtPiB2YWxldXIgcGFyIGRlZmF1dFxuXHRcdC8vIC0+IHRhZyBleGlzdGUgbWFpcyBpbCBhIHVuZSB2YWxldXIgcGFyIGRlZmF1dCAtPiB2YWxldXIgcGFyIGRlZmF1dFxuXHRcdGZvciAoY29uc3QgdGFnIG9mIHRhZ3MpIHtcblx0XHRcdGlmICh0YWcgPT0gZGVmYXVsdFRhZykge1xuXHRcdFx0XHRyZXR1cm4gZGVmYXVsdFJldFZhbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRhZy5sZW5ndGggPiBsZW4gJiYgdGFnLnNsaWNlKDAsIGxlbikgPT0gYCR7bmFtZX0vYCkge1xuXHRcdFx0XHRyZXR1cm4gdGFnO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBkZWZhdWx0UmV0VmFsO1xuXHR9LFxuXG5cdGdldE5hbWUoZm0pOiBzdHJpbmcge1xuXHRcdGNvbnN0IGNvbXBvbmVudHMgPSBIZWxwZXIuZ2V0Q29tcG9uZW50cyhmbSk7XG5cdFx0aWYgKGNvbXBvbmVudHMubGVuZ3RoIDwgMSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBIZWxwZXIuZ2V0TmFtZSgpICR7Zm19YCk7XG5cdFx0fVxuXG5cdFx0bGV0IG5hbWUgPSB1bmRlZmluZWQ7XG5cdFx0bGV0IG9jY3VyZW5jZXMgPSAwO1xuXHRcdGZvciAoY29uc3QgY29tcG9uZW50IG9mIGNvbXBvbmVudHMpIHtcblx0XHRcdGlmIChjb21wb25lbnQuc2xpY2UoMCwgMTUpID09PSBcImNvbXBvbmVudC9uYW1lL1wiKSB7XG5cdFx0XHRcdG5hbWUgPSBjb21wb25lbnQuc2xpY2UoMTUpO1xuXHRcdFx0XHRvY2N1cmVuY2VzICs9IDE7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKG9jY3VyZW5jZXMgPiAxKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdGBIZWxwZXIuZ2V0TmFtZSgpICR7Zm19IG11bHRpcGxlIG9jY3VyZW5jZXMgb2YgJ2NvbXBvbmVudC9uYW1lJ2AsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGlmIChuYW1lID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0YEhlbHBlci5nZXROYW1lKCkgJHtmbX0gJ2NvbXBvbmVudC9uYW1lJyB1bmRlZmluZWRgLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbmFtZTtcblx0fSxcblxuXHRnZXRDb21wb25lbnRzKGZtKSB7XG5cdFx0Y29uc3QgY29tcG9uZW50cyA9IFtdO1xuXHRcdGlmIChIZWxwZXIubmlsQ2hlY2soZm0udGFncykpIHtcblx0XHRcdHJldHVybiBbXTtcblx0XHR9XG5cdFx0Zm9yIChjb25zdCB0YWcgb2YgZm0udGFncykge1xuXHRcdFx0aWYgKHRhZy5sZW5ndGggPiAxMCAmJiB0YWcuc2xpY2UoMCwgMTApID09PSBcImNvbXBvbmVudC9cIikge1xuXHRcdFx0XHRjb21wb25lbnRzLnB1c2godGFnKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGNvbXBvbmVudHM7XG5cdH0sXG5cblx0Z2V0QXJlYShmbSwgZW1wdHlEZWZhdWx0ID0gZmFsc2UpIHtcblx0XHRyZXR1cm4gSGVscGVyLmdldFRhZyhmbSwgXCJhcmVhXCIsIGVtcHR5RGVmYXVsdCk7XG5cdH0sXG5cblx0Z2V0Q29udGV4dChmbSwgZW1wdHlEZWZhdWx0ID0gZmFsc2UpIHtcblx0XHRyZXR1cm4gSGVscGVyLmdldFRhZyhmbSwgXCJjb250ZXh0XCIsIGVtcHR5RGVmYXVsdCk7XG5cdH0sXG5cblx0Z2V0RG9tYWluKGZtLCBlbXB0eURlZmF1bHQgPSBmYWxzZSkge1xuXHRcdHJldHVybiBIZWxwZXIuZ2V0VGFnKGZtLCBcImRvbWFpblwiLCBlbXB0eURlZmF1bHQpO1xuXHR9LFxuXG5cdGdldExheWVyKGZtLCBlbXB0eURlZmF1bHQgPSBmYWxzZSkge1xuXHRcdHJldHVybiBIZWxwZXIuZ2V0VGFnKGZtLCBcImxheWVyXCIsIGVtcHR5RGVmYXVsdCk7XG5cdH0sXG5cblx0Z2V0T3JnKGZtLCBlbXB0eURlZmF1bHQgPSBmYWxzZSkge1xuXHRcdHJldHVybiBIZWxwZXIuZ2V0VGFnKGZtLCBcIm9yZ1wiLCBlbXB0eURlZmF1bHQpO1xuXHR9LFxuXG5cdGdldFByb2plY3QoZm0sIGVtcHR5RGVmYXVsdCA9IGZhbHNlKSB7XG5cdFx0cmV0dXJuIEhlbHBlci5nZXRUYWcoZm0sIFwicHJvamVjdFwiLCBlbXB0eURlZmF1bHQpO1xuXHR9LFxuXG5cdGR1cmF0aW9uU3RyaW5nVG9TZWModmFsKSB7XG5cdFx0aWYgKHZhbCA9PT0gdW5kZWZpbmVkIHx8IHZhbC5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblx0XHRjb25zdCBtdWx0ID0gdmFsLnNsaWNlKC0xKTtcblx0XHRsZXQgbSA9IDA7XG5cdFx0aWYgKG11bHQgPT09IFwiaFwiKSB7XG5cdFx0XHRtID0gNjAgKiA2MDtcblx0XHR9IGVsc2UgaWYgKG11bHQgPT09IFwibVwiKSB7XG5cdFx0XHRtID0gNjA7XG5cdFx0fSBlbHNlIGlmIChtdWx0ID09PSBcImRcIikge1xuXHRcdFx0bSA9IDI0ICogNjAgKiA2MDtcblx0XHR9IGVsc2UgaWYgKG11bHQgPT0gXCJ3XCIpIHtcblx0XHRcdG0gPSAyNCAqIDYwICogNjAgKiA3O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLndhcm4oYFVuaGFuZGxlZCBjYXNlIHZhbDogJHt2YWx9YCk7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdHJldHVybiBtICogcGFyc2VJbnQodmFsLnNsaWNlKDAsIC0xKSk7XG5cdH0sXG5cblx0bXNlY1RvU3RyaW5nRHVyYXRpb24odmFsOiBudW1iZXIpIHtcblx0XHRjb25zdCBvbmVIb3VySW5Nc2VjID0gMzYwMDAwMDsgLy8gMSBob3VyIGluIG1zZWNcblx0XHRjb25zdCBvbmVEYXlJbk1zZWMgPSA4NjQwMDAwMDsgLy8gMSBkYXkgaW4gbXNlY1xuXHRcdGlmICh2YWwgPj0gMjQgKiBvbmVIb3VySW5Nc2VjKSB7XG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRTdHJpbmcoSGVscGVyLnJvdW5kVG9PbmVEZWNpbWFsKHZhbCAvIG9uZURheUluTXNlYykpLnBhZFN0YXJ0KFxuXHRcdFx0XHRcdDIsXG5cdFx0XHRcdFx0XCIwXCIsXG5cdFx0XHRcdCkgKyBcIiBkXCJcblx0XHRcdCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFN0cmluZyhIZWxwZXIucm91bmRUb09uZURlY2ltYWwodmFsIC8gb25lSG91ckluTXNlYykpLnBhZFN0YXJ0KFxuXHRcdFx0XHRcdDIsXG5cdFx0XHRcdFx0XCIwXCIsXG5cdFx0XHRcdCkgKyBcIiBoXCJcblx0XHRcdCk7XG5cdFx0fVxuXHR9LFxuXG5cdGlzVVVJRCh2YWw6IHN0cmluZyk6IGJvb2xlYW4ge1xuXHRcdGlmICh0eXBlb2YgdmFsICE9PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiB2YWwubGVuZ3RoID09PSAzNjtcblx0fSxcblxuXHRzb3J0QnlBZ2UoYSwgYikge1xuXHRcdGNvbnN0IGZtQSA9IG5ldyBGcm9udG1hdHRlckpTKGEpO1xuXHRcdGNvbnN0IGZtQiA9IG5ldyBGcm9udG1hdHRlckpTKGIpO1xuXG5cdFx0cmV0dXJuIGZtQS5jcmVhdGVkQXQuZ2V0VGltZSgpIC0gZm1CLmNyZWF0ZWRBdC5nZXRUaW1lKCk7XG5cdH0sXG5cblx0c29ydEJ5UHJpb3JpdHkoYSwgYikge1xuXHRcdGNvbnN0IGZtQSA9IG5ldyBGcm9udG1hdHRlckpTKGEpO1xuXHRcdGNvbnN0IGZtQiA9IG5ldyBGcm9udG1hdHRlckpTKGIpO1xuXG5cdFx0cmV0dXJuIGZtQi5mbS5wcmlvcml0eSAtIGZtQS5mbS5wcmlvcml0eTtcblx0fSxcblxuXHRzb3J0QnlQcmlvcml0eUFuZEFnZShhLCBiKSB7XG5cdFx0Y29uc3QgZm1BID0gbmV3IEZyb250bWF0dGVySlMoYSk7XG5cdFx0Y29uc3QgZm1CID0gbmV3IEZyb250bWF0dGVySlMoYik7XG5cblx0XHRpZiAoZm1BLmZtLnByaW9yaXR5ICE9PSBmbUIuZm0ucHJpb3JpdHkucHJpb3JpdHkpIHtcblx0XHRcdHJldHVybiBIZWxwZXIuc29ydEJ5UHJpb3JpdHkoYSwgYik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBIZWxwZXIuc29ydEJ5QWdlKGEsIGIpO1xuXHRcdH1cblx0fSxcblxuXHRzb3J0QnlEdXJhdGlvbihhLCBiKSB7XG5cdFx0Y29uc3QgZm1BID0gbmV3IEZyb250bWF0dGVySlMoYSk7XG5cdFx0Y29uc3QgZm1CID0gbmV3IEZyb250bWF0dGVySlMoYik7XG5cdFx0cmV0dXJuIChcblx0XHRcdEhlbHBlci5kdXJhdGlvblN0cmluZ1RvU2VjKGZtQS5mbS50aW1lX2VzdGltYXRlKSAtXG5cdFx0XHRIZWxwZXIuZHVyYXRpb25TdHJpbmdUb1NlYyhmbUIuZm0udGltZV9lc3RpbWF0ZSlcblx0XHQpO1xuXHR9LFxuXG5cdHNvcnRCeVByaW9yaXR5QW5kRHVyYXRpb24oYSwgYikge1xuXHRcdGNvbnN0IGZtQSA9IG5ldyBGcm9udG1hdHRlckpTKGEpO1xuXHRcdGNvbnN0IGZtQiA9IG5ldyBGcm9udG1hdHRlckpTKGIpO1xuXG5cdFx0aWYgKGZtQS5mbS5wcmlvcml0eSAhPT0gZm1CLmZtLnByaW9yaXR5KSB7XG5cdFx0XHRyZXR1cm4gSGVscGVyLnNvcnRCeVByaW9yaXR5KGEsIGIpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gSGVscGVyLnNvcnRCeUR1cmF0aW9uKGEsIGIpO1xuXHRcdH1cblx0fSxcblxuXHRzb3J0QnlQcmlvcml0eUFuZER1cmF0aW9uQW5kQWdlKGEsIGIpIHtcblx0XHRjb25zdCBmbUEgPSBuZXcgRnJvbnRtYXR0ZXJKUyhhKTtcblx0XHRjb25zdCBmbUIgPSBuZXcgRnJvbnRtYXR0ZXJKUyhiKTtcblxuXHRcdGlmIChmbUEuZm0ucHJpb3JpdHkgIT09IGZtQi5mbS5wcmlvcml0eSkge1xuXHRcdFx0cmV0dXJuIEhlbHBlci5zb3J0QnlQcmlvcml0eShhLCBiKTtcblx0XHR9IGVsc2UgaWYgKGZtQS5mbS50aW1lX2VzdGltYXRlICE9PSBmbUIuZm0udGltZV9lc3RpbWF0ZSkge1xuXHRcdFx0cmV0dXJuIEhlbHBlci5zb3J0QnlEdXJhdGlvbihhLCBiKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIEhlbHBlci5zb3J0QnlBZ2UoYSwgYik7XG5cdFx0fVxuXHR9LFxufTtcblxuZXhwb3J0IGNvbnN0IEF1dG9GaWVsZCA9IHtcblx0dGFncyhkdiwgZm0sIGxldmVsID0gMikge1xuXHRcdGNvbnN0IHRhZ3MgPSBmbS50YWdzO1xuXHRcdGlmICh0YWdzID09IHVuZGVmaW5lZCB8fCB0YWdzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRhZ3Muc29ydCgpO1xuXHRcdGR2LmhlYWRlcihsZXZlbCwgXCJUYWdzXCIpO1xuXHRcdGxldCBzID0gXCJcIjtcblx0XHRmb3IgKGNvbnN0IHRhZyBvZiB0YWdzKSB7XG5cdFx0XHRzICs9IGAgIyR7dGFnfWA7XG5cdFx0fVxuXHRcdGR2LnBhcmFncmFwaChzKTtcblx0fSxcblxuXHRoZWFsbW9uKGR2KSB7XG5cdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhkdi5jdXJyZW50KCkpO1xuXHRcdGNvbnN0IGN1cnJlbnQgPSBmbS5jcmVhdGVkQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cblx0XHRjb25zdCBwYWdlcyA9IGR2LnBhZ2VzKGBcIiR7UGF0aHMuSm91cm5hbH1cImApLndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRjb25zdCBqRm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdGlmIChqRm0uZ2V0UHJvamVjdCgpICE9PSBcImhvbWVjb29rXCIpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgakN1cnJlbnQgPSBudWxsO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0akN1cnJlbnQgPSBqRm0uY3JlYXRlZEF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xuXHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdGR2LnBhcmFncmFwaChcblx0XHRcdFx0XHRgSW52YWxpZCBkYXRlOiAke1JlbmRlcmVyLm1ha2VMaW5rU2hvcnRVVUlEKGR2LCBwYWdlLmZpbGUpfWAsXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoakZtKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGN1cnJlbnQgIT09IGpDdXJyZW50KSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSk7XG5cblx0XHRpZiAocGFnZXMubGVuZ3RoKSB7XG5cdFx0XHRkdi5oZWFkZXIoNCwgXCJyZXBhc1wiKTtcblx0XHRcdGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuXHRcdFx0XHRkdi5wYXJhZ3JhcGgoUmVuZGVyZXIubWFrZUxpbmtTaG9ydFVVSUQoZHYsIHBhZ2UuZmlsZSkpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRhdXRob3JzKGR2LCBmbSkge1xuXHRcdGNvbnN0IGF1dGhvcnMgPSBmbS5hdXRob3JzO1xuXHRcdGlmIChhdXRob3JzID09PSB1bmRlZmluZWQgfHwgYXV0aG9ycy5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRkdi5oZWFkZXIoMywgXCJBdXRob3JzXCIpO1xuXHRcdGR2Lmxpc3QoYXV0aG9ycyk7XG5cdH0sXG5cblx0dGl0bGUoZHYsIGZtKSB7XG5cdFx0Y29uc3QgdGl0bGUgPSBmbS5hbGlhcztcblx0XHRpZiAodGl0bGUgPT09IHVuZGVmaW5lZCB8fCB0aXRsZS5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRkdi5oZWFkZXIoMywgdGl0bGUpO1xuXHR9LFxuXG5cdGxvZ3MoZHYsIGVudHJpZXMpIHtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0bGV0IHRvdGFsVGltZSA9IDA7XG5cblx0XHRmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcblx0XHRcdGNvbnN0IGZtZSA9IGVudHJ5LmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRjb25zdCBlID0gW107XG5cdFx0XHRsZXQgc3RhcnQ6IGFueSA9IDA7XG5cdFx0XHRsZXQgc3RvcDogYW55ID0gMDtcblx0XHRcdGlmIChmbWUgPT09IHVuZGVmaW5lZCB8fCBmbWUuY3JlYXRlZF9hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBmcm9udG1hdHRlcjogJHtmbWUudXVpZH1gKTtcblx0XHRcdH1cblxuXHRcdFx0c3RhcnQgPSBuZXcgRGF0ZShmbWUuY3JlYXRlZF9hdCk7XG5cdFx0XHRlLnB1c2goc3RhcnQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCkpO1xuXHRcdFx0aWYgKGZtZS5kb25lX2F0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0c3RvcCA9IERhdGUubm93KCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzdG9wID0gbmV3IERhdGUoZm1lLmRvbmVfYXQpO1xuXHRcdFx0fVxuXHRcdFx0dG90YWxUaW1lICs9IHN0b3AgLSBzdGFydDtcblx0XHRcdGUucHVzaChcblx0XHRcdFx0ZHYuc2VjdGlvbkxpbmsoXG5cdFx0XHRcdFx0Zm1lLnV1aWQsXG5cdFx0XHRcdFx0XCIjIyBDb250ZW50XCIsXG5cdFx0XHRcdFx0ZmFsc2UsXG5cdFx0XHRcdFx0Zm1lLnV1aWQuc2xpY2UoMCwgOCksXG5cdFx0XHRcdCksXG5cdFx0XHQpO1xuXHRcdFx0ZS5wdXNoKE1hdGgucm91bmQoKChzdG9wIC0gc3RhcnQpIC8gKDEwMDAgKiA2MCAqIDYwKSkgKiAxMCkgLyAxMCk7XG5cdFx0XHRpZiAoZm1lLnJldmlld2VkID09PSB1bmRlZmluZWQgfHwgZm1lLnJldmlld2VkID09PSAwKSB7XG5cdFx0XHRcdGUucHVzaCgwKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGUucHVzaChmbWUucmV2aWV3ZWQpO1xuXHRcdFx0fVxuXHRcdFx0YnVmZi5wdXNoKGUpO1xuXHRcdH1cblxuXHRcdGlmIChidWZmLmxlbmd0aCA+IDApIHtcblx0XHRcdGR2LmhlYWRlcigyLCBcIkxvZ3NcIik7XG5cdFx0XHRkdi50YWJsZShbXCJjcmVhdGVkX2F0XCIsIFwidXVpZFwiLCBcInNlc3Npb25cIiwgXCJyZXZpZXdlZFwiXSwgYnVmZik7XG5cdFx0XHRpZiAodG90YWxUaW1lID4gMCkge1xuXHRcdFx0XHRkdi5wYXJhZ3JhcGgoXG5cdFx0XHRcdFx0YF90b3RhbFRpbWUgKGgpOl8gJHtNYXRoLnJvdW5kKCh0b3RhbFRpbWUgLyAoMTAwMCAqIDYwICogNjApKSAqIDEwKSAvIDEwXG5cdFx0XHRcdFx0fWAsXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdG1lZGlhKGR2KSB7XG5cdFx0Y29uc3QgY3VycmVudCA9IGR2LmN1cnJlbnQoKTtcblx0XHRjb25zdCBmbSA9IGN1cnJlbnQuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRjb25zdCBwYWdlcyA9IGR2LnBhZ2VzKGBcIiR7UGF0aHMuUmVmc30vJHtmbS5yZWZfaWR9XCJgKS5hcnJheSgpO1xuXHRcdGlmIChwYWdlcy5sZW5ndGggIT09IDEpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Y29uc3QgbWVkaWEgPSBwYWdlc1swXTtcblx0XHRjb25zdCBtZWRpYUZtID0gbWVkaWEuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRBdXRvRmllbGQudGl0bGUoZHYsIG1lZGlhRm0pO1xuXHRcdGR2LnBhcmFncmFwaChSZW5kZXJlci5tYWtlTGlua0FsaWFzKGR2LCBtZWRpYS5maWxlKSk7XG5cdFx0QXV0b0ZpZWxkLmF1dGhvcnMoZHYsIG1lZGlhRm0pO1xuXHRcdEF1dG9GaWVsZC50YWdzKGR2LCBtZWRpYUZtLCAzKTtcblxuXHRcdGNvbnN0IGxvZ0VudHJpZXMgPSBkdlxuXHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuTG9nc30vJHtmbS51dWlkfVwiYClcblx0XHRcdC53aGVyZSgocCkgPT4gcC50eXBlID09PSA2KVxuXHRcdFx0LnNvcnQoKGspID0+IGsuY3JlYXRlZF9hdCwgXCJkZXNjXCIpO1xuXHRcdEF1dG9GaWVsZC5sb2dzKGR2LCBsb2dFbnRyaWVzKTtcblx0fSxcblxuXHRhdXRvRmllbGRUaXRsZShkdiwgZm0pIHtcblx0XHRjb25zdCB0aXRsZSA9IGZtLmFsaWFzO1xuXHRcdGlmICh0aXRsZSA9PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRkdi5oZWFkZXIoMSwgdGl0bGUpO1xuXHR9LFxuXG5cdGF1dG9GaWVsZEF1dGhvcnMoZHYsIGZtKSB7XG5cdFx0Y29uc3QgYXV0aG9ycyA9IGZtLmF1dGhvcnM7XG5cdFx0aWYgKGF1dGhvcnMgPT09IHVuZGVmaW5lZCB8fCBhdXRob3JzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRkdi5oZWFkZXIoMiwgXCJBdXRob3JzXCIpO1xuXHRcdGR2Lmxpc3QoYXV0aG9ycyk7XG5cdH0sXG5cblx0YXV0b0ZpZWxkVGFncyhkdiwgZm0pIHtcblx0XHRjb25zdCB0YWdzID0gZm0udGFncztcblx0XHRpZiAodGFncyA9PSB1bmRlZmluZWQgfHwgdGFncy5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0YWdzLnNvcnQoKTtcblx0XHRkdi5oZWFkZXIoMiwgXCJUYWdzXCIpO1xuXHRcdGxldCBzID0gXCJcIjtcblx0XHRmb3IgKGNvbnN0IHRhZyBvZiB0YWdzKSB7XG5cdFx0XHRzICs9IGAgIyR7dGFnfWA7XG5cdFx0fVxuXHRcdGR2LnBhcmFncmFwaChzKTtcblx0fSxcblxuXHRsaXRlcmF0dXJlKGR2KSB7XG5cdFx0Y29uc3QgY3VycmVudCA9IGR2LmN1cnJlbnQoKTtcblx0XHRjb25zdCBmbSA9IGN1cnJlbnQuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAoSGVscGVyLm5pbENoZWNrKGZtLmF1dGhvcnMpKSB7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuYXV0b0ZpZWxkVGl0bGUoZHYsIGZtKTtcblx0XHRcdHRoaXMuYXV0b0ZpZWxkQXV0aG9ycyhkdiwgZm0pO1xuXHRcdFx0dGhpcy5hdXRvRmllbGRUYWdzKGR2LCBmbSk7XG5cdFx0fVxuXHR9LFxuXG5cdGdvYWwoZHYpIHtcblx0XHRjb25zdCBjdXJyZW50ID0gZHYuY3VycmVudCgpO1xuXHRcdGNvbnN0IGZtID0gY3VycmVudC5maWxlLmZyb250bWF0dGVyO1xuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRjb25zb2xlLndhcm4oXCJmbSBpcyByZXF1aXJlZFwiKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyB0aGlzLmF1dG9GaWVsZE5lZWQoZHYsIGZtKTtcblx0XHQvLyB0aGlzLmF1dG9GaWVsZE5lZWRlZEJ5KGR2LCBjdXJyZW50KTtcblx0XHQvLyB0aGlzLmF1dG9GaWVsZFRhZ3MoZHYsIGZtKTtcblx0XHQvL1xuXHRcdGNvbnN0IGNyZWF0ZWRfYXQgPSBuZXcgRGF0ZShmbS5jcmVhdGVkX2F0KTtcblx0XHRjb25zdCBsb2dFbnRyaWVzID0gZHZcblx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLkxvZ3N9LyR7Zm0udXVpZH1cImApXG5cdFx0XHQud2hlcmUoKHApID0+IHAudHlwZSA9PT0gNilcblx0XHRcdC5zb3J0KChrKSA9PiBrLmNyZWF0ZWRfYXQsIFwiZGVzY1wiKTtcblxuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRmb3IgKGNvbnN0IGVudHJ5IG9mIGxvZ0VudHJpZXMpIHtcblx0XHRcdGNvbnN0IGZtZSA9IGVudHJ5LmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRjb25zdCBlID0gW107XG5cblx0XHRcdGlmIChmbWUgPT09IHVuZGVmaW5lZCB8fCBmbWUuY3JlYXRlZF9hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBmcm9udG1hdHRlcjogJHtmbWUudXVpZH1gKTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3Qgc3RhcnQgPSBuZXcgRGF0ZShmbWUuY3JlYXRlZF9hdCk7XG5cdFx0XHRlLnB1c2goc3RhcnQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCkpO1xuXG5cdFx0XHRlLnB1c2goXG5cdFx0XHRcdGR2LnNlY3Rpb25MaW5rKFxuXHRcdFx0XHRcdGZtZS51dWlkLFxuXHRcdFx0XHRcdFwiIyMgQ29udGVudFwiLFxuXHRcdFx0XHRcdGZhbHNlLFxuXHRcdFx0XHRcdGZtZS51dWlkLnNsaWNlKDAsIDgpLFxuXHRcdFx0XHQpLFxuXHRcdFx0KTtcblxuXHRcdFx0YnVmZi5wdXNoKGUpO1xuXHRcdH1cblxuXHRcdGNvbnN0IGJlZm9yZSA9IG5ldyBEYXRlKGZtLmJlZm9yZSk7XG5cdFx0Ly8gZGF5c1xuXHRcdGNvbnN0IHRpbWVmcmFtZSA9XG5cdFx0XHQoYmVmb3JlLmdldFRpbWUoKSAtIGNyZWF0ZWRfYXQuZ2V0VGltZSgpKSAvICgxMDAwICogMzYwMCAqIDI0KTtcblx0XHRsZXQgdGltZWZyYW1lVGV4dCA9IFwiXCI7XG5cdFx0Ly8gMSBqb3VyXG5cdFx0Ly8gMSBzZW1haW5lXG5cdFx0Ly8gMiBzZW1haW5lXG5cdFx0Ly8gMSBtb2lzXG5cdFx0Ly8gMiBtb2lzXG5cdFx0Ly8gNiBtb2lzXG5cdFx0Ly8gMSBhblxuXHRcdC8vIDIgYW5zXG5cdFx0Ly8gNSBhbnNcblx0XHRkdi5oZWFkZXIoMywgXCJUaW1lZnJhbWVcIik7XG5cdFx0aWYgKHRpbWVmcmFtZSA+IDAgJiYgdGltZWZyYW1lIDwgMzApIHtcblx0XHRcdHRpbWVmcmFtZVRleHQgPSBcInJ1bmF3YXlcIjtcblx0XHR9IGVsc2UgaWYgKHRpbWVmcmFtZSA8IDYwKSB7XG5cdFx0XHR0aW1lZnJhbWVUZXh0ID0gXCIxMCwwMDAgZmVldFwiO1xuXHRcdH0gZWxzZSBpZiAodGltZWZyYW1lIDwgMzYwKSB7XG5cdFx0XHR0aW1lZnJhbWVUZXh0ID0gXCIyMCwwMDAgZmVldFwiO1xuXHRcdH0gZWxzZSBpZiAodGltZWZyYW1lIDwgNzIwKSB7XG5cdFx0XHR0aW1lZnJhbWVUZXh0ID0gXCIzMCwwMDAgZmVldFwiO1xuXHRcdH0gZWxzZSBpZiAodGltZWZyYW1lIDwgMTA4MCkge1xuXHRcdFx0dGltZWZyYW1lVGV4dCA9IFwiNDAsMDAwIGZlZXRcIjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGltZWZyYW1lVGV4dCA9IFwiNTAsMDAwIGZlZXRcIjtcblx0XHR9XG5cblx0XHRkdi5wYXJhZ3JhcGgodGltZWZyYW1lVGV4dCk7XG5cblx0XHRpZiAoYnVmZi5sZW5ndGggPiAwKSB7XG5cdFx0XHRkdi5oZWFkZXIoMiwgXCJSZXZpZXdzXCIpO1xuXHRcdFx0ZHYudGFibGUoW1wicmV2aWV3ZWRfYXRcIiwgXCJ1dWlkXCJdLCBidWZmKTtcblx0XHR9XG5cdH0sXG5cblx0ZGFpbHkoZHYpIHtcblx0XHRjb25zdCBjdXJyZW50ID0gZHYuY3VycmVudCgpLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0Y29uc3QgY3VycmVudEF0ID0gbmV3IERhdGUoY3VycmVudC5hdCk7XG5cdFx0Y29uc3QgY3VycmVudEF0U2hvcnQgPSBjdXJyZW50QXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0Y29uc3QgZ29uZXh0ID0gYXBwLnBsdWdpbnMucGx1Z2lucy5vYnNpZGlhbl9nb25leHQ7XG5cdFx0Y29uc3Qgbm90ZUhlbHBlciA9IG5ldyBOb3RlSGVscGVyKGdvbmV4dCwgZHYsIG5ldyBGcm9udG1hdHRlcihnb25leHQpKTtcblxuXHRcdGNvbnN0IHBhZ2VzID0gZHZcblx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfVwiYClcblx0XHRcdC53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0XHQvLyBpZiAocGFnZS5maWxlLmZyb250bWF0dGVyLmF0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ly8gXHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdC8vIH1cblxuXHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRpZiAoY3VycmVudC51dWlkID09PSBmbS51dWlkKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGZtLmZtLnN0YXR1cyAhPT0gXCJ0b2RvXCIgfHwgZm0uZ2V0UHJvamVjdCgpID09PSBcImRhaWx5XCIpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRjb25zdCBub3cgPSBjdXJyZW50QXQ7XG5cdFx0XHRcdGxldCBmbUF0U2hvcnQgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Zm1BdFNob3J0ID0gZm0uYXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cdFx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihgJHtmbS51dWlkfWApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCFub3RlSGVscGVyLmlzRG9hYmxlKHBhZ2UsIGN1cnJlbnRBdCkpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBpZiAoZm0udXVpZCA9PT0gXCIyYTk3ZGUzNS1jYTg3LTQyNjctOTE1OS02YzA5NmQ0MTYzZjFcIikge1xuXHRcdFx0XHQvLyBcdGNvbnNvbGUubG9nKGB1dWlkOiAke2ZtLnV1aWR9YCk7XG5cdFx0XHRcdC8vIFx0Y29uc29sZS5sb2coYG5vdzogJHtub3d9YCk7XG5cdFx0XHRcdC8vIFx0Y29uc29sZS5sb2coYGZtLmF0OiAke2ZtLmF0fWApO1xuXHRcdFx0XHQvLyBcdGNvbnNvbGUubG9nKGBmbUF0U2hvcnQ6ICR7Zm1BdFNob3J0fWApO1xuXHRcdFx0XHQvLyBcdGNvbnNvbGUubG9nKGBjdXJyZW50QXRTaG9ydDogJHtjdXJyZW50QXRTaG9ydH1gKTtcblx0XHRcdFx0Ly8gXHRjb25zb2xlLmxvZyhgY29uZGl0aW9uOiAke2ZtLmF0ICE9PSB1bmRlZmluZWQgJiYgZm1BdFNob3J0ID09PSBjdXJyZW50QXRTaG9ydH1gKTtcblx0XHRcdFx0Ly8gfVxuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRwYWdlLmZpbGUuZnJvbnRtYXR0ZXIuYXQgIT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0XHRcdGZtQXRTaG9ydCA9PT0gY3VycmVudEF0U2hvcnRcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0cGFnZS5maWxlLmZyb250bWF0dGVyLmF0ICE9PSB1bmRlZmluZWQgJiZcblx0XHRcdFx0XHRmbS5hdC5nZXRUaW1lKCkgPCBub3cuZ2V0VGltZSgpXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHBhZ2UuZmlsZS5mcm9udG1hdHRlci5iZWZvcmUgIT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0XHRcdGZtLmJlZm9yZS5nZXRUaW1lKCkgPiBub3cuZ2V0VGltZSgpXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHBhZ2UuZmlsZS5mcm9udG1hdHRlci5hZnRlciAhPT0gdW5kZWZpbmVkICYmXG5cdFx0XHRcdFx0Zm0uYWZ0ZXIuZ2V0VGltZSgpIDwgbm93LmdldFRpbWUoKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0pXG5cdFx0XHQuc29ydCgoaykgPT4gay5hdCwgXCJhc2NcIik7XG5cblx0XHRpZiAocGFnZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuXHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdGNvbnN0IGggPSBTdHJpbmcoZm0uYXQuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbSA9IFN0cmluZyhmbS5hdC5nZXRNaW51dGVzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGlmIChwYWdlLmZpbGUuZnJvbnRtYXR0ZXIuc3RhdHVzID09PSBcImRvbmVcIikge1xuXHRcdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRcdGB+fiR7UmVuZGVyZXIubWFrZUxpbmtTaG9ydFVVSUQoZHYsIHBhZ2UuZmlsZSwgXCJUYXNrXCIpfX5+YCxcblx0XHRcdFx0XHRgfn4ke2h9OiR7bX1+fmAsXG5cdFx0XHRcdF0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YnVmZi5wdXNoKFtcblx0XHRcdFx0XHRgJHtSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRChkdiwgcGFnZS5maWxlLCBcIlRhc2tcIil9YCxcblx0XHRcdFx0XHRgJHtofToke219YCxcblx0XHRcdFx0XSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGR2LnRhYmxlKFtcInV1aWRcIiwgXCJhdFwiXSwgYnVmZik7XG5cdH0sXG5cblx0ZGFpbHlHb2Fscyhkdikge1xuXHRcdGNvbnN0IGN1cnJlbnQgPSBkdi5jdXJyZW50KCkuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRjb25zdCBjdXJyZW50QXQgPSBuZXcgRGF0ZShjdXJyZW50LmF0KTtcblxuXHRcdGNvbnN0IHBhZ2VzID0gZHZcblx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLkdvYWxzfVwiYClcblx0XHRcdC53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0XHRpZiAocGFnZS5maWxlLmZyb250bWF0dGVyLnN0YXR1cyAhPT0gXCJhY3RpdmVcIikge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHRcdC5zb3J0KChrKSA9PiBrLmF0LCBcImFzY1wiKTtcblxuXHRcdGlmIChwYWdlcy5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRmb3IgKGNvbnN0IHBhZ2Ugb2YgcGFnZXMpIHtcblx0XHRcdGR2LnBhcmFncmFwaChSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRChkdiwgcGFnZS5maWxlKSk7XG5cdFx0fVxuXHR9LFxuXG5cdHRhc2soZHYpIHtcblx0XHRjb25zdCBkdkxpYiA9IG5ldyBEdkxpYigpO1xuXHRcdGR2TGliLmF1dG9GaWVsZFRhc2soZHYpO1xuXHR9LFxuXG5cdGxvZyhkdikge1xuXHRcdGNvbnN0IGR2TGliID0gbmV3IER2TGliKCk7XG5cdFx0ZHZMaWIuYXV0b0ZpZWxkTG9nKGR2KTtcblx0fSxcbn07XG5cbi8vIHRoaXMgbXVzdCBiZSBjYWxsZWQgZnJvbSBgZGF0YXZpZXdqc2AgY29kZWJsb2Nrc1xuZXhwb3J0IGNvbnN0IFJlbmRlcmVyID0ge1xuXHRtYWtlTGlua05hbWUoZHYsIGYsIGFuY2hvciA9IFwiQ29udGVudFwiKSB7XG5cdFx0aWYgKEhlbHBlci5uaWxDaGVjayhmLmZyb250bWF0dGVyLm5hbWUpKSB7XG5cdFx0XHRyZXR1cm4gUmVuZGVyZXIubWFrZUxpbmtTaG9ydFVVSUQoZHYsIGYsIGFuY2hvcik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGR2LnNlY3Rpb25MaW5rKGYucGF0aCwgYW5jaG9yLCBmYWxzZSwgYCR7Zi5mcm9udG1hdHRlci5uYW1lfWApO1xuXHR9LFxuXG5cdG1ha2VMaW5rQWxpYXMoZHYsIGYsIGFuY2hvciA9IFwiQ29udGVudFwiKSB7XG5cdFx0aWYgKEhlbHBlci5uaWxDaGVjayhmLmZyb250bWF0dGVyLmFsaWFzKSkge1xuXHRcdFx0cmV0dXJuIFJlbmRlcmVyLm1ha2VMaW5rU2hvcnRVVUlEKGR2LCBmLCBhbmNob3IpO1xuXHRcdH1cblxuXHRcdHJldHVybiBkdi5zZWN0aW9uTGluayhmLnBhdGgsIGFuY2hvciwgZmFsc2UsIGAke2YuZnJvbnRtYXR0ZXIuYWxpYXN9YCk7XG5cdH0sXG5cblx0bWFrZUxpbmtTaG9ydFVVSUQoZHYsIGYsIGFuY2hvciA9IFwiQ29udGVudFwiKSB7XG5cdFx0cmV0dXJuIGR2LnNlY3Rpb25MaW5rKFxuXHRcdFx0Zi5wYXRoLFxuXHRcdFx0YW5jaG9yLFxuXHRcdFx0ZmFsc2UsXG5cdFx0XHRgJHtmLmZyb250bWF0dGVyLnV1aWQuc2xpY2UoMCwgOCl9YCxcblx0XHQpO1xuXHR9LFxuXG5cdG1ha2VMaW5rKGR2LCBmLCBuYW1lID0gdW5kZWZpbmVkLCBhbmNob3IgPSBcIkNvbnRlbnRcIikge1xuXHRcdHJldHVybiBkdi5zZWN0aW9uTGluayhmLnBhdGgsIGFuY2hvciwgZmFsc2UsIG5hbWUpO1xuXHR9LFxuXG5cdHByb2plY3RMb2dzKGR2LCBkYXRhKSB7XG5cdFx0Y29uc3QgY29scyA9IFtcInR5cGVcIiwgXCJ0YXNrX2lkXCIsIFwibG9nX2lkXCIsIFwidG9va1wiLCBcInJldmlld2VkXCJdO1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRsZXQgdG90YWxUaW1lID0gMDtcblxuXHRcdGZvciAoY29uc3QgZCBvZiBkYXRhKSB7XG5cdFx0XHRjb25zdCBmID0gZC5maWxlO1xuXHRcdFx0Y29uc3QgZm0gPSBkLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRBc3NlcnQuVHJ1ZShcblx0XHRcdFx0IUhlbHBlci5uaWxDaGVjayhmbS51dWlkKSxcblx0XHRcdFx0YFwidXVpZFwiIGlkIG5vdCBkZWZpbmVkIGZvcjogJHtmLnBhdGh9YCxcblx0XHRcdCk7XG5cdFx0XHRBc3NlcnQuVHJ1ZShcblx0XHRcdFx0IUhlbHBlci5uaWxDaGVjayhmbS50eXBlKSxcblx0XHRcdFx0YFwidHlwZVwiIGlkIG5vdCBkZWZpbmVkIGZvcjogJHtmLnBhdGh9YCxcblx0XHRcdCk7XG5cblx0XHRcdGNvbnN0IGNyZWF0ZWRBdCA9IG5ldyBEYXRlKGZtLmNyZWF0ZWRfYXQpO1xuXHRcdFx0Y29uc3QgZG9uZUF0ID0gbmV3IERhdGUoZm0uZG9uZV9hdCk7XG5cdFx0XHRjb25zdCBkZWx0YSA9IGRvbmVBdC5nZXRUaW1lKCkgLSBjcmVhdGVkQXQuZ2V0VGltZSgpO1xuXG5cdFx0XHR0b3RhbFRpbWUgKz0gZGVsdGE7XG5cdFx0XHRjb25zdCByZWNvcmQgPSB7XG5cdFx0XHRcdHRhc2tJZDogXCJcIixcblx0XHRcdFx0bG9nSWQ6IFJlbmRlcmVyLm1ha2VMaW5rQWxpYXMoZHYsIGYpLFxuXHRcdFx0XHR0b29rOiBNYXRoLnJvdW5kKChkZWx0YSAvICgxMDAwICogNjAgKiA2MCkpICogMTApIC8gMTAsXG5cdFx0XHRcdHJldmlld2VkOiBIZWxwZXIubmlsQ2hlY2soZm0ucmV2aWV3ZWQpID8gMCA6IGZtLnJldmlld2VkLFxuXHRcdFx0XHR0eXBlOiB1bmRlZmluZWQsXG5cdFx0XHR9O1xuXHRcdFx0Y29uc3QgcGFnZXMgPSBkdi5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfS8ke2ZtLnBhcmVudF9pZH1cImApLmFycmF5KCk7XG5cdFx0XHRpZiAocGFnZXMubGVuZ3RoICE9PSAxKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHRgcGFyZW50IHRhc2sgd2l0aCBpZDogXCIke2ZtLnBhcmVudF9pZH1cIiBkb2VzIG5vdCBleGlzdHNgLFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgcGFyZW50ID0gcGFnZXNbMF07XG5cdFx0XHRzd2l0Y2ggKHBhcmVudC5maWxlLmZyb250bWF0dGVyLnR5cGUpIHtcblx0XHRcdFx0Y2FzZSBUeXBlcy5UYXNrOlxuXHRcdFx0XHRcdHJlY29yZC50eXBlID0gYDxmb250IGNvbG9yPThCMDAwMD50YXNrPC9mb250PmA7XG5cdFx0XHRcdFx0cmVjb3JkLnRhc2tJZCA9IFJlbmRlcmVyLm1ha2VMaW5rU2hvcnRVVUlEKFxuXHRcdFx0XHRcdFx0ZHYsXG5cdFx0XHRcdFx0XHRwYXJlbnQuZmlsZSxcblx0XHRcdFx0XHRcdFwiVGFza1wiLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgVHlwZXMuTWVkaWE6XG5cdFx0XHRcdFx0cmVjb3JkLnR5cGUgPSBgPGZvbnQgY29sb3I9MDAwMDhCPm1lZGlhPC9mb250PmA7XG5cdFx0XHRcdFx0cmVjb3JkLnRhc2tJZCA9IFJlbmRlcmVyLm1ha2VMaW5rU2hvcnRVVUlEKFxuXHRcdFx0XHRcdFx0ZHYsXG5cdFx0XHRcdFx0XHRwYXJlbnQuZmlsZSxcblx0XHRcdFx0XHRcdFwiQ29udGVudFwiLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgVHlwZXMuUHJheGlzOlxuXHRcdFx0XHRcdHJlY29yZC50eXBlID0gYDxmb250IGNvbG9yPUZGOEMwMD5wcmF4aXM8L2ZvbnQ+YDtcblx0XHRcdFx0XHRyZWNvcmQudGFza0lkID0gUmVuZGVyZXIubWFrZUxpbmtTaG9ydFVVSUQoXG5cdFx0XHRcdFx0XHRkdixcblx0XHRcdFx0XHRcdHBhcmVudC5maWxlLFxuXHRcdFx0XHRcdFx0XCJDb250ZW50XCIsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBUeXBlcy5Qcm92aXNpb246XG5cdFx0XHRcdFx0cmVjb3JkLnR5cGUgPSBgPGZvbnQgY29sb3I9REMxNDNDPnByb3Zpc2lvbjwvZm9udD5gO1xuXHRcdFx0XHRcdHJlY29yZC50YXNrSWQgPSBSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRChcblx0XHRcdFx0XHRcdGR2LFxuXHRcdFx0XHRcdFx0cGFyZW50LmZpbGUsXG5cdFx0XHRcdFx0XHRcIkNvbnRlbnRcIixcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHRcdGBSZW5kZXJlci5wcm9qZWN0TG9nczogdHlwZSBcIiR7cGFyZW50LmZpbGUuZnJvbnRtYXR0ZXIudHlwZX1cIiBub3QgaW1wbGVtZW50ZWRgLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRyZWNvcmQudHlwZSxcblx0XHRcdFx0cmVjb3JkLnRhc2tJZCxcblx0XHRcdFx0cmVjb3JkLmxvZ0lkLFxuXHRcdFx0XHRyZWNvcmQudG9vayxcblx0XHRcdFx0cmVjb3JkLnJldmlld2VkLFxuXHRcdFx0XSk7XG5cdFx0fVxuXG5cdFx0ZHYudGFibGUoY29scywgYnVmZik7XG5cdFx0Ly8gTWF0aC5yb3VuZCgodG90YWxUaW1lIC8gKDEwMDAgKiA2MCAqIDYwKSkgKiAxMCkgLyAxMCxcblx0fSxcblxuXHRnb2FsKGR2LCBkYXRhKSB7XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGZvciAoY29uc3QgZm0gb2YgZGF0YSkge1xuXHRcdFx0Y29uc3QgY3JlYXRlZF9hdCA9IGZtLmNyZWF0ZWRBdDtcblx0XHRcdGNvbnN0IGxvZ0VudHJpZXMgPSBkdlxuXHRcdFx0XHQucGFnZXMoYFwiJHtQYXRocy5Mb2dzfS8ke2ZtLnV1aWR9XCJgKVxuXHRcdFx0XHQud2hlcmUoKHApID0+IHAudHlwZSA9PT0gNilcblx0XHRcdFx0LnNvcnQoKGspID0+IGsuY3JlYXRlZF9hdCwgXCJkZXNjXCIpO1xuXHRcdFx0Y29uc3QgYmVmb3JlID0gbmV3IERhdGUoZm0uZm0uYmVmb3JlKTtcblxuXHRcdFx0Y29uc3QgdGltZWZyYW1lID1cblx0XHRcdFx0KGJlZm9yZS5nZXRUaW1lKCkgLSBjcmVhdGVkX2F0LmdldFRpbWUoKSkgLyAoMTAwMCAqIDM2MDAgKiAyNCk7XG5cdFx0XHRsZXQgdGltZWZyYW1lVGV4dCA9IFwiXCI7XG5cdFx0XHRpZiAodGltZWZyYW1lID4gMCAmJiB0aW1lZnJhbWUgPCAzMCkge1xuXHRcdFx0XHR0aW1lZnJhbWVUZXh0ID0gXCJydW5hd2F5XCI7XG5cdFx0XHR9IGVsc2UgaWYgKHRpbWVmcmFtZSA8IDYwKSB7XG5cdFx0XHRcdHRpbWVmcmFtZVRleHQgPSBcIjEwLDAwMCBmZWV0XCI7XG5cdFx0XHR9IGVsc2UgaWYgKHRpbWVmcmFtZSA8IDM2MCkge1xuXHRcdFx0XHR0aW1lZnJhbWVUZXh0ID0gXCIyMCwwMDAgZmVldFwiO1xuXHRcdFx0fSBlbHNlIGlmICh0aW1lZnJhbWUgPCA3MjApIHtcblx0XHRcdFx0dGltZWZyYW1lVGV4dCA9IFwiMzAsMDAwIGZlZXRcIjtcblx0XHRcdH0gZWxzZSBpZiAodGltZWZyYW1lIDwgMTA4MCkge1xuXHRcdFx0XHR0aW1lZnJhbWVUZXh0ID0gXCI0MCwwMDAgZmVldFwiO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGltZWZyYW1lVGV4dCA9IFwiNTAsMDAwIGZlZXRcIjtcblx0XHRcdH1cblxuXHRcdFx0YnVmZi5wdXNoKFtcblx0XHRcdFx0YmVmb3JlLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApLFxuXHRcdFx0XHRkdi5zZWN0aW9uTGluayhcblx0XHRcdFx0XHRmbS51dWlkLFxuXHRcdFx0XHRcdFwiIyMgQ29udGVudFwiLFxuXHRcdFx0XHRcdGZhbHNlLFxuXHRcdFx0XHRcdGZtLnV1aWQuc2xpY2UoMCwgOCksXG5cdFx0XHRcdCksXG5cdFx0XHRcdGZtLmdldERvbWFpbigpLFxuXHRcdFx0XHR0aW1lZnJhbWVUZXh0LFxuXHRcdFx0XSk7XG5cdFx0fVxuXG5cdFx0ZHYudGFibGUoW1wiZGVhZGxpbmVcIiwgXCJ1dWlkXCIsIFwiZG9tYWluXCIsIFwidGltZWZyYW1lXCJdLCBidWZmKTtcblx0fSxcblxuXHRpbmJveEVudHJ5KGR2LCBkYXRhKSB7XG5cdFx0Y29uc3QgY29scyA9IFtcblx0XHRcdFwidXVpZFwiLFxuXHRcdFx0Ly8gXCJ0eXBlXCIsXG5cdFx0XHQvLyBcImFnZVwiLFxuXHRcdFx0Ly8gXCJzaXplXCIsXG5cdFx0XHRcIm5hbWVcIixcblx0XHRcdC8vIFwicHJvamVjdFwiLFxuXHRcdFx0Ly8gXCJkb21haW5cIixcblx0XHRcdC8vIFwiY29tcG9uZW50c1wiLFxuXHRcdF07XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGZvciAoY29uc3QgZCBvZiBkYXRhKSB7XG5cdFx0XHRjb25zdCBmID0gZC5maWxlO1xuXHRcdFx0Y29uc3QgZm0gPSBkLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRBc3NlcnQuVHJ1ZShcblx0XHRcdFx0IUhlbHBlci5uaWxDaGVjayhmbS51dWlkKSxcblx0XHRcdFx0YFwidXVpZFwiIGlkIG5vdCBkZWZpbmVkIGZvcjogJHtmLnBhdGh9YCxcblx0XHRcdCk7XG5cdFx0XHRBc3NlcnQuVHJ1ZShcblx0XHRcdFx0IUhlbHBlci5uaWxDaGVjayhmbS50eXBlKSxcblx0XHRcdFx0YFwidHlwZVwiIGlkIG5vdCBkZWZpbmVkIGZvcjogJHtmLnBhdGh9YCxcblx0XHRcdCk7XG5cblx0XHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG5cdFx0XHRjb25zdCBkZWx0YSA9IG5vdy5nZXRUaW1lKCkgLSBmbS5jcmVhdGVkQXQuZ2V0VGltZSgpO1xuXHRcdFx0Y29uc3Qgc2luY2UgPSBIZWxwZXIubXNlY1RvU3RyaW5nRHVyYXRpb24oZGVsdGEpO1xuXHRcdFx0bGV0IG5hbWUgPSBcIlwiO1xuXG5cdFx0XHRpZiAoZm0uZG9tYWluICE9PSBcImRvbWFpbi91bmRlZmluZWRcIikge1xuXHRcdFx0XHRuYW1lID0gZm0uZG9tYWluO1xuXHRcdFx0fSBlbHNlIGlmIChmbS5wcm9qZWN0ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bmFtZSA9IGZtLnByb2plY3Q7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRuYW1lID0gXCJcXFxcLVwiO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCByZWNvcmQgPSB7XG5cdFx0XHRcdHV1aWQ6XG5cdFx0XHRcdFx0SGVscGVyLm51bWJlclR5cGVUb1N0cmluZyhmbSkgPT09IFwiZmxlZXRpbmdcIlxuXHRcdFx0XHRcdFx0PyBgJiMxMjgxOTYgJHtSZW5kZXJlci5tYWtlTGlua0FsaWFzKGR2LCBmKX1gXG5cdFx0XHRcdFx0XHQ6IFJlbmRlcmVyLm1ha2VMaW5rQWxpYXMoZHYsIGYpLFxuXHRcdFx0XHQvLyB1dWlkOiBgJiM5NzI4ICR7UmVuZGVyZXIubWFrZUxpbmtBbGlhcyhkdiwgZil9YCxcblx0XHRcdFx0dHlwZTogSGVscGVyLm51bWJlclR5cGVUb1N0cmluZyhmbSksXG5cdFx0XHRcdHNpbmNlOiBgJHtzaW5jZX1gLFxuXHRcdFx0XHRzaXplOiBmLnNpemUsXG5cdFx0XHRcdHByb2plY3Q6IGZtLnByb2plY3QgPT09IHVuZGVmaW5lZCA/IFwiXFxcXC1cIiA6IGZtLnByb2plY3Quc2xpY2UoOCksXG5cdFx0XHRcdGRvbWFpbjogZm0uZG9tYWluID09PSB1bmRlZmluZWQgPyBcIlxcXFwtXCIgOiBmbS5kb21haW4uc2xpY2UoNyksIC8vUmVuZGVyZXIuZG9tYWluQmFzZShkdiwgZm0uZG9tYWluKSxcblx0XHRcdFx0bmFtZTogbmFtZSxcblx0XHRcdH07XG5cblx0XHRcdGlmIChyZWNvcmQudHlwZSA9PT0gXCJsb2dcIikge1xuXHRcdFx0XHRjb25zdCBwYWdlcyA9IGR2XG5cdFx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9LyR7Zm0ucGFyZW50X2lkfVwiYClcblx0XHRcdFx0XHQuYXJyYXkoKTtcblx0XHRcdFx0aWYgKHBhZ2VzLmxlbmd0aCAhPT0gMSkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihgJHtmbS5wYXJlbnRfaWR9ICR7Zm0uaWR9YCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29uc3QgcGFyZW50ID0gcGFnZXNbMF07XG5cdFx0XHRcdHN3aXRjaCAocGFyZW50LnR5cGUpIHtcblx0XHRcdFx0XHRjYXNlIFR5cGVzLlRhc2s6XG5cdFx0XHRcdFx0XHRyZWNvcmQudXVpZCA9IGAmIzEyODIxMSAke3JlY29yZC51dWlkfWA7XG5cdFx0XHRcdFx0XHRyZWNvcmQudHlwZSA9IGA8Zm9udCBjb2xvcj04QjAwMDA+dGFzazwvZm9udD5gO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBUeXBlcy5QcmF4aXM6XG5cdFx0XHRcdFx0XHRyZWNvcmQudXVpZCA9IGAmIzEyODE4OCAke3JlY29yZC51dWlkfWA7XG5cdFx0XHRcdFx0XHRyZWNvcmQudHlwZSA9IGA8Zm9udCBjb2xvcj1GRjhDMDA+cHJheGlzPC9mb250PmA7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlIFR5cGVzLk1lZGlhOlxuXHRcdFx0XHRcdFx0cmVjb3JkLnV1aWQgPSBgJiMxMjgxOTEgJHtyZWNvcmQudXVpZH1gO1xuXHRcdFx0XHRcdFx0cmVjb3JkLnR5cGUgPSBgPGZvbnQgY29sb3I9MDAwMDhCPm1lZGlhPC9mb250PmA7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlIFR5cGVzLlByb3Zpc2lvbjpcblx0XHRcdFx0XHRcdHJlY29yZC50eXBlID0gYDxmb250IGNvbG9yPURDMTQzQz5wcm92aXNpb248L2ZvbnQ+YDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRyZWNvcmQudXVpZCxcblx0XHRcdFx0Ly8gcmVjb3JkLnR5cGUsXG5cdFx0XHRcdC8vIHJlY29yZC5zaW5jZSxcblx0XHRcdFx0Ly8gcmVjb3JkLnNpemUsXG5cdFx0XHRcdHJlY29yZC5uYW1lLFxuXHRcdFx0XHQvLyByZWNvcmQucHJvamVjdCxcblx0XHRcdFx0Ly8gcmVjb3JkLmRvbWFpbixcblx0XHRcdF0pO1xuXHRcdH1cblxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHR9LFxuXG5cdHJlc291cmNlQmFzZShkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGNvbHMgPSBbXCJ1dWlkXCJdO1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRmb3IgKGNvbnN0IGQgb2YgZGF0YSkge1xuXHRcdFx0Y29uc3QgZiA9IGQuZmlsZTtcblx0XHRcdGNvbnN0IGZtID0gZC5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdCFIZWxwZXIubmlsQ2hlY2soZm0udXVpZCksXG5cdFx0XHRcdGBcInV1aWRcIiBpZCBub3QgZGVmaW5lZCBmb3I6ICR7Zi5wYXRofWAsXG5cdFx0XHQpO1xuXHRcdFx0YnVmZi5wdXNoKFtSZW5kZXJlci5tYWtlTGlua0FsaWFzKGR2LCBmKV0pO1xuXHRcdH1cblxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHR9LFxuXG5cdGJhc2ljUmVsYXRpb24oZHYsIGRhdGEpIHtcblx0XHRjb25zdCBjb2xzID0gW1widXVpZFwiLCBcIm5hbWVcIl07XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGZvciAoY29uc3QgZCBvZiBkYXRhKSB7XG5cdFx0XHRjb25zdCBmID0gZC5maWxlO1xuXHRcdFx0Y29uc3QgZm0gPSBkLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRBc3NlcnQuVHJ1ZShcblx0XHRcdFx0IUhlbHBlci5uaWxDaGVjayhmbS51dWlkKSxcblx0XHRcdFx0YFwidXVpZFwiIGlkIG5vdCBkZWZpbmVkIGZvcjogJHtmLnBhdGh9YCxcblx0XHRcdCk7XG5cdFx0XHRidWZmLnB1c2goW1JlbmRlcmVyLm1ha2VMaW5rQWxpYXMoZHYsIGYpLCBmbS5uYW1lXSk7XG5cdFx0fVxuXG5cdFx0ZHYudGFibGUoY29scywgYnVmZik7XG5cdH0sXG5cblx0cHJheGlzQmFzZShkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRjb25zdCBjb2xzID0gW1widGFza3NcIiwgXCJ1dWlkXCIsIFwiZXN0aW1hdGVcIl07XG5cdFx0Zm9yIChjb25zdCBkIG9mIGRhdGEpIHtcblx0XHRcdGNvbnN0IGYgPSBkLmZpbGU7XG5cdFx0XHRjb25zdCBmbSA9IGYuZnJvbnRtYXR0ZXI7XG5cdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRkdi5tYXJrZG93blRhc2tMaXN0KGYudGFza3MpLFxuXHRcdFx0XHRkdi5maWxlTGluayhmLnBhdGgsIGZhbHNlLCBmLm5hbWUuc2xpY2UoMCwgOCkpLFxuXHRcdFx0XHRmbS50aW1lX2VzdGltYXRlLFxuXHRcdFx0XSk7XG5cdFx0fVxuXG5cdFx0ZHYudGFibGUoY29scywgYnVmZik7XG5cdH0sXG5cblx0d2FpdGluZ1Rhc2soZHYsIGRhdGEpIHtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Y29uc3QgY29scyA9IFtcInRhc2tzXCIsIFwidXVpZFwiLCBcImVzdGltYXRlXCIsIFwiY2F1c2VcIl07XG5cdFx0Zm9yIChjb25zdCBkIG9mIGRhdGEpIHtcblx0XHRcdGNvbnN0IGYgPSBkLmZpbGU7XG5cdFx0XHRjb25zdCBmbSA9IGYuZnJvbnRtYXR0ZXI7XG5cdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRkdi5tYXJrZG93blRhc2tMaXN0KGYudGFza3MpLFxuXHRcdFx0XHRkdi5maWxlTGluayhmLnBhdGgsIGZhbHNlLCBmLm5hbWUuc2xpY2UoMCwgOCkpLFxuXHRcdFx0XHRmbS50aW1lX2VzdGltYXRlLFxuXHRcdFx0XHRmbS5jYXVzZSxcblx0XHRcdF0pO1xuXHRcdH1cblxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHR9LFxuXG5cdHJlYWR5VGFzayhkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRjb25zdCBjb2xzID0gW1widXVpZFwiLCBcInRhc2tcIiwgXCJlc3RpbWF0ZVwiLCBcImFyZWFcIl07XG5cdFx0Zm9yIChjb25zdCBkIG9mIGRhdGEpIHtcblx0XHRcdGNvbnN0IGYgPSBkLmZpbGU7XG5cdFx0XHRjb25zdCBmbSA9IGYuZnJvbnRtYXR0ZXI7XG5cblx0XHRcdGJ1ZmYucHVzaChbXG5cdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rQWxpYXMoZHYsIGYsIFwiVGFza1wiKSxcblx0XHRcdFx0ZHYubWFya2Rvd25UYXNrTGlzdChmLnRhc2tzKSxcblx0XHRcdFx0Zm0udGltZV9lc3RpbWF0ZSxcblx0XHRcdFx0SGVscGVyLmdldEZpZWxkKEhlbHBlci5nZXRBcmVhKGZtLCB0cnVlKSwgXCJcXFxcLVwiKSxcblx0XHRcdF0pO1xuXHRcdH1cblx0XHRkdi50YWJsZShjb2xzLCBidWZmKTtcblx0fSxcblxuXHRwcm92aXNpb25CYXNlKGR2LCBkYXRhKSB7XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGNvbnN0IGNvbHMgPSBbXCJ1dWlkXCIsIFwic3VwcGxpZXJcIiwgXCJjb250ZW50XCIsIFwiZXN0aW1hdGVcIl07XG5cdFx0Zm9yIChjb25zdCBkIG9mIGRhdGEpIHtcblx0XHRcdGNvbnN0IGYgPSBkLmZpbGU7XG5cdFx0XHRjb25zdCBmbSA9IGYuZnJvbnRtYXR0ZXI7XG5cdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRkdi5maWxlTGluayhmLnBhdGgsIGZhbHNlLCBmbS51dWlkLnNsaWNlKDAsIDgpKSxcblx0XHRcdFx0Zm0uc3VwcGxpZXIsXG5cdFx0XHRcdGR2Lm1hcmtkb3duVGFza0xpc3QoZi50YXNrcyksXG5cdFx0XHRcdGZtLnRpbWVfZXN0aW1hdGUsXG5cdFx0XHRdKTtcblx0XHR9XG5cdFx0ZHYudGFibGUoY29scywgYnVmZik7XG5cdH0sXG5cblx0YmFzaWNUYXNrSm91cm5hbChkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHQvLyBjb25zdCBjb2xzID0gW1wiam91cm5hbFwiLCBcInV1aWRcIiwgXCJ0YXNrc1wiLCBcImVzdGltYXRlXCJdO1xuXHRcdGNvbnN0IGNvbHMgPSBbXCJ1dWlkXCIsIFwidGFza3NcIiwgXCJlc3RpbWF0ZVwiXTtcblx0XHQvLyBjb25zdCBqb3VybmFsID0gZHYucGFnZXMoYFwiJHtQYXRocy5Kb3VybmFsfVwiYCkuYXJyYXkoKVswXS5maWxlXG5cdFx0Ly8gXHQuZnJvbnRtYXR0ZXIudGFza3M7XG5cblx0XHRmb3IgKGNvbnN0IGQgb2YgZGF0YSkge1xuXHRcdFx0Y29uc3QgZiA9IGQuZmlsZTtcblx0XHRcdGNvbnN0IGZtID0gZi5mcm9udG1hdHRlcjtcblx0XHRcdGNvbnN0IGRvbWFpbiA9XG5cdFx0XHRcdEhlbHBlci5nZXREb21haW4oZm0sIHRydWUpID09PSB1bmRlZmluZWRcblx0XHRcdFx0XHQ/IFwiXFxcXC1cIlxuXHRcdFx0XHRcdDogSGVscGVyLmdldERvbWFpbihmbSk7XG5cblx0XHRcdGlmIChmbS5yZWZfaWQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHQvLyBjb25zb2xlLmxvZyhgbmFtZTogJHtkLmZpbGUucGF0aH1gKVxuXHRcdFx0XHQvLyBjb25zb2xlLmxvZyhgdGFza3M6ICR7ZC5maWxlLnRhc2tzLmxlbmd0aH1gKVxuXHRcdFx0XHQvLyBjb25zb2xlLmxvZyhgdGFza3NCOiAke2YudGFza3MubGVuZ3RofWApXG5cdFx0XHRcdGJ1ZmYucHVzaChbXG5cdFx0XHRcdFx0Ly8gam91cm5hbC5jb250YWlucyhmbS51dWlkKSA/IFwiLT5cIiA6IFwiXFxcXC1cIixcblx0XHRcdFx0XHRkdi5maWxlTGluayhmLnBhdGgsIGZhbHNlLCBmbS51dWlkLnNsaWNlKDAsIDgpKSxcblx0XHRcdFx0XHRkdi5tYXJrZG93blRhc2tMaXN0KGYudGFza3MpLFxuXHRcdFx0XHRcdGZtLnRpbWVfZXN0aW1hdGUsXG5cdFx0XHRcdF0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc3QgcmVmID0gZHYucGFnZXMoYFwiJHtQYXRocy5SZWZzfS8ke2ZtLnJlZl9pZH1cImApLmFycmF5KCk7XG5cdFx0XHRcdGlmIChyZWYubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdFx0YHRhc2s6ICcke2ZtLnV1aWR9JyBoYXMgYW4gdW5kZWZpbmVkIHJlZl9pZDogJyR7Zm0ucmVmX2lkfSdgLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YnVmZi5wdXNoKFtcblx0XHRcdFx0XHRcdGR2LmZpbGVMaW5rKGYucGF0aCwgZmFsc2UsIGZtLnV1aWQuc2xpY2UoMCwgOCkpLFxuXHRcdFx0XHRcdFx0UmVuZGVyZXIubWFrZUxpbmtBbGlhcyhkdiwgcmVmWzBdLmZpbGUpLFxuXHRcdFx0XHRcdFx0Zm0udGltZV9lc3RpbWF0ZSxcblx0XHRcdFx0XHRcdGRvbWFpbixcblx0XHRcdFx0XHRdKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRkdi50YWJsZShjb2xzLCBidWZmKTtcblx0fSxcblx0YWN0aXZlVGFzayhkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRjb25zdCBjb2xzID0gW1widXVpZFwiLCBcInRhc2tzXCIsIFwic2Vzc2lvblwiXTtcblx0XHRmb3IgKGNvbnN0IGQgb2YgZGF0YSkge1xuXHRcdFx0Y29uc3QgZiA9IGQuZmlsZTtcblx0XHRcdGNvbnN0IGZtID0gZi5mcm9udG1hdHRlcjtcblx0XHRcdGNvbnN0IGxvZ3MgPSBkdlxuXHRcdFx0XHQucGFnZXMoYFwiJHtQYXRocy5Mb2dzfS8ke2ZtLnV1aWR9XCJgKVxuXHRcdFx0XHQud2hlcmUoKHApID0+IHAudHlwZSA9PT0gNilcblx0XHRcdFx0LnNvcnQoKGspID0+IGsuY3JlYXRlZF9hdCwgXCJkZXNjXCIpO1xuXHRcdFx0Y29uc3QgbGFzdCA9IGxvZ3NbMF07XG5cdFx0XHRjb25zdCBjcmVhdGVkQXQgPSBuZXcgRGF0ZShsYXN0LmNyZWF0ZWRfYXQpO1xuXHRcdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKTtcblx0XHRcdGJ1ZmYucHVzaChbXG5cdFx0XHRcdGR2LmZpbGVMaW5rKGYucGF0aCwgZmFsc2UsIGZtLnV1aWQuc2xpY2UoMCwgOCkpLFxuXHRcdFx0XHRkdi5tYXJrZG93blRhc2tMaXN0KGYudGFza3MpLFxuXHRcdFx0XHQoKHQpID0+IHtcblx0XHRcdFx0XHRyZXR1cm4gTWF0aC5yb3VuZCgodCAvICgzNjAwICogMTAwMCkpICogMTApIC8gMTA7XG5cdFx0XHRcdH0pKG5vdy5nZXRUaW1lKCkgLSBjcmVhdGVkQXQuZ2V0VGltZSgpKSxcblx0XHRcdF0pO1xuXHRcdH1cblx0XHRkdi50YWJsZShjb2xzLCBidWZmKTtcblx0fSxcblxuXHRiYXNpY1Rhc2soZHYsIGRhdGEpIHtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Y29uc3QgY29scyA9IFtcInV1aWRcIiwgXCJ0YXNrc1wiLCBcImVzdGltYXRlXCIsIFwiZG9tYWluXCJdO1xuXHRcdGZvciAoY29uc3QgZCBvZiBkYXRhKSB7XG5cdFx0XHRjb25zdCBmID0gZC5maWxlO1xuXHRcdFx0Y29uc3QgZm0gPSBmLmZyb250bWF0dGVyO1xuXHRcdFx0Y29uc3QgZG9tYWluID1cblx0XHRcdFx0SGVscGVyLmdldERvbWFpbihmbSwgdHJ1ZSkgPT09IHVuZGVmaW5lZFxuXHRcdFx0XHRcdD8gXCJcXFxcLVwiXG5cdFx0XHRcdFx0OiBIZWxwZXIuZ2V0RG9tYWluKGZtKTtcblxuXHRcdFx0aWYgKGZtLnJlZl9pZCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKGBuYW1lOiAke2QuZmlsZS5wYXRofWApXG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKGB0YXNrczogJHtkLmZpbGUudGFza3MubGVuZ3RofWApXG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKGB0YXNrc0I6ICR7Zi50YXNrcy5sZW5ndGh9YClcblx0XHRcdFx0YnVmZi5wdXNoKFtcblx0XHRcdFx0XHRkdi5maWxlTGluayhmLnBhdGgsIGZhbHNlLCBmbS51dWlkLnNsaWNlKDAsIDgpKSxcblx0XHRcdFx0XHRkdi5tYXJrZG93blRhc2tMaXN0KGYudGFza3MpLFxuXHRcdFx0XHRcdGZtLnRpbWVfZXN0aW1hdGUsXG5cdFx0XHRcdFx0ZG9tYWluLFxuXHRcdFx0XHRdKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IHJlZiA9IGR2LnBhZ2VzKGBcIiR7UGF0aHMuUmVmc30vJHtmbS5yZWZfaWR9XCJgKS5hcnJheSgpO1xuXHRcdFx0XHRpZiAocmVmLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHRcdGB0YXNrOiAnJHtmbS51dWlkfScgaGFzIGFuIHVuZGVmaW5lZCByZWZfaWQ6ICcke2ZtLnJlZl9pZH0nYCxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGJ1ZmYucHVzaChbXG5cdFx0XHRcdFx0XHRkdi5maWxlTGluayhmLnBhdGgsIGZhbHNlLCBmbS51dWlkLnNsaWNlKDAsIDgpKSxcblx0XHRcdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rQWxpYXMoZHYsIHJlZlswXS5maWxlKSxcblx0XHRcdFx0XHRcdGZtLnRpbWVfZXN0aW1hdGUsXG5cdFx0XHRcdFx0XHRkb21haW4sXG5cdFx0XHRcdFx0XSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0ZHYudGFibGUoY29scywgYnVmZik7XG5cdH0sXG5cblx0bG9ncyhkdiwgZW50cmllcykge1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRsZXQgdG90YWxUaW1lID0gMDtcblxuXHRcdGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xuXHRcdFx0Y29uc3QgZm1lID0gZW50cnkuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGNvbnN0IGUgPSBbXTtcblx0XHRcdGxldCBzdGFydDogYW55ID0gMDtcblx0XHRcdGxldCBzdG9wOiBhbnkgPSAwO1xuXHRcdFx0aWYgKGZtZSA9PT0gdW5kZWZpbmVkIHx8IGZtZS5jcmVhdGVkX2F0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGZyb250bWF0dGVyOiAke2ZtZS51dWlkfWApO1xuXHRcdFx0fVxuXG5cdFx0XHRzdGFydCA9IG5ldyBEYXRlKGZtZS5jcmVhdGVkX2F0KTtcblx0XHRcdGUucHVzaChzdGFydC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKSk7XG5cdFx0XHRpZiAoZm1lLmRvbmVfYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRzdG9wID0gRGF0ZS5ub3coKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHN0b3AgPSBuZXcgRGF0ZShmbWUuZG9uZV9hdCk7XG5cdFx0XHR9XG5cdFx0XHR0b3RhbFRpbWUgKz0gc3RvcCAtIHN0YXJ0O1xuXHRcdFx0ZS5wdXNoKFxuXHRcdFx0XHRkdi5zZWN0aW9uTGluayhcblx0XHRcdFx0XHRmbWUudXVpZCxcblx0XHRcdFx0XHRcIiMjIENvbnRlbnRcIixcblx0XHRcdFx0XHRmYWxzZSxcblx0XHRcdFx0XHRmbWUudXVpZC5zbGljZSgwLCA4KSxcblx0XHRcdFx0KSxcblx0XHRcdCk7XG5cdFx0XHRlLnB1c2goTWF0aC5yb3VuZCgoKHN0b3AgLSBzdGFydCkgLyAoMTAwMCAqIDYwICogNjApKSAqIDEwKSAvIDEwKTtcblx0XHRcdGlmIChmbWUucmV2aWV3ZWQgPT09IHVuZGVmaW5lZCB8fCBmbWUucmV2aWV3ZWQgPT09IDApIHtcblx0XHRcdFx0ZS5wdXNoKDApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZS5wdXNoKGZtZS5yZXZpZXdlZCk7XG5cdFx0XHR9XG5cdFx0XHRidWZmLnB1c2goZSk7XG5cdFx0fVxuXG5cdFx0aWYgKGJ1ZmYubGVuZ3RoID4gMCkge1xuXHRcdFx0ZHYuaGVhZGVyKDIsIFwiTG9nc1wiKTtcblx0XHRcdGR2LnRhYmxlKFtcImNyZWF0ZWRfYXRcIiwgXCJ1dWlkXCIsIFwic2Vzc2lvblwiLCBcInJldmlld2VkXCJdLCBidWZmKTtcblx0XHRcdGlmICh0b3RhbFRpbWUgPiAwKSB7XG5cdFx0XHRcdGR2LnBhcmFncmFwaChcblx0XHRcdFx0XHRgX3RvdGFsVGltZSAoaCk6XyAke01hdGgucm91bmQoKHRvdGFsVGltZSAvICgxMDAwICogNjAgKiA2MCkpICogMTApIC8gMTBcblx0XHRcdFx0XHR9YCxcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0bWVkaWFXaXRoTG9ncyhkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRjb25zdCBjb2xzID0gW1widXVpZFwiLCBcInRhc2tzXCIsIFwiZXN0aW1hdGVcIiwgXCJjdXJyZW50XCIsIFwiZG9tYWluXCJdO1xuXG5cdFx0Zm9yIChjb25zdCBkIG9mIGRhdGEpIHtcblx0XHRcdGNvbnN0IGYgPSBkLmZpbGU7XG5cdFx0XHRjb25zdCBmbSA9IGYuZnJvbnRtYXR0ZXI7XG5cdFx0XHRjb25zdCByZWYgPSBkdi5wYWdlcyhgXCIke1BhdGhzLlJlZnN9LyR7Zm0ucmVmX2lkfVwiYCkuYXJyYXkoKTtcblx0XHRcdGlmIChyZWYubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHRgdGFzazogJyR7Zm0udXVpZH0nIGhhcyBhbiB1bmRlZmluZWQgcmVmX2lkOiAnJHtmbS5yZWZfaWR9J2AsXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRjb25zdCBkb21haW4gPVxuXHRcdFx0XHRIZWxwZXIuZ2V0RG9tYWluKGZtLCB0cnVlKSA9PT0gdW5kZWZpbmVkXG5cdFx0XHRcdFx0PyBcIlxcXFwtXCJcblx0XHRcdFx0XHQ6IEhlbHBlci5nZXREb21haW4oZm0pO1xuXHRcdFx0Y29uc3QgbG9nRW50cmllcyA9IGR2XG5cdFx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLkxvZ3N9LyR7Zm0udXVpZH1cImApXG5cdFx0XHRcdC53aGVyZSgocCkgPT4gcC50eXBlID09PSBUeXBlcy5Mb2cpXG5cdFx0XHRcdC5zb3J0KChrKSA9PiBrLmNyZWF0ZWRfYXQsIFwiZGVzY1wiKTtcblx0XHRcdGxldCB0b3RhbFRpbWUgPSAwO1xuXHRcdFx0Zm9yIChjb25zdCBlbnRyeSBvZiBsb2dFbnRyaWVzKSB7XG5cdFx0XHRcdGNvbnN0IGZtZSA9IGVudHJ5LmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRcdGNvbnN0IGUgPSBbXTtcblx0XHRcdFx0bGV0IHN0YXJ0OiBhbnkgPSAwO1xuXHRcdFx0XHRsZXQgc3RvcDogYW55ID0gMDtcblx0XHRcdFx0aWYgKGZtZSA9PT0gdW5kZWZpbmVkIHx8IGZtZS5jcmVhdGVkX2F0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZnJvbnRtYXR0ZXI6ICR7Zm1lLnV1aWR9YCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzdGFydCA9IG5ldyBEYXRlKGZtZS5jcmVhdGVkX2F0KTtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRlLnB1c2goc3RhcnQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCkpO1xuXHRcdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGVudHJ5LnV1aWQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChmbWUuZG9uZV9hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0c3RvcCA9IERhdGUubm93KCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c3RvcCA9IG5ldyBEYXRlKGZtZS5kb25lX2F0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0b3RhbFRpbWUgKz0gc3RvcCAtIHN0YXJ0O1xuXHRcdFx0fVxuXG5cdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRkdi5maWxlTGluayhmLnBhdGgsIGZhbHNlLCBmbS51dWlkLnNsaWNlKDAsIDgpKSxcblx0XHRcdFx0UmVuZGVyZXIubWFrZUxpbmtBbGlhcyhkdiwgcmVmWzBdLmZpbGUpLFxuXHRcdFx0XHRmbS50aW1lX2VzdGltYXRlLFxuXHRcdFx0XHRgJHtNYXRoLnJvdW5kKCh0b3RhbFRpbWUgLyAoMTAwMCAqIDYwICogNjApKSAqIDEwKSAvIDEwfWhgLFxuXHRcdFx0XHRkb21haW4sXG5cdFx0XHRdKTtcblx0XHR9XG5cblx0XHRkdi50YWJsZShjb2xzLCBidWZmKTtcblx0fSxcblxuXHR0YXNrRG9uZVdpdGhMb2dzKGR2LCBkYXRhKSB7XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGNvbnN0IGNvbHMgPSBbXG5cdFx0XHRcInRhc2tJZFwiLFxuXHRcdFx0XCJsb2dJZFwiLFxuXHRcdFx0XCJjcmVhdGVkQXRcIixcblx0XHRcdFwiZG9uZUF0XCIsXG5cdFx0XHRcInRpbWVFc3RpbWF0ZVwiLFxuXHRcdFx0XCJ0b29rXCIsXG5cdFx0XHRcInByb2plY3RcIixcblx0XHRdO1xuXHRcdGZvciAoY29uc3QgZCBvZiBkYXRhKSB7XG5cdFx0XHRjb25zdCBmID0gZC5maWxlO1xuXHRcdFx0Y29uc3QgZm0gPSBkLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRjb25zdCBjcmVhdGVkQXQ6IGFueSA9IG5ldyBEYXRlKGZtLmNyZWF0ZWRfYXQpO1xuXHRcdFx0Y29uc3QgZG9uZUF0OiBhbnkgPSBuZXcgRGF0ZShmbS5kb25lX2F0KTtcblx0XHRcdGNvbnN0IHRpbWVFc3RpbWF0ZSA9IFwiXCI7XG5cdFx0XHRjb25zdCB0b29rID0gKGRvbmVBdCAtIGNyZWF0ZWRBdCkgLyAoMTAwMCAqIDM2MDApO1xuXHRcdFx0Y29uc3QgcGFnZXMgPSBkdlxuXHRcdFx0XHQucGFnZXMoYFwiJHtQYXRocy5UYXNrc31cImApXG5cdFx0XHRcdC53aGVyZSgocGFnZSkgPT4gcGFnZS5maWxlLmZyb250bWF0dGVyLnV1aWQgPT09IGZtLnBhcmVudF9pZCk7XG5cdFx0XHRpZiAocGFnZXMubGVuZ3RoICE9PSAxKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcigpO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgcGFyZW50ID0gcGFnZXNbMF07XG5cdFx0XHRjb25zdCBwYXJlbnRGbSA9IHBhcmVudC5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0Y29uc3QgcGFyZW50RiA9IHBhcmVudC5maWxlO1xuXHRcdFx0YnVmZi5wdXNoKFtcblx0XHRcdFx0UmVuZGVyZXIubWFrZUxpbmtTaG9ydFVVSUQoZHYsIHBhcmVudC5maWxlLCBcIlRhc2tcIiksXG5cdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rU2hvcnRVVUlEKGR2LCBmKSxcblx0XHRcdFx0Y3JlYXRlZEF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApLFxuXHRcdFx0XHRkb25lQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCksXG5cdFx0XHRcdHRpbWVFc3RpbWF0ZSxcblx0XHRcdFx0KCh0KSA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIE1hdGgucm91bmQodCAqIDEwKSAvIDEwO1xuXHRcdFx0XHR9KSh0b29rKSxcblx0XHRcdFx0SGVscGVyLmdldFByb2plY3QocGFyZW50Rm0pLFxuXHRcdFx0XSk7XG5cdFx0fVxuXG5cdFx0ZHYudGFibGUoY29scywgYnVmZik7XG5cdH0sXG5cblx0cHJvamVjdHMoZHYsIHBhZ2VzKSB7XG5cdFx0Y29uc3QgY29scyA9IFtcIm5hbWVcIl07XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXG5cdFx0Zm9yIChjb25zdCBwYWdlIG9mIHBhZ2VzKSB7XG5cdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0YnVmZi5wdXNoKFtSZW5kZXJlci5tYWtlTGluayhkdiwgcGFnZS5maWxlLCBmbS5nZXROYW1lKCkpXSk7XG5cdFx0fVxuXG5cdFx0ZHYudGFibGUoY29scywgYnVmZik7XG5cdH0sXG5cblx0YmFzaWNEb25lVGFza1dpdGhMb2dzKGR2LCBkYXRhKSB7XG5cdFx0Y29uc3QgY29scyA9IFtcblx0XHRcdFwidXVpZFwiLFxuXHRcdFx0XCJjcmVhdGVkQXRcIixcblx0XHRcdFwiZG9uZUF0XCIsXG5cdFx0XHRcInRpbWVFc3RpbWF0ZVwiLFxuXHRcdFx0XCJ0b29rXCIsXG5cdFx0XHRcImRlbHRhXCIsXG5cdFx0XHRcInByb2plY3RcIixcblx0XHRcdFwiYXJlYVwiLFxuXHRcdF07XG5cdFx0ZHYudGFibGUoY29scywgZGF0YSk7XG5cdH0sXG5cblx0YmFzaWNEb25lVGFza1dpdGhvdXRMb2dzKGR2LCBkYXRhKSB7XG5cdFx0Y29uc3QgY29scyA9IFtcInRhc2tJZFwiLCBcImNyZWF0ZWRBdFwiLCBcInByb2plY3RcIiwgXCJhcmVhXCJdO1xuXHRcdGR2LnRhYmxlKGNvbHMsIGRhdGEpO1xuXHR9LFxuXG5cdGJhc2ljUHJvZ3Jlc3NlZFRhc2tXaXRoTG9nKGR2LCBkYXRhKSB7XG5cdFx0Y29uc3QgY29scyA9IFtcblx0XHRcdFwidGFza0lkXCIsXG5cdFx0XHRcImxvZ0lkXCIsXG5cdFx0XHQvLyBcImNyZWF0ZWRBdFwiLFxuXHRcdFx0Ly8gXCJkb25lQXRcIixcblx0XHRcdFwidG9va1wiLFxuXHRcdFx0Ly8gXCJ0b29rQWNjXCIsXG5cdFx0XHRcInByb2plY3RcIixcblx0XHRcdC8vIFwiZG9tYWluXCIsXG5cdFx0XTtcblx0XHRkdi50YWJsZShjb2xzLCBkYXRhKTtcblx0fSxcblxuXHQvLyBkYWlseVRhc2soZHYsIGRhdGEpIHtcblx0Ly8gXHRSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRCh0aGlzLmR2LCBwYWdlLmZpbGUpLFxuXHQvLyBcdGR2LlxuXHQvLyBcdFx0XHRcdHJzLnB1c2goW1xuXHQvLyBcdFx0XHRcdFx0XCJwYXJhZ3JhcGhcIixcblx0Ly8gXHRcdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rU2hvcnRVVUlEKHRoaXMuZHYsIHBhZ2UuZmlsZSksXG5cdC8vIFx0XHRcdFx0XSk7XG5cdC8vIH1cblxuXHRkbyhkdiwgcnMpIHtcblx0XHRmb3IgKGNvbnN0IHJvdyBvZiBycykge1xuXHRcdFx0c3dpdGNoIChyb3dbMF0pIHtcblx0XHRcdFx0Y2FzZSBcImhlYWRlclwiOlxuXHRcdFx0XHRcdGNvbnN0IFssIGxldmVsLCBoZWFkaW5nXSA9IHJvdztcblx0XHRcdFx0XHRkdi5oZWFkZXIobGV2ZWwsIGhlYWRpbmcpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFwicGFyYWdyYXBoXCI6XG5cdFx0XHRcdFx0Y29uc3QgWywgdGV4dF0gPSByb3c7XG5cdFx0XHRcdFx0ZHYucGFyYWdyYXBoKHRleHQpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFwiYXJyYXlcIjpcblx0XHRcdFx0XHRjb25zdCBbLCByZW5kZXJlciwgZGF0YV0gPSByb3c7XG5cdFx0XHRcdFx0cmVuZGVyZXIoZHYsIGRhdGEpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFwic3RhdHNcIjpcblx0XHRcdFx0XHRjb25zdCBbLCBuYW1lLCB1bml0LCB2YWx1ZV0gPSByb3c7XG5cdFx0XHRcdFx0ZHYucGFyYWdyYXBoKGAke25hbWV9ICgke3VuaXR9KTogJHt2YWx1ZX1gKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFVuc3Vwb3J0ZWQgb3Bjb2RlOiBcImZ1Y2tvZmZcImApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcbn07XG5cbmV4cG9ydCBjbGFzcyBGcm9udG1hdHRlciB7XG5cdGdvbmV4dDogYW55O1xuXG5cdGNvbnN0cnVjdG9yKGdvbmV4dCkge1xuXHRcdHRoaXMuZ29uZXh0ID0gZ29uZXh0O1xuXHR9XG5cblx0cHJvamVjdFBhcnNlTWV0YShkdikge1xuXHRcdC8vIGZhdXRlIGRlIG1pZXV4IHBvdXIgbGUgbW9tZW50XG5cdFx0Y29uc3QgY3VycmVudCA9IGR2LmN1cnJlbnQoKTtcblx0XHRjb25zdCBwcm9qZWN0TmFtZSA9IGN1cnJlbnQuZmlsZS5mb2xkZXIuc2xpY2UoXG5cdFx0XHRQYXRocy5Qcm9qZWN0cy5sZW5ndGggKyAxLFxuXHRcdCk7XG5cdFx0Y29uc3QgcHJvamVjdERpciA9IGN1cnJlbnQuZmlsZS5mb2xkZXI7XG5cdFx0aWYgKHByb2plY3ROYW1lLmNvbnRhaW5zKFwiL1wiKSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRgcHJvamVjdERpcjogJHtwcm9qZWN0RGlyfSBmb2xkZXI6ICR7Y3VycmVudC5maWxlLmZvbGRlcn1gLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRjb25zdCBwYWdlcyA9IGR2LnBhZ2VzKGBcIiR7cHJvamVjdERpcn0vbWV0YVwiYCkuYXJyYXkoKTtcblx0XHRpZiAocGFnZXMubGVuZ3RoICE9PSAxKSB7XG5cdFx0XHQvLyBjb25zb2xlLmxvZyhwYWdlcyk7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYGxlbjogJHtwYWdlcy5sZW5ndGh9YCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZm0gPSBwYWdlc1swXS5maWxlLmZyb250bWF0dGVyO1xuXHRcdGNvbnN0IHV1aWQgPSBmbS51dWlkO1xuXHRcdGlmIChIZWxwZXIubmlsQ2hlY2sodXVpZCkpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgcHJvamVjdCAndXVpZCcgaXMgbm90IGRlZmluZWRgKTtcblx0XHR9XG5cblx0XHRjb25zdCBuYW1lID0gZm0ubmFtZTtcblx0XHRpZiAoSGVscGVyLm5pbENoZWNrKG5hbWUpKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYCduYW1lJyBpcyBub3QgZGVmaW5lZGApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGRvbWFpbnMgPSBmbS5kb21haW5zO1xuXHRcdGlmICghQXJyYXkuaXNBcnJheShkb21haW5zKSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGAnZG9tYWlucycgbXVzdCBiZSBvZiBhcnJheSB0eXBlYCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHV1aWQ6IHV1aWQsXG5cdFx0XHRuYW1lOiBuYW1lLFxuXHRcdFx0ZG9tYWluczogZG9tYWlucyxcblx0XHR9O1xuXHR9XG5cblx0Z2V0Q3JlYXRlZEF0KGYpOiBEYXRlIHtcblx0XHRyZXR1cm4gSGVscGVyLm5pbENoZWNrKGYuZnJvbnRtYXR0ZXIuY3JlYXRlZF9hdClcblx0XHRcdD8gbmV3IERhdGUoZi5jdGltZS50cylcblx0XHRcdDogbmV3IERhdGUoZi5mcm9udG1hdHRlci5jcmVhdGVkX2F0KTtcblx0fVxuXG5cdGdldEN1cnJlbnRGcm9udG1hdHRlcigpIHtcblx0XHRjb25zdCBmaWxlID0gdGhpcy5nb25leHQud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcblx0XHRjb25zdCBmaWxlQ29udGVudCA9IHRoaXMuZ29uZXh0Lm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpO1xuXHRcdGlmIChmaWxlQ29udGVudCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHQvLyBjb25zb2xlLndhcm4oXCInZmlsZUNvbnRlbnQnIGlzIHVuZGVmaW5lZFwiKTtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZm0gPSBmaWxlQ29udGVudC5mcm9udG1hdHRlcjtcblx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Ly8gY29uc29sZS53YXJuKFwiJ2ZtJyBpcyB1bmRlZmluZWRcIik7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdHJldHVybiBmbTtcblx0fVxuXG5cdHBhcnNlTGlzdEJ5TmFtZXNwYWNlKGZtKSB7XG5cdFx0Y29uc3QgYnlBcmVhcyA9IGZtLmJ5X2FyZWFzID09PSB1bmRlZmluZWQgPyBbXSA6IGZtLmJ5X2FyZWFzO1xuXHRcdGNvbnN0IGJ5Q29udGV4dHMgPSBmbS5ieV9jb250ZXh0cyA9PT0gdW5kZWZpbmVkID8gW10gOiBmbS5ieV9jb250ZXh0cztcblx0XHRjb25zdCBieUxheWVycyA9IGZtLmJ5X2xheWVycyA9PT0gdW5kZWZpbmVkID8gW10gOiBmbS5ieV9sYXllcnM7XG5cdFx0Y29uc3QgYnlPcmdzID0gZm0uYnlfb3JncyA9PT0gdW5kZWZpbmVkID8gW10gOiBmbS5ieV9vcmdzO1xuXHRcdGNvbnN0IGJ5UHJvamVjdHMgPSBmbS5ieV9wcm9qZWN0cyA9PT0gdW5kZWZpbmVkID8gW10gOiBmbS5ieV9wcm9qZWN0cztcblxuXHRcdHJldHVybiBbYnlBcmVhcywgYnlDb250ZXh0cywgYnlMYXllcnMsIGJ5T3JncywgYnlQcm9qZWN0c107XG5cdH1cblxuXHRwYXJzZUxpc3RCZWZvcmVBZnRlcihmbSkge1xuXHRcdGNvbnN0IGJlZm9yZSA9IEhlbHBlci5nZXREYXRlKGZtLmJlZm9yZSk7XG5cdFx0Y29uc3QgYWZ0ZXIgPSBIZWxwZXIuZ2V0RGF0ZShmbS5hZnRlcik7XG5cdFx0cmV0dXJuIFtiZWZvcmUsIGFmdGVyXTtcblx0fVxuXG5cdHBhcnNlTGlzdEZpbHRlckJ5KGZtKSB7XG5cdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBbXTtcblx0XHR9XG5cblx0XHRjb25zdCBmaWx0ZXJCeSA9IGZtLmZpbHRlcl9ieTtcblx0XHRpZiAoIUFycmF5LmlzQXJyYXkoZmlsdGVyQnkpKSB7XG5cdFx0XHRyZXR1cm4gW107XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZpbHRlckJ5O1xuXHR9XG5cblx0cGFyc2VMaXN0R3JvdXBCeShmbSkge1xuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gXCJcIjtcblx0XHR9XG5cblx0XHRjb25zdCBncm91cEJ5ID0gZm0uZ3JvdXBfYnk7XG5cdFx0aWYgKFxuXHRcdFx0ISh0eXBlb2YgZ3JvdXBCeSA9PT0gXCJ1bmRlZmluZWRcIikgJiZcblx0XHRcdCEodHlwZW9mIGdyb3VwQnkgPT09IFwic3RyaW5nXCIpXG5cdFx0KSB7XG5cdFx0XHRyZXR1cm4gXCJcIjtcblx0XHR9XG5cblx0XHRyZXR1cm4gZ3JvdXBCeTtcblx0fVxuXG5cdHBhcnNlQWxsUHJvZ3Jlc3NlZFRhc2tzKCkge1xuXHRcdGNvbnN0IGZtID0gdGhpcy5nZXRDdXJyZW50RnJvbnRtYXR0ZXIoKTtcblx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGZyb250bWF0dGVyLCBjYW5ub3QgcHJvY2VlZGApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGdyb3VwQnkgPSB0aGlzLnBhcnNlTGlzdEdyb3VwQnkoZm0pO1xuXHRcdGNvbnN0IGZpbHRlckJ5ID0gdGhpcy5wYXJzZUxpc3RGaWx0ZXJCeShmbSk7XG5cdFx0Y29uc3QgW2JlZm9yZSwgYWZ0ZXJdID0gdGhpcy5wYXJzZUxpc3RCZWZvcmVBZnRlcihmbSk7XG5cblx0XHRyZXR1cm4gW2dyb3VwQnksIGZpbHRlckJ5LCBiZWZvcmUsIGFmdGVyXTtcblx0fVxuXG5cdHBhcnNlQWxsRG9uZVRhc2tzKCkge1xuXHRcdHJldHVybiB0aGlzLnBhcnNlQWxsUHJvZ3Jlc3NlZFRhc2tzKCk7XG5cdH1cblxuXHRwYXJzZUFsbERvbmVUYXNrV2l0aG91dExvZygpIHtcblx0XHRyZXR1cm4gdGhpcy5wYXJzZUFsbFByb2dyZXNzZWRUYXNrcygpO1xuXHR9XG5cblx0cGFyc2VBbGxUb2RvQWRIb2MoKSB7XG5cdFx0Y29uc3QgZm0gPSB0aGlzLmdldEN1cnJlbnRGcm9udG1hdHRlcigpO1xuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZnJvbnRtYXR0ZXIsIGNhbm5vdCBwcm9jZWVkYCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZ3JvdXBCeSA9IHRoaXMucGFyc2VMaXN0R3JvdXBCeShmbSk7XG5cdFx0Y29uc3QgZmlsdGVyQnkgPSB0aGlzLnBhcnNlTGlzdEZpbHRlckJ5KGZtKTtcblx0XHRjb25zdCBbYmVmb3JlLCBhZnRlcl0gPSB0aGlzLnBhcnNlTGlzdEJlZm9yZUFmdGVyKGZtKTtcblx0XHRjb25zdCBtaW5Qcmlvcml0eSA9IEhlbHBlci5nZXRGaWVsZChmbS5taW5fcHJpb3JpdHksIDApO1xuXG5cdFx0cmV0dXJuIFtncm91cEJ5LCBmaWx0ZXJCeSwgYmVmb3JlLCBhZnRlciwgbWluUHJpb3JpdHldO1xuXHR9XG5cblx0cGFyc2VJbmJveCgpIHtcblx0XHRjb25zdCBmbSA9IHRoaXMuZ2V0Q3VycmVudEZyb250bWF0dGVyKCk7XG5cdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBbW10sIFtdLCAwLCAweGZmZmZmZmZmXTtcblx0XHR9XG5cblx0XHRjb25zdCBzb3VyY2UgPSBIZWxwZXIubmlsQ2hlY2soZm0uc291cmNlKVxuXHRcdFx0PyBbXCJsb2dzXCIsIFwiZmxlZXRpbmdcIl1cblx0XHRcdDogZm0uc291cmNlO1xuXHRcdGNvbnN0IGdyb3VwQnkgPSBIZWxwZXIubmlsQ2hlY2soZm0uZ3JvdXBfYnkpID8gXCJub25lXCIgOiBmbS5ncm91cF9ieTtcblx0XHRjb25zdCBmaWx0ZXJCeSA9IHRoaXMucGFyc2VMaXN0RmlsdGVyQnkoZm0pO1xuXHRcdGNvbnN0IG1pblNpemUgPSBIZWxwZXIubmlsQ2hlY2soZm0ubWluX3NpemUpID8gMCA6IGZtLm1pbl9zaXplO1xuXHRcdGNvbnN0IG1heFNpemUgPSBIZWxwZXIubmlsQ2hlY2soZm0ubWF4X3NpemUpID8gMHhmZmZmZmZmZiA6IGZtLm1heF9zaXplO1xuXG5cdFx0cmV0dXJuIFtzb3VyY2UsIGdyb3VwQnksIGZpbHRlckJ5LCBtaW5TaXplLCBtYXhTaXplXTtcblx0fVxuXG5cdHBhcnNlVG9kb0xpc3QoKSB7XG5cdFx0Y29uc3QgZm0gPSB0aGlzLmdldEN1cnJlbnRGcm9udG1hdHRlcigpO1xuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gW1tdLCBbXSwgW10sIFtdLCBbXSwgMF07XG5cdFx0fVxuXG5cdFx0Y29uc3QgW2J5QXJlYXMsIGJ5Q29udGV4dHMsIGJ5TGF5ZXJzLCBieU9yZ3MsIGJ5UHJvamVjdHNdID1cblx0XHRcdHRoaXMucGFyc2VMaXN0QnlOYW1lc3BhY2UoZm0pO1xuXHRcdGNvbnN0IG1pblByaW9yaXR5ID0gSGVscGVyLmdldEZpZWxkKGZtLm1pbl9wcmlvcml0eSwgMCk7XG5cblx0XHRyZXR1cm4gW2J5QXJlYXMsIGJ5Q29udGV4dHMsIGJ5TGF5ZXJzLCBieU9yZ3MsIGJ5UHJvamVjdHMsIG1pblByaW9yaXR5XTtcblx0fVxuXG5cdHBhcnNlRG9uZUxpc3QoKSB7XG5cdFx0Y29uc3QgZm0gPSB0aGlzLmdldEN1cnJlbnRGcm9udG1hdHRlcigpO1xuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gW1tdLCBbXSwgW10sIFtdLCBbXSwgW10sIFtdXTtcblx0XHR9XG5cblx0XHRjb25zdCBbYnlBcmVhcywgYnlDb250ZXh0cywgYnlMYXllcnMsIGJ5T3JncywgYnlQcm9qZWN0c10gPVxuXHRcdFx0dGhpcy5wYXJzZUxpc3RCeU5hbWVzcGFjZShmbSk7XG5cdFx0Y29uc3QgW2JlZm9yZSwgYWZ0ZXJdID0gdGhpcy5wYXJzZUxpc3RCZWZvcmVBZnRlcihmbSk7XG5cdFx0Y29uc3QgZmllbGRzID0gSGVscGVyLmdldEZpZWxkKGZtLmZpZWxkcywgW10pO1xuXHRcdGNvbnN0IHN0YXRzID0gSGVscGVyLmdldEZpZWxkKGZtLnN0YXRzLCBbXSk7XG5cblx0XHRyZXR1cm4gW1xuXHRcdFx0YnlBcmVhcyxcblx0XHRcdGJ5Q29udGV4dHMsXG5cdFx0XHRieUxheWVycyxcblx0XHRcdGJ5T3Jncyxcblx0XHRcdGJ5UHJvamVjdHMsXG5cdFx0XHRmaWVsZHMsXG5cdFx0XHRzdGF0cyxcblx0XHRcdGJlZm9yZSxcblx0XHRcdGFmdGVyLFxuXHRcdF07XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIE5vdGVIZWxwZXIge1xuXHRkdjogYW55O1xuXHRnb25leHQ6IGFueTtcblx0ZnJvbnRtYXR0ZXI6IEZyb250bWF0dGVyO1xuXG5cdGNvbnN0cnVjdG9yKGdvbmV4dCwgZHYsIGZyb250bWF0dGVyKSB7XG5cdFx0dGhpcy5nb25leHQgPSBnb25leHQ7XG5cdFx0dGhpcy5kdiA9IGR2O1xuXHRcdHRoaXMuZnJvbnRtYXR0ZXIgPSBmcm9udG1hdHRlcjtcblx0fVxuXG5cdGlzRG9hYmxlKHRhc2ssIGF0ID0gdW5kZWZpbmVkKSB7XG5cdFx0Y29uc3QgZm0gPSB0YXNrLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0aWYgKGZtLnN0YXR1cyAhPT0gU3RhdHVzLlRvZG8pIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRpZiAoZm0uYWZ0ZXIgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Y29uc3QgYWZ0ZXIgPSBuZXcgRGF0ZShmbS5hZnRlcik7XG5cdFx0XHRpZiAoRGF0ZS5ub3coKSA8PSBhZnRlci5nZXRUaW1lKCkpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChhdCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRjb25zdCBmbUF0ID0gbmV3IERhdGUoZm0uYXQpO1xuXHRcdFx0Zm1BdC5zZXRIb3VycygwKTtcblx0XHRcdGZtQXQuc2V0TWludXRlcygwKTtcblx0XHRcdGZtQXQuc2V0U2Vjb25kcygwKTtcblxuXHRcdFx0Ly8gaWYgKGZtLnV1aWQgPT09IFwiMmE5N2RlMzUtY2E4Ny00MjY3LTkxNTktNmMwOTZkNDE2M2YxXCIpIHtcblx0XHRcdC8vIFx0Y29uc29sZS5sb2coYHV1aWQ6ICR7Zm0udXVpZH1gKTtcblx0XHRcdC8vIFx0Y29uc29sZS5sb2coYGF0OiAke2F0LmdldFRpbWUoKX1gKTtcblx0XHRcdC8vIFx0Y29uc29sZS5sb2coYGZtQXQ6ICR7Zm1BdC5nZXRUaW1lKCl9YCk7XG5cdFx0XHQvLyBcdGNvbnNvbGUubG9nKGBpZjogJHthdC5nZXRUaW1lKCkgPCBmbUF0LmdldFRpbWUoKX1gKTtcblx0XHRcdC8vIH1cblxuXHRcdFx0aWYgKGF0LmdldFRpbWUoKSA8IGZtQXQuZ2V0VGltZSgpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKGZtLmF0ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Y29uc3QgYXQgPSBuZXcgRGF0ZShmbS5hdCk7XG5cdFx0XHRcdGlmIChEYXRlLm5vdygpIDw9IGF0LmdldFRpbWUoKSkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IGRlcHMgPSBmbS5uZWVkcztcblx0XHRpZiAoZGVwcyA9PT0gdW5kZWZpbmVkIHx8IGRlcHMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5oYXNQZW5kaW5nRGVwZW5kZW5jaWVzKGRlcHMpKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRoYXNQZW5kaW5nRGVwZW5kZW5jaWVzKGRlcHMpIHtcblx0XHRmb3IgKGNvbnN0IGRlcCBvZiBkZXBzKSB7XG5cdFx0XHRjb25zdCB0YXNrID0gdGhpcy5kdi5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfS8ke2RlcH1cImApLmFycmF5KCk7XG5cdFx0XHRpZiAodGFzay5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0XHRcdGBoYXNQZW5kaW5nRGVwZW5kZW5jaWVzOiBcIiR7UGF0aHMuVGFza3N9LyR7ZGVwfVwiIHRhc2sgZG9lcyBub3QgZXhpc3RzYCxcblx0XHRcdFx0KTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGZtID0gdGFza1swXS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRmbS50eXBlICE9PSBUeXBlcy5UYXNrICYmXG5cdFx0XHRcdGZtLnR5cGUgIT09IFR5cGVzLlByb3Zpc2lvbiAmJlxuXHRcdFx0XHRmbS50eXBlICE9PSBUeXBlcy5QcmF4aXNcblx0XHRcdCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGZtLnN0YXR1cyA9PT0gU3RhdHVzLlRvZG8pIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0aXNDaGlsZFRhZyhwYXJlbnQsIGNoaWxkKSB7XG5cdFx0aWYgKGNoaWxkLmxlbmd0aCA8PSBwYXJlbnQubGVuZ3RoICsgMSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0gZWxzZSBpZiAoY2hpbGQuc2xpY2UoMCwgcGFyZW50Lmxlbmd0aCArIDEpICE9IGAke3BhcmVudH0vYCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGdldE5hbWVzcGFjZUNvbnRlbnQobnM6IHN0cmluZykge1xuXHRcdGNvbnN0IGNoaWxkcmVuID0gW107XG5cdFx0Y29uc3QgcGFnZXMgPSB0aGlzLmR2LnBhZ2VzKGAjJHtuc31gKTtcblx0XHRmb3IgKGNvbnN0IHAgb2YgcGFnZXMpIHtcblx0XHRcdGNvbnN0IHRhZ3MgPSBwLmZpbGUuZnJvbnRtYXR0ZXIudGFncztcblxuXHRcdFx0aWYgKHRhZ3MgPT09IHVuZGVmaW5lZCB8fCB0YWdzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yIChjb25zdCB0YWcgb2YgdGFncykge1xuXHRcdFx0XHRpZiAodGhpcy5pc0NoaWxkVGFnKG5zLCB0YWcpKSB7XG5cdFx0XHRcdFx0Y29uc3QgdCA9IHRhZy5zbGljZShucy5sZW5ndGggKyAxKTtcblx0XHRcdFx0XHRpZiAoIWNoaWxkcmVuLmNvbnRhaW5zKHQpKSB7XG5cdFx0XHRcdFx0XHRjaGlsZHJlbi5wdXNoKHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBjaGlsZHJlbjtcblx0fVxuXG5cdGlzTGFzdFJldmlzaW9uKHBhZ2UpOiBib29sZWFuIHtcblx0XHRjb25zdCByZXZpc2lvbkxpc3QgPSAoZHYsIHJvb3Q6IHN0cmluZywgY3VycmVudCkgPT4ge1xuXHRcdFx0bGV0IGhlYWQgPSBjdXJyZW50O1xuXHRcdFx0d2hpbGUgKHRydWUpIHtcblx0XHRcdFx0Y29uc3QgcGFnZXMgPSBkdlxuXHRcdFx0XHRcdC5wYWdlcyhgXCIke3Jvb3R9XCJgKVxuXHRcdFx0XHRcdC53aGVyZShcblx0XHRcdFx0XHRcdChwYWdlKSA9PlxuXHRcdFx0XHRcdFx0XHRwYWdlLmZpbGUuZnJvbnRtYXR0ZXIubmV4dCA9PT1cblx0XHRcdFx0XHRcdFx0aGVhZC5maWxlLmZyb250bWF0dGVyLnV1aWQsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0aWYgKHBhZ2VzLmxlbmd0aCA+IDEpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoKTtcblx0XHRcdFx0fSBlbHNlIGlmIChwYWdlcy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0XHRoZWFkID0gcGFnZXNbMF07XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRcdGxldCBjdXIgPSBoZWFkO1xuXHRcdFx0d2hpbGUgKHRydWUpIHtcblx0XHRcdFx0YnVmZi5wdXNoKGN1cik7XG5cdFx0XHRcdGNvbnN0IGZtID0gY3VyLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRcdGlmIChmbS5uZXh0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0XHRjb25zdCBwYWdlcyA9IGR2LnBhZ2VzKGBcIiR7cm9vdH0vJHtmbS5uZXh0fVwiYCk7XG5cdFx0XHRcdGlmIChwYWdlcy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0XHRjdXIgPSBwYWdlc1swXTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGJ1ZmY7XG5cdFx0fTtcblxuXHRcdGNvbnN0IG5vdGUgPSBwYWdlO1xuXHRcdGNvbnN0IGZtID0gbm90ZS5maWxlLmZyb250bWF0dGVyO1xuXHRcdGxldCByZXZpc2lvbnMgPSBbXTtcblx0XHRzd2l0Y2ggKGZtLnR5cGUpIHtcblx0XHRcdGNhc2UgVHlwZXMuUGVybWFuZW50OlxuXHRcdFx0XHRyZXZpc2lvbnMgPSByZXZpc2lvbkxpc3QodGhpcy5kdiwgUGF0aHMuU2xpcGJveCwgbm90ZSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBUeXBlcy5SZXNvdXJjZTpcblx0XHRcdFx0cmV2aXNpb25zID0gcmV2aXNpb25MaXN0KHRoaXMuZHYsIFBhdGhzLlJlc291cmNlcywgbm90ZSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCk7XG5cdFx0fVxuXG5cdFx0aWYgKHJldmlzaW9ucy5sZW5ndGggPD0gMSkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJldmlzaW9uc1swXS5maWxlLmZyb250bWF0dGVyLnV1aWQgPT09IGZtLnV1aWQ7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIExpc3RNYWtlciB7XG5cdGR2OiBhbnk7XG5cdGdvbmV4dDogYW55O1xuXHRmcm9udG1hdHRlcjogRnJvbnRtYXR0ZXI7XG5cdG5vdGVIZWxwZXI6IE5vdGVIZWxwZXI7XG5cblx0Y29uc3RydWN0b3IoZ29uZXh0LCBkdiwgZnJvbnRtYXR0ZXIpIHtcblx0XHR0aGlzLmdvbmV4dCA9IGdvbmV4dDtcblx0XHR0aGlzLmR2ID0gZHY7XG5cdFx0dGhpcy5mcm9udG1hdHRlciA9IGZyb250bWF0dGVyO1xuXHRcdHRoaXMubm90ZUhlbHBlciA9IG5ldyBOb3RlSGVscGVyKGdvbmV4dCwgZHYsIGZyb250bWF0dGVyKTtcblx0fVxuXG5cdG5hbWVJbk5hbWVzcGFjZShmbTogYW55LCBuczogc3RyaW5nW10pIHtcblx0XHRsZXQgZm91bmQgPSBmYWxzZTtcblx0XHRpZiAobnMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRmb3IgKGNvbnN0IGEgb2YgbnMpIHtcblx0XHRcdGNvbnN0IHJvb3QgPSBhLnNwbGl0KFwiL1wiKTtcblx0XHRcdEFzc2VydC5UcnVlKHJvb3QubGVuZ3RoID09PSAyLCBgSW52YWxpZCB0YWc6ICcke2F9J2ApO1xuXHRcdFx0Y29uc3QgcGFyZW50ID1cblx0XHRcdFx0cm9vdFswXS5zbGljZSgwLCAxKSA9PT0gXCIhXCIgPyByb290WzBdLnNsaWNlKDEpIDogcm9vdFswXTtcblx0XHRcdC8vIGNvbnNvbGUubG9nKHBhcmVudClcblx0XHRcdGNvbnN0IG5hbWUgPSBIZWxwZXIuZ2V0VGFnKGZtLCBwYXJlbnQpO1xuXG5cdFx0XHRpZiAoYS5zbGljZSgwLCAxKSA9PT0gXCIhXCIpIHtcblx0XHRcdFx0Ly8gbmVnYXRpdmUgbWF0Y2gsIGRpc2NhcmQgZW50cnlcblx0XHRcdFx0aWYgKG5hbWUgPT09IGEuc2xpY2UoMSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0Ly8gbm8gbWF0Y2gsIHJlaW5pdFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGZvdW5kID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gcG9zaXRpdmUgbWF0Y2gsIGtlZXAgZW50cnlcblx0XHRcdFx0aWYgKG5hbWUgPT09IGEpIHtcblx0XHRcdFx0XHRmb3VuZCA9IHRydWU7XG5cdFx0XHRcdFx0Ly8gbm8gbWF0Y2gsIHJlaW5pdFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGZvdW5kID0gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZm91bmQ7XG5cdH1cblxuXHRteU5hbWVJbk5hbWVzcGFjZShuYW1lOiBzdHJpbmcsIG5zOiBzdHJpbmdbXSkge1xuXHRcdGxldCBmb3VuZCA9IGZhbHNlO1xuXHRcdGlmIChucy5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdGZvciAoY29uc3QgYSBvZiBucykge1xuXHRcdFx0aWYgKGEuc2xpY2UoMCwgMSkgPT09IFwiIVwiKSB7XG5cdFx0XHRcdC8vIG5lZ2F0aXZlIG1hdGNoLCBkaXNjYXJkIGVudHJ5XG5cdFx0XHRcdGlmIChuYW1lID09PSBhLnNsaWNlKDEpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdC8vIG5vIG1hdGNoLCByZWluaXRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRmb3VuZCA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIHBvc2l0aXZlIG1hdGNoLCBrZWVwIGVudHJ5XG5cdFx0XHRcdGlmIChuYW1lID09PSBhKSB7XG5cdFx0XHRcdFx0Zm91bmQgPSB0cnVlO1xuXHRcdFx0XHRcdC8vIG5vIG1hdGNoLCByZWluaXRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRmb3VuZCA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZvdW5kO1xuXHR9XG5cblx0ZmlsdGVyQnlOYW1lc3BhY2UoXG5cdFx0Zm06IGFueSxcblx0XHRieUFyZWFzOiBzdHJpbmdbXSxcblx0XHRieUNvbnRleHRzOiBzdHJpbmdbXSxcblx0XHRieUxheWVyczogc3RyaW5nW10sXG5cdFx0YnlPcmdzOiBzdHJpbmdbXSxcblx0XHRieVByb2plY3RzOiBzdHJpbmdbXSxcblx0KTogYm9vbGVhbiB7XG5cdFx0Ly8gaWYgKGJ5QXJlYXMubGVuZ3RoID4gMCAmJiAhYnlBcmVhcy5jb250YWlucyhIZWxwZXIuZ2V0QXJlYShmbSkpKSB7XG5cdFx0Ly8gXHRyZXR1cm4gZmFsc2U7XG5cdFx0Ly8gfVxuXG5cdFx0aWYgKCF0aGlzLm15TmFtZUluTmFtZXNwYWNlKEhlbHBlci5nZXRBcmVhKGZtKSwgYnlBcmVhcykpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBjb25zdCBhcmVhID0gSGVscGVyLmdldEFyZWEoZm0pO1xuXHRcdC8vIGxldCBmb3VuZCA9IGZhbHNlO1xuXHRcdC8vIGZvciAoY29uc3QgYSBvZiBieUFyZWFzKSB7XG5cdFx0Ly8gXHRpZiAoYS5zbGljZSgwLCAxKSA9PT0gXCIhXCIpIHtcblx0XHQvLyBcdFx0Ly8gbmVnYXRpdmUgbWF0Y2gsIGRpc2NhcmQgZW50cnlcblx0XHQvLyBcdFx0aWYgKGFyZWEgPT09IGEuc2xpY2UoMSkpIHtcblx0XHQvLyBcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0Ly8gXHRcdFx0Ly8gbm8gbWF0Y2gsIHJlaW5pdFxuXHRcdC8vIFx0XHR9IGVsc2Uge1xuXHRcdC8vIFx0XHRcdGZvdW5kID0gdHJ1ZTtcblx0XHQvLyBcdFx0fVxuXHRcdC8vIFx0fSBlbHNlIHtcblx0XHQvLyBcdFx0Ly8gcG9zaXRpdmUgbWF0Y2gsIGtlZXAgZW50cnlcblx0XHQvLyBcdFx0aWYgKGFyZWEgPT09IGEpIHtcblx0XHQvLyBcdFx0XHRmb3VuZCA9IHRydWU7XG5cdFx0Ly8gXHRcdFx0Ly8gbm8gbWF0Y2gsIHJlaW5pdFxuXHRcdC8vIFx0XHR9IGVsc2Uge1xuXHRcdC8vIFx0XHRcdGZvdW5kID0gZmFsc2U7XG5cdFx0Ly8gXHRcdH1cblx0XHQvLyBcdH1cblx0XHQvLyB9XG5cdFx0Ly9cblx0XHQvLyBpZiAoIWZvdW5kKSB7XG5cdFx0Ly8gXHRyZXR1cm4gZmFsc2U7XG5cdFx0Ly8gfVxuXG5cdFx0Ly8gaWYgKFxuXHRcdC8vIFx0YnlDb250ZXh0cy5sZW5ndGggPiAwICYmXG5cdFx0Ly8gXHQhYnlDb250ZXh0cy5jb250YWlucyhIZWxwZXIuZ2V0Q29udGV4dChmbSkpXG5cdFx0Ly8gKSB7XG5cdFx0Ly8gXHRyZXR1cm4gZmFsc2U7XG5cdFx0Ly8gfVxuXHRcdGlmICghdGhpcy5teU5hbWVJbk5hbWVzcGFjZShIZWxwZXIuZ2V0Q29udGV4dChmbSksIGJ5Q29udGV4dHMpKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaWYgKGJ5TGF5ZXJzLmxlbmd0aCA+IDAgJiYgIWJ5TGF5ZXJzLmNvbnRhaW5zKEhlbHBlci5nZXRMYXllcihmbSkpKSB7XG5cdFx0Ly8gXHRyZXR1cm4gZmFsc2U7XG5cdFx0Ly8gfVxuXHRcdGlmICghdGhpcy5teU5hbWVJbk5hbWVzcGFjZShIZWxwZXIuZ2V0TGF5ZXIoZm0pLCBieUxheWVycykpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBpZiAoYnlPcmdzLmxlbmd0aCA+IDAgJiYgIWJ5T3Jncy5jb250YWlucyhIZWxwZXIuZ2V0T3JnKGZtKSkpIHtcblx0XHQvLyBcdHJldHVybiBmYWxzZTtcblx0XHQvLyB9XG5cdFx0aWYgKCF0aGlzLm15TmFtZUluTmFtZXNwYWNlKEhlbHBlci5nZXRPcmcoZm0pLCBieU9yZ3MpKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaWYgKFxuXHRcdC8vIFx0YnlQcm9qZWN0cy5sZW5ndGggPiAwICYmXG5cdFx0Ly8gXHQhYnlQcm9qZWN0cy5jb250YWlucyhIZWxwZXIuZ2V0UHJvamVjdChmbSkpXG5cdFx0Ly8gKSB7XG5cdFx0Ly8gXHRyZXR1cm4gZmFsc2U7XG5cdFx0Ly8gfVxuXHRcdGlmICghdGhpcy5teU5hbWVJbk5hbWVzcGFjZShIZWxwZXIuZ2V0UHJvamVjdChmbSksIGJ5UHJvamVjdHMpKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRmaWx0ZXJCeURhdGUoZHQ6IERhdGUsIGJlZm9yZTogRGF0ZSwgYWZ0ZXI6IERhdGUpOiBib29sZWFuIHtcblx0XHRpZiAoYmVmb3JlICE9PSB1bmRlZmluZWQgJiYgZHQuZ2V0VGltZSgpID4gYmVmb3JlLmdldFRpbWUoKSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmIChhZnRlciAhPT0gdW5kZWZpbmVkICYmIGR0LmdldFRpbWUoKSA8IGFmdGVyLmdldFRpbWUoKSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0Z29hbHMoKSB7XG5cdFx0Ly8gY29uc3QgZm0gPSB0aGlzLmZyb250bWF0dGVyLmdldEN1cnJlbnRGcm9udG1hdHRlcigpO1xuXHRcdGNvbnN0IHJzID0gW107XG5cdFx0Y29uc3QgYmlucyA9IHt9O1xuXHRcdGJpbnNbR29hbFN0YXR1cy5SZWZyYW1lXSA9IFtdO1xuXHRcdGJpbnNbR29hbFN0YXR1cy5SZXNlYXJjaF0gPSBbXTtcblx0XHRiaW5zW0dvYWxTdGF0dXMuT3BlcmF0aW9uYWxpemVdID0gW107XG5cdFx0Ymluc1tHb2FsU3RhdHVzLlBsYW5pZnldID0gW107XG5cdFx0Ymluc1tHb2FsU3RhdHVzLkRlcGVuZGFudF0gPSBbXTtcblx0XHRiaW5zW0dvYWxTdGF0dXMuQWN0aXZlXSA9IFtdO1xuXHRcdGJpbnNbR29hbFN0YXR1cy5TdWNjZXNzXSA9IFtdO1xuXHRcdGJpbnNbR29hbFN0YXR1cy5GYWlsZWRdID0gW107XG5cblx0XHRjb25zdCBwYWdlcyA9IHRoaXMuZHYucGFnZXMoYFwiJHtQYXRocy5Hb2Fsc31cImApLndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRjb25zdCBmbXAgPSBwYWdlLmZpbGUuZnJvbnRtYXR0ZXI7XG5cblx0XHRcdGlmIChiaW5zW2ZtcC5zdGF0dXNdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ly8gY29uc29sZS5lcnJvcihgSW52YWxpZCBzdGF0dXMgZm9yIGdvYWw6IFwiJHtmbXAudXVpZH1cImApO1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRcdGJpbnNbZm1wLnN0YXR1c10ucHVzaChmbSk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhiaW5zKTtcblx0XHRrZXlzLnNvcnQoKTtcblx0XHRmb3IgKGNvbnN0IGsgb2Yga2V5cykge1xuXHRcdFx0Y29uc3QgYnVmZiA9IGJpbnNba107XG5cdFx0XHRidWZmLnNvcnQoKGEsIGIpID0+IHtcblx0XHRcdFx0Y29uc3QgZHRhID0gbmV3IERhdGUoYS5mbS5iZWZvcmUpO1xuXHRcdFx0XHRjb25zdCBkdGIgPSBuZXcgRGF0ZShiLmZtLmJlZm9yZSk7XG5cdFx0XHRcdHJldHVybiBkdGEuZ2V0VGltZSgpIC0gZHRiLmdldFRpbWUoKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGNvbnN0IGRpc3BsYXlHb2FscyA9IChrLCBycykgPT4ge1xuXHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMywga10pO1xuXHRcdFx0Y29uc3QgYnVmZiA9IGJpbnNba107XG5cdFx0XHRycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLmdvYWwsIGJ1ZmZdKTtcblx0XHR9O1xuXG5cdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMiwgXCJvcGVyYXRpb25hbFwiXSk7XG5cdFx0ZGlzcGxheUdvYWxzKFwiYWN0aXZlXCIsIHJzKTtcblx0XHRkaXNwbGF5R29hbHMoXCJwbGFuaWZ5XCIsIHJzKTtcblxuXHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIFwibm9uLW9wZXJhdGlvbmFsXCJdKTtcblx0XHRkaXNwbGF5R29hbHMoXCJyZWZyYW1lXCIsIHJzKTtcblx0XHRkaXNwbGF5R29hbHMoXCJyZXNlYXJjaFwiLCBycyk7XG5cdFx0ZGlzcGxheUdvYWxzKFwib3BlcmF0aW9uYWxpemVcIiwgcnMpO1xuXHRcdC8vIGRpc3BsYXlHb2FscyhcImRlcGVuZGFudFwiLCBycyk7XG5cblx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBcImRvbmVcIl0pO1xuXHRcdGRpc3BsYXlHb2FscyhcInN1Y2Nlc3NcIiwgcnMpO1xuXHRcdGRpc3BsYXlHb2FscyhcImZhaWxlZFwiLCBycyk7XG5cblx0XHRyZXR1cm4gcnM7XG5cdH1cblxuXHRwcm9qZWN0VGFza3NTaGVldFJlbGF0aW9uRnJvbnRtYXR0ZXIoZHYpIHtcblx0XHRjb25zdCBjdXJyZW50ID0gZHYuY3VycmVudCgpO1xuXHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMoY3VycmVudCk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0bmFtZTogZm0uZ2V0TmFtZSgpLFxuXHRcdFx0dXVpZDogZm0udXVpZCxcblx0XHRcdGFjdGl2ZTpcblx0XHRcdFx0Zm0uZm0uYWN0aXZlID09PSB1bmRlZmluZWQgfHwgZm0uZm0uYWN0aXZlID09PSB0cnVlXG5cdFx0XHRcdFx0PyB0cnVlXG5cdFx0XHRcdFx0OiBmYWxzZSxcblx0XHR9O1xuXHR9XG5cblx0cHJvamVjdFRhc2tzU2hlZXRSZWxhdGlvbihkdikge1xuXHRcdGNvbnN0IHByb2plY3QgPSB0aGlzLnByb2plY3RUYXNrc1NoZWV0UmVsYXRpb25Gcm9udG1hdHRlcihkdik7XG5cblx0XHRjb25zdCBycyA9IFtdO1xuXHRcdGNvbnN0IGJpbnMgPSB7XG5cdFx0XHRuZXh0QWN0aW9uOiBbXSxcblx0XHRcdHdhaXRpbmdGb3I6IFtdLFxuXHRcdFx0c29tZWRheU1heWJlOiBbXSxcblx0XHR9O1xuXG5cdFx0e1xuXHRcdFx0Y29uc3QgcGFnZXMgPSBkdlxuXHRcdFx0XHQucGFnZXMoYFwiSm91cm5hbFwiYClcblx0XHRcdFx0LndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdFx0XHRyZXR1cm4gZm0uZ2V0UHJvamVjdCgpID09PSBwcm9qZWN0Lm5hbWU7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5zb3J0KChrKSA9PiBrLmNyZWF0ZWRfYXQsIFwiZGVzY1wiKTtcblxuXHRcdFx0aWYgKHBhZ2VzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMiwgYEpvdXJuYWwgKCR7cGFnZXMubGVuZ3RofSlgXSk7XG5cdFx0XHRcdGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuXHRcdFx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRcdFx0Y29uc3QgdGV4dCA9IFJlbmRlcmVyLm1ha2VMaW5rKFxuXHRcdFx0XHRcdFx0ZHYsXG5cdFx0XHRcdFx0XHRmbS5mLFxuXHRcdFx0XHRcdFx0YCR7Zm0uY3JlYXRlZEF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApfWAsXG5cdFx0XHRcdFx0XHRcImVudHJ5XCIsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRycy5wdXNoKFtcInBhcmFncmFwaFwiLCB0ZXh0XSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCBwYWdlcyA9IGR2LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9XCJgKS53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdGlmIChmbS5mbS5zdGF0dXMgPT09IFwiZG9uZVwiKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKFtcImRhaWx5XCIsIFwid2Vla2x5XCIsIFwibW9udGhseVwiXS5jb250YWlucyhwcm9qZWN0Lm5hbWUpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0gZWxzZSBpZiAoXG5cdFx0XHRcdHByb2plY3QubmFtZSA9PT0gXCJhZGhvY1wiICYmXG5cdFx0XHRcdGZtLmdldFByb2plY3QoKSA9PT0gdW5kZWZpbmVkXG5cdFx0XHQpIHtcblx0XHRcdFx0cGFnZS5maWxlLmZyb250bWF0dGVyLnByb2plY3QgPSBcImFkaG9jXCI7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fSBlbHNlIGlmIChwcm9qZWN0Lm5hbWUgPT09IGZtLmdldFByb2plY3QoKSkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuXHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblxuXHRcdFx0aWYgKHRoaXMubm90ZUhlbHBlci5pc0RvYWJsZShwYWdlKSkge1xuXHRcdFx0XHRpZiAoZm0uZm0ucHJpb3JpdHkgPiAwKSB7XG5cdFx0XHRcdFx0Ymlucy5uZXh0QWN0aW9uLnB1c2gocGFnZSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ymlucy5zb21lZGF5TWF5YmUucHVzaChwYWdlKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ymlucy53YWl0aW5nRm9yLnB1c2gocGFnZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGJpbnMubmV4dEFjdGlvbi5sZW5ndGggPiAwKSB7XG5cdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBgTmV4dCBBY3Rpb25zICgke2JpbnMubmV4dEFjdGlvbi5sZW5ndGh9KWBdKTtcblx0XHRcdGJpbnMubmV4dEFjdGlvbi5zb3J0KEhlbHBlci5zb3J0QnlQcmlvcml0eUFuZER1cmF0aW9uQW5kQWdlKTtcblx0XHRcdHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIuYmFzaWNUYXNrSm91cm5hbCwgYmlucy5uZXh0QWN0aW9uXSk7XG5cdFx0fVxuXG5cdFx0aWYgKGJpbnMud2FpdGluZ0Zvci5sZW5ndGggPiAwKSB7XG5cdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBgV2FpdGluZyAoJHtiaW5zLndhaXRpbmdGb3IubGVuZ3RofSlgXSk7XG5cdFx0XHRiaW5zLndhaXRpbmdGb3Iuc29ydChIZWxwZXIuc29ydEJ5UHJpb3JpdHlBbmREdXJhdGlvbkFuZEFnZSk7XG5cdFx0XHRycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLmJhc2ljVGFza0pvdXJuYWwsIGJpbnMud2FpdGluZ0Zvcl0pO1xuXHRcdH1cblxuXHRcdGlmIChiaW5zLnNvbWVkYXlNYXliZS5sZW5ndGggPiAwKSB7XG5cdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBgTWF5YmUgKCR7Ymlucy5zb21lZGF5TWF5YmUubGVuZ3RofSlgXSk7XG5cdFx0XHRiaW5zLnNvbWVkYXlNYXliZS5zb3J0KEhlbHBlci5zb3J0QnlQcmlvcml0eUFuZER1cmF0aW9uQW5kQWdlKTtcblx0XHRcdHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIuYmFzaWNUYXNrSm91cm5hbCwgYmlucy5zb21lZGF5TWF5YmVdKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcnM7XG5cdH1cblxuXHRwcm9qZWN0TG9nc1NoZWV0UmVsYXRpb24oZHYpIHtcblx0XHRjb25zdCBwcm9qZWN0ID0gdGhpcy5wcm9qZWN0VGFza3NTaGVldFJlbGF0aW9uRnJvbnRtYXR0ZXIoZHYpO1xuXG5cdFx0Y29uc3QgZmlsdGVyQnkgPSBbXTtcblx0XHRjb25zdCBycyA9IFtdO1xuXG5cdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMiwgXCJMb2dzXCJdKTtcblxuXHRcdGNvbnN0IGxvZ3MgPSB0aGlzLmR2LnBhZ2VzKGBcIiR7UGF0aHMuTG9nc31cImApLndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRpZiAocGFnZS50eXBlICE9PSBUeXBlcy5Mb2cpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHBhZ2UuZmlsZS5mcm9udG1hdHRlci5yZXZpZXdlZCA+IDApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSk7XG5cblx0XHRjb25zdCBidWZmID0ge307XG5cdFx0Zm9yIChjb25zdCBlIG9mIGxvZ3MpIHtcblx0XHRcdGNvbnN0IGZtID0gZS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0aWYgKGZpbHRlckJ5Lmxlbmd0aCA+IDAgJiYgIXRoaXMubmFtZUluTmFtZXNwYWNlKGZtLCBmaWx0ZXJCeSkpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGZtLmNyZWF0ZWRBdCA9IHRoaXMuZnJvbnRtYXR0ZXIuZ2V0Q3JlYXRlZEF0KGUuZmlsZSk7XG5cdFx0XHRBc3NlcnQuVHJ1ZShcblx0XHRcdFx0IUhlbHBlci5uaWxDaGVjayhmbS5wYXJlbnRfaWQpLFxuXHRcdFx0XHRgTWlzc2luZyBmaWVsZCBcInBhcmVudF9pZFwiIGZyb20gbG9nOiBcIiR7Zm0udXVpZH1cImAsXG5cdFx0XHQpO1xuXHRcdFx0Y29uc3QgcGFyZW50ID0gdGhpcy5kdlxuXHRcdFx0XHQucGFnZXMoYFwiJHtQYXRocy5UYXNrc30vJHtmbS5wYXJlbnRfaWR9XCJgKVxuXHRcdFx0XHQuYXJyYXkoKTtcblx0XHRcdGlmIChwYXJlbnQubGVuZ3RoICE9PSAxKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdHBhcmVudC5sZW5ndGggPT09IDEsXG5cdFx0XHRcdGBQYXJlbnQ6ICR7Zm0ucGFyZW50X2lkfSBub3QgZm91bmQgZm9yIGxvZzogXCIke2ZtLnV1aWR9XCJgLFxuXHRcdFx0KTtcblx0XHRcdGZtLnByb2plY3QgPSBIZWxwZXIuZ2V0UHJvamVjdChwYXJlbnRbMF0uZmlsZS5mcm9udG1hdHRlcik7XG5cdFx0XHRmbS5hcmVhID0gSGVscGVyLmdldEFyZWEocGFyZW50WzBdLmZpbGUuZnJvbnRtYXR0ZXIsIHRydWUpO1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRmbS5wcm9qZWN0ICE9PVxuXHRcdFx0XHRgcHJvamVjdC8ke3Byb2plY3QubmFtZSA9PT0gXCJhZGhvY1wiID8gXCJub25lXCIgOiBwcm9qZWN0Lm5hbWV9YFxuXHRcdFx0KSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoSGVscGVyLm5pbENoZWNrKGZtLmRvbmVfYXQpKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgZGF0ZSA9IGZtLmRvbmVfYXQuc2xpY2UoMCwgMTApO1xuXG5cdFx0XHRpZiAoYnVmZltkYXRlXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGJ1ZmZbZGF0ZV0gPSBbZV07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRidWZmW2RhdGVdLnB1c2goZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGJ1ZmYpO1xuXHRcdGtleXMuc29ydCgpO1xuXHRcdGZvciAoY29uc3QgZGF0ZSBvZiBrZXlzKSB7XG5cdFx0XHRidWZmW2RhdGVdLnNvcnQoXG5cdFx0XHRcdChhLCBiKSA9PlxuXHRcdFx0XHRcdGIuZmlsZS5mcm9udG1hdHRlci5jcmVhdGVkQXQuZ2V0VGltZSgpIC1cblx0XHRcdFx0XHRhLmZpbGUuZnJvbnRtYXR0ZXIuY3JlYXRlZEF0LmdldFRpbWUoKSxcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Zm9yIChjb25zdCBkYXRlIG9mIGtleXMucmV2ZXJzZSgpKSB7XG5cdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAzLCBkYXRlXSk7XG5cdFx0XHRycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLnByb2plY3RMb2dzLCBidWZmW2RhdGVdXSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJzO1xuXHR9XG5cblx0Z2V0UHJvamVjdExvZ3MoZHYsIHByb2plY3QpIHtcblx0XHRjb25zdCBsb2dzID0gdGhpcy5kdi5wYWdlcyhgXCIke1BhdGhzLkxvZ3N9XCJgKS53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0aWYgKHBhZ2UudHlwZSAhPT0gVHlwZXMuTG9nKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0pO1xuXG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGZvciAoY29uc3QgZSBvZiBsb2dzKSB7XG5cdFx0XHRjb25zdCBmbSA9IGUuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdEFzc2VydC5UcnVlKFxuXHRcdFx0XHQhSGVscGVyLm5pbENoZWNrKGZtLnBhcmVudF9pZCksXG5cdFx0XHRcdGBNaXNzaW5nIGZpZWxkIFwicGFyZW50X2lkXCIgZnJvbSBsb2c6IFwiJHtmbS51dWlkfVwiYCxcblx0XHRcdCk7XG5cdFx0XHRjb25zdCBwYXJlbnQgPSB0aGlzLmR2XG5cdFx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfS8ke2ZtLnBhcmVudF9pZH1cImApXG5cdFx0XHRcdC5hcnJheSgpO1xuXHRcdFx0aWYgKHBhcmVudC5sZW5ndGggIT09IDEpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHQvLyBBc3NlcnQuVHJ1ZShcblx0XHRcdC8vIFx0cGFyZW50Lmxlbmd0aCA9PT0gMSxcblx0XHRcdC8vIFx0YFBhcmVudDogJHtmbS5wYXJlbnRfaWR9IG5vdCBmb3VuZCBmb3IgbG9nOiBcIiR7Zm0udXVpZH1cImAsXG5cdFx0XHQvLyApO1xuXHRcdFx0Zm0ucHJvamVjdCA9IEhlbHBlci5nZXRQcm9qZWN0KHBhcmVudFswXS5maWxlLmZyb250bWF0dGVyKTtcblx0XHRcdGZtLmFyZWEgPSBIZWxwZXIuZ2V0QXJlYShwYXJlbnRbMF0uZmlsZS5mcm9udG1hdHRlciwgdHJ1ZSk7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdGZtLnByb2plY3QgIT09XG5cdFx0XHRcdGBwcm9qZWN0LyR7cHJvamVjdC5uYW1lID09PSBcImFkaG9jXCIgPyBcIm5vbmVcIiA6IHByb2plY3QubmFtZX1gXG5cdFx0XHQpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChIZWxwZXIubmlsQ2hlY2soZm0uZG9uZV9hdCkpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRidWZmLnB1c2goZSk7XG5cdFx0fVxuXHRcdHJldHVybiBidWZmO1xuXHR9XG5cblx0cHJvamVjdExvZ3NTaGVldChkdikge1xuXHRcdGNvbnN0IHByb2plY3QgPSB0aGlzLmZyb250bWF0dGVyLnByb2plY3RQYXJzZU1ldGEoZHYpO1xuXHRcdGNvbnN0IGZtbCA9IHRoaXMuZnJvbnRtYXR0ZXIuZ2V0Q3VycmVudEZyb250bWF0dGVyKCk7XG5cdFx0aWYgKGZtbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZnJvbnRtYXR0ZXIsIGNhbm5vdCBwcm9jZWVkYCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgYmVmb3JlID0gSGVscGVyLm5pbENoZWNrKGZtbC5iZWZvcmUpXG5cdFx0XHQ/IG5ldyBEYXRlKDApXG5cdFx0XHQ6IG5ldyBEYXRlKGZtbC5iZWZvcmUpO1xuXHRcdGNvbnN0IGFmdGVyID0gSGVscGVyLm5pbENoZWNrKGZtbC5hZnRlcilcblx0XHRcdD8gbmV3IERhdGUoKVxuXHRcdFx0OiBuZXcgRGF0ZShmbWwuYWZ0ZXIpO1xuXG5cdFx0Ly8gY29uc29sZS5sb2coYGJlZm9yZTogJyR7YmVmb3JlfSdgKTtcblx0XHQvLyBjb25zb2xlLmxvZyhgYWZ0ZXI6ICcke2FmdGVyfSdgKTtcblx0XHRjb25zdCBmaWx0ZXJCeSA9IHRoaXMuZnJvbnRtYXR0ZXIucGFyc2VMaXN0RmlsdGVyQnkoZm1sKTtcblx0XHRjb25zdCBycyA9IFtdO1xuXHRcdGxldCB0b3RhbFRpbWUgPSAwO1xuXHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDEsIHByb2plY3QubmFtZV0pO1xuXG5cdFx0Y29uc3QgbG9ncyA9IHRoaXMuZHYucGFnZXMoYFwiJHtQYXRocy5Mb2dzfVwiYCkud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdGlmIChwYWdlLnR5cGUgIT09IFR5cGVzLkxvZykge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9KTtcblxuXHRcdGNvbnN0IGJ1ZmYgPSB7fTtcblx0XHRmb3IgKGNvbnN0IGUgb2YgbG9ncykge1xuXHRcdFx0Y29uc3QgZm0gPSBlLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRpZiAoZmlsdGVyQnkubGVuZ3RoID4gMCAmJiAhdGhpcy5uYW1lSW5OYW1lc3BhY2UoZm0sIGZpbHRlckJ5KSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Zm0uY3JlYXRlZEF0ID0gdGhpcy5mcm9udG1hdHRlci5nZXRDcmVhdGVkQXQoZS5maWxlKTtcblx0XHRcdEFzc2VydC5UcnVlKFxuXHRcdFx0XHQhSGVscGVyLm5pbENoZWNrKGZtLnBhcmVudF9pZCksXG5cdFx0XHRcdGBNaXNzaW5nIGZpZWxkIFwicGFyZW50X2lkXCIgZnJvbSBsb2c6IFwiJHtmbS51dWlkfVwiYCxcblx0XHRcdCk7XG5cdFx0XHRjb25zdCBwYXJlbnQgPSB0aGlzLmR2XG5cdFx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfS8ke2ZtLnBhcmVudF9pZH1cImApXG5cdFx0XHRcdC5hcnJheSgpO1xuXHRcdFx0aWYgKHBhcmVudC5sZW5ndGggIT09IDEpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHQvLyBBc3NlcnQuVHJ1ZShcblx0XHRcdC8vIFx0cGFyZW50Lmxlbmd0aCA9PT0gMSxcblx0XHRcdC8vIFx0YFBhcmVudDogJHtmbS5wYXJlbnRfaWR9IG5vdCBmb3VuZCBmb3IgbG9nOiBcIiR7Zm0udXVpZH1cImAsXG5cdFx0XHQvLyApO1xuXHRcdFx0Zm0ucHJvamVjdCA9IEhlbHBlci5nZXRQcm9qZWN0KHBhcmVudFswXS5maWxlLmZyb250bWF0dGVyKTtcblx0XHRcdGZtLmFyZWEgPSBIZWxwZXIuZ2V0QXJlYShwYXJlbnRbMF0uZmlsZS5mcm9udG1hdHRlciwgdHJ1ZSk7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdGZtLnByb2plY3QgIT09XG5cdFx0XHRcdGBwcm9qZWN0LyR7cHJvamVjdC5uYW1lID09PSBcImFkaG9jXCIgPyBcIm5vbmVcIiA6IHByb2plY3QubmFtZX1gXG5cdFx0XHQpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChIZWxwZXIubmlsQ2hlY2soZm0uZG9uZV9hdCkpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGRhdGUgPSBmbS5kb25lX2F0LnNsaWNlKDAsIDEwKTtcblx0XHRcdGNvbnN0IGNyZWF0ZWRBdCA9IG5ldyBEYXRlKGZtLmNyZWF0ZWRfYXQpO1xuXHRcdFx0Y29uc3QgZG9uZUF0ID0gbmV3IERhdGUoZm0uZG9uZV9hdCk7XG5cblx0XHRcdGlmIChjcmVhdGVkQXQgPiBiZWZvcmUpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjcmVhdGVkQXQgPCBhZnRlcikge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGJ1ZmZbZGF0ZV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRidWZmW2RhdGVdID0gW2VdO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YnVmZltkYXRlXS5wdXNoKGUpO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBkZWx0YSA9IGRvbmVBdC5nZXRUaW1lKCkgLSBjcmVhdGVkQXQuZ2V0VGltZSgpO1xuXG5cdFx0XHR0b3RhbFRpbWUgKz0gZGVsdGE7XG5cdFx0fVxuXG5cdFx0ZHYucGFyYWdyYXBoKFxuXHRcdFx0YF90b3RhbFRpbWUgKGgpOl8gJHtNYXRoLnJvdW5kKCh0b3RhbFRpbWUgLyAoMTAwMCAqIDYwICogNjApKSAqIDEwKSAvIDEwfWAsXG5cdFx0KTtcblxuXHRcdGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhidWZmKTtcblx0XHRrZXlzLnNvcnQoKTtcblx0XHRmb3IgKGNvbnN0IGRhdGUgb2Yga2V5cykge1xuXHRcdFx0YnVmZltkYXRlXS5zb3J0KFxuXHRcdFx0XHQoYSwgYikgPT5cblx0XHRcdFx0XHRiLmZpbGUuZnJvbnRtYXR0ZXIuY3JlYXRlZEF0LmdldFRpbWUoKSAtXG5cdFx0XHRcdFx0YS5maWxlLmZyb250bWF0dGVyLmNyZWF0ZWRBdC5nZXRUaW1lKCksXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGZvciAoY29uc3QgZGF0ZSBvZiBrZXlzLnJldmVyc2UoKSkge1xuXHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMywgZGF0ZV0pO1xuXHRcdFx0cnMucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci5wcm9qZWN0TG9ncywgYnVmZltkYXRlXV0pO1xuXHRcdH1cblxuXHRcdHJldHVybiBycztcblx0fVxuXG5cdGxvZ3MoKSB7XG5cdFx0Y29uc3QgW2dyb3VwQnksIGZpbHRlckJ5LCBiZWZvcmUsIGFmdGVyXSA9XG5cdFx0XHR0aGlzLmZyb250bWF0dGVyLnBhcnNlQWxsUHJvZ3Jlc3NlZFRhc2tzKCk7XG5cblx0XHRjb25zdCB0YXNrcyA9IHRoaXMuZHZcblx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfVwiYClcblx0XHRcdC53aGVyZSgocGFnZSkgPT4gcGFnZS5maWxlLmZyb250bWF0dGVyLnN0YXR1cyAhPT0gXCJkb2luZ1wiKTtcblxuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRmb3IgKGNvbnN0IHRhc2sgb2YgdGFza3MpIHtcblx0XHRcdGNvbnN0IGZtID0gdGFzay5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0aWYgKGZpbHRlckJ5Lmxlbmd0aCA+IDAgJiYgIXRoaXMubmFtZUluTmFtZXNwYWNlKGZtLCBmaWx0ZXJCeSkpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHRpbWVFc3RpbWF0ZSA9IEhlbHBlci5kdXJhdGlvblN0cmluZ1RvU2VjKGZtLnRpbWVfZXN0aW1hdGUpO1xuXHRcdFx0aWYgKHRpbWVFc3RpbWF0ZSA9PT0gdW5kZWZpbmVkICYmIGZtLnRpbWVfZXN0aW1hdGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0YEludmFsaWQgdmFsdWU6IFwiJHtmbS50aW1lX2VzdGltYXRlfVwiIGZvciBlbnRyeTogXCIke2ZtLnV1aWR9XCJgLFxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm0udGltZUVzdGltYXRlID0gdGltZUVzdGltYXRlO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBsb2dzID0gdGhpcy5kdlxuXHRcdFx0XHQucGFnZXMoYFwiJHtQYXRocy5Mb2dzfS8ke2ZtLnV1aWR9XCJgKVxuXHRcdFx0XHQud2hlcmUoKHBhZ2UpID0+IHBhZ2UudHlwZSA9PT0gVHlwZXMuTG9nKVxuXHRcdFx0XHQuc29ydCgoaykgPT4gay5jcmVhdGVkX2F0LCBcImFzY1wiKTtcblxuXHRcdFx0Ly8gZGlzY2FyZCB0YXNrcyB3aXRob3V0IGxvZyBlbnRyeVxuXHRcdFx0aWYgKGxvZ3MubGVuZ3RoIDwgMSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Zm0udG9vayA9IDA7XG5cdFx0XHRjb25zdCBwcm9qZWN0ID0gSGVscGVyLmdldEZpZWxkKEhlbHBlci5nZXRQcm9qZWN0KGZtLCB0cnVlKSwgXCJcIik7XG5cdFx0XHRjb25zdCBhcmVhID0gSGVscGVyLmdldEZpZWxkKEhlbHBlci5nZXRBcmVhKGZtLCB0cnVlKSwgXCJcIik7XG5cblx0XHRcdGZvciAoY29uc3QgbG9nIG9mIGxvZ3MpIHtcblx0XHRcdFx0Y29uc3QgZm1sID0gbG9nLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRcdGNvbnN0IGVudHJ5ID0ge1xuXHRcdFx0XHRcdGFsaWFzOiBmbS5hbGlhcyxcblx0XHRcdFx0XHR1dWlkOiBmbS51dWlkLFxuXHRcdFx0XHRcdGxvZ0lkOiBmbWwudXVpZCxcblx0XHRcdFx0XHRlc3RpbWF0ZTogZm0udGltZUVzdGltYXRlLFxuXHRcdFx0XHRcdHByb2plY3Q6IHByb2plY3QsXG5cdFx0XHRcdFx0YXJlYTogYXJlYSxcblx0XHRcdFx0XHRkb21haW46IEhlbHBlci5nZXRGaWVsZChIZWxwZXIuZ2V0RG9tYWluKGZtLCB0cnVlKSwgXCJcIiksXG5cdFx0XHRcdFx0cGF0aDogdGFzay5maWxlLnBhdGgsXG5cdFx0XHRcdFx0bG9nUGF0aDogbG9nLmZpbGUucGF0aCxcblx0XHRcdFx0XHRjcmVhdGVkQXQ6IHVuZGVmaW5lZCxcblx0XHRcdFx0XHRkb25lQXQ6IHVuZGVmaW5lZCxcblx0XHRcdFx0XHR0b29rOiB1bmRlZmluZWQsXG5cdFx0XHRcdFx0dG9va0FjYzogdW5kZWZpbmVkLFxuXHRcdFx0XHRcdGRlbHRhQWNjOiB1bmRlZmluZWQsXG5cdFx0XHRcdH07XG5cdFx0XHRcdGlmIChmbWwuY3JlYXRlZF9hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvcihsb2cpO1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHRcdGB0YXNrOiAke2ZtLnV1aWR9IGxhc3QgZW50cnkgaXMgbWlzc2luZyAnY3JlYXRlZF9hdCcgZmllbGRgLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZm1sLmRvbmVfYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IobG9nKTtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0XHRgdGFzazogJHtmbS51dWlkfSBsYXN0IGVudHJ5IGlzIG1pc3NpbmcgJ2RvbmVfYXQnIGZpZWxkYCxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZW50cnkuY3JlYXRlZEF0ID0gbmV3IERhdGUoZm1sLmNyZWF0ZWRfYXQpO1xuXHRcdFx0XHRlbnRyeS5kb25lQXQgPSBuZXcgRGF0ZShmbWwuZG9uZV9hdCk7XG5cdFx0XHRcdGlmICghdGhpcy5maWx0ZXJCeURhdGUoZW50cnkuZG9uZUF0LCBiZWZvcmUsIGFmdGVyKSkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3QgdG9vayA9XG5cdFx0XHRcdFx0KGVudHJ5LmRvbmVBdC5nZXRUaW1lKCkgLSBlbnRyeS5jcmVhdGVkQXQuZ2V0VGltZSgpKSAvIDEwMDA7XG5cdFx0XHRcdGZtLnRvb2sgKz0gdG9vaztcblx0XHRcdFx0ZW50cnkudG9vayA9IHRvb2s7XG5cdFx0XHRcdGVudHJ5LnRvb2tBY2MgPSBmbS50b29rO1xuXHRcdFx0XHRlbnRyeS5kZWx0YUFjYyA9IHRpbWVFc3RpbWF0ZSAtIGZtLnRvb2s7XG5cdFx0XHRcdGJ1ZmYucHVzaChlbnRyeSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3Qga2V5R2V0dGVyID0gSGVscGVyLmdldEtleShncm91cEJ5KTtcblx0XHRjb25zdCBiaW5zID0ge307XG5cdFx0Zm9yIChjb25zdCBlbnRyeSBvZiBidWZmKSB7XG5cdFx0XHRsZXQgZCA9IHVuZGVmaW5lZDtcblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0ZCA9IGtleUdldHRlcihlbnRyeSk7XG5cdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGVudHJ5KTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGJpbnNbZF0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRiaW5zW2RdID0gW2VudHJ5XTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJpbnNbZF0ucHVzaChlbnRyeSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGJpbnMpO1xuXHRcdGtleXMuc29ydCgpO1xuXG5cdFx0Ly8gYnVpbGRzIHJlbmRlcmluZyBhcnJheVxuXHRcdGNvbnN0IHJzID0gW107XG5cdFx0Zm9yIChjb25zdCBrZXkgb2Yga2V5cy5yZXZlcnNlKCkpIHtcblx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIGtleV0pO1xuXHRcdFx0Y29uc3QgYXJyID0gW107XG5cdFx0XHRsZXQgdG90YWxUaW1lID0gMDtcblxuXHRcdFx0Ly8gZGF5IGxvb3Bcblx0XHRcdGZvciAoY29uc3QgZSBvZiBiaW5zW2tleV0pIHtcblx0XHRcdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdFx0XHRidWZmLnB1c2goXG5cdFx0XHRcdFx0UmVuZGVyZXIubWFrZUxpbmtTaG9ydFVVSUQoXG5cdFx0XHRcdFx0XHR0aGlzLmR2LFxuXHRcdFx0XHRcdFx0eyBwYXRoOiBlLnBhdGgsIGZyb250bWF0dGVyOiB7IHV1aWQ6IGUudXVpZCB9IH0sXG5cdFx0XHRcdFx0XHRcIlRhc2tcIixcblx0XHRcdFx0XHQpLFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdC8vIGJ1ZmYucHVzaChcblx0XHRcdFx0Ly8gXHR0aGlzLmR2LnNlY3Rpb25MaW5rKFxuXHRcdFx0XHQvLyBcdFx0ZS5wYXRoLFxuXHRcdFx0XHQvLyBcdFx0XCJUYXNrXCIsXG5cdFx0XHRcdC8vIFx0XHRmYWxzZSxcblx0XHRcdFx0Ly8gXHRcdGAke2UudXVpZC5zbGljZSgwLCA4KX1gLFxuXHRcdFx0XHQvLyBcdCksXG5cdFx0XHRcdC8vICk7XG5cblx0XHRcdFx0YnVmZi5wdXNoKFxuXHRcdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rU2hvcnRVVUlEKFxuXHRcdFx0XHRcdFx0dGhpcy5kdixcblx0XHRcdFx0XHRcdHsgcGF0aDogZS5sb2dQYXRoLCBmcm9udG1hdHRlcjogeyB1dWlkOiBlLmxvZ0lkIH0gfSxcblx0XHRcdFx0XHRcdFwiQ29udGVudFwiLFxuXHRcdFx0XHRcdCksXG5cdFx0XHRcdCk7XG5cdFx0XHRcdC8vIGJ1ZmYucHVzaChcblx0XHRcdFx0Ly8gXHR0aGlzLmR2LnNlY3Rpb25MaW5rKFxuXHRcdFx0XHQvLyBcdFx0ZS5sb2dQYXRoLFxuXHRcdFx0XHQvLyBcdFx0XCJDb250ZW50XCIsXG5cdFx0XHRcdC8vIFx0XHRmYWxzZSxcblx0XHRcdFx0Ly8gXHRcdGAke2UubG9nSWQuc2xpY2UoMCwgOCl9YCxcblx0XHRcdFx0Ly8gXHQpLFxuXHRcdFx0XHQvLyApO1xuXG5cdFx0XHRcdC8vIGJ1ZmYucHVzaChgJHtlLmNyZWF0ZWRBdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDE2KX1gKTtcblx0XHRcdFx0Ly8gYnVmZi5wdXNoKGAke2UuZG9uZUF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTYpfWApO1xuXG5cdFx0XHRcdGNvbnN0IGNvbnZlcnRTZWNvbmRzVG9Ib3VycyA9ICh0KSA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIE1hdGgucm91bmQoKHQgLyAzNjAwKSAqIDEwKSAvIDEwO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHRidWZmLnB1c2goYCR7Y29udmVydFNlY29uZHNUb0hvdXJzKGUudG9vayl9YCk7XG5cdFx0XHRcdGJ1ZmYucHVzaChgJHtlLnByb2plY3R9YCk7XG5cblx0XHRcdFx0YXJyLnB1c2goYnVmZik7XG5cdFx0XHRcdHRvdGFsVGltZSArPSBlLnRvb2s7XG5cdFx0XHR9XG5cblx0XHRcdC8vIHRhc2tcblx0XHRcdHRvdGFsVGltZSA9IE1hdGgucm91bmQoKHRvdGFsVGltZSAvIDM2MDApICogMTApIC8gMTA7XG5cdFx0XHRycy5wdXNoKFtcInN0YXRzXCIsIFwidG90YWxUaW1lXCIsIFwiaFwiLCB0b3RhbFRpbWVdKTtcblx0XHRcdHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIuYmFzaWNQcm9ncmVzc2VkVGFza1dpdGhMb2csIGFycl0pO1xuXHRcdH1cblxuXHRcdHJldHVybiBycztcblx0fVxuXG5cdGluYm94KGR2KSB7XG5cdFx0Y29uc3QgcnMgPSBbXTtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Ly8gZm9uY3Rpb24gZCdleHRyYWN0aW9uIGV0IGQnaW5pdGlhbGlzYXRpb24gZGVzIHBhcmFtcnRyZXMgZHUgZnJvbnRtYXR0ZXJcblx0XHQvLyBmb25jdGlvbiBmaWx0ZXIsICh0YXNrKSAtPiBib29sXG5cblx0XHRjb25zdCBmaWx0ZXJCeSA9IFtdO1xuXHRcdGNvbnN0IG1pblNpemUgPSAwO1xuXHRcdGNvbnN0IG1heFNpemUgPSA0Mjk0OTY3Mjk1O1xuXG5cdFx0Y29uc3QgZmxlZXRpbmdzID0gdGhpcy5kdi5wYWdlcyhgXCIke1BhdGhzLkluYm94fVwiYCkuYXJyYXkoKTtcblx0XHRmb3IgKGNvbnN0IGUgb2YgZmxlZXRpbmdzKSB7XG5cdFx0XHRjb25zdCBmbSA9IGUuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGUuZmlsZS5mcm9udG1hdHRlci5jcmVhdGVkQXQgPSB0aGlzLmZyb250bWF0dGVyLmdldENyZWF0ZWRBdChcblx0XHRcdFx0ZS5maWxlLFxuXHRcdFx0KTtcblx0XHRcdGxldCBmbWpzID0gbnVsbDtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGZtanMgPSBuZXcgRnJvbnRtYXR0ZXJKUyhlKTtcblx0XHRcdH0gY2F0Y2ggKFZhbGlkYXRpb25FcnJvcikge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhlKTtcblx0XHRcdFx0ZHYucGFyYWdyYXBoKFJlbmRlcmVyLm1ha2VMaW5rKGR2LCBlLmZpbGUpKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cblx0XHRcdGZtLnByb2plY3QgPSBIZWxwZXIuZ2V0UHJvamVjdChmbSwgdHJ1ZSk7XG5cdFx0XHRmbS5kb21haW4gPSBgZG9tYWluLyR7Zm1qcy5nZXREb21haW4oKX1gO1xuXHRcdFx0Zm0uY29tcG9uZW50cyA9IEhlbHBlci5nZXRDb21wb25lbnRzKGZtKTtcblxuXHRcdFx0aWYgKGUuZmlsZS5zaXplIDwgbWluU2l6ZSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGlmIChlLmZpbGUuc2l6ZSA+IG1heFNpemUpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGJ1ZmYucHVzaChlKTtcblx0XHR9XG5cblx0XHRjb25zdCBsb2dzID0gW107XG5cblx0XHRmb3IgKGNvbnN0IGUgb2YgbG9ncykge1xuXHRcdFx0Y29uc3QgZm0gPSBlLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRmbS5jcmVhdGVkQXQgPSB0aGlzLmZyb250bWF0dGVyLmdldENyZWF0ZWRBdChlLmZpbGUpO1xuXHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdCFIZWxwZXIubmlsQ2hlY2soZm0ucGFyZW50X2lkKSxcblx0XHRcdFx0YE1pc3NpbmcgZmllbGQgXCJwYXJlbnRfaWRcIiBmcm9tIGxvZzogXCIke2ZtLnV1aWR9XCJgLFxuXHRcdFx0KTtcblx0XHRcdGNvbnN0IHBhcmVudCA9IHRoaXMuZHZcblx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9LyR7Zm0ucGFyZW50X2lkfVwiYClcblx0XHRcdFx0LmFycmF5KCk7XG5cdFx0XHRBc3NlcnQuVHJ1ZShcblx0XHRcdFx0cGFyZW50Lmxlbmd0aCA9PT0gMSxcblx0XHRcdFx0YFBhcmVudDogJHtmbS5wYXJlbnRfaWR9IG5vdCBmb3VuZCBmb3IgbG9nOiBcIiR7Zm0udXVpZH1cImAsXG5cdFx0XHQpO1xuXHRcdFx0Zm0ucHJvamVjdCA9IEhlbHBlci5nZXRQcm9qZWN0KHBhcmVudFswXS5maWxlLmZyb250bWF0dGVyLCB0cnVlKTtcblx0XHRcdGZtLmRvbWFpbiA9IHVuZGVmaW5lZDtcblx0XHRcdGZtLmNvbXBvbmVudHMgPSBbXTtcblxuXHRcdFx0aWYgKGUuZmlsZS5zaXplIDwgbWluU2l6ZSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGlmIChlLmZpbGUuc2l6ZSA+IG1heFNpemUpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGJ1ZmYucHVzaChlKTtcblx0XHR9XG5cblx0XHRjb25zdCBzb3J0QnlTaXplVGhlbkRhdGUgPSBmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHRjb25zdCBmQSA9IGEuZmlsZTtcblx0XHRcdGNvbnN0IGZCID0gYi5maWxlO1xuXHRcdFx0aWYgKGZBLnNpemUgIT09IGZCLnNpemUpIHtcblx0XHRcdFx0cmV0dXJuIGZCLnNpemUgLSBmQS5zaXplO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHRmQS5mcm9udG1hdHRlci5jcmVhdGVkQXQuZ2V0VGltZSgpIC1cblx0XHRcdFx0XHRmQi5mcm9udG1hdHRlci5jcmVhdGVkQXQuZ2V0VGltZSgpXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdGNvbnN0IHNvcnRCeUFnZSA9IChhLCBiKSA9PlxuXHRcdFx0YS5maWxlLmZyb250bWF0dGVyLmNyZWF0ZWRBdC5nZXRUaW1lKCkgLVxuXHRcdFx0Yi5maWxlLmZyb250bWF0dGVyLmNyZWF0ZWRBdC5nZXRUaW1lKCk7XG5cblx0XHRidWZmLnNvcnQoc29ydEJ5QWdlKTtcblx0XHRycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLmluYm94RW50cnksIGJ1ZmZdKTtcblxuXHRcdHJldHVybiBycztcblx0fVxuXG5cdHByb2plY3RzKCkge1xuXHRcdGNvbnN0IHJzID0gW107XG5cdFx0Y29uc3QgYmlucyA9IHtcblx0XHRcdGFjdGl2ZTogW10sXG5cdFx0XHRpbmFjdGl2ZTogW10sXG5cdFx0fTtcblxuXHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdi5wYWdlcyhgXCJQcm9qZWN0c1wiYCkuc29ydCgoaykgPT4gay5uYW1lLCBcImFzY1wiKTtcblx0XHRmb3IgKGNvbnN0IHByb2plY3Qgb2YgcGFnZXMpIHtcblx0XHRcdGNvbnN0IGZtUHJvamVjdCA9IG5ldyBGcm9udG1hdHRlckpTKHByb2plY3QpO1xuXHRcdFx0aWYgKGZtUHJvamVjdC5mbS5hY3RpdmUgPT09IGZhbHNlKSB7XG5cdFx0XHRcdGJpbnMuaW5hY3RpdmUucHVzaChwcm9qZWN0KTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKGZtUHJvamVjdC5nZXROYW1lKCkgPT09IFwiYWRob2NcIikge1xuXHRcdFx0XHRiaW5zLmFjdGl2ZS5wdXNoKHByb2plY3QpO1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAoXG5cdFx0XHRcdFtcInllYXJseVwiLCBcIm1vbnRobHlcIiwgXCJ3ZWVrbHlcIiwgXCJkYWlseVwiXS5jb250YWlucyhcblx0XHRcdFx0XHRmbVByb2plY3QuZ2V0TmFtZSgpLFxuXHRcdFx0XHQpXG5cdFx0XHQpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHRhc2tzID0gdGhpcy5kdlxuXHRcdFx0XHQucGFnZXMoYCNwcm9qZWN0LyR7Zm1Qcm9qZWN0LmdldE5hbWUoKX1gKVxuXHRcdFx0XHQud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdFx0XHRpZiAocGFnZS5maWxlLmZvbGRlciAhPT0gYCR7UGF0aHMuVGFza3N9YCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnN0IGZtVGFzayA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRcdGlmIChmbVRhc2suZm0ucHJpb3JpdHkgPT09IDApIHtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0XHRbXCJ0b2RvXCIsIFwiZG9pbmdcIiwgXCJ3YWl0aW5nXCJdLmNvbnRhaW5zKGZtVGFzay5mbS5zdGF0dXMpXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRpZiAodGFza3MubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRiaW5zLmFjdGl2ZS5wdXNoKHByb2plY3QpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ymlucy5pbmFjdGl2ZS5wdXNoKHByb2plY3QpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIFwiQWN0aXZlXCJdKTtcblx0XHRycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLnByb2plY3RzLCBiaW5zLmFjdGl2ZV0pO1xuXHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIFwiSW5hY3RpdmVcIl0pO1xuXHRcdHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIucHJvamVjdHMsIGJpbnMuaW5hY3RpdmVdKTtcblxuXHRcdHJldHVybiBycztcblx0fVxuXG5cdHByYXhpcygpIHtcblx0XHRjb25zdCBwYWdlcyA9IHRoaXMuZHZcblx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfVwiYClcblx0XHRcdC53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0XHRpZiAocGFnZS5maWxlLmZyb250bWF0dGVyLnR5cGUgIT09IFR5cGVzLlByYXhpcykge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChwYWdlLmZpbGUuZnJvbnRtYXR0ZXIuc3RhdHVzICE9PSBTdGF0dXMuVG9kbykge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fSlcblx0XHRcdC5hcnJheSgpO1xuXG5cdFx0Y29uc3QgcnMgPSBbXTtcblx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAxLCBcIlByYXhpc1wiXSk7XG5cdFx0cnMucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci5iYXNpY1Rhc2ssIHBhZ2VzXSk7XG5cblx0XHRyZXR1cm4gcnM7XG5cdH1cblxuXHRwbGFubmluZyhsYXN0V2VlayA9IDIpIHtcblx0XHRjb25zdCBycyA9IFtdO1xuXHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdlxuXHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9XCJgKVxuXHRcdFx0LndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRcdGlmIChmbS5hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGZtLmdldFByb2plY3QoKSAhPT0gXCJkYWlseVwiKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9KVxuXHRcdFx0LnNvcnQoKHBhZ2UpID0+IHBhZ2UuZmlsZS5mcm9udG1hdHRlci5hdCwgXCJkZXNjXCIpO1xuXG5cdFx0Y29uc3QgYmlucyA9IHt9O1xuXHRcdGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuXHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdGxldCBhdCA9IHVuZGVmaW5lZDtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGF0ID0gZm0uYXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGRhdGU6ICcke2ZtLmZtLnV1aWR9J2ApO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCB3ZWVrTnVtYmVyID0gdGhpcy5nZXRXZWVrTnVtYmVyKGZtLmF0KTtcblx0XHRcdGlmIChiaW5zW3dlZWtOdW1iZXJdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ymluc1t3ZWVrTnVtYmVyXSA9IFtmbV07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRiaW5zW3dlZWtOdW1iZXJdLnB1c2goZm0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG5cdFx0Y29uc3QgY3VycmVudFdlZWtOdW1iZXIgPSB0aGlzLmdldFdlZWtOdW1iZXIobm93KTtcblx0XHRmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhiaW5zKSkge1xuXHRcdFx0Y29uc3Qgd2Vla051bWJlciA9IE51bWJlcihrZXkpO1xuXHRcdFx0aWYgKHdlZWtOdW1iZXIgKyBsYXN0V2VlayA8IGN1cnJlbnRXZWVrTnVtYmVyKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHdlZWtOdW1iZXIgPCBjdXJyZW50V2Vla051bWJlcikge1xuXHRcdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBgfn53ZWVrICR7a2V5fX5+YF0pO1xuXHRcdFx0fSBlbHNlIGlmICh3ZWVrTnVtYmVyID09PSBjdXJyZW50V2Vla051bWJlcikge1xuXHRcdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBgKndlZWsgJHtrZXl9KmBdKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIGB3ZWVrICR7a2V5fWBdKTtcblx0XHRcdH1cblxuXHRcdFx0Ymluc1trZXldLnNvcnQoKGEsIGIpID0+IHtcblx0XHRcdFx0cmV0dXJuIGEuYXQuZ2V0VGltZSgpIC0gYi5hdC5nZXRUaW1lKCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Zm9yIChjb25zdCB0YXNrIG9mIGJpbnNba2V5XSkge1xuXHRcdFx0XHRjb25zdCBkYXkgPSBbXCJTdW5cIiwgXCJNb25cIiwgXCJUdWVcIiwgXCJXZWRcIiwgXCJUaHVcIiwgXCJGcmlcIiwgXCJTYXRcIl1bXG5cdFx0XHRcdFx0dGFzay5hdC5nZXREYXkoKVxuXHRcdFx0XHRdO1xuXHRcdFx0XHRjb25zdCB0ZXh0ID0gUmVuZGVyZXIubWFrZUxpbmsoXG5cdFx0XHRcdFx0dGhpcy5kdixcblx0XHRcdFx0XHR0YXNrLmYsXG5cdFx0XHRcdFx0YCR7dGFzay5hdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKX0sICR7ZGF5fWAsXG5cdFx0XHRcdFx0XCJUYXNrXCIsXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKHdlZWtOdW1iZXIgPCBjdXJyZW50V2Vla051bWJlcikge1xuXHRcdFx0XHRcdHJzLnB1c2goW1wicGFyYWdyYXBoXCIsIGB+fiR7dGV4dH1+fmBdKTtcblx0XHRcdFx0fSBlbHNlIGlmICh3ZWVrTnVtYmVyID09PSBjdXJyZW50V2Vla051bWJlcikge1xuXHRcdFx0XHRcdGlmICh0aGlzLmRheU9mWWVhcih0YXNrLmF0KSA8IHRoaXMuZGF5T2ZZZWFyKG5vdykpIHtcblx0XHRcdFx0XHRcdHJzLnB1c2goW1wicGFyYWdyYXBoXCIsIGB+fiR7dGV4dH1+fmBdKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cnMucHVzaChbXCJwYXJhZ3JhcGhcIiwgYCR7dGV4dH1gXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJzLnB1c2goW1wicGFyYWdyYXBoXCIsIGAke3RleHR9YF0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJzO1xuXHR9XG5cblx0ZGF5T2ZZZWFyKGR0KTogbnVtYmVyIHtcblx0XHRjb25zdCB5ZWFyID0gZHQuZ2V0RnVsbFllYXIoKTtcblx0XHRjb25zdCBtb250aCA9IGR0LmdldE1vbnRoKCkgKyAxO1xuXHRcdGNvbnN0IGRheSA9IGR0LmdldERhdGUoKTtcblxuXHRcdGNvbnN0IE4xID0gTWF0aC5mbG9vcigoMjc1ICogbW9udGgpIC8gOSk7XG5cdFx0Y29uc3QgTjIgPSBNYXRoLmZsb29yKChtb250aCArIDkpIC8gMTIpO1xuXHRcdGNvbnN0IE4zID0gMSArIE1hdGguZmxvb3IoKHllYXIgLSA0ICogTWF0aC5mbG9vcih5ZWFyIC8gNCkgKyAyKSAvIDMpO1xuXHRcdHJldHVybiBOMSAtIE4yICogTjMgKyBkYXkgLSAzMDtcblx0fVxuXG5cdGdldFdlZWtOdW1iZXIoZCkge1xuXHRcdC8vIENvcHkgZGF0ZSBzbyBkb24ndCBtb2RpZnkgb3JpZ2luYWxcblx0XHRkID0gbmV3IERhdGUoRGF0ZS5VVEMoZC5nZXRGdWxsWWVhcigpLCBkLmdldE1vbnRoKCksIGQuZ2V0RGF0ZSgpKSk7XG5cdFx0Ly8gU2V0IHRvIG5lYXJlc3QgVGh1cnNkYXk6IGN1cnJlbnQgZGF0ZSArIDQgLSBjdXJyZW50IGRheSBudW1iZXJcblx0XHQvLyBNYWtlIFN1bmRheSdzIGRheSBudW1iZXIgN1xuXHRcdGQuc2V0VVRDRGF0ZShkLmdldFVUQ0RhdGUoKSArIDQgLSAoZC5nZXRVVENEYXkoKSB8fCA3KSk7XG5cdFx0Ly8gR2V0IGZpcnN0IGRheSBvZiB5ZWFyXG5cdFx0Y29uc3QgeWVhclN0YXJ0OiBhbnkgPSBuZXcgRGF0ZShEYXRlLlVUQyhkLmdldFVUQ0Z1bGxZZWFyKCksIDAsIDEpKTtcblx0XHQvLyBDYWxjdWxhdGUgZnVsbCB3ZWVrcyB0byBuZWFyZXN0IFRodXJzZGF5XG5cdFx0cmV0dXJuIE1hdGguY2VpbCgoKGQgLSB5ZWFyU3RhcnQpIC8gODY0MDAwMDAgKyAxKSAvIDcpO1xuXHR9XG5cblx0Z2V0V2Vla051bWJlcjQoZCkge1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRkID0gbmV3IERhdGUoRGF0ZS5VVEMoZC5nZXRGdWxsWWVhcigpLCBkLmdldE1vbnRoKCksIGQuZ2V0RGF0ZSgpKSk7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGNvbnN0IHllYXJTdGFydCA9IG5ldyBEYXRlKERhdGUuVVRDKGQuZ2V0VVRDRnVsbFllYXIoKSwgMCwgMSkpO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRjb25zdCBmaXJzdFN1bmRheSA9XG5cdFx0XHR5ZWFyU3RhcnQuZ2V0VVRDRGF5KCkgPT09IDBcblx0XHRcdFx0PyB5ZWFyU3RhcnRcblx0XHRcdFx0OiBuZXcgRGF0ZShcblx0XHRcdFx0XHREYXRlLlVUQyhcblx0XHRcdFx0XHRcdGQuZ2V0VVRDRnVsbFllYXIoKSxcblx0XHRcdFx0XHRcdDAsXG5cdFx0XHRcdFx0XHQxICsgKDcgLSB5ZWFyU3RhcnQuZ2V0VVRDRGF5KCkpLFxuXHRcdFx0XHRcdCksXG5cdFx0XHRcdCk7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGNvbnN0IGRheXNTaW5jZUZpcnN0U3VuZGF5ID0gKGQgLSBmaXJzdFN1bmRheSArIDg2NDAwMDAwKSAvIDg2NDAwMDAwO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRyZXR1cm4gTWF0aC5jZWlsKGRheXNTaW5jZUZpcnN0U3VuZGF5IC8gNyk7XG5cdH1cblxuXHRnZXRNb250aCh5ZWFyLCB3ZWVrTnVtYmVyKSB7XG5cdFx0Ly8gQ3JlYXRlIGEgZGF0ZSBvYmplY3QgZm9yIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHllYXJcblx0XHRjb25zdCBmaXJzdERheU9mWWVhciA9IG5ldyBEYXRlKHllYXIsIDAsIDEpO1xuXG5cdFx0Ly8gRGV0ZXJtaW5lIHRoZSBkYXkgb2YgdGhlIHdlZWsgZm9yIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHllYXJcblx0XHRjb25zdCBmaXJzdERheU9mV2VlayA9IGZpcnN0RGF5T2ZZZWFyLmdldERheSgpO1xuXG5cdFx0Ly8gQ2FsY3VsYXRlIHRoZSBudW1iZXIgb2YgZGF5cyB0byBhZGQgdG8gdGhlIGZpcnN0IGRheSBvZiB0aGUgeWVhclxuXHRcdC8vIHRvIGdldCB0byB0aGUgc3RhcnQgb2YgdGhlIHNwZWNpZmllZCB3ZWVrXG5cdFx0Ly8gV2Vla3Mgc3RhcnQgb24gTW9uZGF5OyBpZiB0aGUgZmlyc3QgZGF5IG9mIHRoZSB5ZWFyIGlzIGEgTW9uZGF5LFxuXHRcdC8vIG5vIGFkanVzdG1lbnQgaXMgbmVlZGVkLCBvdGhlcndpc2UgYWRqdXN0IHRvIHRoZSBuZXh0IE1vbmRheVxuXHRcdGNvbnN0IGRheXNUb0FkZCA9XG5cdFx0XHQod2Vla051bWJlciAtIDEpICogNyAtXG5cdFx0XHRmaXJzdERheU9mV2VlayArXG5cdFx0XHQoZmlyc3REYXlPZldlZWsgPT09IDAgPyAxIDogMCk7XG5cblx0XHQvLyBBZGp1c3QgdGhlIGRhdGUgdG8gdGhlIHN0YXJ0IG9mIHRoZSBzcGVjaWZpZWQgd2Vla1xuXHRcdGNvbnN0IHdlZWtTdGFydERhdGUgPSBuZXcgRGF0ZShcblx0XHRcdGZpcnN0RGF5T2ZZZWFyLnNldERhdGUoZmlyc3REYXlPZlllYXIuZ2V0RGF0ZSgpICsgZGF5c1RvQWRkKSxcblx0XHQpO1xuXG5cdFx0Ly8gQ2hlY2sgaWYgdGhlIHdlZWtTdGFydERhdGUgaXMgb24gdGhlIGxhc3QgZGF5IG9mIHRoZSBtb250aCxcblx0XHQvLyBpZiBzbywgbW92ZSB0byB0aGUgbmV4dCBtb250aCB0byByb3VuZCB1cCBmb3IgYSB3ZWVrIHRoYXQgc3BhbnMgYSBtb250aCB0cmFuc2l0aW9uXG5cdFx0aWYgKHdlZWtTdGFydERhdGUuZ2V0RGF0ZSgpID4gMjQpIHtcblx0XHRcdHdlZWtTdGFydERhdGUuc2V0RGF0ZSh3ZWVrU3RhcnREYXRlLmdldERhdGUoKSArIDcpO1xuXHRcdH1cblxuXHRcdC8vIEV4dHJhY3QgdGhlIG1vbnRoIG51bWJlciAoMC0xMSBmb3IgSmFuLURlYykgZnJvbSB0aGUgd2Vla1N0YXJ0RGF0ZVxuXHRcdGNvbnN0IG1vbnRoTnVtYmVyID0gd2Vla1N0YXJ0RGF0ZS5nZXRNb250aCgpO1xuXG5cdFx0cmV0dXJuIG1vbnRoTnVtYmVyICsgMTsgLy8gUmV0dXJuIG1vbnRoIG51bWJlciAoMS0xMilcblx0fVxuXG5cdGdldE1vbnRoTmFtZShtb250aE51bWJlcikge1xuXHRcdGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgyMDAwLCBtb250aE51bWJlciAtIDEpOyAvLyBZZWFyIDIwMDAgaXMgdXNlZCBhcmJpdHJhcmlseTsgYW55IG5vbi1sZWFwIHllYXIgd2lsbCBkb1xuXHRcdHJldHVybiBkYXRlLnRvTG9jYWxlU3RyaW5nKFwiZGVmYXVsdFwiLCB7IG1vbnRoOiBcImxvbmdcIiB9KTtcblx0fVxuXG5cdGpvdXJuYWwoKSB7XG5cdFx0Y29uc3QgcnMgPSBbXTtcblx0XHRjb25zdCBiaW5zID0ge307XG5cdFx0Y29uc3Qgc3VpdmlXZWVrbHkgPSB7fTtcblx0XHRjb25zdCBzdWl2aU1vbnRobHkgPSB7fTtcblx0XHRjb25zdCBzdWl2aVllYXJseSA9IHt9O1xuXHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdlxuXHRcdFx0LnBhZ2VzKGBcIkpvdXJuYWxcImApXG5cdFx0XHQuc29ydCgocGFnZSkgPT4gcGFnZS5maWxlLmZyb250bWF0dGVyLmNyZWF0ZWRfYXQsIFwiZGVzY1wiKTtcblxuXHRcdGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuXHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdC8vIGNvbnN0IHdlZWtOdW1iZXIgPSB0aGlzLmdldFdlZWtOdW1iZXIoZm0uY3JlYXRlZEF0KTtcblx0XHRcdGNvbnN0IHdlZWtOdW1iZXIgPSB0aGlzLmdldFdlZWtOdW1iZXI0KGZtLmNyZWF0ZWRBdCk7XG5cdFx0XHRjb25zdCB5ZWFyID0gZm0uY3JlYXRlZEF0LmdldEZ1bGxZZWFyKCk7XG5cdFx0XHRjb25zdCBtb250aCA9IGZtLmNyZWF0ZWRBdC5nZXRNb250aCgpICsgMTtcblxuXHRcdFx0bGV0IG1zZyA9IFwiXCI7XG5cdFx0XHRtc2cgKz0gYGNyZWF0ZWRBdDogJHtmbS5jcmVhdGVkQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCl9XFxuYDtcblx0XHRcdG1zZyArPSBgd2Vla051bWJlcjogJHt3ZWVrTnVtYmVyfVxcbmA7XG5cdFx0XHRtc2cgKz0gYHllYXI6ICR7eWVhcn1cXG5gO1xuXHRcdFx0bXNnICs9IGBtb250aDogJHttb250aH1cXG5gO1xuXHRcdFx0bXNnICs9IGBkYXk6ICR7Zm0uY3JlYXRlZEF0LmdldERheSgpfVxcbmA7XG5cdFx0XHRjb25zdCBkYXkgPSBbXCJTdW5cIiwgXCJNb25cIiwgXCJUdWVcIiwgXCJXZWRcIiwgXCJUaHVcIiwgXCJGcmlcIiwgXCJTYXRcIl1bXG5cdFx0XHRcdGZtLmNyZWF0ZWRBdC5nZXREYXkoKVxuXHRcdFx0XTtcblx0XHRcdG1zZyArPSBgZGF5OiAke2RheX1cXG5gO1xuXG5cdFx0XHRjb25zb2xlLmxvZyhtc2cpO1xuXG5cdFx0XHRpZiAoYmluc1t5ZWFyXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGJpbnNbeWVhcl0gPSB7fTtcblx0XHRcdH1cblx0XHRcdGlmIChiaW5zW3llYXJdW3dlZWtOdW1iZXIudG9TdHJpbmcoKV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRiaW5zW3llYXJdW3dlZWtOdW1iZXIudG9TdHJpbmcoKV0gPSB7fTtcblx0XHRcdH1cblx0XHRcdGlmIChzdWl2aU1vbnRobHlbeWVhcl0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRzdWl2aU1vbnRobHlbeWVhcl0gPSB7fTtcblx0XHRcdH1cblx0XHRcdGlmIChzdWl2aVdlZWtseVt5ZWFyXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHN1aXZpV2Vla2x5W3llYXJdID0ge307XG5cdFx0XHR9XG5cblx0XHRcdGxldCB0YWcgPSBcIlwiO1xuXHRcdFx0aWYgKGZtLmdldERvbWFpbigpICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dGFnID0gZm0uZ2V0RG9tYWluKCk7XG5cdFx0XHR9IGVsc2UgaWYgKGZtLmdldFByb2plY3QoKSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHRhZyA9IGZtLmdldFByb2plY3QoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRhZyA9IFwiYWRob2NcIjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRhZyA9PSBcIndlZWtseVwiKSB7XG5cdFx0XHRcdGlmIChzdWl2aVdlZWtseVt5ZWFyXVt3ZWVrTnVtYmVyXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0c3VpdmlXZWVrbHlbeWVhcl1bd2Vla051bWJlcl0gPSBbcGFnZV07XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c3VpdmlXZWVrbHlbeWVhcl1bd2Vla051bWJlcl0ucHVzaChwYWdlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAodGFnID09PSBcIm1vbnRobHlcIikge1xuXHRcdFx0XHRpZiAoc3VpdmlNb250aGx5W3llYXJdW21vbnRoXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0c3VpdmlNb250aGx5W3llYXJdW21vbnRoXSA9IFtwYWdlXTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzdWl2aU1vbnRobHlbeWVhcl1bbW9udGhdLnB1c2gocGFnZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKHRhZyA9PT0gXCJ5ZWFybHlcIikge1xuXHRcdFx0XHRpZiAoc3VpdmlZZWFybHlbeWVhcl0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHN1aXZpWWVhcmx5W3llYXJdID0gW3BhZ2VdO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHN1aXZpWWVhcmx5W3llYXJdLnB1c2gocGFnZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChiaW5zW3llYXJdW3dlZWtOdW1iZXJdW3RhZ10gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRiaW5zW3llYXJdW3dlZWtOdW1iZXJdW3RhZ10gPSBbcGFnZV07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRiaW5zW3llYXJdW3dlZWtOdW1iZXJdW3RhZ10ucHVzaChwYWdlKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR7XG5cdFx0XHRjb25zdCB5ZWFycyA9IE9iamVjdC5rZXlzKGJpbnMpO1xuXHRcdFx0bGV0IGxhc3RZZWFyID0gOTk5OTtcblx0XHRcdGxldCBsYXN0TW9udGggPSAxMztcblx0XHRcdHllYXJzLnNvcnQoKS5yZXZlcnNlKCk7XG5cblx0XHRcdGZvciAoY29uc3QgeWVhciBvZiB5ZWFycykge1xuXHRcdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCB5ZWFyXSk7XG5cblx0XHRcdFx0aWYgKHBhcnNlSW50KHllYXIsIDEwKSA8IGxhc3RZZWFyKSB7XG5cdFx0XHRcdFx0bGFzdE1vbnRoID0gMTM7XG5cdFx0XHRcdFx0bGFzdFllYXIgPSBwYXJzZUludCh5ZWFyLCAxMCk7XG5cdFx0XHRcdFx0aWYgKHN1aXZpWWVhcmx5W3llYXJdICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdGZvciAoY29uc3QgcGFnZSBvZiBzdWl2aVllYXJseVt5ZWFyXSkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRcdFx0XHRycy5wdXNoKFtcblx0XHRcdFx0XHRcdFx0XHRcInBhcmFncmFwaFwiLFxuXHRcdFx0XHRcdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rQWxpYXModGhpcy5kdiwgZm0uZiksXG5cdFx0XHRcdFx0XHRcdF0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGZvciAobGV0IHdlZWsgPSA1Mjsgd2VlayA+IDA7IHdlZWstLSkge1xuXHRcdFx0XHRcdGNvbnN0IHRoaXNNb250aCA9IHRoaXMuZ2V0TW9udGgoeWVhciwgd2Vlayk7XG5cblx0XHRcdFx0XHRpZiAoc3VpdmlNb250aGx5W3llYXJdW3RoaXNNb250aF0gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0aWYgKGxhc3RNb250aCAhPT0gdGhpc01vbnRoKSB7XG5cdFx0XHRcdFx0XHRcdGxhc3RNb250aCA9IHRoaXNNb250aDtcblx0XHRcdFx0XHRcdFx0cnMucHVzaChbXG5cdFx0XHRcdFx0XHRcdFx0XCJoZWFkZXJcIixcblx0XHRcdFx0XHRcdFx0XHQzLFxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuZ2V0TW9udGhOYW1lKGxhc3RNb250aCksXG5cdFx0XHRcdFx0XHRcdF0pO1xuXG5cdFx0XHRcdFx0XHRcdGlmIChzdWl2aU1vbnRobHlbeWVhcl1bdGhpc01vbnRoXSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRcdFx0Zm9yIChjb25zdCBwYWdlIG9mIHN1aXZpTW9udGhseVt5ZWFyXVtcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXNNb250aFxuXHRcdFx0XHRcdFx0XHRcdF0pIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRycy5wdXNoKFtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XCJwYXJhZ3JhcGhcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0UmVuZGVyZXIubWFrZUxpbmtBbGlhcyh0aGlzLmR2LCBmbS5mKSxcblx0XHRcdFx0XHRcdFx0XHRcdF0pO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChcblx0XHRcdFx0XHRcdHN1aXZpV2Vla2x5W3llYXJdW3dlZWtdID09PSB1bmRlZmluZWQgJiZcblx0XHRcdFx0XHRcdGJpbnNbeWVhcl1bd2Vla10gPT09IHVuZGVmaW5lZFxuXHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgNCwgYHdlZWsgJHt3ZWVrLnRvU3RyaW5nKCl9YF0pO1xuXHRcdFx0XHRcdGlmIChzdWl2aVdlZWtseVt5ZWFyXVt3ZWVrXSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRmb3IgKGNvbnN0IHBhZ2Ugb2Ygc3VpdmlXZWVrbHlbeWVhcl1bd2Vla10pIHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdFx0XHRcdFx0cnMucHVzaChbXG5cdFx0XHRcdFx0XHRcdFx0XCJwYXJhZ3JhcGhcIixcblx0XHRcdFx0XHRcdFx0XHRSZW5kZXJlci5tYWtlTGlua0FsaWFzKHRoaXMuZHYsIGZtLmYpLFxuXHRcdFx0XHRcdFx0XHRdKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoYmluc1t5ZWFyXVt3ZWVrXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBkb21haW4gPiBwcm9qZWN0XG5cdFx0XHRcdFx0Y29uc3QgdGFncyA9IE9iamVjdC5rZXlzKGJpbnNbeWVhcl1bd2Vla10pO1xuXHRcdFx0XHRcdHRhZ3Muc29ydCgpO1xuXG5cdFx0XHRcdFx0Zm9yIChjb25zdCB0YWcgb2YgdGFncykge1xuXHRcdFx0XHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgNSwgdGFnXSk7XG5cdFx0XHRcdFx0XHRiaW5zW3llYXJdW3dlZWtdW3RhZ10uc29ydCgoYSwgYikgPT4ge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBmbUEgPSBuZXcgRnJvbnRtYXR0ZXJKUyhhKTtcblx0XHRcdFx0XHRcdFx0Y29uc3QgZm1CID0gbmV3IEZyb250bWF0dGVySlMoYik7XG5cdFx0XHRcdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0XHRcdFx0Zm1CLmNyZWF0ZWRBdC5nZXRUaW1lKCkgLVxuXHRcdFx0XHRcdFx0XHRcdGZtQS5jcmVhdGVkQXQuZ2V0VGltZSgpXG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0Zm9yIChjb25zdCBwYWdlIG9mIGJpbnNbeWVhcl1bd2Vla11bdGFnXSkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRcdFx0XHRpZiAoZm0udHlwZSA9PT0gNikge1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGQgPSBmbS5jcmVhdGVkQXRcblx0XHRcdFx0XHRcdFx0XHRcdC50b0lTT1N0cmluZygpXG5cdFx0XHRcdFx0XHRcdFx0XHQuc2xpY2UoMCwgMTApO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGRheSA9IFtcblx0XHRcdFx0XHRcdFx0XHRcdFwiU3VuXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcIk1vblwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XCJUdWVcIixcblx0XHRcdFx0XHRcdFx0XHRcdFwiV2VkXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcIlRodVwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XCJGcmlcIixcblx0XHRcdFx0XHRcdFx0XHRcdFwiU2F0XCIsXG5cdFx0XHRcdFx0XHRcdFx0XVtmbS5jcmVhdGVkQXQuZ2V0RGF5KCldO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IHRleHQgPSBgJHtkfSwgJHtkYXl9YDtcblx0XHRcdFx0XHRcdFx0XHRycy5wdXNoKFtcblx0XHRcdFx0XHRcdFx0XHRcdFwicGFyYWdyYXBoXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRSZW5kZXJlci5tYWtlTGluayh0aGlzLmR2LCBmbS5mLCB0ZXh0KSxcblx0XHRcdFx0XHRcdFx0XHRdKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBycztcblx0fVxuXG5cdGNhbGVuZGFyKCkge1xuXHRcdGNvbnN0IHJzID0gW107XG5cdFx0Y29uc3QgYmlucyA9IHt9O1xuXHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdi5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfVwiYCkud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdGZtLmZtLmF0ID09PSB1bmRlZmluZWQgJiZcblx0XHRcdFx0Zm0uZm0uYmVmb3JlID09PSB1bmRlZmluZWQgJiZcblx0XHRcdFx0Zm0uZm0uYWZ0ZXIgPT09IHVuZGVmaW5lZFxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGZtLmZtLnN0YXR1cyAhPT0gXCJ0b2RvXCIpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZm0uZ2V0UHJvamVjdCgpID09PSBcImRhaWx5XCIpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9KTtcblxuXHRcdGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuXHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdGxldCB5ZWFyID0gMDtcblx0XHRcdGxldCBtb250aCA9IDA7XG5cdFx0XHRsZXQgZGF5ID0gMDtcblxuXHRcdFx0aWYgKGZtLmZtLmJlZm9yZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHllYXIgPSBmbS5iZWZvcmUuZ2V0RnVsbFllYXIoKTtcblx0XHRcdFx0bW9udGggPSBmbS5iZWZvcmUuZ2V0TW9udGgoKTtcblx0XHRcdFx0ZGF5ID0gZm0uYmVmb3JlLmdldFVUQ0RhdGUoKTtcblx0XHRcdH0gZWxzZSBpZiAoZm0uZm0uYXQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR5ZWFyID0gZm0uYXQuZ2V0RnVsbFllYXIoKTtcblx0XHRcdFx0bW9udGggPSBmbS5hdC5nZXRNb250aCgpO1xuXHRcdFx0XHRkYXkgPSBmbS5hdC5nZXRVVENEYXRlKCk7XG5cdFx0XHR9IGVsc2UgaWYgKGZtLmFmdGVyICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0eWVhciA9IGZtLmFmdGVyLmdldEZ1bGxZZWFyKCk7XG5cdFx0XHRcdG1vbnRoID0gZm0uYWZ0ZXIuZ2V0TW9udGgoKTtcblx0XHRcdFx0ZGF5ID0gZm0uYWZ0ZXIuZ2V0VVRDRGF0ZSgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChiaW5zW3llYXJdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ymluc1t5ZWFyXSA9IHt9O1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoYmluc1t5ZWFyXVttb250aF0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRiaW5zW3llYXJdW21vbnRoXSA9IHt9O1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoYmluc1t5ZWFyXVttb250aF1bZGF5XSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGJpbnNbeWVhcl1bbW9udGhdW2RheV0gPSB7fTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGJpbnNbeWVhcl1bbW9udGhdW2RheV1bXCJhdFwiXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGJpbnNbeWVhcl1bbW9udGhdW2RheV1bXCJhdFwiXSA9IFtdO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGJpbnNbeWVhcl1bbW9udGhdW2RheV1bXCJiZWZvcmVcIl0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRiaW5zW3llYXJdW21vbnRoXVtkYXldW1wiYmVmb3JlXCJdID0gW107XG5cdFx0XHR9XG5cdFx0XHRpZiAoYmluc1t5ZWFyXVttb250aF1bZGF5XVtcImFmdGVyXCJdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ymluc1t5ZWFyXVttb250aF1bZGF5XVtcImFmdGVyXCJdID0gW107XG5cdFx0XHR9XG5cblx0XHRcdGlmIChmbS5mbS5iZWZvcmUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRiaW5zW3llYXJdW21vbnRoXVtkYXldW1wiYmVmb3JlXCJdLnB1c2gocGFnZSk7XG5cdFx0XHR9IGVsc2UgaWYgKGZtLmZtLmF0ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ymluc1t5ZWFyXVttb250aF1bZGF5XVtcImF0XCJdLnB1c2gocGFnZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRiaW5zW3llYXJdW21vbnRoXVtkYXldW1wiYWZ0ZXJcIl0ucHVzaChwYWdlKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR7XG5cdFx0XHRjb25zdCB5ZWFycyA9IE9iamVjdC5rZXlzKGJpbnMpO1xuXHRcdFx0eWVhcnMuc29ydCgoYSwgYikgPT4gcGFyc2VJbnQoYSkgLSBwYXJzZUludChiKSk7XG5cblx0XHRcdGZvciAoY29uc3QgeWVhciBvZiB5ZWFycykge1xuXHRcdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCB5ZWFyXSk7XG5cdFx0XHRcdGNvbnN0IG1vbnRocyA9IE9iamVjdC5rZXlzKGJpbnNbeWVhcl0pO1xuXHRcdFx0XHRtb250aHMuc29ydCgoYSwgYikgPT4gcGFyc2VJbnQoYSkgLSBwYXJzZUludChiKSk7XG5cdFx0XHRcdGZvciAoY29uc3QgbW9udGggb2YgbW9udGhzKSB7XG5cdFx0XHRcdFx0cnMucHVzaChbXG5cdFx0XHRcdFx0XHRcImhlYWRlclwiLFxuXHRcdFx0XHRcdFx0Myxcblx0XHRcdFx0XHRcdGAke1tcIkphbnVhcnlcIiwgXCJGZWJ1YXJ5XCIsIFwiTWFyY2hcIiwgXCJBcHJpbFwiLCBcIk1heVwiLCBcIkp1bmVcIiwgXCJKdWx5XCIsIFwiQXVndXN0XCIsIFwiU2VwdGVtYmVyXCIsIFwiT2N0b2JlclwiLCBcIk5vdmVtYmVyXCIsIFwiRGVjZW1iZXJcIl1bbW9udGhdfWAsXG5cdFx0XHRcdFx0XSk7XG5cblx0XHRcdFx0XHRjb25zdCBkYXlzID0gT2JqZWN0LmtleXMoYmluc1t5ZWFyXVttb250aF0pO1xuXHRcdFx0XHRcdGRheXMuc29ydCgoYSwgYikgPT4gcGFyc2VJbnQoYSkgLSBwYXJzZUludChiKSk7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBkYXkgb2YgZGF5cykge1xuXHRcdFx0XHRcdFx0Y29uc3Qgd2Vla3MgPSBbXG5cdFx0XHRcdFx0XHRcdFwiU3VuXCIsXG5cdFx0XHRcdFx0XHRcdFwiTW9uXCIsXG5cdFx0XHRcdFx0XHRcdFwiVHVlXCIsXG5cdFx0XHRcdFx0XHRcdFwiV2VkXCIsXG5cdFx0XHRcdFx0XHRcdFwiVGh1XCIsXG5cdFx0XHRcdFx0XHRcdFwiRnJpXCIsXG5cdFx0XHRcdFx0XHRcdFwiU2F0XCIsXG5cdFx0XHRcdFx0XHRdO1xuXG5cdFx0XHRcdFx0XHRjb25zdCBiZWZvcmUgPSBiaW5zW3llYXJdW21vbnRoXVtkYXldW1wiYmVmb3JlXCJdO1xuXHRcdFx0XHRcdFx0Y29uc3QgYXQgPSBiaW5zW3llYXJdW21vbnRoXVtkYXldW1wiYXRcIl07XG5cdFx0XHRcdFx0XHRjb25zdCBhZnRlciA9IGJpbnNbeWVhcl1bbW9udGhdW2RheV1bXCJhZnRlclwiXTtcblxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coXG5cdFx0XHRcdFx0XHRcdGB5ZWFyOiAke3llYXJ9XFxubW9udGg6ICR7bW9udGh9XFxuZGF5OiAke2RheX1gLFxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdGlmIChiZWZvcmUubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0XHRmb3IgKGNvbnN0IHBhZ2Ugb2YgYmVmb3JlKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coXCItLS0gYmVmb3JlIC0tLVwiKTtcblx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhwYWdlKTtcblx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIi0tLS0tLVwiKTtcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IHRleHQgPSBgYmVmb3JlOiAke3dlZWtzW2ZtLmJlZm9yZS5nZXREYXkoKV19ICR7ZGF5fSAke2ZtLmF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMTEsIDE2KX0gfCAke2ZtLmdldFByb2plY3QoKX1gO1xuXHRcdFx0XHRcdFx0XHRcdHJzLnB1c2goW1xuXHRcdFx0XHRcdFx0XHRcdFx0XCJwYXJhZ3JhcGhcIixcblx0XHRcdFx0XHRcdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLmR2LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmbS5mLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0ZXh0LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcIlRhc2tcIixcblx0XHRcdFx0XHRcdFx0XHRcdCksXG5cdFx0XHRcdFx0XHRcdFx0XSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aWYgKGF0Lmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRcdFx0YXQuc29ydCgoYSwgYikgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGZtQSA9IG5ldyBGcm9udG1hdHRlckpTKGEpO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGZtQiA9IG5ldyBGcm9udG1hdHRlckpTKGIpO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBmbUIuYXQuZ2V0VGltZSgpIC0gZm1BLmF0LmdldFRpbWUoKTtcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdGZvciAoY29uc3QgcGFnZSBvZiBhdCkge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiLS0tIGF0IC0tLVwiKTtcblx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhwYWdlKTtcblx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIi0tLS0tLVwiKTtcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IHRleHQgPSBgYXQ6ICR7d2Vla3NbZm0uYXQuZ2V0RGF5KCldfSAke2RheX0gJHtmbS5hdC50b0lTT1N0cmluZygpLnNsaWNlKDExLCAxNil9IHwgJHtmbS5nZXRQcm9qZWN0KCl9YDtcblx0XHRcdFx0XHRcdFx0XHRycy5wdXNoKFtcblx0XHRcdFx0XHRcdFx0XHRcdFwicGFyYWdyYXBoXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRSZW5kZXJlci5tYWtlTGluayhcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5kdixcblx0XHRcdFx0XHRcdFx0XHRcdFx0Zm0uZixcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGV4dCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XCJUYXNrXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHQpLFxuXHRcdFx0XHRcdFx0XHRcdF0pO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGlmIChhZnRlci5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0XHRcdGZvciAoY29uc3QgcGFnZSBvZiBhZnRlcikge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiLS0tIGFmdGVyIC0tLVwiKTtcblx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhwYWdlKTtcblx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIi0tLS0tLVwiKTtcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IHRleHQgPSBgIGFmdGVyOiAke3dlZWtzW2ZtLmFmdGVyLmdldERheSgpXX0gJHtkYXl9ICR7Zm0uYXQudG9JU09TdHJpbmcoKS5zbGljZSgxMSwgMTYpfSB8ICR7Zm0uZ2V0UHJvamVjdCgpfWA7XG5cdFx0XHRcdFx0XHRcdFx0cnMucHVzaChbXG5cdFx0XHRcdFx0XHRcdFx0XHRcInBhcmFncmFwaFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0UmVuZGVyZXIubWFrZUxpbmsoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuZHYsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZtLmYsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRleHQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFwiVGFza1wiLFxuXHRcdFx0XHRcdFx0XHRcdFx0KSxcblx0XHRcdFx0XHRcdFx0XHRdKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBycztcblx0fVxuXG5cdGdsb2JhbFRhc2tMaXN0KHBhZ2VzKSB7XG5cdFx0Y29uc3QgcnMgPSBbXTtcblx0XHRjb25zdCBiaW5zID0ge307XG5cblx0XHRmb3IgKGNvbnN0IHBhZ2Ugb2YgcGFnZXMpIHtcblx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRpZiAoZm0uZ2V0UHJvamVjdCgpID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Zm0ucHJvamVjdHMgPSBbXCJhZGhvY1wiXTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGJpbnNbZm0uZ2V0UHJvamVjdCgpXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGJpbnNbZm0uZ2V0UHJvamVjdCgpXSA9IFtwYWdlXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJpbnNbZm0uZ2V0UHJvamVjdCgpXS5wdXNoKHBhZ2UpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IHByb2plY3RzID0gT2JqZWN0LmtleXMoYmlucyk7XG5cdFx0cHJvamVjdHMuc29ydCgpO1xuXHRcdGZvciAoY29uc3QgcHJvamVjdCBvZiBwcm9qZWN0cykge1xuXHRcdFx0Y29uc3QgdGFza3MgPSBiaW5zW3Byb2plY3RdO1xuXHRcdFx0dGFza3Muc29ydChIZWxwZXIuc29ydEJ5UHJpb3JpdHlBbmREdXJhdGlvbkFuZEFnZSk7XG5cdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBgJHtwcm9qZWN0fWBdKTtcblx0XHRcdHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIuYmFzaWNUYXNrSm91cm5hbCwgdGFza3NdKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcnM7XG5cdH1cblxuXHRuZXh0QWN0aW9ucyhkdikge1xuXHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdi5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfVwiYCkud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdFtcImRhaWx5XCIsIFwid2Vla2x5XCIsIFwibW9udGhseVwiLCBcInllYXJseVwiXS5jb250YWlucyhcblx0XHRcdFx0XHRmbS5nZXRQcm9qZWN0KCksXG5cdFx0XHRcdClcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghdGhpcy5wcm9qZWN0SXNBY3RpdmUoZm0uZ2V0UHJvamVjdCgpKSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGV4Y2x1ZGUgdGFza3Mgd2l0aCB1bmZ1bGZpbGxlZCBkZXBlbmRlbmNpZXNcblx0XHRcdGlmICghdGhpcy5ub3RlSGVscGVyLmlzRG9hYmxlKHBhZ2UpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gZXhjbHVkZSBzb21lZGF5IG1heWJlIHRhc2tzXG5cdFx0XHRpZiAoZm0uZm0ucHJpb3JpdHkgPT09IDApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9KTtcblxuXHRcdHJldHVybiB0aGlzLmdsb2JhbFRhc2tMaXN0KHBhZ2VzKTtcblx0fVxuXG5cdHdhaXRpbmdGb3IoZHYpIHtcblx0XHRjb25zdCBwYWdlcyA9IHRoaXMuZHYucGFnZXMoYFwiJHtQYXRocy5UYXNrc31cImApLndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRbXCJkYWlseVwiLCBcIndlZWtseVwiLCBcIm1vbnRobHlcIiwgXCJ5ZWFybHlcIl0uY29udGFpbnMoXG5cdFx0XHRcdFx0Zm0uZ2V0UHJvamVjdCgpLFxuXHRcdFx0XHQpXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIVtcInRvZG9cIiwgXCJ3YWl0aW5nXCJdLmNvbnRhaW5zKGZtLmZtLnN0YXR1cykpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIXRoaXMucHJvamVjdElzQWN0aXZlKGZtLmdldFByb2plY3QoKSkpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBleGNsdWRlIHRhc2tzIHdpdGggZnVsZmlsbGVkIGRlcGVuZGVuY2llcyBhbmQgc29tZWRheSBtYXliZVxuXHRcdFx0aWYgKHRoaXMubm90ZUhlbHBlci5pc0RvYWJsZShwYWdlKSB8fCBmbS5mbS5wcmlvcml0eSA9PT0gMCkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHRoaXMuZ2xvYmFsVGFza0xpc3QocGFnZXMpO1xuXHR9XG5cblx0cHJvamVjdElzQWN0aXZlKG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuXHRcdGNvbnN0IHByb2plY3QgPSB0aGlzLmR2LnBhZ2VzKGBcIlByb2plY3RzXCJgKS53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdGlmIChmbS5nZXROYW1lKCkgIT09IG5hbWUpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZm0uZm0uYWN0aXZlID09PSBmYWxzZSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHByb2plY3QubGVuZ3RoID4gMDtcblx0fVxuXG5cdHNvbWVkYXlNYXliZShkdikge1xuXHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdi5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfVwiYCkud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdFtcImRhaWx5XCIsIFwid2Vla2x5XCIsIFwibW9udGhseVwiLCBcInllYXJseVwiXS5jb250YWlucyhcblx0XHRcdFx0XHRmbS5nZXRQcm9qZWN0KCksXG5cdFx0XHRcdClcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghdGhpcy5wcm9qZWN0SXNBY3RpdmUoZm0uZ2V0UHJvamVjdCgpKSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGV4Y2x1ZGUgdGFza3Mgd2l0aCB1bmZ1bGZpbGxlZCBkZXBlbmRlbmNpZXNcblx0XHRcdGlmICghdGhpcy5ub3RlSGVscGVyLmlzRG9hYmxlKHBhZ2UpIHx8IGZtLmZtLnByaW9yaXR5ID4gMCkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHRoaXMuZ2xvYmFsVGFza0xpc3QocGFnZXMpO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBEdkxpYiB7XG5cdHRhc2tEaXIgPSBcIjgxMyBUYXNrc1wiO1xuXHRpbmJveERpciA9IFwiODAwIEluYm94XCI7XG5cdHJlZkRpciA9IFwiODAyIFJlZnNcIjtcblx0bG9nRGlyID0gXCI2MDAgTG9nXCI7XG5cblx0VGFzayA9IHtcblx0XHRCQVNFOiAzLFxuXHRcdERBSUxZOiA0LFxuXHR9O1xuXG5cdFR5cGUgPSB7XG5cdFx0VEFTSzogMyxcblx0XHREQUlMWTogNCxcblx0XHRMT0c6IDYsXG5cdH07XG5cblx0U3RhdHVzID0ge1xuXHRcdFRPRE86IFwidG9kb1wiLFxuXHRcdERPTkU6IFwiZG9uZVwiLFxuXHRcdERPSU5HOiBcImRvaW5nXCIsXG5cdFx0VFJBU0g6IFwidHJhc2hcIixcblx0XHRNQVlCRTogXCJtYXliZVwiLFxuXHRcdFNUQU5EQlk6IFwic3RhbmRieVwiLFxuXHR9O1xuXG5cdE5hbWVzcGFjZSA9IHtcblx0XHRBUkVBOiBcImFyZWFcIixcblx0XHRDT05URVhUOiBcImNvbnRleHRcIixcblx0XHRMQVlFUjogXCJsYXllclwiLFxuXHRcdE9SRzogXCJvcmdcIixcblx0XHRQUk9KRUNUOiBcInByb2plY3RcIixcblx0fTtcblxuXHREZWZhdWx0ID0ge1xuXHRcdEFSRUE6IFwibm9uZVwiLFxuXHRcdENPTlRFWFQ6IFwiYW55XCIsXG5cdFx0TEFZRVI6IFwibm9uZVwiLFxuXHRcdE9SRzogXCJub25lXCIsXG5cdFx0UFJPSkVDVDogXCJub25lXCIsXG5cdH07XG5cblx0X2R2ID0gXCJcIjtcblxuXHRzZXQgZHYobW9kKSB7XG5cdFx0dGhpcy5fZHYgPSBtb2Q7XG5cdH1cblxuXHRnZXQgZHYoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2R2O1xuXHR9XG5cblx0aXNDaGlsZFRhZyhwYXJlbnQsIGNoaWxkKSB7XG5cdFx0aWYgKGNoaWxkLmxlbmd0aCA8PSBwYXJlbnQubGVuZ3RoICsgMSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0gZWxzZSBpZiAoY2hpbGQuc2xpY2UoMCwgcGFyZW50Lmxlbmd0aCArIDEpICE9IGAke3BhcmVudH0vYCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdHN0cmlwVGFnKHRhZykge1xuXHRcdGxldCB0ID0gXCJcIjtcblx0XHRpZiAodGFnLnNsaWNlKC0xKSA9PT0gXCIvXCIpIHtcblx0XHRcdHQgPSB0YWcuc2xpY2UoMCwgLTEpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0ID0gdGFnO1xuXHRcdH1cblx0XHRpZiAodC5zbGljZSgwLCAxKSA9PT0gXCIjXCIpIHtcblx0XHRcdHQgPSB0LnNsaWNlKDEsIHQubGVuZ3RoKTtcblx0XHR9XG5cdFx0cmV0dXJuIHQ7XG5cdH1cblxuXHRnZXRUYXNrRnJvbVVVSUQoZHYsIHV1aWQpIHtcblx0XHRjb25zdCBuID0gZHYucGFnZXMoYFwiJHt0aGlzLnRhc2tEaXJ9LyR7dXVpZH1cImApO1xuXHRcdGlmIChuLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0Ly8gc2hvdWxkIHdhcm4sIHRoaXMgbWVhbnMgbm90ZSBkZXBlbmRzIG9uIGEgbm9uLWV4aXN0aW5nIHRhc2tcblx0XHRcdGNvbnNvbGUud2FybihgXCIke3RoaXMudGFza0Rpcn0vJHt1dWlkfVwiIHRhc2sgZG9lcyBub3QgZXhpc3RzYCk7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHRyZXR1cm4gblswXTtcblx0fVxuXG5cdGhhc1ZhbGlkRm9ybWF0KHRhc2spIHtcblx0XHQvLyBkdi5wYWdlcyByZXR1cm5zIGFuIGFycmF5IHdldGhlciBpdCBmaW5kcyAxIG9yIG1vcmUgbm90ZXNcblx0XHRjb25zdCBmbSA9IHRhc2suZmlsZS5mcm9udG1hdHRlcjtcblx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Ly8gdGhpcyBzaG91bGQgd2FybiwgYWxsIHRhc2tzIHNob3VsZCBoYXZlIGEgZnJvbnRtYXR0ZXJcblx0XHRcdGNvbnNvbGUud2Fybihcblx0XHRcdFx0YFwiJHt0aGlzLnRhc2tEaXJ9LyR7dGFzay51dWlkfVwiIHRhc2sgZG9lcyBub3QgaGF2ZSBhIGZyb250bWF0dGVyYCxcblx0XHRcdCk7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKGZtLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Ly8gYWxsIHRhc2tzIG11c3QgaGF2ZSBhIGB0eXBlYCBmaWVsZFxuXHRcdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0XHRgXCIke3RoaXMudGFza0Rpcn0vJHt0YXNrLnV1aWR9XCIgdGFzayBkb2VzIG5vdCBoYXZlIGEgXFxgdHlwZVxcYCBmaWVsZGAsXG5cdFx0XHQpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmIChmbS5zdGF0dXMgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Ly8gYWxsIHRhc2tzIG11c3QgaGF2ZSBhIGBzdGF0dXNgIGZpZWxkXG5cdFx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcdGBcIiR7dGhpcy50YXNrRGlyfS8ke3Rhc2sudXVpZH1cIiB0YXNrIGRvZXMgbm90IGhhdmUgYSBcXGBzdGF0dXNcXGAgZmllbGRgLFxuXHRcdFx0KTtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRoYXNQZW5kaW5nRGVwZW5kZW5jaWVzKGR2LCBkZXBzKSB7XG5cdFx0Zm9yIChjb25zdCBkZXAgb2YgZGVwcykge1xuXHRcdFx0Y29uc3QgdGFzayA9IHRoaXMuZ2V0VGFza0Zyb21VVUlEKGR2LCBkZXApO1xuXHRcdFx0aWYgKHRhc2sgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGlmICghdGhpcy5oYXNWYWxpZEZvcm1hdCh0YXNrKSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IGZtID0gdGFzay5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0aWYgKGZtLnR5cGUgIT09IHRoaXMuVGFzay5CQVNFICYmIGZtLnR5cGUgIT09IHRoaXMuVGFzay5EQUlMWSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGlmIChmbS5zdGF0dXMgPT09IHRoaXMuU3RhdHVzLlRPRE8pIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGlzRG9hYmxlKGR2LCB0YXNrKSB7XG5cdFx0Y29uc3QgZm0gPSB0YXNrLmZpbGUuZnJvbnRtYXR0ZXI7XG5cblx0XHRpZiAoZm0uc3RhdHVzICE9PSB0aGlzLlN0YXR1cy5UT0RPKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKGZtLmFmdGVyICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGNvbnN0IGFmdGVyID0gbmV3IERhdGUoZm0uYWZ0ZXIpO1xuXHRcdFx0aWYgKERhdGUubm93KCkgPD0gYWZ0ZXIuZ2V0VGltZSgpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCBkZXBzID0gZm0ubmVlZHM7XG5cdFx0aWYgKGRlcHMgPT09IHVuZGVmaW5lZCB8fCBkZXBzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuaGFzUGVuZGluZ0RlcGVuZGVuY2llcyhkdiwgZGVwcykpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGdldE5hbWVzcGFjZUNvbnRlbnQoZHYsIG5zKSB7XG5cdFx0Y29uc3QgY2hpbGRyZW4gPSBbXTtcblx0XHRjb25zdCByZXNwID0gZHYucGFnZXMoYCMke25zfWApO1xuXHRcdGZvciAoY29uc3QgZiBvZiByZXNwKSB7XG5cdFx0XHRjb25zdCB0YWdzID0gZi50YWdzO1xuXHRcdFx0aWYgKHRhZ3MgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yIChjb25zdCB0YWcgb2YgdGFncykge1xuXHRcdFx0XHRpZiAodGhpcy5pc0NoaWxkVGFnKG5zLCB0YWcpKSB7XG5cdFx0XHRcdFx0Y29uc3QgdCA9IHRhZy5zbGljZShucy5sZW5ndGggKyAxKTtcblx0XHRcdFx0XHRpZiAoIWNoaWxkcmVuLmluY2x1ZGVzKHQpKSB7XG5cdFx0XHRcdFx0XHRjaGlsZHJlbi5wdXNoKHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBjaGlsZHJlbjtcblx0fVxuXG5cdGlzRG9uZShkdiwgZGVwKSB7XG5cdFx0Y29uc3QgdGFzayA9IHRoaXMuZ2V0VGFza0Zyb21VVUlEKGR2LCBkZXApO1xuXHRcdGlmICh0YXNrID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRpZiAoIXRoaXMuaGFzVmFsaWRGb3JtYXQodGFzaykpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRjb25zdCBmbSA9IHRhc2suZmlsZS5mcm9udG1hdHRlcjtcblx0XHRpZiAoZm0uc3RhdHVzID09PSB0aGlzLlN0YXR1cy5ET05FKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRnZXRUYXNrcyhcblx0XHRkdixcblx0XHR0YWcsXG5cdFx0dGFza1R5cGUgPSBbdGhpcy5UYXNrLkJBU0UsIHRoaXMuVGFzay5EQUlMWV0sXG5cdFx0c3RhdHVzID0gdGhpcy5TdGF0dXMuVE9ETyxcblx0KSB7XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGNvbnN0IHRhc2tzID0gZHYucGFnZXModGFnKTtcblxuXHRcdGZvciAoY29uc3QgdGFzayBvZiB0YXNrcykge1xuXHRcdFx0Y29uc3QgZm0gPSB0YXNrLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGlmIChmbS5zdGF0dXMgPT09IHVuZGVmaW5lZCB8fCBmbS5zdGF0dXMgIT09IHN0YXR1cykge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGlmIChmbS50eXBlID09PSB1bmRlZmluZWQgfHwgIXRhc2tUeXBlLmNvbnRhaW5zKGZtLnR5cGUpKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0YnVmZi5wdXNoKHRhc2spO1xuXHRcdH1cblxuXHRcdHJldHVybiBidWZmO1xuXHR9XG5cblx0Zm9ybWF0VGFzayhkdiwgdGFzaykge1xuXHRcdHJldHVybiBkdi5maWxlTGluayh0YXNrLmZpbGUucGF0aCk7XG5cdH1cblxuXHRmb3JtYXRUYXNrQmlzKGR2LCB0YXNrKSB7XG5cdFx0Y29uc3QgZiA9IHRhc2suZmlsZTtcblx0XHRsZXQgY3R4ID0gXCJcIjtcblxuXHRcdGZvciAoY29uc3QgdGFnIG9mIGYudGFncykge1xuXHRcdFx0aWYgKHRhZy5zbGljZSgwLCA5KSA9PSBcIiNjb250ZXh0L1wiKSB7XG5cdFx0XHRcdGN0eCA9IHRhZy5zbGljZSg5KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gW1xuXHRcdFx0ZHYuZmlsZUxpbmsoZi5wYXRoKSxcblx0XHRcdGR2Lm1hcmtkb3duVGFza0xpc3QoZi50YXNrcyksXG5cdFx0XHRmLmZyb250bWF0dGVyLnRpbWVfZXN0aW1hdGUsXG5cdFx0XHRjdHgsXG5cdFx0XTtcblx0fVxuXG5cdGZvcm1hdFRhc2tCYXNlKGR2LCB0YXNrKSB7XG5cdFx0Y29uc3QgZiA9IHRhc2suZmlsZTtcblx0XHRjb25zdCBmbSA9IGYuZnJvbnRtYXR0ZXI7XG5cdFx0Y29uc3QgdGFncyA9IGZtLnRhZ3M7XG5cblx0XHRjb25zdCBhcmVhID0gdGhpcy5nZXRBcmVhKHRhZ3MpO1xuXG5cdFx0cmV0dXJuIFtcblx0XHRcdGR2LmZpbGVMaW5rKGYucGF0aCwgZmFsc2UsIGZtLnV1aWQuc2xpY2UoMCwgOCkpLFxuXHRcdFx0ZHYubWFya2Rvd25UYXNrTGlzdChmLnRhc2tzKSxcblx0XHRcdGZtLnRpbWVfZXN0aW1hdGUsXG5cdFx0XHRhcmVhLFxuXHRcdF07XG5cdH1cblxuXHRmb3JtYXRUYXNrV2FpdGluZyhkdiwgdGFzaykge1xuXHRcdGNvbnN0IGYgPSB0YXNrLmZpbGU7XG5cdFx0Y29uc3QgZm0gPSBmLmZyb250bWF0dGVyO1xuXHRcdGNvbnN0IGRlcHMgPSBbXTtcblxuXHRcdGlmIChmbS5uZWVkcyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRmb3IgKGNvbnN0IGRlcCBvZiBmbS5uZWVkcykge1xuXHRcdFx0XHRkZXBzLnB1c2goZHYuZmlsZUxpbmsoYCR7dGhpcy50YXNrRGlyfS8ke2RlcH1gKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Zm9ybWF0VGFza01heWJlKGR2LCB0YXNrKSB7XG5cdFx0Y29uc3QgZiA9IHRhc2suZmlsZTtcblx0XHRjb25zdCBmbSA9IGYuZnJvbnRtYXR0ZXI7XG5cdFx0Y29uc3QgZGVwcyA9IFtdO1xuXG5cdFx0cmV0dXJuIFtkdi5maWxlTGluayhmLnBhdGgpXTtcblx0fVxuXG5cdG1ha2VBc3luY1JlcXVlc3QoZHYsIHV1aWQpIHtcblx0XHRyZXR1cm4gZHZcblx0XHRcdC5xdWVyeShgTElTVCBXSEVSRSBuZWVkcyBBTkQgY29udGFpbnMobmVlZHMsIFwiJHt1dWlkfVwiKWApXG5cdFx0XHQudGhlbigodmFsdWUpID0+IHtcblx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0fSk7XG5cdH1cblxuXHRnZXREZXBlbmRhbnRUYXNrcyhkdiwgdGFzaykge1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRjb25zdCB1dWlkID0gdGFzay5maWxlLm5hbWU7XG5cblx0XHRpZiAodGFzay5maWxlLmZyb250bWF0dGVyID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBidWZmO1xuXHRcdH1cblxuXHRcdGNvbnN0IHRhc2tzID0gZHZcblx0XHRcdC5wYWdlcyhgXCIke3RoaXMudGFza0Rpcn1cImApXG5cdFx0XHQud2hlcmUoKHApID0+IHAubmVlZHMgIT09IHVuZGVmaW5lZCAmJiBwLm5lZWRzLmNvbnRhaW5zKHV1aWQpKTtcblx0XHRmb3IgKGNvbnN0IHRrIG9mIHRhc2tzKSB7XG5cdFx0XHRjb25zdCB0ID0gZHYucGFnZXMoYFwiJHt0ay5maWxlLnBhdGh9XCJgKTtcblx0XHRcdGJ1ZmYucHVzaCh0WzBdKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gYnVmZjtcblx0fVxuXG5cdGJ5RGVwZW5kZW5jeUFuZFByaW9yaXR5QW5kQ3JlYXRlZEF0KGR2LCBhLCBiKSB7XG5cdFx0Y29uc3QgZnRBID0gYS5maWxlLmZyb250bWF0dGVyO1xuXHRcdGNvbnN0IGZ0QiA9IGIuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRjb25zdCBwcmlvQSA9IGZ0QS5wcmlvcml0eTtcblx0XHRjb25zdCBwcmlvQiA9IGZ0Qi5wcmlvcml0eTtcblx0XHQvLyBiZWZvcmUgPiBkZXBzID4gcHJpbyA+IGNyZWF0ZWRfYXRcblx0XHQvLyBsZXQgYmVmb3JlQSA9IGZ0QS5iZWZvcmU7XG5cdFx0Ly8gbGV0IGJlZm9yZUIgPSBmdEIuYmVmb3JlO1xuXG5cdFx0Y29uc3QgZGVwc0EgPSB0aGlzLmdldERlcGVuZGFudFRhc2tzKGR2LCBhKTtcblx0XHRjb25zdCBkZXBzQiA9IHRoaXMuZ2V0RGVwZW5kYW50VGFza3MoZHYsIGIpO1xuXG5cdFx0aWYgKGRlcHNBLmxlbmd0aCAtIGRlcHNCLmxlbmd0aCAhPT0gMCkge1xuXHRcdFx0cmV0dXJuIGRlcHNBLmxlbmd0aCAtIGRlcHNCLmxlbmd0aDtcblx0XHR9XG5cblx0XHRpZiAocHJpb0EgLSBwcmlvQiAhPT0gMCkge1xuXHRcdFx0cmV0dXJuIHByaW9BIC0gcHJpb0I7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZGF0ZUEgPSBuZXcgRGF0ZShmdEEuY3JlYXRlZF9hdCk7XG5cdFx0Y29uc3QgZGF0ZUIgPSBuZXcgRGF0ZShmdEIuY3JlYXRlZF9hdCk7XG5cblx0XHRyZXR1cm4gKGRhdGVBLmdldFRpbWUoKSAtIGRhdGVCLmdldFRpbWUoKSkgKiAtMTtcblx0fVxuXG5cdGZvcm1hdFRhc2tQbGFubmluZ1dhaXRpbmcoZHYsIHRhc2spIHtcblx0XHRjb25zdCBmID0gdGFzay5maWxlO1xuXG5cdFx0cmV0dXJuIFtcblx0XHRcdC8vIGFqb3V0ZXIgYWxpYXMgc3VyIGxlIGxpbmtcblx0XHRcdGR2Lm1hcmtkb3duVGFza0xpc3QoZi50YXNrcyksXG5cdFx0XHRkdi5maWxlTGluayhmLnBhdGgsIGZhbHNlLCBmLm5hbWUuc2xpY2UoMCwgOCkpLFxuXHRcdFx0Zi5mcm9udG1hdHRlci50aW1lX2VzdGltYXRlLFxuXHRcdFx0Zi5mcm9udG1hdHRlci5jYXVzZSxcblx0XHRdO1xuXHR9XG5cblx0cmVuZGVyQmFzZUFzQXJyYXkoZHYsIHRhc2tzKSB7XG5cdFx0Y29uc3QgYXJyID0gW107XG5cdFx0dGFza3MuZm9yRWFjaCgodGFzaykgPT4ge1xuXHRcdFx0YXJyLnB1c2godGhpcy5mb3JtYXRUYXNrQmFzZShkdiwgdGFzaykpO1xuXHRcdH0pO1xuXHRcdGR2LnRhYmxlKFtcInV1aWRcIiwgXCJ0YXNrc1wiLCBcImVzdGltYXRlXCIsIFwiYXJlYVwiXSwgYXJyKTtcblx0fVxuXG5cdHJlbmRlclBsYW5uaW5nV2FpdGluZyhkdiwgdGFza3MpIHtcblx0XHRjb25zdCBhcnIgPSBbXTtcblx0XHR0YXNrcy5mb3JFYWNoKCh0YXNrKSA9PiB7XG5cdFx0XHRhcnIucHVzaCh0aGlzLmZvcm1hdFRhc2tQbGFubmluZ1dhaXRpbmcoZHYsIHRhc2spKTtcblx0XHR9KTtcblx0XHRkdi50YWJsZShbXCJ0YXNrc1wiLCBcInV1aWRcIiwgXCJlc3RpbWF0ZVwiLCBcImNhdXNlXCJdLCBhcnIpO1xuXHR9XG5cblx0cmVuZGVyTWF5YmVBc0FycmF5KGR2LCB0YXNrcykge1xuXHRcdGNvbnN0IGFyciA9IFtdO1xuXHRcdHRhc2tzLmZvckVhY2goKHsgcmVmLCB0YXNrIH0pID0+IHtcblx0XHRcdGlmICh0YXNrICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0YXJyLnB1c2godGhpcy5mb3JtYXRUYXNrTWF5YmUoZHYsIHRhc2spKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRkdi50YWJsZShbXCJ1dWlkXCJdLCBhcnIpO1xuXHR9XG5cblx0Zm9ybWF0VGFza0RhaWx5KGR2LCB0YXNrKSB7XG5cdFx0Y29uc3QgZiA9IHRhc2suZmlsZTtcblx0XHRjb25zdCBmbSA9IHRhc2suZmlsZS5mcm9udG1hdHRlcjtcblx0XHRjb25zdCB0YWdzID0gdGFzay5maWxlLnRhZ3M7XG5cdFx0Y29uc3QgYXJlYXMgPSBbXTtcblxuXHRcdGZvciAoY29uc3QgdGFnIG9mIHRhZ3MpIHtcblx0XHRcdGlmICh0YWcuc2xpY2UoMCwgNikgPT0gXCIjYXJlYS9cIikge1xuXHRcdFx0XHRhcmVhcy5wdXNoKHRhZy5zbGljZSg2KSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3QgbGlua3MgPSBbXTtcblx0XHRmb3IgKGNvbnN0IGxpbmsgb2YgZi5vdXRsaW5rcykge1xuXHRcdFx0bGlua3MucHVzaChsaW5rKTtcblx0XHR9XG5cblx0XHRjb25zdCB0YXNrcyA9IFtdO1xuXHRcdGZvciAoY29uc3QgdCBvZiBmLnRhc2tzKSB7XG5cdFx0XHR0YXNrcy5wdXNoKHQpO1xuXHRcdH1cblxuXHRcdHJldHVybiBbXG5cdFx0XHRkdi5maWxlTGluayhmLnBhdGgpLFxuXHRcdFx0bGlua3MubGVuZ3RoID4gMFxuXHRcdFx0XHQ/IGR2Lm1hcmtkb3duTGlzdChsaW5rcylcblx0XHRcdFx0OiBkdi5tYXJrZG93blRhc2tMaXN0KHRhc2tzKSxcblx0XHRcdGZtLnRpbWVfYWxsb2NhdGVkLFxuXHRcdFx0YXJlYXMubGVuZ3RoID4gMCA/IGR2Lm1hcmtkb3duTGlzdChhcmVhcykgOiBcIlwiLFxuXHRcdF07XG5cdH1cblxuXHRmb3JtYXRGbGVldGluZyhkdiwgdGFzaykge1xuXHRcdGNvbnN0IGYgPSB0YXNrLmZpbGU7XG5cdFx0Y29uc3QgZm0gPSB0YXNrLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0Y29uc3QgdGFncyA9IHRhc2suZmlsZS50YWdzO1xuXHRcdGNvbnN0IGhvdXJzID0gMzYwMDtcblx0XHRjb25zdCBkYXlzID0gODY0MDA7XG5cblx0XHRsZXQgZHQgPSBuZXcgRGF0ZSgpO1xuXHRcdGlmIChmbSAhPT0gdW5kZWZpbmVkICYmIGZtLmNyZWF0ZWRfYXQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0ZHQgPSBuZXcgRGF0ZShmbS5jcmVhdGVkX2F0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZHQgPSBuZXcgRGF0ZShmLmN0aW1lLnRzKTtcblx0XHR9XG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKTtcblx0XHRjb25zdCBkZWx0YSA9IChub3cuZ2V0VGltZSgpIC0gZHQuZ2V0VGltZSgpKSAvIDEwMDA7XG5cdFx0bGV0IHNpbmNlID0gXCJcIjtcblx0XHRjb25zdCB0b0R0ID0gKHQpID0+IHtcblx0XHRcdHJldHVybiBTdHJpbmcoTWF0aC5yb3VuZCh0ICogMTApIC8gMTApLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHR9O1xuXHRcdGlmIChkZWx0YSA+PSBkYXlzKSB7XG5cdFx0XHQvLyBkYXlzIGFnb1xuXHRcdFx0c2luY2UgPSB0b0R0KGRlbHRhIC8gZGF5cykgKyBcImRcIjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gaG91cnMgYWdvXG5cdFx0XHRzaW5jZSA9IHRvRHQoZGVsdGEgLyBob3VycykgKyBcImhcIjtcblx0XHR9XG5cblx0XHQvLyByZXR1cm4gW2R2LmZpbGVMaW5rKGAke2YucGF0aH0jQ29udGVudGApLCBzaW5jZSwgZi5zaXplXTtcblx0XHRpZiAoZm0uYWxpYXMgPT09IHVuZGVmaW5lZCB8fCBmbS5hbGlhcyA9PT0gXCJcIikge1xuXHRcdFx0cmV0dXJuIFtkdi5maWxlTGluayhgJHtmLnBhdGh9YCksIHNpbmNlLCBmLnNpemVdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gW2R2LmZpbGVMaW5rKGAke2YucGF0aH1gLCBmYWxzZSwgZm0uYWxpYXMpLCBzaW5jZSwgZi5zaXplXTtcblx0XHR9XG5cdH1cblxuXHRyZW5kZXJEYWlseUFzQXJyYXkoZHYsIHRhc2tzKSB7XG5cdFx0Y29uc3QgYXJyID0gW107XG5cdFx0dGFza3MuZm9yRWFjaCgodGFzaykgPT4ge1xuXHRcdFx0YXJyLnB1c2godGhpcy5mb3JtYXRUYXNrRGFpbHkoZHYsIHRhc2spKTtcblx0XHR9KTtcblx0XHRkdi50YWJsZShbXCJ1dWlkXCIsIFwiY29udGVudFwiLCBcImR1cmF0aW9uXCIsIFwiYXJlYVwiXSwgYXJyKTtcblx0fVxuXG5cdHJlbmRlckZsZWV0aW5nQXNBcnJheShkdiwgdGFza3MpIHtcblx0XHRjb25zdCBhcnIgPSBbXTtcblx0XHR0YXNrcy5mb3JFYWNoKCh0YXNrKSA9PiB7XG5cdFx0XHRhcnIucHVzaCh0aGlzLmZvcm1hdEZsZWV0aW5nKGR2LCB0YXNrKSk7XG5cdFx0fSk7XG5cdFx0ZHYudGFibGUoW1wiY29udGVudFwiLCBcImFnZVwiLCBcInNpemVcIl0sIGFycik7XG5cdH1cblxuXHRhdXRvRmllbGROZWVkKGR2LCBmbSkge1xuXHRcdGlmIChmbS5uZWVkcyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRmb3IgKGNvbnN0IGRlcCBvZiBmbS5uZWVkcykge1xuXHRcdFx0aWYgKCF0aGlzLmlzRG9uZShkdiwgZGVwKSkge1xuXHRcdFx0XHRidWZmLnB1c2goZHYuZmlsZUxpbmsoYCR7dGhpcy50YXNrRGlyfS8ke2RlcH1gKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChidWZmLmxlbmd0aCA+IDApIHtcblx0XHRcdGR2LmhlYWRlcigyLCBcIk5lZWRzXCIpO1xuXHRcdFx0ZHYubGlzdChidWZmKTtcblx0XHR9XG5cdH1cblxuXHRhdXRvRmllbGROZWVkZWRCeShkdiwgY3VycmVudCkge1xuXHRcdGNvbnN0IHRhc2tzID0gdGhpcy5nZXREZXBlbmRhbnRUYXNrcyhkdiwgY3VycmVudCk7XG5cdFx0aWYgKHRhc2tzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRmb3IgKGNvbnN0IHRhc2sgb2YgdGFza3MpIHtcblx0XHRcdGlmICghdGhpcy5pc0RvbmUoZHYsIHRhc2sudXVpZCkpIHtcblx0XHRcdFx0YnVmZi5wdXNoKGR2LmZpbGVMaW5rKHRhc2suZmlsZS5wYXRoKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChidWZmLmxlbmd0aCA+IDApIHtcblx0XHRcdGR2LmhlYWRlcigyLCBcIk5lZWRlZEJ5XCIpO1xuXHRcdFx0ZHYubGlzdChidWZmKTtcblx0XHR9XG5cdH1cblxuXHRhdXRvRmllbGRUYWdzKGR2LCBmbSkge1xuXHRcdGNvbnN0IHRhZ3MgPSBmbS50YWdzO1xuXHRcdGlmICh0YWdzID09IHVuZGVmaW5lZCB8fCB0YWdzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRhZ3Muc29ydCgpO1xuXHRcdGR2LmhlYWRlcigyLCBcIlRhZ3NcIik7XG5cdFx0bGV0IHMgPSBcIlwiO1xuXHRcdGZvciAoY29uc3QgdGFnIG9mIHRhZ3MpIHtcblx0XHRcdHMgKz0gYCAjJHt0YWd9YDtcblx0XHR9XG5cdFx0ZHYucGFyYWdyYXBoKHMpO1xuXG5cdFx0Ly8gZHYucGFyYWdyYXBoKHMpO1xuXHRcdC8vIGZvciAoY29uc3QgdGFnIG9mIHRhZ3MpIHtcblx0XHQvLyAgIGR2LnBhcmFncmFwaChgIyR7dGFnfWApO1xuXHRcdC8vIH1cblx0fVxuXG5cdGF1dG9GaWVsZFRhc2tCYXNlKGR2KSB7XG5cdFx0Y29uc3QgY3VycmVudCA9IGR2LmN1cnJlbnQoKTtcblx0XHRjb25zdCBmbSA9IGN1cnJlbnQuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Y29uc29sZS53YXJuKFwiZm0gaXMgcmVxdWlyZWRcIik7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5hdXRvRmllbGROZWVkKGR2LCBmbSk7XG5cdFx0dGhpcy5hdXRvRmllbGROZWVkZWRCeShkdiwgY3VycmVudCk7XG5cdFx0dGhpcy5hdXRvRmllbGRUYWdzKGR2LCBmbSk7XG5cblx0XHRjb25zdCBsb2dFbnRyaWVzID0gZHZcblx0XHRcdC5wYWdlcyhgXCIke3RoaXMubG9nRGlyfS8ke2ZtLnV1aWR9XCJgKVxuXHRcdFx0LndoZXJlKChwKSA9PiBwLnR5cGUgPT09IDYpXG5cdFx0XHQuc29ydCgoaykgPT4gay5jcmVhdGVkX2F0LCBcImRlc2NcIik7XG5cblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0bGV0IHRvdGFsVGltZSA9IDA7XG5cdFx0Zm9yIChjb25zdCBlbnRyeSBvZiBsb2dFbnRyaWVzKSB7XG5cdFx0XHRjb25zdCBmbWUgPSBlbnRyeS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0Y29uc3QgZSA9IFtdO1xuXHRcdFx0bGV0IHN0YXJ0OiBhbnkgPSAwO1xuXHRcdFx0bGV0IHN0b3A6IGFueSA9IDA7XG5cblx0XHRcdGlmIChmbWUgPT09IHVuZGVmaW5lZCB8fCBmbWUuY3JlYXRlZF9hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBmcm9udG1hdHRlcjogJHtmbWUudXVpZH1gKTtcblx0XHRcdH1cblxuXHRcdFx0c3RhcnQgPSBuZXcgRGF0ZShmbWUuY3JlYXRlZF9hdCk7XG5cdFx0XHRlLnB1c2goc3RhcnQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCkpO1xuXG5cdFx0XHRpZiAoZm1lLmRvbmVfYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRzdG9wID0gRGF0ZS5ub3coKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHN0b3AgPSBuZXcgRGF0ZShmbWUuZG9uZV9hdCk7XG5cdFx0XHR9XG5cdFx0XHR0b3RhbFRpbWUgKz0gc3RvcCAtIHN0YXJ0O1xuXG5cdFx0XHRlLnB1c2goXG5cdFx0XHRcdGR2LnNlY3Rpb25MaW5rKFxuXHRcdFx0XHRcdGZtZS51dWlkLFxuXHRcdFx0XHRcdFwiIyMgQ29udGVudFwiLFxuXHRcdFx0XHRcdGZhbHNlLFxuXHRcdFx0XHRcdGZtZS51dWlkLnNsaWNlKDAsIDgpLFxuXHRcdFx0XHQpLFxuXHRcdFx0KTtcblx0XHRcdGUucHVzaChNYXRoLnJvdW5kKCgoc3RvcCAtIHN0YXJ0KSAvICgxMDAwICogNjAgKiA2MCkpICogMTApIC8gMTApO1xuXHRcdFx0aWYgKGZtZS5yZXZpZXdlZCA9PT0gdW5kZWZpbmVkIHx8IGZtZS5yZXZpZXdlZCA9PT0gMCkge1xuXHRcdFx0XHRlLnB1c2goMCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlLnB1c2goZm1lLnJldmlld2VkKTtcblx0XHRcdH1cblxuXHRcdFx0YnVmZi5wdXNoKGUpO1xuXHRcdH1cblxuXHRcdGlmIChidWZmLmxlbmd0aCA+IDApIHtcblx0XHRcdGR2LmhlYWRlcigyLCBcIkxvZ3NcIik7XG5cdFx0XHRkdi50YWJsZShbXCJjcmVhdGVkX2F0XCIsIFwidXVpZFwiLCBcInNlc3Npb25cIiwgXCJyZXZpZXdlZFwiXSwgYnVmZik7XG5cdFx0XHRpZiAodG90YWxUaW1lID4gMCkge1xuXHRcdFx0XHRkdi5wYXJhZ3JhcGgoXG5cdFx0XHRcdFx0YF90b3RhbFRpbWUgKGgpOl8gJHtNYXRoLnJvdW5kKCh0b3RhbFRpbWUgLyAoMTAwMCAqIDYwICogNjApKSAqIDEwKSAvIDEwXG5cdFx0XHRcdFx0fWAsXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0YXV0b0ZpZWxkTG9nKGR2KSB7XG5cdFx0Y29uc3QgY3VycmVudCA9IGR2LmN1cnJlbnQoKTtcblx0XHRjb25zdCBmbSA9IGN1cnJlbnQuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGR2LmhlYWRlcigyLCBcIlBhcmVudFwiKTtcblx0XHRkdi5wYXJhZ3JhcGgoZHYuZmlsZUxpbmsoYCR7dGhpcy50YXNrRGlyfS8ke2ZtLnBhcmVudF9pZH1gKSk7XG5cdH1cblxuXHRhdXRvRmllbGRBdXRob3JzKGR2LCBmbSkge1xuXHRcdGNvbnN0IGF1dGhvcnMgPSBmbS5hdXRob3JzO1xuXHRcdGlmIChhdXRob3JzID09PSB1bmRlZmluZWQgfHwgYXV0aG9ycy5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0ZHYuaGVhZGVyKDIsIFwiQXV0aG9yc1wiKTtcblx0XHRkdi5saXN0KGF1dGhvcnMpO1xuXHR9XG5cblx0YXV0b0ZpZWxkVGl0bGUoZHYsIGZtKSB7XG5cdFx0Y29uc3QgdGl0bGUgPSBmbS5hbGlhcztcblx0XHRpZiAodGl0bGUgPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0ZHYuaGVhZGVyKDEsIHRpdGxlKTtcblx0fVxuXG5cdGF1dG9GaWVsZExpdGVyYXR1cmVOb3RlKGR2KSB7XG5cdFx0Y29uc3QgY3VycmVudCA9IGR2LmN1cnJlbnQoKTtcblx0XHRjb25zdCBmbSA9IGN1cnJlbnQuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuYXV0b0ZpZWxkVGl0bGUoZHYsIGZtKTtcblx0XHR0aGlzLmF1dG9GaWVsZEF1dGhvcnMoZHYsIGZtKTtcblx0XHR0aGlzLmF1dG9GaWVsZFRhZ3MoZHYsIGZtKTtcblx0fVxuXG5cdGF1dG9GaWVsZFBlcm1hbmVudChkdikge1xuXHRcdGNvbnN0IGN1cnJlbnQgPSBkdi5jdXJyZW50KCk7XG5cdFx0Y29uc3QgZm0gPSBjdXJyZW50LmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLmF1dG9GaWVsZFRhZ3MoZHYsIGZtKTtcblx0fVxuXG5cdGF1dG9GaWVsZFRhc2soZHYpIHtcblx0XHRyZXR1cm4gdGhpcy5hdXRvRmllbGRUYXNrQmFzZShkdik7XG5cdH1cblxuXHRhdXRvRmllbGRMaXRlcmF0dXJlKGR2KSB7XG5cdFx0cmV0dXJuIHRoaXMuYXV0b0ZpZWxkTGl0ZXJhdHVyZU5vdGUoZHYpO1xuXHR9XG5cblx0YXV0b0ZpZWxkRmxlZXRpbmcoZHYpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRhdXRvRmllbGRTdXBwbHkoZHYpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRmaW5kVGFza3NCeVByb2plY3QoZHYsIG5hbWUpIHtcblx0XHRjb25zdCBidWZmID0gW107XG5cblx0XHRpZiAobmFtZSAhPT0gXCJcIiAmJiBuYW1lICE9PSBcIm5vbmVcIikge1xuXHRcdFx0Y29uc3QgdGFza3MgPSB0aGlzLmdldFRhc2tzKGR2LCBgJHt0aGlzLk5hbWVzcGFjZS5QUk9KRUNUfS9ub25lYCwgW1xuXHRcdFx0XHR0aGlzLlRhc2suQkFTRSxcblx0XHRcdF0pO1xuXHRcdFx0Zm9yIChjb25zdCB0YXNrIG9mIHRhc2tzKSB7XG5cdFx0XHRcdGNvbnN0IGZtID0gdGFzay5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0XHRpZiAodGhpcy5pc0RvYWJsZShkdiwgdGFzaykpIHtcblx0XHRcdFx0XHRidWZmLnB1c2godGFzayk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc3QgdGFza3MgPSB0aGlzLmdldFRhc2tzKGR2LCBcIlwiLCBbdGhpcy5UYXNrLkJBU0VdKTtcblx0XHRcdGZvciAoY29uc3QgdGFzayBvZiB0YXNrcykge1xuXHRcdFx0XHRjb25zdCBmbSA9IHRhc2suZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdFx0Y29uc3QgdGFncyA9IGZtLnRhZ3M7XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHQoZm0udGFncyA9PT0gdW5kZWZpbmVkICYmXG5cdFx0XHRcdFx0XHQobmFtZSA9PT0gXCJcIiB8fCBuYW1lID09PSBcIm5vbmVcIikpIHx8XG5cdFx0XHRcdFx0Zm0udGFncy5jb250YWlucyhgJHt0aGlzLk5hbWVzcGFjZS5QUk9KRUNUfS9ub25lYClcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0aWYgKHRoaXMuaXNEb2FibGUoZHYsIHRhc2spKSB7XG5cdFx0XHRcdFx0XHRidWZmLnB1c2godGFzayk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0YnVmZi5zb3J0KCk7XG5cdFx0cmV0dXJuIGJ1ZmY7XG5cdH1cblxuXHRnZXRUYWcodGFncywgdHlwZSkge1xuXHRcdGxldCBuYW1lID0gXCJcIjtcblx0XHRsZXQgZGVmYXVsdFZhbHVlID0gXCJcIjtcblxuXHRcdGlmICh0eXBlID09PSBcImFyZWFcIikge1xuXHRcdFx0bmFtZSA9IHRoaXMuTmFtZXNwYWNlLkFSRUE7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSB0aGlzLkRlZmF1bHQuQVJFQTtcblx0XHR9IGVsc2UgaWYgKHR5cGUgPT09IFwiY29udGV4dFwiKSB7XG5cdFx0XHRuYW1lID0gdGhpcy5OYW1lc3BhY2UuQ09OVEVYVDtcblx0XHRcdGRlZmF1bHRWYWx1ZSA9IHRoaXMuRGVmYXVsdC5DT05URVhUO1xuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gXCJsYXllclwiKSB7XG5cdFx0XHRuYW1lID0gdGhpcy5OYW1lc3BhY2UuTEFZRVI7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSB0aGlzLkRlZmF1bHQuTEFZRVI7XG5cdFx0fSBlbHNlIGlmICh0eXBlID09PSBcIm9yZ1wiKSB7XG5cdFx0XHRuYW1lID0gdGhpcy5OYW1lc3BhY2UuT1JHO1xuXHRcdFx0ZGVmYXVsdFZhbHVlID0gdGhpcy5EZWZhdWx0Lk9SRztcblx0XHR9IGVsc2UgaWYgKHR5cGUgPT09IFwicHJvamVjdFwiKSB7XG5cdFx0XHRuYW1lID0gdGhpcy5OYW1lc3BhY2UuUFJPSkVDVDtcblx0XHRcdGRlZmF1bHRWYWx1ZSA9IHRoaXMuRGVmYXVsdC5QUk9KRUNUO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYGdldFRhZyBnb3QgdW5zdXBvcnRlZCB0eXBlOiAke3R5cGV9YCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgbGVuID0gbmFtZS5sZW5ndGggKyAxO1xuXHRcdGNvbnN0IGRlZmF1bHRUYWcgPSBgJHtuYW1lfS8ke2RlZmF1bHRWYWx1ZX1gO1xuXHRcdGlmICh0YWdzID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBkZWZhdWx0VGFnO1xuXHRcdH1cblxuXHRcdGZvciAoY29uc3QgdGFnIG9mIHRhZ3MpIHtcblx0XHRcdGlmICh0YWcubGVuZ3RoID4gbGVuICYmIHRhZy5zbGljZSgwLCBsZW4pID09IGAke25hbWV9L2ApIHtcblx0XHRcdFx0cmV0dXJuIHRhZztcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZGVmYXVsdFRhZztcblx0fVxuXG5cdGdldEFyZWEodGFncykge1xuXHRcdHJldHVybiB0aGlzLmdldFRhZyh0YWdzLCBcImFyZWFcIik7XG5cdH1cblxuXHRnZXRDb250ZXh0KHRhZ3MpIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUYWcodGFncywgXCJjb250ZXh0XCIpO1xuXHR9XG5cdGdldExheWVyKHRhZ3MpIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUYWcodGFncywgXCJsYXllclwiKTtcblx0fVxuXG5cdGdldE9yZyh0YWdzKSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VGFnKHRhZ3MsIFwib3JnXCIpO1xuXHR9XG5cblx0Z2V0UHJvamVjdCh0YWdzKSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VGFnKHRhZ3MsIFwicHJvamVjdFwiKTtcblx0fVxuXG5cdHBhcnNlTGlzdEZyb250bWF0dGVyKGZtKSB7XG5cdFx0bGV0IG1pblByaW9yaXR5ID0gMDtcblx0XHRpZiAoZm0ubWluX3ByaW9yaXR5ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdG1pblByaW9yaXR5ID0gZm0ubWluX3ByaW9yaXR5O1xuXHRcdH1cblxuXHRcdGxldCBpZ25vcmUgPSBbXTtcblx0XHRpZiAoZm0uaWdub3JlICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGlnbm9yZSA9IGZtLmlnbm9yZTtcblx0XHR9XG5cblx0XHRsZXQgYnlBcmVhcyA9IFtdO1xuXHRcdGlmIChmbS5ieV9hcmVhcyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRieUFyZWFzID0gZm0uYnlfYXJlYXM7XG5cdFx0fVxuXG5cdFx0bGV0IGJ5UHJvamVjdHMgPSBbXTtcblx0XHRpZiAoZm0uYnlfcHJvamVjdHMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0YnlQcm9qZWN0cyA9IGZtLmJ5X3Byb2plY3RzO1xuXHRcdH1cblx0XHRyZXR1cm4gW21pblByaW9yaXR5LCBpZ25vcmUsIGJ5QXJlYXMsIGJ5UHJvamVjdHNdO1xuXHR9XG5cblx0cmVuZGVyTmFtZXNwYWNlQ29udGVudChkdikge1xuXHRcdGNvbnN0IHNlbGYgPSBkdi5jdXJyZW50KCk7XG5cdFx0Y29uc3QgbmFtZSA9IHNlbGYuZmlsZS5uYW1lLnRvTG93ZXJDYXNlKCkuc2xpY2UoMCwgLTEpO1xuXG5cdFx0ZHYuaGVhZGVyKDEsIFwiSW5kZXhcIik7XG5cdFx0ZHYuaGVhZGVyKDIsIGAke3NlbGYuZmlsZS5uYW1lfWApO1xuXG5cdFx0Y29uc3QgdGFncyA9IHRoaXMuZ2V0TmFtZXNwYWNlQ29udGVudChkdiwgbmFtZSk7XG5cdFx0dGFncy5zb3J0KCk7XG5cblx0XHRmb3IgKGNvbnN0IHRhZyBvZiB0YWdzKSB7XG5cdFx0XHRkdi5wYXJhZ3JhcGgoYCMke25hbWV9LyR7dGFnfWApO1xuXHRcdH1cblx0fVxuXG5cdHJlbmRlclVucHJvY2Vzc2VkTG9ncyhkdikge1xuXHRcdGNvbnN0IGxvZ3MgPSBkdlxuXHRcdFx0LnBhZ2VzKGBcIiR7dGhpcy5sb2dEaXJ9XCJgKVxuXHRcdFx0LndoZXJlKFxuXHRcdFx0XHQocCkgPT5cblx0XHRcdFx0XHRwLnR5cGUgPT09IHRoaXMuVHlwZS5MT0cgJiZcblx0XHRcdFx0XHQocC5yZXZpZXdkID09PSB1bmRlZmluZWQgfHwgcC5yZXZpZXdlZCA8IDEpLFxuXHRcdFx0KVxuXHRcdFx0LnNvcnQoKGspID0+IGsuY3JlYXRlZF9hdCwgXCJhc2NcIik7XG5cblx0XHRjb25zdCBidWZmID0gW107XG5cblx0XHRjb25zdCBhcnIgPSBbXTtcblx0XHRsb2dzLmZvckVhY2goKGVudHJ5KSA9PiB7XG5cdFx0XHRjb25zdCBmbSA9IGVudHJ5LmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHBhcmVudElkID0gZm0ucGFyZW50X2lkO1xuXHRcdFx0aWYgKHBhcmVudElkID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGxvZyBlbnRyeTogJHtlbnRyeS5maWxlLnBhdGh9YCk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHBhcmVudCA9IGR2LnBhZ2VzKGBcIiR7dGhpcy50YXNrRGlyfS8ke3BhcmVudElkfVwiYCk7XG5cdFx0XHRjb25zdCBwYXJlbnRGbSA9IHBhcmVudC5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0aWYgKHBhcmVudEZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHRhc2s6ICR7cGFyZW50LmZpbGUucGF0aH1gKTtcblx0XHRcdH1cblxuXHRcdFx0bGV0IHByb2plY3QgPSB0aGlzLmdldFByb2plY3QocGFyZW50Rm0udGFncyk7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdHByb2plY3QgPT09IGAke3RoaXMuTmFtZXNwYWNlLlBST0pFQ1R9LyR7dGhpcy5EZWZhdWx0LlBST0pFQ1R9YFxuXHRcdFx0KSB7XG5cdFx0XHRcdHByb2plY3QgPSBcIlwiO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgYXJlYSA9IHRoaXMuZ2V0QXJlYShwYXJlbnRGbS50YWdzKTtcblx0XHRcdGlmIChhcmVhID09PSBgJHt0aGlzLk5hbWVzcGFjZS5BUkVBfS8ke3RoaXMuRGVmYXVsdC5BUkVBfWApIHtcblx0XHRcdFx0YXJlYSA9IFwiXCI7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGZvcm1hdGVkID0gW107XG5cblx0XHRcdGZvcm1hdGVkLnB1c2goXG5cdFx0XHRcdGR2LnNlY3Rpb25MaW5rKFxuXHRcdFx0XHRcdGVudHJ5LmZpbGUucGF0aCxcblx0XHRcdFx0XHRcIkNvbnRlbnRcIixcblx0XHRcdFx0XHRmYWxzZSxcblx0XHRcdFx0XHRgJHtmbS51dWlkLnNsaWNlKDAsIDgpfWAsXG5cdFx0XHRcdCksXG5cdFx0XHQpO1xuXHRcdFx0Y29uc3QgY3JlYXRlZEF0ID0gbmV3IERhdGUoZm0uY3JlYXRlZF9hdCk7XG5cdFx0XHRmb3JtYXRlZC5wdXNoKGNyZWF0ZWRBdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKSk7XG5cdFx0XHRmb3JtYXRlZC5wdXNoKHByb2plY3QpO1xuXHRcdFx0Zm9ybWF0ZWQucHVzaChhcmVhKTtcblx0XHRcdGFyci5wdXNoKGZvcm1hdGVkKTtcblx0XHR9KTtcblxuXHRcdGR2LnRhYmxlKFtcInV1aWRcIiwgXCJjcmVhdGVkX2F0XCIsIFwicHJvamVjdFwiLCBcImFyZWFcIl0sIGFycik7XG5cdH1cblxuXHRhc3NlcnRUYXNrRG9uZUF0KGR2LCB0YXNrSWQpIHtcblx0XHRjb25zdCB0YXNrID0gZHYucGFnZXMoYFwiJHt0aGlzLnRhc2tEaXJ9LyR7dGFza0lkfVwiYCk7XG5cdFx0aWYgKHRhc2subGVuZ3RoID09PSAwKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYHRhc2s6ICR7dGFza0lkfSBkb2VzdCBub3QgZXhpc3RzYCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZm0gPSB0YXNrLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgdGFzazogJHt0YXNrSWR9IGRvZXMgbm90IGhhdmUgYSBmcm9udG1hdHRlcmApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGxvZ3MgPSBkdlxuXHRcdFx0LnBhZ2VzKGBcIiR7dGhpcy5sb2dEaXJ9LyR7dGFza0lkfVwiYClcblx0XHRcdC5zb3J0KChrKSA9PiBrLmNyZWF0ZWRfYXQsIFwiYXNjXCIpO1xuXHRcdGlmIChsb2dzLmxlbmd0aCA8IDEpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgdGFzazogJHt0YXNrSWR9IGhhcyBubyBMb2dzYCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgbGFzdEVudHJ5ID0gbG9nc1tsb2dzLmxlbmd0aCAtIDFdO1xuXHRcdGlmIChsYXN0RW50cnkuZmlsZS5mcm9udG1hdHRlci5kb25lX2F0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0YHRhc2s6ICR7dGFza0lkfSBsYXN0IGVudHJ5IGlzIG1pc3NpbmcgJ2RvbmVfYXQnIGZpZWxkYCxcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZG9uZUF0ID0gbmV3IERhdGUobGFzdEVudHJ5LmZpbGUuZnJvbnRtYXR0ZXIuZG9uZV9hdCk7XG5cdFx0cmV0dXJuIFtcblx0XHRcdGR2LnNlY3Rpb25MaW5rKFxuXHRcdFx0XHR0YXNrLmZpbGUucGF0aCxcblx0XHRcdFx0XCJDb250ZW50XCIsXG5cdFx0XHRcdGZhbHNlLFxuXHRcdFx0XHRgJHt0YXNrLmZpbGUuZnJvbnRtYXR0ZXIudXVpZC5zbGljZSgwLCA4KX1gLFxuXHRcdFx0KSxcblx0XHRcdGAke2RvbmVBdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKX1gLFxuXHRcdF07XG5cdH1cblxuXHRnZXREb25lVGltZWxpbmUoZHYpIHtcblx0XHQvLyBwcmVuZHMgZW4gY29tcHRlIGRvaW5nIC0+IGRvbmUsIHBhcyBsZXMgdGFzayBzdXIgbGVxdWVsbGVzIGR1IHRyYXZhaWwgYSBcdTAwRTl0XHUwMEU5IGZhaXQgbWFpcyBxdWkgb250IFx1MDBFOXRcdTAwRTkgc3VzcGVuZFxuXHRcdC8vIGRhaWx5LCB0YXNrIHRyb3AgbG9uZ3VlIHBvdXIgZXRyZSBmYWl0ZSBlbiB1biBzaXR0aW5nXG5cdFx0Y29uc3QgdGFza3MgPSBkdlxuXHRcdFx0LnBhZ2VzKGBcIiR7dGhpcy50YXNrRGlyfVwiYClcblx0XHRcdC53aGVyZSgocCkgPT4gcC5zdGF0dXMgPT09IFwiZG9uZVwiKTtcblxuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRmb3IgKGNvbnN0IHRhc2sgb2YgdGFza3MpIHtcblx0XHRcdGNvbnN0IGZtID0gdGFzay5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGB0YXNrOiAke2ZtLnV1aWR9IGRvZXMgbm90IGhhdmUgYSBmcm9udG1hdHRlcmApO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBsb2dzID0gZHZcblx0XHRcdFx0LnBhZ2VzKGBcIiR7dGhpcy5sb2dEaXJ9LyR7Zm0udXVpZH1cImApXG5cdFx0XHRcdC5zb3J0KChrKSA9PiBrLmNyZWF0ZWRfYXQsIFwiYXNjXCIpO1xuXHRcdFx0aWYgKGxvZ3MubGVuZ3RoIDwgMSkge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oYHRhc2s6ICR7Zm0udXVpZH0gaGFzIG5vIExvZ3NgKTtcblx0XHRcdFx0Ly8gdGhyb3cgbmV3IEVycm9yKGB0YXNrOiAke3Rhc2tJZH0gaGFzIG5vIExvZ3NgKTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgbGFzdEVudHJ5ID0gbG9nc1tsb2dzLmxlbmd0aCAtIDFdO1xuXHRcdFx0aWYgKGxhc3RFbnRyeSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGxhc3RFbnRyeS5maWxlLmZyb250bWF0dGVyLmRvbmVfYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0YHRhc2s6ICR7Zm0udXVpZH0gbGFzdCBlbnRyeSBpcyBtaXNzaW5nICdkb25lX2F0JyBmaWVsZGAsXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdGZtLmRvbmVBdCA9IG5ldyBEYXRlKGxhc3RFbnRyeS5maWxlLmZyb250bWF0dGVyLmRvbmVfYXQpO1xuXHRcdFx0YnVmZi5wdXNoKHRhc2spO1xuXHRcdH1cblxuXHRcdGJ1ZmYuc29ydCgoYSwgYikgPT4ge1xuXHRcdFx0Y29uc3QgZGF0ZUEgPSBuZXcgRGF0ZShhLmZpbGUuZnJvbnRtYXR0ZXIuZG9uZUF0KTtcblx0XHRcdGNvbnN0IGRhdGVCID0gbmV3IERhdGUoYi5maWxlLmZyb250bWF0dGVyLmRvbmVBdCk7XG5cdFx0XHRyZXR1cm4gKGRhdGVBLmdldFRpbWUoKSAtIGRhdGVCLmdldFRpbWUoKSkgKiAtMTtcblx0XHR9KTtcblxuXHRcdGNvbnN0IGFyciA9IFtdO1xuXHRcdGJ1ZmYuZm9yRWFjaCgoZSkgPT4ge1xuXHRcdFx0YXJyLnB1c2goW1xuXHRcdFx0XHRkdi5zZWN0aW9uTGluayhcblx0XHRcdFx0XHRlLmZpbGUucGF0aCxcblx0XHRcdFx0XHRcIkNvbnRlbnRcIixcblx0XHRcdFx0XHRmYWxzZSxcblx0XHRcdFx0XHRgJHtlLmZpbGUuZnJvbnRtYXR0ZXIudXVpZC5zbGljZSgwLCA4KX1gLFxuXHRcdFx0XHQpLFxuXHRcdFx0XHRgJHtlLmZpbGUuZnJvbnRtYXR0ZXIuZG9uZUF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTYpfWAsXG5cdFx0XHRdKTtcblx0XHR9KTtcblxuXHRcdGR2LnRhYmxlKFtcInV1aWRcIiwgXCJkb25lQXRcIl0sIGFycik7XG5cdH1cblxuXHRkdXJhdGlvblN0cmluZ1RvU2VjKHZhbCkge1xuXHRcdGNvbnN0IG11bHQgPSB2YWwuc2xpY2UoLTEpO1xuXHRcdGxldCBtID0gMDtcblx0XHRpZiAobXVsdCA9PT0gXCJoXCIpIHtcblx0XHRcdG0gPSA2MCAqIDYwO1xuXHRcdH0gZWxzZSBpZiAobXVsdCA9PT0gXCJtXCIpIHtcblx0XHRcdG0gPSA2MDtcblx0XHR9IGVsc2UgaWYgKG11bHQgPT09IFwiZFwiKSB7XG5cdFx0XHRtID0gMjQgKiA2MCAqIDYwO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLndhcm4oYFVuaGFuZGxlZCBjYXNlIG11bHQ6ICR7bXVsdH1gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbSAqIHBhcnNlSW50KHZhbC5zbGljZSgwLCAtMSkpO1xuXHR9XG5cblx0dGVzdER2RnVuYygpIHtcblx0XHQvLyBwcmVuZHMgZW4gY29tcHRlIGRvaW5nIC0+IGRvbmUsIHBhcyBsZXMgdGFzayBzdXIgbGVxdWVsbGVzIGR1IHRyYXZhaWwgYSBcdTAwRTl0XHUwMEU5IGZhaXQgbWFpcyBxdWkgb250IFx1MDBFOXRcdTAwRTkgc3VzcGVuZFxuXHRcdC8vIGRhaWx5LCB0YXNrIHRyb3AgbG9uZ3VlIHBvdXIgZXRyZSBmYWl0ZSBlbiB1biBzaXR0aW5nXG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGNvbnN0IGR2ID0gYXBwLnBsdWdpbnMucGx1Z2lucy5kYXRhdmlldy5hcGk7XG5cdFx0Y29uc3QgdGFza3MgPSBkdlxuXHRcdFx0LnBhZ2VzKGBcIiR7dGhpcy50YXNrRGlyfVwiYClcblx0XHRcdC53aGVyZSgocCkgPT4gcC5zdGF0dXMgPT09IFwiZG9uZVwiKTtcblxuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRmb3IgKGNvbnN0IHRhc2sgb2YgdGFza3MpIHtcblx0XHRcdGNvbnN0IGZtID0gdGFzay5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGB0YXNrOiAke2ZtLnV1aWR9IGRvZXMgbm90IGhhdmUgYSBmcm9udG1hdHRlcmApO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBsb2dzID0gZHZcblx0XHRcdFx0LnBhZ2VzKGBcIiR7dGhpcy5sb2dEaXJ9LyR7Zm0udXVpZH1cImApXG5cdFx0XHRcdC5zb3J0KChrKSA9PiBrLmNyZWF0ZWRfYXQsIFwiYXNjXCIpO1xuXHRcdFx0aWYgKGxvZ3MubGVuZ3RoIDwgMSkge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oYHRhc2s6ICR7Zm0udXVpZH0gaGFzIG5vIExvZ3NgKTtcblx0XHRcdFx0Ly8gdGhyb3cgbmV3IEVycm9yKGB0YXNrOiAke3Rhc2tJZH0gaGFzIG5vIExvZ3NgKTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgbGFzdEVudHJ5ID0gbG9nc1tsb2dzLmxlbmd0aCAtIDFdO1xuXHRcdFx0aWYgKGxhc3RFbnRyeSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGxhc3RFbnRyeS5maWxlLmZyb250bWF0dGVyLmRvbmVfYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0YHRhc2s6ICR7Zm0udXVpZH0gbGFzdCBlbnRyeSBpcyBtaXNzaW5nICdkb25lX2F0JyBmaWVsZGAsXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdGZtLmRvbmVBdCA9IG5ldyBEYXRlKGxhc3RFbnRyeS5maWxlLmZyb250bWF0dGVyLmRvbmVfYXQpO1xuXHRcdFx0YnVmZi5wdXNoKHRhc2spO1xuXHRcdH1cblxuXHRcdGJ1ZmYuc29ydCgoYSwgYikgPT4ge1xuXHRcdFx0Y29uc3QgZGF0ZUEgPSBuZXcgRGF0ZShhLmZpbGUuZnJvbnRtYXR0ZXIuZG9uZUF0KTtcblx0XHRcdGNvbnN0IGRhdGVCID0gbmV3IERhdGUoYi5maWxlLmZyb250bWF0dGVyLmRvbmVBdCk7XG5cdFx0XHRyZXR1cm4gKGRhdGVBLmdldFRpbWUoKSAtIGRhdGVCLmdldFRpbWUoKSkgKiAtMTtcblx0XHR9KTtcblxuXHRcdGNvbnN0IGFyciA9IFtdO1xuXHRcdGJ1ZmYuZm9yRWFjaCgoZSkgPT4ge1xuXHRcdFx0YXJyLnB1c2goW1xuXHRcdFx0XHRkdi5zZWN0aW9uTGluayhcblx0XHRcdFx0XHRlLmZpbGUucGF0aCxcblx0XHRcdFx0XHRcIkNvbnRlbnRcIixcblx0XHRcdFx0XHRmYWxzZSxcblx0XHRcdFx0XHRgJHtlLmZpbGUuZnJvbnRtYXR0ZXIudXVpZC5zbGljZSgwLCA4KX1gLFxuXHRcdFx0XHQpLFxuXHRcdFx0XHRgJHtlLmZpbGUuZnJvbnRtYXR0ZXIuZG9uZUF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTYpfWAsXG5cdFx0XHRdKTtcblx0XHR9KTtcblxuXHRcdC8vIGR2LnRhYmxlKFtcInV1aWRcIiwgXCJkb25lQXRcIl0sIGFycik7XG5cdH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBLHNCQVFPOzs7QUNUQSxJQUFNLFFBQVE7QUFBQSxFQUNwQixPQUFPO0FBQUEsRUFDUCxZQUFZO0FBQUEsRUFDWixPQUFPO0FBQUEsRUFDUCxTQUFTO0FBQUEsRUFDVCxPQUFPO0FBQUEsRUFDUCxNQUFNO0FBQUEsRUFDTixVQUFVO0FBQUEsRUFDVixNQUFNO0FBQUEsRUFDTixhQUFhO0FBQUEsRUFDYixTQUFTO0FBQUEsRUFDVCxXQUFXO0FBQUEsRUFDWCxVQUFVO0FBQUEsRUFDVixTQUFTO0FBQUEsRUFDVCxPQUFPO0FBQ1I7QUFFTyxJQUFNLFNBQVM7QUFBQSxFQUNyQixNQUFNO0FBQUEsRUFDTixPQUFPO0FBQUEsRUFDUCxNQUFNO0FBQUEsRUFDTixPQUFPO0FBQUEsRUFDUCxTQUFTO0FBQUEsRUFDVCxPQUFPO0FBQ1I7QUFDTyxJQUFNLGFBQWE7QUFBQSxFQUN6QixTQUFTO0FBQUEsRUFDVCxVQUFVO0FBQUEsRUFDVixnQkFBZ0I7QUFBQSxFQUNoQixTQUFTO0FBQUEsRUFDVCxXQUFXO0FBQUEsRUFDWCxRQUFRO0FBQUEsRUFDUixRQUFRO0FBQUEsRUFDUixTQUFTO0FBQ1Y7QUFFTyxJQUFNLFFBQVE7QUFBQSxFQUNwQixVQUFVO0FBQUEsRUFDVixZQUFZO0FBQUEsRUFDWixXQUFXO0FB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QUFPLE9BQU87QUFBQSxFQUNmO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDcEIsU0FBSyxXQUFXLE9BQU87QUFBQSxNQUN0QixDQUFDO0FBQUEsTUFDRDtBQUFBLE1BQ0EsTUFBTSxLQUFLLFNBQVM7QUFBQSxJQUNyQjtBQUFBLEVBQ0Q7QUFBQSxFQUVBLE1BQU0sZUFBZTtBQUNwQixVQUFNLEtBQUssU0FBUyxLQUFLLFFBQVE7QUFBQSxFQUNsQztBQUNEO0FBRU8sSUFBTSxlQUFOLGNBQTJCLHNCQUFNO0FBQUEsRUFDdkMsWUFBWUMsTUFBVTtBQUNyQixVQUFNQSxJQUFHO0FBQUEsRUFDVjtBQUFBLEVBRUEsU0FBUztBQUNSLFVBQU0sRUFBRSxVQUFVLElBQUk7QUFFdEIsVUFBTSxLQUFLLEtBQUssSUFBSSxRQUFRLFFBQVEsU0FBUztBQUM3QyxVQUFNLFFBQVEsR0FBRyxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sR0FBRyxFQUFFO0FBQzVDLFFBQUksSUFBSTtBQUNSLGVBQVcsUUFBUSxPQUFPO0FBQ3pCLFdBQUssR0FBRyxLQUFLLEtBQUs7QUFBQTtBQUFBO0FBQUEsSUFDbkI7QUFDQSxjQUFVLFFBQVEsQ0FBQztBQUFBLEVBQ3BCO0FBQUEsRUFFQSxVQUFVO0FBQ1QsVUFBTSxFQUFFLFVBQVUsSUFBSTtBQUN0QixjQUFVLE1BQU07QUFBQSxFQUNqQjtBQUNEOyIsCiAgIm5hbWVzIjogWyJlIiwgImF0IiwgInBhZ2UiLCAiZm0iLCAicnMiLCAicGFnZXMiLCAiYnVmZiIsICJWYWxpZGF0aW9uRXJyb3IiLCAiZiIsICJhcHAiXQp9Cg==
