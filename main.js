/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  Assert: () => Assert,
  Helper: () => Helper,
  Paths: () => Paths,
  default: () => MyPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");

// node_modules/uuid/dist/esm-browser/stringify.js
var byteToHex = [];
for (i = 0; i < 256; ++i) {
  byteToHex.push((i + 256).toString(16).slice(1));
}
var i;
function unsafeStringify(arr, offset = 0) {
  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + "-" + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + "-" + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + "-" + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + "-" + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();
}

// node_modules/uuid/dist/esm-browser/rng.js
var getRandomValues;
var rnds8 = new Uint8Array(16);
function rng() {
  if (!getRandomValues) {
    getRandomValues = typeof crypto !== "undefined" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);
    if (!getRandomValues) {
      throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");
    }
  }
  return getRandomValues(rnds8);
}

// node_modules/uuid/dist/esm-browser/native.js
var randomUUID = typeof crypto !== "undefined" && crypto.randomUUID && crypto.randomUUID.bind(crypto);
var native_default = {
  randomUUID
};

// node_modules/uuid/dist/esm-browser/v4.js
function v4(options, buf, offset) {
  if (native_default.randomUUID && !buf && !options) {
    return native_default.randomUUID();
  }
  options = options || {};
  var rnds = options.random || (options.rng || rng)();
  rnds[6] = rnds[6] & 15 | 64;
  rnds[8] = rnds[8] & 63 | 128;
  if (buf) {
    offset = offset || 0;
    for (var i = 0; i < 16; ++i) {
      buf[offset + i] = rnds[i];
    }
    return buf;
  }
  return unsafeStringify(rnds);
}
var v4_default = v4;

// main.ts
var dayShort = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
var monthShort = [
  "Jan",
  "Feb",
  "Mar",
  "Apr",
  "May",
  "Jun",
  "Jul",
  "Aug",
  "Sep",
  "Oct",
  "Nov",
  "Dec"
];
var DEFAULT_SETTINGS = {
  mySetting: "default"
};
var MyPlugin = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.vaultContent = [];
    this.vaultContentDict = {};
  }
  openViewInNewTabIfNotOpened(name) {
    const f = this.app.vault.getAbstractFileByPath(name);
    if (f === void 0 || f === null) {
      console.warn(`file not found ${name}`);
      return;
    }
    const active = this.app.workspace.getLeaf();
    const root = active.parent;
    let found = false;
    let node = void 0;
    const emptyTabs = [];
    for (const leaf of root.children) {
      const file = this.getFileFromLeaf(leaf);
      if (file === void 0 || file === null) {
        emptyTabs.push(leaf);
        continue;
      }
      if (file.name === f.name) {
        found = true;
        node = leaf;
      }
    }
    if (!found) {
      if (emptyTabs.length > 0) {
        node = emptyTabs[0];
      } else {
        this.app.workspace.createLeafInParent(
          root,
          root.children.length + 1
        );
        node = root.children[root.children.length - 1];
      }
    }
    node.openFile(f, { active: true });
  }
  getFileFromLeaf(leaf) {
    let file = void 0;
    try {
      file = leaf.view.file;
    } catch (e) {
      return void 0;
    }
    return this.app.vault.getAbstractFileByPath(file);
  }
  extractUUIDFromLink(link) {
    Assert.True(
      link.length >= 36,
      `extractUUIDFromLink: Invalid parameter type: link: "${link}"`
    );
    Assert.True(
      Helper.isUUID(link.slice(0, 36)),
      `extractUUIDFromLink: Invalid parameter type: link: "${link}"`
    );
    if (link.length === 36) {
      return link;
    } else {
      return link.slice(0, 36);
    }
  }
  grugAlias(_id) {
    const cache = this.getFileCacheFromUUID(_id);
    if (cache === void 0) {
      console.warn(`Possible invalid frontmatter for: ${_id}`);
      return "";
    }
    let targetName = void 0;
    if (cache.headings.length > 0 && cache.headings[0].level === 1) {
      targetName = cache.headings[0].heading;
    } else {
      targetName = _id;
    }
    const file = this.getFileFromUUID(_id);
    if (file === void 0) {
      console.error(`grugAlias: Cannot grug this id: ${_id}`);
      return "";
    }
    const path = `${file.path.split("/").slice(0, -1)}/${_id}`;
    return `[[${path}|${targetName}]]`;
  }
  getFileFromUUID(_id) {
    return this.vaultContentDict[_id];
  }
  getFileCacheFromUUID(_id) {
    const f = this.vaultContentDict[_id];
    if (f === void 0) {
      return void 0;
    }
    return this.app.metadataCache.getFileCache(f);
  }
  async onload() {
    var _a, _b;
    console.log("gonext - onload()");
    await this.loadSettings();
    this.dv = this.app.plugins.plugins.dataview.api;
    this.files = {};
    this.api = {};
    window.gonext = {
      // @ts-ignore
      state: (_b = (_a = window.gonext) == null ? void 0 : _a.state) != null ? _b : {},
      // @ts-ignore
      app: this.app
    };
    (0, import_obsidian.addIcon)(
      "GoNextIcon",
      `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path fill="currentColor" d="M20 12V2h2v10zm4 0V2h2v10zm4 0V2h2v10zm-12 8a3.912 3.912 0 0 1-4-4a3.912 3.912 0 0 1 4-4v-2a6 6 0 1 0 6 6h-2a3.912 3.912 0 0 1-4 4"></path><path fill="currentColor" d="M28.893 18.454L26.098 16l-1.318 1.504l2.792 2.452l-2.36 4.088l-3.427-1.16a9.032 9.032 0 0 1-2.714 1.565L18.36 28h-4.72l-.71-3.55a9.095 9.095 0 0 1-2.695-1.572l-3.447 1.166l-2.36-4.088l2.725-2.395a8.926 8.926 0 0 1-.007-3.128l-2.718-2.39l2.36-4.087l3.427 1.16A9.03 9.03 0 0 1 12.93 7.55L13.64 4H16V2h-2.36a2 2 0 0 0-1.961 1.608l-.504 2.519a10.967 10.967 0 0 0-1.327.753l-2.42-.819a1.998 1.998 0 0 0-2.372.895l-2.36 4.088a2 2 0 0 0 .411 2.502l1.931 1.697C5.021 15.495 5 15.745 5 16c0 .258.01.513.028.766l-1.92 1.688a2 2 0 0 0-.413 2.502l2.36 4.088a1.998 1.998 0 0 0 2.374.895l2.434-.824a10.974 10.974 0 0 0 1.312.759l.503 2.518A2 2 0 0 0 13.64 30h4.72a2 2 0 0 0 1.961-1.608l.504-2.519a10.967 10.967 0 0 0 1.327-.753l2.419.818a1.998 1.998 0 0 0 2.373-.894l2.36-4.088a2 2 0 0 0-.411-2.502"></path></svg>`
    );
    this.addCommand({
      id: "open-assets",
      name: "Open Assets",
      // @ts-ignore
      callback: async () => {
        const leaf = this.app.workspace.getLeaf();
        const file = this.getFileFromLeaf(leaf);
        const adapter = this.app.vault.adapter;
        const vaultDir = adapter.basePath;
        const uuid = file.basename;
        const parent = file.parent.name;
        const cache = this.getFileCacheFromUUID(uuid);
        if (cache === void 0) {
          console.warn(`Possible invalid frontmatter for: ${uuid}`);
          return;
        }
        const name = this.getResourceName(cache);
        if (parent === "Verbatim") {
          if (!await adapter.exists(`${Paths.Assets}/${uuid}/`)) {
            await this.app.vault.adapter.mkdir(`${Paths.Assets}/${uuid}/`);
          }
          const assetPath = `${vaultDir}/${Paths.Assets}/${uuid}/`;
          const { shell } = require("electron");
          shell.showItemInFolder(assetPath);
        } else if (parent === Paths.Actions) {
          const _uuid = this.findResourceNamed(name, Paths.Notes);
          if (_uuid !== "") {
            await leaf.openFile(this.getFileFromUUID(_uuid));
          } else {
            new import_obsidian.Notice(`No Log Entry for: ${name}`);
          }
        } else if (parent === Paths.Notes) {
          const _uuid = this.findResourceNamed(name, Paths.Actions);
          if (_uuid !== "") {
            await leaf.openFile(this.getFileFromUUID(_uuid));
          } else {
            new import_obsidian.Notice(`No Action for: ${name}`);
          }
        } else if (parent !== Paths.Actions && parent !== Paths.Notes) {
          new import_obsidian.Notice(`Unsuported type: ${parent}`);
        }
      }
    });
    this.addCommand({
      id: "open-index",
      name: "Open Index",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Notes/eec0a297-982c-471c-9748-4943ec45fe94.md");
      }
    });
    this.addCommand({
      id: "open-inbox",
      name: "Open Inbox",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Notes/8c7aad2a-b67f-44b7-86fd-27a50410be65.md");
      }
    });
    this.addCommand({
      id: "open-planning",
      name: "Open Planning",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Notes/d371e0f9-1a7f-4cd0-8fa4-260c176da4a4.md");
      }
    });
    this.addCommand({
      id: "open-next_actions",
      name: "Open Next Actions",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Notes/ab7aec92-2273-40bc-9632-da70937b5575.md");
      }
    });
    this.addCommand({
      id: "open-someday_maybe",
      name: "Open Someday Maybe",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Notes/e7b605b9-4d3a-4c17-bf4e-e7f1a51f7a30.md");
      }
    });
    this.addCommand({
      id: "open-waiting_for",
      name: "Open Waiting For",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Notes/7a13d7ac-732b-4cec-91f0-1498c824b82e.md");
      }
    });
    this.addCommand({
      id: "open-todays-log",
      name: "Open Today's Logs",
      // @ts-ignore
      callback: () => {
        const now = new Date();
        const nowIso = now.toISOString().slice(0, 10);
        if (!this.loadNoteNamed(nowIso)) {
          this.note(nowIso);
        }
      }
    });
    this.addCommand({
      id: "check-duplicates",
      name: "Check for Duplicates",
      // @ts-ignore
      callback: () => {
        const res = {};
        let i = 0;
        const pages = this.dv.pages(`"${Paths.Notes}"`);
        for (const page of pages) {
          const uuid = page.file.name;
          const cache = this.getFileCacheFromUUID(uuid);
          if (cache === void 0) {
            console.warn(`Possible invalid frontmatter for: ${uuid}`);
            return;
          }
          const nameHeading = this.getResourceName(cache);
          if (nameHeading === void 0 || nameHeading === "") {
            continue;
          }
          if (nameHeading.length !== 10 || nameHeading[0] !== "2") {
            continue;
          }
          if (res[nameHeading] === void 0 || res[nameHeading] === null) {
            res[nameHeading] = [uuid];
          } else {
            res[nameHeading].push(uuid);
          }
        }
        const keys = Object.keys(res);
        keys.sort();
        for (const key of keys) {
          if (res[key].length > 1) {
            console.log(key);
            for (const page of res[key]) {
              console.log(`	${page}`);
            }
          }
        }
      }
    });
    this.addCommand({
      id: "open-yesterdays-logs",
      name: "Open Yesterday's Logs",
      // @ts-ignore
      callback: () => {
        const now = new Date();
        now.setDate(now.getDate() - 1);
        const nowIso = now.toISOString().slice(0, 10);
        this.loadNoteNamed(nowIso);
      }
    });
    this.addCommand({
      id: "open-todays-daily",
      name: "Open Today's Daily",
      // @ts-ignore
      callback: () => {
        const now = new Date();
        const nowIso = now.toISOString().slice(0, 10);
        this.loadActionNamed(nowIso);
      }
    });
    this.addCommand({
      id: "open-tomorrows-daily",
      name: "Open Tomorrow's Daily",
      // @ts-ignore
      callback: () => {
        const now = new Date();
        now.setDate(now.getDate() + 1);
        const nowIso = now.toISOString().slice(0, 10);
        this.loadActionNamed(nowIso);
      }
    });
    this.addCommand({
      id: "open-yesterdays-daily",
      name: "Open Yesterday's Daily",
      // @ts-ignore
      callback: () => {
        const now = new Date();
        now.setDate(now.getDate() - 1);
        const nowIso = now.toISOString().slice(0, 10);
        this.loadActionNamed(nowIso);
      }
    });
    this.addCommand({
      id: "generate-note",
      name: "Generate Note",
      // @ts-ignore
      callback: () => {
        this.note();
      }
    });
    this.addCommand({
      id: "generate-verbatim",
      name: "Generate Verbatim",
      // @ts-ignore
      callback: () => {
        this.verbatim();
      }
    });
    this.addCommand({
      id: "generate-action",
      name: "Generate Action",
      // @ts-ignore
      callback: () => {
        this.action();
      }
    });
    this.addCommand({
      id: "clippy-the-clipper",
      name: "Clippy Clip",
      // @ts-ignore
      callback: () => {
        navigator.clipboard.readText().then((text) => {
          let _id = void 0;
          try {
            _id = this.extractUUIDFromLink(text);
          } catch (e) {
            return;
          }
          const file = this.getFileFromUUID(_id);
          Assert.True(
            file !== void 0,
            `getFileFromUUID: returned undefined for uuid: ${_id}`
          );
          const alias = this.grugAlias(_id);
          const activeLeaf = this.app.workspace.getLeaf();
          if (activeLeaf) {
            const editor = activeLeaf.view.sourceMode.cmEditor;
            const cursor = editor.getCursor();
            editor.replaceRange(alias, cursor);
          }
        });
      }
    });
    this.addCommand({
      id: "copy-uuid",
      name: "Copy UUID",
      // @ts-ignore
      callback: async () => {
        const leaf = this.app.workspace.getLeaf();
        const file = this.getFileFromLeaf(leaf);
        const uuid = file.basename;
        if (["Verbatim", "Notes", "Actions"].contains(file.parent.name)) {
          await navigator.clipboard.writeText(uuid);
        }
      }
    });
    this.addCommand({
      id: "safe-delete",
      name: "Safe Delete",
      // @ts-ignore
      callback: () => {
        const file = this.app.workspace.getActiveFile();
        if (file === void 0) {
          return;
        }
        this.app.vault.delete(file);
      }
    });
    this.addCommand({
      id: "append-to-inbox",
      name: "Append to Inbox",
      // @ts-ignore
      callback: () => {
        const f = this.app.vault.getAbstractFileByPath("INBOX.md");
        if (f === void 0 || f === null) {
          console.warn(`file not found INBOX.md`);
          return;
        }
        const active = this.app.workspace.getLeaf();
        const root = active.parent;
        let found = false;
        let node = void 0;
        const emptyTabs = [];
        for (const leaf of root.children) {
          const file = this.getFileFromLeaf(leaf);
          if (file === void 0 || file === null) {
            emptyTabs.push(leaf);
            continue;
          }
          if (file.name === f.name) {
            found = true;
            node = leaf;
          }
        }
        if (!found) {
          if (emptyTabs.length > 0) {
            node = emptyTabs[0];
          } else {
            this.app.workspace.createLeafInParent(
              root,
              root.children.length + 1
            );
            node = root.children[root.children.length - 1];
          }
        }
        const editorAction = (node2) => {
          const editor = node2.view.sourceMode.cmEditor;
          editor.insertText("\n\n---\n\n", editor.lastLine());
          editor.setCursor(editor.lastLine(), 0);
        };
        if (this.app.workspace.getActiveFile() === null || this.app.workspace.getActiveFile().name !== "INBOX.md") {
          node.openFile(f, {
            active: true
          }).then((_) => editorAction(node));
        } else {
          editorAction(node);
        }
      }
    });
    this.app.workspace.onLayoutReady(() => {
      console.log("workspace - layout-ready");
      for (const f of this.app.vault.getFiles()) {
        const uuid = f.basename;
        if (!Helper.isUUID(uuid)) {
          continue;
        }
        this.vaultContentDict[uuid] = f;
      }
    });
    this.app.metadataCache.on(
      "changed",
      (file, data, cache) => {
        const uuid = file.basename;
        if (Helper.isUUID(uuid)) {
          this.vaultContentDict[uuid] = file;
        }
      }
    );
    this.app.workspace.on("active-leaf-change", () => {
      return this.sneakyTabRenamer(this.app);
    });
    this.app.workspace.on("quick-preview", () => {
      return this.sneakyTabRenamer(this.app);
    });
    this.app.workspace.on("resize", () => {
      return this.sneakyTabRenamer(this.app);
    });
  }
  sneakyTabRenamer(app) {
    const root = this.app.workspace.getLeaf().parent;
    for (const leaf of root.children) {
      const file = leaf.view.file;
      if (file === void 0) {
        continue;
      }
      const uuid = file.basename;
      const cache = this.app.metadataCache.getFileCache(file);
      if (cache === void 0) {
        console.warn(`Possible invalid frontmatter for: ${uuid}`);
        return;
      }
      let text = "";
      if (file.parent.name === "Actions") {
        const dt = new Date(this.getResourceName(cache));
        text = `(A) ${dayShort[dt.getDay()]}. ${dt.getDate()} ${monthShort[dt.getMonth()]}`;
      } else if (file.parent.name === "Notes") {
        if (cache.headings.length > 0 && cache.headings[0].level === 1) {
          text = `(N) ${cache.headings[0].heading}`;
        } else {
          text = `(N) ${uuid}`;
        }
      } else if (file.parent.name === "Verbatim") {
        if (cache.headings.length > 0 && cache.headings[0].level === 1) {
          text = `(V) ${cache.headings[0].heading}`;
        } else {
          text = `(V) ${uuid}`;
        }
      } else {
        console.warn(`type undefined for file: ${file.path}`);
        return;
      }
      leaf.tabHeaderInnerTitleEl.innerText = text;
      leaf.tabHeaderInnerTitleEl.innerHTML = text;
    }
  }
  getResourceName(cache) {
    if (cache.headings.length > 0 && cache.headings[0].level === 1) {
      return cache.headings[0].heading;
    } else {
      return cache.frontmatter.uuid;
    }
  }
  findResourceNamed(name, path) {
    const pages = this.dv.pages(`"${path}"`).where((page) => {
      const _uuid = page.file.name;
      const _cache = this.getFileCacheFromUUID(_uuid);
      if (_cache === void 0) {
        console.warn(`Possible invalid frontmatter for: ${_uuid}`);
        return false;
      }
      const _name = this.getResourceName(_cache);
      if (_name === void 0) {
        return false;
      }
      if (_name !== name) {
        return false;
      }
      return true;
    });
    if (pages.length === 0) {
      return "";
    } else {
      return pages[0].file.name;
    }
  }
  loadResourceNamed(name, path) {
    const pages = this.dv.pages(`"${path}"`).where((page) => {
      const uuid = page.file.name;
      const cache = this.getFileCacheFromUUID(uuid);
      if (cache === void 0) {
        console.warn(`Possible invalid frontmatter for: ${uuid}`);
        return false;
      }
      const nameHeading = this.getResourceName(cache);
      if (nameHeading === void 0) {
        return false;
      }
      if (nameHeading !== name) {
        return false;
      }
      return true;
    });
    if (pages.length === 0) {
      return;
    }
    if (pages.length === 0) {
      return false;
    } else {
      this.openViewInNewTabIfNotOpened(`${path}/${pages[0].file.name}.md`);
      return true;
    }
  }
  loadActionNamed(name) {
    return this.loadResourceNamed(name, Paths.Actions);
  }
  loadNoteNamed(name) {
    return this.loadResourceNamed(name, Paths.Notes);
  }
  onunload() {
    console.log("gonext - onunload()");
    delete window.gonext;
  }
  async loadSettings() {
    this.settings = Object.assign(
      {},
      DEFAULT_SETTINGS,
      await this.loadData()
    );
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  action() {
    const dt = new Date();
    const note = {
      uuid: v4_default(),
      created_at: dt.toISOString(),
      path: "",
      data: ""
    };
    note.path = `${Paths.Actions}/${note.uuid}.md`;
    note.data = `---
uuid: "${note.uuid}"
created_at: "${note.created_at}"
---
# 
## content
`;
    const f = this.app.vault.create(note.path, note.data).then((f2) => {
      return f2;
    });
    const active = this.app.workspace.getLeaf();
    const root = active.parent;
    this.app.workspace.createLeafInParent(root, root.children.length + 1);
    const leaf = root.children[root.children.length - 1];
    f.then((file) => {
      leaf.openFile(file, { active: true });
    });
  }
  verbatim(name) {
    const dt = new Date();
    const note = {
      uuid: v4_default(),
      created_at: dt.toISOString(),
      path: "",
      data: ""
    };
    note.path = `${Paths.Verbatim}/${note.uuid}.md`;
    note.data = `---
uuid: "${note.uuid}"
created_at: "${note.created_at}"
---
# ${name}
## Content
`;
    if (name === void 0) {
      note.data = `---
uuid: "${note.uuid}"
created_at: "${note.created_at}"
---
# 
## Content
`;
    } else {
      note.data = `---
uuid: "${note.uuid}"
created_at: "${note.created_at}"
---
# ${name}
## Content
`;
    }
    const f = this.app.vault.create(note.path, note.data).then((f2) => {
      return f2;
    });
    const active = this.app.workspace.activeLeaf;
    const root = active.parent;
    this.app.workspace.createLeafInParent(root, root.children.length + 1);
    const leaf = root.children[root.children.length - 1];
    f.then((file) => {
      leaf.openFile(file, { active: true });
    });
  }
  note(name) {
    const dt = new Date();
    const note = {
      uuid: v4_default(),
      created_at: dt.toISOString(),
      path: "",
      data: ""
    };
    note.path = `${Paths.Notes}/${note.uuid}.md`;
    if (name === void 0) {
      note.data = `---
uuid: "${note.uuid}"
created_at: "${note.created_at}"
---
# 
## Content
`;
    } else {
      note.data = `---
uuid: "${note.uuid}"
created_at: "${note.created_at}"
---
# ${name}
## Content
`;
    }
    const f = this.app.vault.create(note.path, note.data).then((f2) => {
      return f2;
    });
    const active = this.app.workspace.activeLeaf;
    const root = active.parent;
    this.app.workspace.createLeafInParent(root, root.children.length + 1);
    const leaf = root.children[root.children.length - 1];
    f.then((file) => {
      leaf.openFile(file, { active: true });
    });
  }
};
var Helper = {
  nilCheck(val) {
    return val === void 0 || val === null;
  },
  roundToOneDecimal(val) {
    return Math.round(val * 10) / 10;
  },
  durationStringToSec(val) {
    if (val === void 0 || val.length === 0) {
      return 0;
    }
    const mult = val.slice(-1);
    let m = 0;
    if (mult === "h") {
      m = 60 * 60;
    } else if (mult === "m") {
      m = 60;
    } else if (mult === "d") {
      m = 24 * 60 * 60;
    } else if (mult == "w") {
      m = 24 * 60 * 60 * 7;
    } else {
      console.warn(`Unhandled case val: ${val}`);
      return void 0;
    }
    return m * parseInt(val.slice(0, -1));
  },
  msecToStringDuration(val) {
    const oneHourInMsec = 36e5;
    const oneDayInMsec = 864e5;
    if (val >= 24 * oneHourInMsec) {
      return String(Helper.roundToOneDecimal(val / oneDayInMsec)).padStart(
        2,
        "0"
      ) + " d";
    } else {
      return String(Helper.roundToOneDecimal(val / oneHourInMsec)).padStart(
        2,
        "0"
      ) + " h";
    }
  },
  isUUID(val) {
    if (typeof val !== "string") {
      return false;
    }
    return val.length === 36;
  }
};
var ValidationError = class extends Error {
  constructor(message) {
    super(message);
    this.name = "ValidationError";
  }
};
var Assert = {
  True(predicate, message, strict = true) {
    if (!predicate) {
      if (strict) {
        throw new ValidationError(message);
      } else {
        console.error(message);
      }
    }
  },
  False(predicate, message, strict = false) {
    if (predicate) {
      if (strict) {
        throw new ValidationError(message);
      } else {
        console.error(message);
      }
    }
  }
};
var Paths = {
  Actions: "Actions",
  Notes: "Notes",
  Verbatim: "Verbatim",
  Assets: "Assets",
  Tasks: "Actions"
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3N0cmluZ2lmeS5qcyIsICJub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JuZy5qcyIsICJub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL25hdGl2ZS5qcyIsICJub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3Y0LmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvLyBAdHMtaWdub3JlXG5pbXBvcnQge1xuICBQbHVnaW4sXG4gIFdvcmtzcGFjZSxcbiAgLy8gQHRzLWlnbm9yZVxuICBIVE1MRWxlbWVudCxcbiAgYWRkSWNvbixcbiAgQ2FjaGVkTWV0YWRhdGEsXG4gIFRGaWxlLFxuICBUQWJzdHJhY3RGaWxlLFxuICBOb3RpY2UsXG59IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0LCB2MSBhcyB1dWlkdjEgfSBmcm9tIFwidXVpZFwiO1xuXG5jb25zdCBkYXlTaG9ydCA9IFtcIlN1blwiLCBcIk1vblwiLCBcIlR1ZVwiLCBcIldlZFwiLCBcIlRodVwiLCBcIkZyaVwiLCBcIlNhdFwiXTtcbmNvbnN0IG1vbnRoU2hvcnQgPSBbXG4gIFwiSmFuXCIsXG4gIFwiRmViXCIsXG4gIFwiTWFyXCIsXG4gIFwiQXByXCIsXG4gIFwiTWF5XCIsXG4gIFwiSnVuXCIsXG4gIFwiSnVsXCIsXG4gIFwiQXVnXCIsXG4gIFwiU2VwXCIsXG4gIFwiT2N0XCIsXG4gIFwiTm92XCIsXG4gIFwiRGVjXCIsXG5dO1xuXG4vLyBSZW1lbWJlciB0byByZW5hbWUgdGhlc2UgY2xhc3NlcyBhbmQgaW50ZXJmYWNlcyFcbmludGVyZmFjZSBNeVBsdWdpblNldHRpbmdzIHtcbiAgbXlTZXR0aW5nOiBzdHJpbmc7XG59XG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IE15UGx1Z2luU2V0dGluZ3MgPSB7XG4gIG15U2V0dGluZzogXCJkZWZhdWx0XCIsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNeVBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG4gIHNldHRpbmdzOiBNeVBsdWdpblNldHRpbmdzO1xuICB3b3Jrc3BhY2U6IFdvcmtzcGFjZTtcbiAgbWV0YWRhdGFDYWNoZTogYW55O1xuICBkdjogYW55O1xuICAvLyBAdHMtaWdub3JlXG4gIHJlbmRlcjogUmVuZGVyO1xuICBkZWJ1ZzogYm9vbGVhbjtcbiAgdGFza0luU3RhdHVzQmFyOiBIVE1MRWxlbWVudDtcbiAgYXBpOiBhbnk7XG4gIHZhdWx0Q29udGVudDogVEZpbGVbXSA9IFtdO1xuICB2YXVsdENvbnRlbnREaWN0OiB7IFtpZDogc3RyaW5nXTogVEZpbGUgfSA9IHt9O1xuXG4gIG9wZW5WaWV3SW5OZXdUYWJJZk5vdE9wZW5lZChuYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zdCBmID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG5hbWUpO1xuICAgIGlmIChmID09PSB1bmRlZmluZWQgfHwgZiA9PT0gbnVsbCkge1xuICAgICAgY29uc29sZS53YXJuKGBmaWxlIG5vdCBmb3VuZCAke25hbWV9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgYWN0aXZlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoKTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgY29uc3Qgcm9vdCA9IGFjdGl2ZS5wYXJlbnQ7XG4gICAgLy8gcmVjaGVyY2hlciBzaSBwYXMgZFx1MDBFOWphIG91dmVydCBkYW5zIGxlcyBvbmdsZXRzIGFjdGlmc1xuICAgIC8vIHNpbm9uIGNyXHUwMEU5ZXIgdW4gbm91dmVsIG9uZ2xldCwgb3V2cmlyIGxlIGZpY2hpZXIsIGV0IGVuIGZhaXJlIGwnb25nbGV0IGFjdGlmXG4gICAgbGV0IGZvdW5kID0gZmFsc2U7XG4gICAgbGV0IG5vZGUgPSB1bmRlZmluZWQ7XG4gICAgY29uc3QgZW1wdHlUYWJzID0gW107XG5cbiAgICBmb3IgKGNvbnN0IGxlYWYgb2Ygcm9vdC5jaGlsZHJlbikge1xuICAgICAgY29uc3QgZmlsZSA9IHRoaXMuZ2V0RmlsZUZyb21MZWFmKGxlYWYpO1xuICAgICAgaWYgKGZpbGUgPT09IHVuZGVmaW5lZCB8fCBmaWxlID09PSBudWxsKSB7XG4gICAgICAgIGVtcHR5VGFicy5wdXNoKGxlYWYpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZpbGUubmFtZSA9PT0gZi5uYW1lKSB7XG4gICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgbm9kZSA9IGxlYWY7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghZm91bmQpIHtcbiAgICAgIGlmIChlbXB0eVRhYnMubGVuZ3RoID4gMCkge1xuICAgICAgICBub2RlID0gZW1wdHlUYWJzWzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLmNyZWF0ZUxlYWZJblBhcmVudChcbiAgICAgICAgICByb290LFxuICAgICAgICAgIHJvb3QuY2hpbGRyZW4ubGVuZ3RoICsgMSxcbiAgICAgICAgKTtcbiAgICAgICAgbm9kZSA9IHJvb3QuY2hpbGRyZW5bcm9vdC5jaGlsZHJlbi5sZW5ndGggLSAxXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBub2RlLm9wZW5GaWxlKGYsIHsgYWN0aXZlOiB0cnVlLCB9KTtcbiAgfVxuXG4gIGdldEZpbGVGcm9tTGVhZihsZWFmKTogVEZpbGUge1xuICAgIGxldCBmaWxlID0gdW5kZWZpbmVkO1xuICAgIHRyeSB7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBmaWxlID0gbGVhZi52aWV3LmZpbGU7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcmV0dXJuIHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChmaWxlKTtcbiAgfVxuXG4gIGV4dHJhY3RVVUlERnJvbUxpbmsobGluazogc3RyaW5nKSB7XG4gICAgQXNzZXJ0LlRydWUoXG4gICAgICBsaW5rLmxlbmd0aCA+PSAzNixcbiAgICAgIGBleHRyYWN0VVVJREZyb21MaW5rOiBJbnZhbGlkIHBhcmFtZXRlciB0eXBlOiBsaW5rOiBcIiR7bGlua31cImAsXG4gICAgKTtcblxuICAgIC8vIGF0IHRoaXMgcG9pbnQgbGluayBpcyBlaXRoZXIgZm9ybSB1dWlkI2hlYWRpbmcgfHwgaW52YWxpZFxuICAgIC8vIHdlIGNhbiBzYWZlbHkgYXNzdW1lIDA6MzYgaXMgdGhlIHV1aWRcbiAgICBBc3NlcnQuVHJ1ZShcbiAgICAgIEhlbHBlci5pc1VVSUQobGluay5zbGljZSgwLCAzNikpLFxuICAgICAgYGV4dHJhY3RVVUlERnJvbUxpbms6IEludmFsaWQgcGFyYW1ldGVyIHR5cGU6IGxpbms6IFwiJHtsaW5rfVwiYCxcbiAgICApO1xuICAgIGlmIChsaW5rLmxlbmd0aCA9PT0gMzYpIHtcbiAgICAgIHJldHVybiBsaW5rO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbGluay5zbGljZSgwLCAzNik7XG4gICAgfVxuICB9XG5cbiAgZ3J1Z0FsaWFzKF9pZDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBjYWNoZSA9IHRoaXMuZ2V0RmlsZUNhY2hlRnJvbVVVSUQoX2lkKTtcbiAgICBpZiAoY2FjaGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc29sZS53YXJuKGBQb3NzaWJsZSBpbnZhbGlkIGZyb250bWF0dGVyIGZvcjogJHtfaWR9YCk7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG5cbiAgICAvLyB3aGF0IGlzIHRoZSBuYW1pbmcgcHJlZmVyZW5jZT9cbiAgICAvLyBhbGlhcyA+IG5hbWUgaGVhZGluZ1xuICAgIGxldCB0YXJnZXROYW1lID0gdW5kZWZpbmVkO1xuXG4gICAgaWYgKGNhY2hlLmhlYWRpbmdzLmxlbmd0aCA+IDAgJiYgY2FjaGUuaGVhZGluZ3NbMF0ubGV2ZWwgPT09IDEpIHtcbiAgICAgIHRhcmdldE5hbWUgPSBjYWNoZS5oZWFkaW5nc1swXS5oZWFkaW5nO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YXJnZXROYW1lID0gX2lkO1xuICAgIH1cblxuICAgIGNvbnN0IGZpbGUgPSB0aGlzLmdldEZpbGVGcm9tVVVJRChfaWQpO1xuICAgIGlmIChmaWxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYGdydWdBbGlhczogQ2Fubm90IGdydWcgdGhpcyBpZDogJHtfaWR9YCk7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgY29uc3QgcGF0aCA9IGAke2ZpbGUucGF0aC5zcGxpdChcIi9cIikuc2xpY2UoMCwgLTEpfS8ke19pZH1gO1xuXG4gICAgcmV0dXJuIGBbWyR7cGF0aH18JHt0YXJnZXROYW1lfV1dYDtcbiAgfVxuXG4gIGdldEZpbGVGcm9tVVVJRChfaWQ6IHN0cmluZyk6IFRGaWxlIHtcbiAgICByZXR1cm4gdGhpcy52YXVsdENvbnRlbnREaWN0W19pZF07XG4gIH1cblxuICBnZXRGaWxlQ2FjaGVGcm9tVVVJRChfaWQ6IHN0cmluZyk6IENhY2hlZE1ldGFkYXRhIHtcbiAgICBjb25zdCBmID0gdGhpcy52YXVsdENvbnRlbnREaWN0W19pZF07XG4gICAgaWYgKGYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZik7XG4gIH1cblxuICBhc3luYyBvbmxvYWQoKSB7XG4gICAgY29uc29sZS5sb2coXCJnb25leHQgLSBvbmxvYWQoKVwiKTtcbiAgICBhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICB0aGlzLmR2ID0gdGhpcy5hcHAucGx1Z2lucy5wbHVnaW5zLmRhdGF2aWV3LmFwaTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdGhpcy5maWxlcyA9IHt9O1xuICAgIHRoaXMuYXBpID0ge307XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgd2luZG93LmdvbmV4dCA9IHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHN0YXRlOiB3aW5kb3cuZ29uZXh0Py5zdGF0ZSA/PyB7fSxcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGFwcDogdGhpcy5hcHAsXG4gICAgfTtcbiAgICBhZGRJY29uKFxuICAgICAgXCJHb05leHRJY29uXCIsXG4gICAgICBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIzMlwiIGhlaWdodD1cIjMyXCIgdmlld0JveD1cIjAgMCAzMiAzMlwiPjxwYXRoIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTIwIDEyVjJoMnYxMHptNCAwVjJoMnYxMHptNCAwVjJoMnYxMHptLTEyIDhhMy45MTIgMy45MTIgMCAwIDEtNC00YTMuOTEyIDMuOTEyIDAgMCAxIDQtNHYtMmE2IDYgMCAxIDAgNiA2aC0yYTMuOTEyIDMuOTEyIDAgMCAxLTQgNFwiPjwvcGF0aD48cGF0aCBmaWxsPVwiY3VycmVudENvbG9yXCIgZD1cIk0yOC44OTMgMTguNDU0TDI2LjA5OCAxNmwtMS4zMTggMS41MDRsMi43OTIgMi40NTJsLTIuMzYgNC4wODhsLTMuNDI3LTEuMTZhOS4wMzIgOS4wMzIgMCAwIDEtMi43MTQgMS41NjVMMTguMzYgMjhoLTQuNzJsLS43MS0zLjU1YTkuMDk1IDkuMDk1IDAgMCAxLTIuNjk1LTEuNTcybC0zLjQ0NyAxLjE2NmwtMi4zNi00LjA4OGwyLjcyNS0yLjM5NWE4LjkyNiA4LjkyNiAwIDAgMS0uMDA3LTMuMTI4bC0yLjcxOC0yLjM5bDIuMzYtNC4wODdsMy40MjcgMS4xNkE5LjAzIDkuMDMgMCAwIDEgMTIuOTMgNy41NUwxMy42NCA0SDE2VjJoLTIuMzZhMiAyIDAgMCAwLTEuOTYxIDEuNjA4bC0uNTA0IDIuNTE5YTEwLjk2NyAxMC45NjcgMCAwIDAtMS4zMjcuNzUzbC0yLjQyLS44MTlhMS45OTggMS45OTggMCAwIDAtMi4zNzIuODk1bC0yLjM2IDQuMDg4YTIgMiAwIDAgMCAuNDExIDIuNTAybDEuOTMxIDEuNjk3QzUuMDIxIDE1LjQ5NSA1IDE1Ljc0NSA1IDE2YzAgLjI1OC4wMS41MTMuMDI4Ljc2NmwtMS45MiAxLjY4OGEyIDIgMCAwIDAtLjQxMyAyLjUwMmwyLjM2IDQuMDg4YTEuOTk4IDEuOTk4IDAgMCAwIDIuMzc0Ljg5NWwyLjQzNC0uODI0YTEwLjk3NCAxMC45NzQgMCAwIDAgMS4zMTIuNzU5bC41MDMgMi41MThBMiAyIDAgMCAwIDEzLjY0IDMwaDQuNzJhMiAyIDAgMCAwIDEuOTYxLTEuNjA4bC41MDQtMi41MTlhMTAuOTY3IDEwLjk2NyAwIDAgMCAxLjMyNy0uNzUzbDIuNDE5LjgxOGExLjk5OCAxLjk5OCAwIDAgMCAyLjM3My0uODk0bDIuMzYtNC4wODhhMiAyIDAgMCAwLS40MTEtMi41MDJcIj48L3BhdGg+PC9zdmc+YCxcbiAgICApO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBcIm9wZW4tYXNzZXRzXCIsXG4gICAgICBuYW1lOiBcIk9wZW4gQXNzZXRzXCIsXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBsZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoKTtcbiAgICAgICAgY29uc3QgZmlsZSA9IHRoaXMuZ2V0RmlsZUZyb21MZWFmKGxlYWYpO1xuICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5hcHAudmF1bHQuYWRhcHRlcjtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjb25zdCB2YXVsdERpciA9IGFkYXB0ZXIuYmFzZVBhdGg7XG4gICAgICAgIGNvbnN0IHV1aWQgPSBmaWxlLmJhc2VuYW1lO1xuICAgICAgICBjb25zdCBwYXJlbnQgPSBmaWxlLnBhcmVudC5uYW1lO1xuICAgICAgICBjb25zdCBjYWNoZSA9IHRoaXMuZ2V0RmlsZUNhY2hlRnJvbVVVSUQodXVpZCk7XG4gICAgICAgIGlmIChjYWNoZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGBQb3NzaWJsZSBpbnZhbGlkIGZyb250bWF0dGVyIGZvcjogJHt1dWlkfWApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLmdldFJlc291cmNlTmFtZShjYWNoZSk7XG5cbiAgICAgICAgaWYgKHBhcmVudCA9PT0gXCJWZXJiYXRpbVwiKSB7XG4gICAgICAgICAgaWYgKCFhd2FpdCBhZGFwdGVyLmV4aXN0cyhgJHtQYXRocy5Bc3NldHN9LyR7dXVpZH0vYCkpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIubWtkaXIoYCR7UGF0aHMuQXNzZXRzfS8ke3V1aWR9L2ApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBhc3NldFBhdGggPSBgJHt2YXVsdERpcn0vJHtQYXRocy5Bc3NldHN9LyR7dXVpZH0vYDtcbiAgICAgICAgICBjb25zdCB7IHNoZWxsIH0gPSByZXF1aXJlKFwiZWxlY3Ryb25cIik7XG4gICAgICAgICAgc2hlbGwuc2hvd0l0ZW1JbkZvbGRlcihhc3NldFBhdGgpO1xuICAgICAgICB9IGVsc2UgaWYgKHBhcmVudCA9PT0gUGF0aHMuQWN0aW9ucykge1xuICAgICAgICAgIGNvbnN0IF91dWlkID0gdGhpcy5maW5kUmVzb3VyY2VOYW1lZChuYW1lLCBQYXRocy5Ob3Rlcyk7XG4gICAgICAgICAgaWYgKF91dWlkICE9PSBcIlwiKSB7XG4gICAgICAgICAgICBhd2FpdCBsZWFmLm9wZW5GaWxlKHRoaXMuZ2V0RmlsZUZyb21VVUlEKF91dWlkKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoYE5vIExvZyBFbnRyeSBmb3I6ICR7bmFtZX1gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocGFyZW50ID09PSBQYXRocy5Ob3Rlcykge1xuICAgICAgICAgIGNvbnN0IF91dWlkID0gdGhpcy5maW5kUmVzb3VyY2VOYW1lZChuYW1lLCBQYXRocy5BY3Rpb25zKTtcbiAgICAgICAgICBpZiAoX3V1aWQgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIGF3YWl0IGxlYWYub3BlbkZpbGUodGhpcy5nZXRGaWxlRnJvbVVVSUQoX3V1aWQpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3IE5vdGljZShgTm8gQWN0aW9uIGZvcjogJHtuYW1lfWApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChwYXJlbnQgIT09IFBhdGhzLkFjdGlvbnMgJiYgcGFyZW50ICE9PSBQYXRocy5Ob3Rlcykge1xuICAgICAgICAgIG5ldyBOb3RpY2UoYFVuc3Vwb3J0ZWQgdHlwZTogJHtwYXJlbnR9YCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6IFwib3Blbi1pbmRleFwiLFxuICAgICAgbmFtZTogXCJPcGVuIEluZGV4XCIsXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICB0aGlzLm9wZW5WaWV3SW5OZXdUYWJJZk5vdE9wZW5lZChcIk5vdGVzL2VlYzBhMjk3LTk4MmMtNDcxYy05NzQ4LTQ5NDNlYzQ1ZmU5NC5tZFwiKTtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6IFwib3Blbi1pbmJveFwiLFxuICAgICAgbmFtZTogXCJPcGVuIEluYm94XCIsXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICB0aGlzLm9wZW5WaWV3SW5OZXdUYWJJZk5vdE9wZW5lZChcIk5vdGVzLzhjN2FhZDJhLWI2N2YtNDRiNy04NmZkLTI3YTUwNDEwYmU2NS5tZFwiKTtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6IFwib3Blbi1wbGFubmluZ1wiLFxuICAgICAgbmFtZTogXCJPcGVuIFBsYW5uaW5nXCIsXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICB0aGlzLm9wZW5WaWV3SW5OZXdUYWJJZk5vdE9wZW5lZChcIk5vdGVzL2QzNzFlMGY5LTFhN2YtNGNkMC04ZmE0LTI2MGMxNzZkYTRhNC5tZFwiKTtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6IFwib3Blbi1uZXh0X2FjdGlvbnNcIixcbiAgICAgIG5hbWU6IFwiT3BlbiBOZXh0IEFjdGlvbnNcIixcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgIHRoaXMub3BlblZpZXdJbk5ld1RhYklmTm90T3BlbmVkKFwiTm90ZXMvYWI3YWVjOTItMjI3My00MGJjLTk2MzItZGE3MDkzN2I1NTc1Lm1kXCIpO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJvcGVuLXNvbWVkYXlfbWF5YmVcIixcbiAgICAgIG5hbWU6IFwiT3BlbiBTb21lZGF5IE1heWJlXCIsXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICB0aGlzLm9wZW5WaWV3SW5OZXdUYWJJZk5vdE9wZW5lZChcIk5vdGVzL2U3YjYwNWI5LTRkM2EtNGMxNy1iZjRlLWU3ZjFhNTFmN2EzMC5tZFwiKTtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6IFwib3Blbi13YWl0aW5nX2ZvclwiLFxuICAgICAgbmFtZTogXCJPcGVuIFdhaXRpbmcgRm9yXCIsXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICB0aGlzLm9wZW5WaWV3SW5OZXdUYWJJZk5vdE9wZW5lZChcIk5vdGVzLzdhMTNkN2FjLTczMmItNGNlYy05MWYwLTE0OThjODI0YjgyZS5tZFwiKTtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6IFwib3Blbi10b2RheXMtbG9nXCIsXG4gICAgICBuYW1lOiBcIk9wZW4gVG9kYXkncyBMb2dzXCIsXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBjb25zdCBub3dJc28gPSBub3cudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaWYgKCF0aGlzLmxvYWROb3RlTmFtZWQobm93SXNvKSkge1xuICAgICAgICAgIHRoaXMubm90ZShub3dJc28pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBcImNoZWNrLWR1cGxpY2F0ZXNcIixcbiAgICAgIG5hbWU6IFwiQ2hlY2sgZm9yIER1cGxpY2F0ZXNcIixcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcyA9IHt9O1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgY29uc3QgcGFnZXMgPSB0aGlzLmR2LnBhZ2VzKGBcIiR7UGF0aHMuTm90ZXN9XCJgKTtcbiAgICAgICAgZm9yIChjb25zdCBwYWdlIG9mIHBhZ2VzKSB7XG4gICAgICAgICAgY29uc3QgdXVpZCA9IHBhZ2UuZmlsZS5uYW1lO1xuICAgICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5nZXRGaWxlQ2FjaGVGcm9tVVVJRCh1dWlkKTtcbiAgICAgICAgICBpZiAoY2FjaGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBQb3NzaWJsZSBpbnZhbGlkIGZyb250bWF0dGVyIGZvcjogJHt1dWlkfWApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IG5hbWVIZWFkaW5nID0gdGhpcy5nZXRSZXNvdXJjZU5hbWUoY2FjaGUsKTtcblxuICAgICAgICAgIGlmIChuYW1lSGVhZGluZyA9PT0gdW5kZWZpbmVkIHx8IG5hbWVIZWFkaW5nID09PSBcIlwiKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBpcyBub3QgZGF0ZSBmb3JtYXRcbiAgICAgICAgICBpZiAobmFtZUhlYWRpbmcubGVuZ3RoICE9PSAxMCB8fCBuYW1lSGVhZGluZ1swXSAhPT0gXCIyXCIpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChyZXNbbmFtZUhlYWRpbmddID09PSB1bmRlZmluZWQgfHwgcmVzW25hbWVIZWFkaW5nXSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmVzW25hbWVIZWFkaW5nXSA9IFt1dWlkXTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzW25hbWVIZWFkaW5nXS5wdXNoKHV1aWQpO1xuICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHJlcyk7XG4gICAgICAgIGtleXMuc29ydCgpO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgICAgICAgaWYgKHJlc1trZXldLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBhZ2Ugb2YgcmVzW2tleV0pIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYFx0JHtwYWdlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJvcGVuLXllc3RlcmRheXMtbG9nc1wiLFxuICAgICAgbmFtZTogXCJPcGVuIFllc3RlcmRheSdzIExvZ3NcIixcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIG5vdy5zZXREYXRlKG5vdy5nZXREYXRlKCkgLSAxKTtcbiAgICAgICAgY29uc3Qgbm93SXNvID0gbm93LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xuICAgICAgICB0aGlzLmxvYWROb3RlTmFtZWQobm93SXNvKTtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6IFwib3Blbi10b2RheXMtZGFpbHlcIixcbiAgICAgIG5hbWU6IFwiT3BlbiBUb2RheSdzIERhaWx5XCIsXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBjb25zdCBub3dJc28gPSBub3cudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG4gICAgICAgIHRoaXMubG9hZEFjdGlvbk5hbWVkKG5vd0lzbyk7XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBcIm9wZW4tdG9tb3Jyb3dzLWRhaWx5XCIsXG4gICAgICBuYW1lOiBcIk9wZW4gVG9tb3Jyb3cncyBEYWlseVwiLFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgbm93LnNldERhdGUobm93LmdldERhdGUoKSArIDEpO1xuICAgICAgICBjb25zdCBub3dJc28gPSBub3cudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG4gICAgICAgIHRoaXMubG9hZEFjdGlvbk5hbWVkKG5vd0lzbyk7XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBcIm9wZW4teWVzdGVyZGF5cy1kYWlseVwiLFxuICAgICAgbmFtZTogXCJPcGVuIFllc3RlcmRheSdzIERhaWx5XCIsXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBub3cuc2V0RGF0ZShub3cuZ2V0RGF0ZSgpIC0gMSk7XG4gICAgICAgIGNvbnN0IG5vd0lzbyA9IG5vdy50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTtcbiAgICAgICAgdGhpcy5sb2FkQWN0aW9uTmFtZWQobm93SXNvKTtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6IFwiZ2VuZXJhdGUtbm90ZVwiLFxuICAgICAgbmFtZTogXCJHZW5lcmF0ZSBOb3RlXCIsXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICB0aGlzLm5vdGUoKTtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6IFwiZ2VuZXJhdGUtdmVyYmF0aW1cIixcbiAgICAgIG5hbWU6IFwiR2VuZXJhdGUgVmVyYmF0aW1cIixcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgIHRoaXMudmVyYmF0aW0oKTtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6IFwiZ2VuZXJhdGUtYWN0aW9uXCIsXG4gICAgICBuYW1lOiBcIkdlbmVyYXRlIEFjdGlvblwiLFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgdGhpcy5hY3Rpb24oKTtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6IFwiY2xpcHB5LXRoZS1jbGlwcGVyXCIsXG4gICAgICBuYW1lOiBcIkNsaXBweSBDbGlwXCIsXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLnJlYWRUZXh0KCkudGhlbigodGV4dCkgPT4ge1xuICAgICAgICAgIGxldCBfaWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIF9pZCA9IHRoaXMuZXh0cmFjdFVVSURGcm9tTGluayh0ZXh0KTtcbiAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgZmlsZSA9IHRoaXMuZ2V0RmlsZUZyb21VVUlEKF9pZCk7XG4gICAgICAgICAgQXNzZXJ0LlRydWUoXG4gICAgICAgICAgICBmaWxlICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICBgZ2V0RmlsZUZyb21VVUlEOiByZXR1cm5lZCB1bmRlZmluZWQgZm9yIHV1aWQ6ICR7X2lkfWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCBhbGlhcyA9IHRoaXMuZ3J1Z0FsaWFzKF9pZCk7XG4gICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgIGNvbnN0IGFjdGl2ZUxlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZigpO1xuICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICBpZiAoYWN0aXZlTGVhZikge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgY29uc3QgZWRpdG9yID0gYWN0aXZlTGVhZi52aWV3LnNvdXJjZU1vZGUuY21FZGl0b3I7XG4gICAgICAgICAgICBjb25zdCBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yKCk7XG4gICAgICAgICAgICBlZGl0b3IucmVwbGFjZVJhbmdlKGFsaWFzLCBjdXJzb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBcImNvcHktdXVpZFwiLFxuICAgICAgbmFtZTogXCJDb3B5IFVVSURcIixcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGxlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZigpO1xuICAgICAgICBjb25zdCBmaWxlID0gdGhpcy5nZXRGaWxlRnJvbUxlYWYobGVhZik7XG4gICAgICAgIGNvbnN0IHV1aWQgPSBmaWxlLmJhc2VuYW1lO1xuXG4gICAgICAgIGlmIChbXCJWZXJiYXRpbVwiLCBcIk5vdGVzXCIsIFwiQWN0aW9uc1wiXS5jb250YWlucyhmaWxlLnBhcmVudC5uYW1lKSkge1xuICAgICAgICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHV1aWQpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pO1xuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJzYWZlLWRlbGV0ZVwiLFxuICAgICAgbmFtZTogXCJTYWZlIERlbGV0ZVwiLFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgY29uc3QgZmlsZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XG4gICAgICAgIGlmIChmaWxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFwcC52YXVsdC5kZWxldGUoZmlsZSk7XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBcImFwcGVuZC10by1pbmJveFwiLFxuICAgICAgbmFtZTogXCJBcHBlbmQgdG8gSW5ib3hcIixcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgIC8vIG91dmVydHVyZSBwYXMgaW5zdGFudGFuXHUwMEU5ZVxuICAgICAgICBjb25zdCBmID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKFwiSU5CT1gubWRcIik7XG4gICAgICAgIGlmIChmID09PSB1bmRlZmluZWQgfHwgZiA9PT0gbnVsbCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgZmlsZSBub3QgZm91bmQgSU5CT1gubWRgKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhY3RpdmUgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZigpO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNvbnN0IHJvb3QgPSBhY3RpdmUucGFyZW50O1xuICAgICAgICAvLyByZWNoZXJjaGVyIHNpIHBhcyBkXHUwMEU5amEgb3V2ZXJ0IGRhbnMgbGVzIG9uZ2xldHMgYWN0aWZzXG4gICAgICAgIC8vIHNpbm9uIGNyXHUwMEU5ZXIgdW4gbm91dmVsIG9uZ2xldCwgb3V2cmlyIGxlIGZpY2hpZXIsIGV0IGVuIGZhaXJlIGwnb25nbGV0IGFjdGlmXG4gICAgICAgIGxldCBmb3VuZCA9IGZhbHNlO1xuICAgICAgICBsZXQgbm9kZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgZW1wdHlUYWJzID0gW107XG5cbiAgICAgICAgZm9yIChjb25zdCBsZWFmIG9mIHJvb3QuY2hpbGRyZW4pIHtcbiAgICAgICAgICBjb25zdCBmaWxlID0gdGhpcy5nZXRGaWxlRnJvbUxlYWYobGVhZik7XG4gICAgICAgICAgaWYgKGZpbGUgPT09IHVuZGVmaW5lZCB8fCBmaWxlID09PSBudWxsKSB7XG4gICAgICAgICAgICBlbXB0eVRhYnMucHVzaChsZWFmKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChmaWxlLm5hbWUgPT09IGYubmFtZSkge1xuICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgbm9kZSA9IGxlYWY7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgIGlmIChlbXB0eVRhYnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbm9kZSA9IGVtcHR5VGFic1swXTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLmNyZWF0ZUxlYWZJblBhcmVudChcbiAgICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgICAgcm9vdC5jaGlsZHJlbi5sZW5ndGggKyAxLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIG5vZGUgPSByb290LmNoaWxkcmVuW3Jvb3QuY2hpbGRyZW4ubGVuZ3RoIC0gMV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZWRpdG9yQWN0aW9uID0gKG5vZGUpID0+IHtcbiAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgY29uc3QgZWRpdG9yID0gbm9kZS52aWV3LnNvdXJjZU1vZGUuY21FZGl0b3I7XG4gICAgICAgICAgZWRpdG9yLmluc2VydFRleHQoXCJcXG5cXG4tLS1cXG5cXG5cIiwgZWRpdG9yLmxhc3RMaW5lKCkpO1xuICAgICAgICAgIGVkaXRvci5zZXRDdXJzb3IoZWRpdG9yLmxhc3RMaW5lKCksIDApO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpID09PSBudWxsIHx8XG4gICAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKS5uYW1lICE9PSBcIklOQk9YLm1kXCJcbiAgICAgICAgKSB7XG4gICAgICAgICAgbm9kZS5vcGVuRmlsZShmLCB7XG4gICAgICAgICAgICBhY3RpdmU6IHRydWUsXG4gICAgICAgICAgfSkudGhlbigoXykgPT4gZWRpdG9yQWN0aW9uKG5vZGUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlZGl0b3JBY3Rpb24obm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLmFwcC53b3Jrc3BhY2Uub25MYXlvdXRSZWFkeSgoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcIndvcmtzcGFjZSAtIGxheW91dC1yZWFkeVwiKTtcbiAgICAgIGZvciAoY29uc3QgZiBvZiB0aGlzLmFwcC52YXVsdC5nZXRGaWxlcygpKSB7XG4gICAgICAgIGNvbnN0IHV1aWQgPSBmLmJhc2VuYW1lO1xuICAgICAgICBpZiAoIUhlbHBlci5pc1VVSUQodXVpZCkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudmF1bHRDb250ZW50RGljdFt1dWlkXSA9IGY7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLm9uKFxuICAgICAgXCJjaGFuZ2VkXCIsXG4gICAgICAoZmlsZTogVEZpbGUsIGRhdGE6IHN0cmluZywgY2FjaGU6IENhY2hlZE1ldGFkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHV1aWQgPSBmaWxlLmJhc2VuYW1lO1xuICAgICAgICBpZiAoSGVscGVyLmlzVVVJRCh1dWlkKSkge1xuICAgICAgICAgIHRoaXMudmF1bHRDb250ZW50RGljdFt1dWlkXSA9IGZpbGU7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgKTtcblxuICAgIHRoaXMuYXBwLndvcmtzcGFjZS5vbihcImFjdGl2ZS1sZWFmLWNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5zbmVha3lUYWJSZW5hbWVyKHRoaXMuYXBwKTtcbiAgICB9KTtcblxuICAgIHRoaXMuYXBwLndvcmtzcGFjZS5vbihcInF1aWNrLXByZXZpZXdcIiwgKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuc25lYWt5VGFiUmVuYW1lcih0aGlzLmFwcCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmFwcC53b3Jrc3BhY2Uub24oXCJyZXNpemVcIiwgKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuc25lYWt5VGFiUmVuYW1lcih0aGlzLmFwcCk7XG4gICAgfSk7XG4gIH1cblxuICBzbmVha3lUYWJSZW5hbWVyKGFwcCkge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBjb25zdCByb290ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoKS5wYXJlbnQ7XG5cbiAgICBmb3IgKGNvbnN0IGxlYWYgb2Ygcm9vdC5jaGlsZHJlbikge1xuICAgICAgY29uc3QgZmlsZSA9IGxlYWYudmlldy5maWxlO1xuICAgICAgaWYgKGZpbGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdXVpZCA9IGZpbGUuYmFzZW5hbWU7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBjb25zdCBjYWNoZSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpO1xuICAgICAgaWYgKGNhY2hlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBQb3NzaWJsZSBpbnZhbGlkIGZyb250bWF0dGVyIGZvcjogJHt1dWlkfWApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBAdHMtaWdub3JlXG5cbiAgICAgIGxldCB0ZXh0ID0gXCJcIjtcbiAgICAgIGlmIChmaWxlLnBhcmVudC5uYW1lID09PSBcIkFjdGlvbnNcIikge1xuICAgICAgICBjb25zdCBkdCA9IG5ldyBEYXRlKHRoaXMuZ2V0UmVzb3VyY2VOYW1lKGNhY2hlKSlcbiAgICAgICAgdGV4dCA9IGAoQSkgJHtkYXlTaG9ydFtkdC5nZXREYXkoKV19LiAke2R0LmdldERhdGUoKX0gJHttb250aFNob3J0W2R0LmdldE1vbnRoKCldfWA7XG4gICAgICB9IGVsc2UgaWYgKGZpbGUucGFyZW50Lm5hbWUgPT09IFwiTm90ZXNcIikge1xuICAgICAgICBpZiAoY2FjaGUuaGVhZGluZ3MubGVuZ3RoID4gMCAmJiBjYWNoZS5oZWFkaW5nc1swXS5sZXZlbCA9PT0gMSkge1xuICAgICAgICAgIHRleHQgPSBgKE4pICR7Y2FjaGUuaGVhZGluZ3NbMF0uaGVhZGluZ31gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRleHQgPSBgKE4pICR7dXVpZH1gO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGZpbGUucGFyZW50Lm5hbWUgPT09IFwiVmVyYmF0aW1cIikge1xuICAgICAgICBpZiAoY2FjaGUuaGVhZGluZ3MubGVuZ3RoID4gMCAmJiBjYWNoZS5oZWFkaW5nc1swXS5sZXZlbCA9PT0gMSkge1xuICAgICAgICAgIHRleHQgPSBgKFYpICR7Y2FjaGUuaGVhZGluZ3NbMF0uaGVhZGluZ31gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRleHQgPSBgKFYpICR7dXVpZH1gO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oYHR5cGUgdW5kZWZpbmVkIGZvciBmaWxlOiAke2ZpbGUucGF0aH1gKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgbGVhZi50YWJIZWFkZXJJbm5lclRpdGxlRWwuaW5uZXJUZXh0ID0gdGV4dDtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGxlYWYudGFiSGVhZGVySW5uZXJUaXRsZUVsLmlubmVySFRNTCA9IHRleHQ7XG4gICAgfVxuICB9XG5cbiAgZ2V0UmVzb3VyY2VOYW1lKGNhY2hlOiBDYWNoZWRNZXRhZGF0YSk6IHN0cmluZyB7XG4gICAgaWYgKGNhY2hlLmhlYWRpbmdzLmxlbmd0aCA+IDAgJiYgY2FjaGUuaGVhZGluZ3NbMF0ubGV2ZWwgPT09IDEpIHtcbiAgICAgIHJldHVybiBjYWNoZS5oZWFkaW5nc1swXS5oZWFkaW5nO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY2FjaGUuZnJvbnRtYXR0ZXIudXVpZDtcbiAgICB9XG4gIH1cblxuICBmaW5kUmVzb3VyY2VOYW1lZChuYW1lOiBzdHJpbmcsIHBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgcGFnZXMgPSB0aGlzLmR2XG4gICAgICAucGFnZXMoYFwiJHtwYXRofVwiYClcbiAgICAgIC53aGVyZSgocGFnZSkgPT4ge1xuICAgICAgICBjb25zdCBfdXVpZCA9IHBhZ2UuZmlsZS5uYW1lO1xuICAgICAgICBjb25zdCBfY2FjaGUgPSB0aGlzLmdldEZpbGVDYWNoZUZyb21VVUlEKF91dWlkKTtcbiAgICAgICAgaWYgKF9jYWNoZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGBQb3NzaWJsZSBpbnZhbGlkIGZyb250bWF0dGVyIGZvcjogJHtfdXVpZH1gKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBfbmFtZSA9IHRoaXMuZ2V0UmVzb3VyY2VOYW1lKF9jYWNoZSk7XG4gICAgICAgIGlmIChfbmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF9uYW1lICE9PSBuYW1lKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9KTtcblxuICAgIGlmIChwYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcGFnZXNbMF0uZmlsZS5uYW1lO1xuICAgIH1cbiAgfVxuXG4gIGxvYWRSZXNvdXJjZU5hbWVkKG5hbWU6IHN0cmluZywgcGF0aDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3QgcGFnZXMgPSB0aGlzLmR2XG4gICAgICAucGFnZXMoYFwiJHtwYXRofVwiYClcbiAgICAgIC53aGVyZSgocGFnZSkgPT4ge1xuICAgICAgICBjb25zdCB1dWlkID0gcGFnZS5maWxlLm5hbWU7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5nZXRGaWxlQ2FjaGVGcm9tVVVJRCh1dWlkKTtcbiAgICAgICAgaWYgKGNhY2hlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYFBvc3NpYmxlIGludmFsaWQgZnJvbnRtYXR0ZXIgZm9yOiAke3V1aWR9YCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbmFtZUhlYWRpbmcgPSB0aGlzLmdldFJlc291cmNlTmFtZShjYWNoZSk7XG5cbiAgICAgICAgaWYgKG5hbWVIZWFkaW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmFtZUhlYWRpbmcgIT09IG5hbWUpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pO1xuXG4gICAgaWYgKHBhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChwYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vcGVuVmlld0luTmV3VGFiSWZOb3RPcGVuZWQoYCR7cGF0aH0vJHtwYWdlc1swXS5maWxlLm5hbWV9Lm1kYCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBsb2FkQWN0aW9uTmFtZWQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMubG9hZFJlc291cmNlTmFtZWQobmFtZSwgUGF0aHMuQWN0aW9ucyk7XG4gIH1cblxuICBsb2FkTm90ZU5hbWVkKG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmxvYWRSZXNvdXJjZU5hbWVkKG5hbWUsIFBhdGhzLk5vdGVzKTtcbiAgfVxuXG4gIG9udW5sb2FkKCkge1xuICAgIGNvbnNvbGUubG9nKFwiZ29uZXh0IC0gb251bmxvYWQoKVwiKTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgZGVsZXRlIHdpbmRvdy5nb25leHQ7XG4gIH1cblxuICBhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG4gICAgdGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oXG4gICAgICB7fSxcbiAgICAgIERFRkFVTFRfU0VUVElOR1MsXG4gICAgICBhd2FpdCB0aGlzLmxvYWREYXRhKCksXG4gICAgKTtcbiAgfVxuXG4gIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcbiAgICBhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuICB9XG5cbiAgYWN0aW9uKCkge1xuICAgIGNvbnN0IGR0ID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBub3RlID0ge1xuICAgICAgdXVpZDogdXVpZHY0KCksXG4gICAgICBjcmVhdGVkX2F0OiBkdC50b0lTT1N0cmluZygpLFxuICAgICAgcGF0aDogXCJcIixcbiAgICAgIGRhdGE6IFwiXCIsXG4gICAgfTtcblxuICAgIG5vdGUucGF0aCA9IGAke1BhdGhzLkFjdGlvbnN9LyR7bm90ZS51dWlkfS5tZGA7XG4gICAgbm90ZS5kYXRhID0gYC0tLVxcbnV1aWQ6IFwiJHtub3RlLnV1aWR9XCJcXG5jcmVhdGVkX2F0OiBcIiR7bm90ZS5jcmVhdGVkX2F0fVwiXFxuLS0tXFxuIyBcXG4jIyBjb250ZW50XFxuYDtcblxuICAgIGNvbnN0IGYgPSB0aGlzLmFwcC52YXVsdC5jcmVhdGUobm90ZS5wYXRoLCBub3RlLmRhdGEpLnRoZW4oKGYpID0+IHtcbiAgICAgIHJldHVybiBmO1xuICAgIH0pO1xuICAgIGNvbnN0IGFjdGl2ZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCk7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IHJvb3QgPSBhY3RpdmUucGFyZW50O1xuICAgIHRoaXMuYXBwLndvcmtzcGFjZS5jcmVhdGVMZWFmSW5QYXJlbnQocm9vdCwgcm9vdC5jaGlsZHJlbi5sZW5ndGggKyAxKTtcbiAgICBjb25zdCBsZWFmID0gcm9vdC5jaGlsZHJlbltyb290LmNoaWxkcmVuLmxlbmd0aCAtIDFdO1xuICAgIGYudGhlbigoZmlsZSkgPT4ge1xuICAgICAgbGVhZi5vcGVuRmlsZShmaWxlLCB7IGFjdGl2ZTogdHJ1ZSB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHZlcmJhdGltKG5hbWU/OiBzdHJpbmcpIHtcbiAgICBjb25zdCBkdCA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3Qgbm90ZSA9IHtcbiAgICAgIHV1aWQ6IHV1aWR2NCgpLFxuICAgICAgY3JlYXRlZF9hdDogZHQudG9JU09TdHJpbmcoKSxcbiAgICAgIHBhdGg6IFwiXCIsXG4gICAgICBkYXRhOiBcIlwiLFxuICAgIH07XG5cbiAgICBub3RlLnBhdGggPSBgJHtQYXRocy5WZXJiYXRpbX0vJHtub3RlLnV1aWR9Lm1kYDtcbiAgICBub3RlLmRhdGEgPSBgLS0tXFxudXVpZDogXCIke25vdGUudXVpZH1cIlxcbmNyZWF0ZWRfYXQ6IFwiJHtub3RlLmNyZWF0ZWRfYXR9XCJcXG4tLS1cXG4jICR7bmFtZX1cXG4jIyBDb250ZW50XFxuYDtcblxuICAgIGlmIChuYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG5vdGUuZGF0YSA9IGAtLS1cXG51dWlkOiBcIiR7bm90ZS51dWlkfVwiXFxuY3JlYXRlZF9hdDogXCIke25vdGUuY3JlYXRlZF9hdH1cIlxcbi0tLVxcbiMgXFxuIyMgQ29udGVudFxcbmA7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vdGUuZGF0YSA9IGAtLS1cXG51dWlkOiBcIiR7bm90ZS51dWlkfVwiXFxuY3JlYXRlZF9hdDogXCIke25vdGUuY3JlYXRlZF9hdH1cIlxcbi0tLVxcbiMgJHtuYW1lfVxcbiMjIENvbnRlbnRcXG5gO1xuICAgIH1cblxuICAgIGNvbnN0IGYgPSB0aGlzLmFwcC52YXVsdC5jcmVhdGUobm90ZS5wYXRoLCBub3RlLmRhdGEpLnRoZW4oKGYpID0+IHtcbiAgICAgIHJldHVybiBmO1xuICAgIH0pO1xuICAgIGNvbnN0IGFjdGl2ZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVMZWFmO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBjb25zdCByb290ID0gYWN0aXZlLnBhcmVudDtcbiAgICB0aGlzLmFwcC53b3Jrc3BhY2UuY3JlYXRlTGVhZkluUGFyZW50KHJvb3QsIHJvb3QuY2hpbGRyZW4ubGVuZ3RoICsgMSk7XG4gICAgY29uc3QgbGVhZiA9IHJvb3QuY2hpbGRyZW5bcm9vdC5jaGlsZHJlbi5sZW5ndGggLSAxXTtcbiAgICBmLnRoZW4oKGZpbGUpID0+IHtcbiAgICAgIGxlYWYub3BlbkZpbGUoZmlsZSwgeyBhY3RpdmU6IHRydWUgfSk7XG4gICAgfSk7XG4gIH1cblxuICBub3RlKG5hbWU/OiBzdHJpbmcpIHtcbiAgICBjb25zdCBkdCA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3Qgbm90ZSA9IHtcbiAgICAgIHV1aWQ6IHV1aWR2NCgpLFxuICAgICAgY3JlYXRlZF9hdDogZHQudG9JU09TdHJpbmcoKSxcbiAgICAgIHBhdGg6IFwiXCIsXG4gICAgICBkYXRhOiBcIlwiLFxuICAgIH07XG5cbiAgICBub3RlLnBhdGggPSBgJHtQYXRocy5Ob3Rlc30vJHtub3RlLnV1aWR9Lm1kYDtcbiAgICBpZiAobmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBub3RlLmRhdGEgPSBgLS0tXFxudXVpZDogXCIke25vdGUudXVpZH1cIlxcbmNyZWF0ZWRfYXQ6IFwiJHtub3RlLmNyZWF0ZWRfYXR9XCJcXG4tLS1cXG4jIFxcbiMjIENvbnRlbnRcXG5gO1xuICAgIH0gZWxzZSB7XG4gICAgICBub3RlLmRhdGEgPSBgLS0tXFxudXVpZDogXCIke25vdGUudXVpZH1cIlxcbmNyZWF0ZWRfYXQ6IFwiJHtub3RlLmNyZWF0ZWRfYXR9XCJcXG4tLS1cXG4jICR7bmFtZX1cXG4jIyBDb250ZW50XFxuYDtcbiAgICB9XG5cbiAgICBjb25zdCBmID0gdGhpcy5hcHAudmF1bHQuY3JlYXRlKG5vdGUucGF0aCwgbm90ZS5kYXRhKS50aGVuKChmKSA9PiB7XG4gICAgICByZXR1cm4gZjtcbiAgICB9KTtcbiAgICBjb25zdCBhY3RpdmUgPSB0aGlzLmFwcC53b3Jrc3BhY2UuYWN0aXZlTGVhZjtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgY29uc3Qgcm9vdCA9IGFjdGl2ZS5wYXJlbnQ7XG4gICAgdGhpcy5hcHAud29ya3NwYWNlLmNyZWF0ZUxlYWZJblBhcmVudChyb290LCByb290LmNoaWxkcmVuLmxlbmd0aCArIDEpO1xuICAgIGNvbnN0IGxlYWYgPSByb290LmNoaWxkcmVuW3Jvb3QuY2hpbGRyZW4ubGVuZ3RoIC0gMV07XG4gICAgZi50aGVuKChmaWxlKSA9PiB7XG4gICAgICBsZWFmLm9wZW5GaWxlKGZpbGUsIHsgYWN0aXZlOiB0cnVlIH0pO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBIZWxwZXIgPSB7XG4gIG5pbENoZWNrKHZhbDogYW55KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHZhbCA9PT0gdW5kZWZpbmVkIHx8IHZhbCA9PT0gbnVsbDtcbiAgfSxcblxuICByb3VuZFRvT25lRGVjaW1hbCh2YWw6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQodmFsICogMTApIC8gMTA7XG4gIH0sXG5cbiAgZHVyYXRpb25TdHJpbmdUb1NlYyh2YWwpIHtcbiAgICBpZiAodmFsID09PSB1bmRlZmluZWQgfHwgdmFsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGNvbnN0IG11bHQgPSB2YWwuc2xpY2UoLTEpO1xuICAgIGxldCBtID0gMDtcbiAgICBpZiAobXVsdCA9PT0gXCJoXCIpIHtcbiAgICAgIG0gPSA2MCAqIDYwO1xuICAgIH0gZWxzZSBpZiAobXVsdCA9PT0gXCJtXCIpIHtcbiAgICAgIG0gPSA2MDtcbiAgICB9IGVsc2UgaWYgKG11bHQgPT09IFwiZFwiKSB7XG4gICAgICBtID0gMjQgKiA2MCAqIDYwO1xuICAgIH0gZWxzZSBpZiAobXVsdCA9PSBcIndcIikge1xuICAgICAgbSA9IDI0ICogNjAgKiA2MCAqIDc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybihgVW5oYW5kbGVkIGNhc2UgdmFsOiAke3ZhbH1gKTtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG0gKiBwYXJzZUludCh2YWwuc2xpY2UoMCwgLTEpKTtcbiAgfSxcblxuICBtc2VjVG9TdHJpbmdEdXJhdGlvbih2YWw6IG51bWJlcikge1xuICAgIGNvbnN0IG9uZUhvdXJJbk1zZWMgPSAzNjAwMDAwOyAvLyAxIGhvdXIgaW4gbXNlY1xuICAgIGNvbnN0IG9uZURheUluTXNlYyA9IDg2NDAwMDAwOyAvLyAxIGRheSBpbiBtc2VjXG4gICAgaWYgKHZhbCA+PSAyNCAqIG9uZUhvdXJJbk1zZWMpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIFN0cmluZyhIZWxwZXIucm91bmRUb09uZURlY2ltYWwodmFsIC8gb25lRGF5SW5Nc2VjKSkucGFkU3RhcnQoXG4gICAgICAgICAgMixcbiAgICAgICAgICBcIjBcIixcbiAgICAgICAgKSArIFwiIGRcIlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgU3RyaW5nKEhlbHBlci5yb3VuZFRvT25lRGVjaW1hbCh2YWwgLyBvbmVIb3VySW5Nc2VjKSkucGFkU3RhcnQoXG4gICAgICAgICAgMixcbiAgICAgICAgICBcIjBcIixcbiAgICAgICAgKSArIFwiIGhcIlxuICAgICAgKTtcbiAgICB9XG4gIH0sXG5cbiAgaXNVVUlEKHZhbDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgaWYgKHR5cGVvZiB2YWwgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbC5sZW5ndGggPT09IDM2O1xuICB9LFxufTtcblxuY2xhc3MgVmFsaWRhdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7IC8vICgxKVxuICAgIHRoaXMubmFtZSA9IFwiVmFsaWRhdGlvbkVycm9yXCI7IC8vICgyKVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBBc3NlcnQgPSB7XG4gIFRydWUocHJlZGljYXRlOiBib29sZWFuLCBtZXNzYWdlOiBzdHJpbmcsIHN0cmljdCA9IHRydWUpIHtcbiAgICBpZiAoIXByZWRpY2F0ZSkge1xuICAgICAgaWYgKHN0cmljdCkge1xuICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKG1lc3NhZ2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIEZhbHNlKHByZWRpY2F0ZTogYm9vbGVhbiwgbWVzc2FnZTogc3RyaW5nLCBzdHJpY3QgPSBmYWxzZSkge1xuICAgIGlmIChwcmVkaWNhdGUpIHtcbiAgICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihtZXNzYWdlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgICB9XG4gICAgfVxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IFBhdGhzID0ge1xuICBBY3Rpb25zOiBcIkFjdGlvbnNcIixcbiAgTm90ZXM6IFwiTm90ZXNcIixcbiAgVmVyYmF0aW06IFwiVmVyYmF0aW1cIixcbiAgQXNzZXRzOiBcIkFzc2V0c1wiLFxuICBUYXNrczogXCJBY3Rpb25zXCIsXG59O1xuIiwgImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcblxuLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG52YXIgYnl0ZVRvSGV4ID0gW107XG5mb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleC5wdXNoKChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zbGljZSgxKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gdW5zYWZlU3RyaW5naWZ5KGFyciwgb2Zmc2V0ID0gMCkge1xuICAvLyBOb3RlOiBCZSBjYXJlZnVsIGVkaXRpbmcgdGhpcyBjb2RlISAgSXQncyBiZWVuIHR1bmVkIGZvciBwZXJmb3JtYW5jZVxuICAvLyBhbmQgd29ya3MgaW4gd2F5cyB5b3UgbWF5IG5vdCBleHBlY3QuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQvcHVsbC80MzRcbiAgLy9cbiAgLy8gTm90ZSB0byBmdXR1cmUtc2VsZjogTm8sIHlvdSBjYW4ndCByZW1vdmUgdGhlIGB0b0xvd2VyQ2FzZSgpYCBjYWxsLlxuICAvLyBSRUY6IGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZC9wdWxsLzY3NyNpc3N1ZWNvbW1lbnQtMTc1NzM1MTM1MVxuICByZXR1cm4gKGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgM11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDVdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA3XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDhdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxM11dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNV1dKS50b0xvd2VyQ2FzZSgpO1xufVxuZnVuY3Rpb24gc3RyaW5naWZ5KGFyciwgb2Zmc2V0ID0gMCkge1xuICB2YXIgdXVpZCA9IHVuc2FmZVN0cmluZ2lmeShhcnIsIG9mZnNldCk7XG4gIC8vIENvbnNpc3RlbmN5IGNoZWNrIGZvciB2YWxpZCBVVUlELiAgSWYgdGhpcyB0aHJvd3MsIGl0J3MgbGlrZWx5IGR1ZSB0byBvbmVcbiAgLy8gb2YgdGhlIGZvbGxvd2luZzpcbiAgLy8gLSBPbmUgb3IgbW9yZSBpbnB1dCBhcnJheSB2YWx1ZXMgZG9uJ3QgbWFwIHRvIGEgaGV4IG9jdGV0IChsZWFkaW5nIHRvXG4gIC8vIFwidW5kZWZpbmVkXCIgaW4gdGhlIHV1aWQpXG4gIC8vIC0gSW52YWxpZCBpbnB1dCB2YWx1ZXMgZm9yIHRoZSBSRkMgYHZlcnNpb25gIG9yIGB2YXJpYW50YCBmaWVsZHNcbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignU3RyaW5naWZpZWQgVVVJRCBpcyBpbnZhbGlkJyk7XG4gIH1cbiAgcmV0dXJuIHV1aWQ7XG59XG5leHBvcnQgZGVmYXVsdCBzdHJpbmdpZnk7IiwgIi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuIEluIHRoZSBicm93c2VyIHdlIHRoZXJlZm9yZVxuLy8gcmVxdWlyZSB0aGUgY3J5cHRvIEFQSSBhbmQgZG8gbm90IHN1cHBvcnQgYnVpbHQtaW4gZmFsbGJhY2sgdG8gbG93ZXIgcXVhbGl0eSByYW5kb20gbnVtYmVyXG4vLyBnZW5lcmF0b3JzIChsaWtlIE1hdGgucmFuZG9tKCkpLlxuXG52YXIgZ2V0UmFuZG9tVmFsdWVzO1xudmFyIHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcm5nKCkge1xuICAvLyBsYXp5IGxvYWQgc28gdGhhdCBlbnZpcm9ubWVudHMgdGhhdCBuZWVkIHRvIHBvbHlmaWxsIGhhdmUgYSBjaGFuY2UgdG8gZG8gc29cbiAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAvLyBnZXRSYW5kb21WYWx1ZXMgbmVlZHMgdG8gYmUgaW52b2tlZCBpbiBhIGNvbnRleHQgd2hlcmUgXCJ0aGlzXCIgaXMgYSBDcnlwdG8gaW1wbGVtZW50YXRpb24uXG4gICAgZ2V0UmFuZG9tVmFsdWVzID0gdHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKTtcbiAgICBpZiAoIWdldFJhbmRvbVZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKCkgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCNnZXRyYW5kb212YWx1ZXMtbm90LXN1cHBvcnRlZCcpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KTtcbn0iLCAidmFyIHJhbmRvbVVVSUQgPSB0eXBlb2YgY3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiBjcnlwdG8ucmFuZG9tVVVJRCAmJiBjcnlwdG8ucmFuZG9tVVVJRC5iaW5kKGNyeXB0byk7XG5leHBvcnQgZGVmYXVsdCB7XG4gIHJhbmRvbVVVSURcbn07IiwgImltcG9ydCBuYXRpdmUgZnJvbSAnLi9uYXRpdmUuanMnO1xuaW1wb3J0IHJuZyBmcm9tICcuL3JuZy5qcyc7XG5pbXBvcnQgeyB1bnNhZmVTdHJpbmdpZnkgfSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5mdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICBpZiAobmF0aXZlLnJhbmRvbVVVSUQgJiYgIWJ1ZiAmJiAhb3B0aW9ucykge1xuICAgIHJldHVybiBuYXRpdmUucmFuZG9tVVVJRCgpO1xuICB9XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7XG5cbiAgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuICBybmRzWzZdID0gcm5kc1s2XSAmIDB4MGYgfCAweDQwO1xuICBybmRzWzhdID0gcm5kc1s4XSAmIDB4M2YgfCAweDgwO1xuXG4gIC8vIENvcHkgYnl0ZXMgdG8gYnVmZmVyLCBpZiBwcm92aWRlZFxuICBpZiAoYnVmKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgICBidWZbb2Zmc2V0ICsgaV0gPSBybmRzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gYnVmO1xuICB9XG4gIHJldHVybiB1bnNhZmVTdHJpbmdpZnkocm5kcyk7XG59XG5leHBvcnQgZGVmYXVsdCB2NDsiXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0Esc0JBVU87OztBQ0xQLElBQUksWUFBWSxDQUFDO0FBQ2pCLEtBQVMsSUFBSSxHQUFHLElBQUksS0FBSyxFQUFFLEdBQUc7QUFDNUIsWUFBVSxNQUFNLElBQUksS0FBTyxTQUFTLEVBQUUsRUFBRSxNQUFN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
