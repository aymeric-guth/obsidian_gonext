/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  Assert: () => Assert,
  Helper: () => Helper,
  Paths: () => Paths,
  default: () => MyPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");

// node_modules/uuid/dist/esm-browser/stringify.js
var byteToHex = [];
for (i = 0; i < 256; ++i) {
  byteToHex.push((i + 256).toString(16).slice(1));
}
var i;
function unsafeStringify(arr, offset = 0) {
  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + "-" + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + "-" + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + "-" + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + "-" + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();
}

// node_modules/uuid/dist/esm-browser/rng.js
var getRandomValues;
var rnds8 = new Uint8Array(16);
function rng() {
  if (!getRandomValues) {
    getRandomValues = typeof crypto !== "undefined" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);
    if (!getRandomValues) {
      throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");
    }
  }
  return getRandomValues(rnds8);
}

// node_modules/uuid/dist/esm-browser/native.js
var randomUUID = typeof crypto !== "undefined" && crypto.randomUUID && crypto.randomUUID.bind(crypto);
var native_default = {
  randomUUID
};

// node_modules/uuid/dist/esm-browser/v4.js
function v4(options, buf, offset) {
  if (native_default.randomUUID && !buf && !options) {
    return native_default.randomUUID();
  }
  options = options || {};
  var rnds = options.random || (options.rng || rng)();
  rnds[6] = rnds[6] & 15 | 64;
  rnds[8] = rnds[8] & 63 | 128;
  if (buf) {
    offset = offset || 0;
    for (var i = 0; i < 16; ++i) {
      buf[offset + i] = rnds[i];
    }
    return buf;
  }
  return unsafeStringify(rnds);
}
var v4_default = v4;

// main.ts
var dayShort = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
var monthShort = [
  "Jan",
  "Feb",
  "Mar",
  "Apr",
  "May",
  "Jun",
  "Jul",
  "Aug",
  "Sep",
  "Oct",
  "Nov",
  "Dec"
];
var DEFAULT_SETTINGS = {
  mySetting: "default"
};
var MyPlugin = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.vaultContent = [];
    this.vaultContentDict = {};
  }
  openViewInNewTabIfNotOpened(name) {
    const f = this.app.vault.getAbstractFileByPath(name);
    if (f === void 0 || f === null) {
      console.warn(`file not found ${name}`);
      return;
    }
    const active = this.app.workspace.getLeaf();
    const root = active.parent;
    let found = false;
    let node = void 0;
    const emptyTabs = [];
    for (const leaf of root.children) {
      const file = this.getFileFromLeaf(leaf);
      if (file === void 0 || file === null) {
        emptyTabs.push(leaf);
        continue;
      }
      if (file.name === f.name) {
        found = true;
        node = leaf;
      }
    }
    if (!found) {
      if (emptyTabs.length > 0) {
        node = emptyTabs[0];
      } else {
        this.app.workspace.createLeafInParent(
          root,
          root.children.length + 1
        );
        node = root.children[root.children.length - 1];
      }
    }
    node.openFile(f, { active: true });
  }
  getFileFromLeaf(leaf) {
    let file = void 0;
    try {
      file = leaf.view.file;
    } catch (e) {
      return void 0;
    }
    return this.app.vault.getAbstractFileByPath(file);
  }
  extractUUIDFromLink(link) {
    Assert.True(
      link.length >= 36,
      `extractUUIDFromLink: Invalid parameter type: link: "${link}"`
    );
    Assert.True(
      Helper.isUUID(link.slice(0, 36)),
      `extractUUIDFromLink: Invalid parameter type: link: "${link}"`
    );
    if (link.length === 36) {
      return link;
    } else {
      return link.slice(0, 36);
    }
  }
  grugAlias(_id) {
    const cache = this.getFileCacheFromUUID(_id);
    if (cache === void 0) {
      console.error(`grugAlias: file not found in grug cache ${_id}`);
      return "";
    }
    let targetName = void 0;
    if (cache.headings.length > 0 && cache.headings[0].level === 1) {
      targetName = cache.headings[0].heading;
    } else {
      targetName = _id;
    }
    const file = this.getFileFromUUID(_id);
    if (file === void 0) {
      console.error(`grugAlias: Cannot grug this id: ${_id}`);
      return "";
    }
    const path = `${file.path.split("/").slice(0, -1)}/${_id}`;
    return `[[${path}|${targetName}]]`;
  }
  getFileFromUUID(_id) {
    return this.vaultContentDict[_id];
  }
  getFileCacheFromUUID(_id) {
    const f = this.vaultContentDict[_id];
    if (f === void 0) {
      return void 0;
    }
    return this.app.metadataCache.getFileCache(f);
  }
  async onload() {
    var _a, _b;
    console.log("gonext - onload()");
    await this.loadSettings();
    this.dv = this.app.plugins.plugins.dataview.api;
    this.files = {};
    this.api = {};
    window.gonext = {
      // @ts-ignore
      state: (_b = (_a = window.gonext) == null ? void 0 : _a.state) != null ? _b : {},
      // @ts-ignore
      app: this.app
    };
    (0, import_obsidian.addIcon)(
      "GoNextIcon",
      `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path fill="currentColor" d="M20 12V2h2v10zm4 0V2h2v10zm4 0V2h2v10zm-12 8a3.912 3.912 0 0 1-4-4a3.912 3.912 0 0 1 4-4v-2a6 6 0 1 0 6 6h-2a3.912 3.912 0 0 1-4 4"></path><path fill="currentColor" d="M28.893 18.454L26.098 16l-1.318 1.504l2.792 2.452l-2.36 4.088l-3.427-1.16a9.032 9.032 0 0 1-2.714 1.565L18.36 28h-4.72l-.71-3.55a9.095 9.095 0 0 1-2.695-1.572l-3.447 1.166l-2.36-4.088l2.725-2.395a8.926 8.926 0 0 1-.007-3.128l-2.718-2.39l2.36-4.087l3.427 1.16A9.03 9.03 0 0 1 12.93 7.55L13.64 4H16V2h-2.36a2 2 0 0 0-1.961 1.608l-.504 2.519a10.967 10.967 0 0 0-1.327.753l-2.42-.819a1.998 1.998 0 0 0-2.372.895l-2.36 4.088a2 2 0 0 0 .411 2.502l1.931 1.697C5.021 15.495 5 15.745 5 16c0 .258.01.513.028.766l-1.92 1.688a2 2 0 0 0-.413 2.502l2.36 4.088a1.998 1.998 0 0 0 2.374.895l2.434-.824a10.974 10.974 0 0 0 1.312.759l.503 2.518A2 2 0 0 0 13.64 30h4.72a2 2 0 0 0 1.961-1.608l.504-2.519a10.967 10.967 0 0 0 1.327-.753l2.419.818a1.998 1.998 0 0 0 2.373-.894l2.36-4.088a2 2 0 0 0-.411-2.502"></path></svg>`
    );
    this.addCommand({
      id: "open-assets",
      name: "Open Assets",
      // @ts-ignore
      callback: async () => {
        const leaf = this.app.workspace.getLeaf();
        const file = this.getFileFromLeaf(leaf);
        const adapter = this.app.vault.adapter;
        const vaultDir = adapter.basePath;
        const uuid = file.basename;
        const parent = file.parent.name;
        const cache = this.getFileCacheFromUUID(uuid);
        const name = this.getResourceName(cache);
        if (parent === "Verbatim") {
          if (!await adapter.exists(`${Paths.Assets}/${uuid}/`)) {
            await this.app.vault.adapter.mkdir(`${Paths.Assets}/${uuid}/`);
          }
          const assetPath = `${vaultDir}/${Paths.Assets}/${uuid}/`;
          const { shell } = require("electron");
          shell.showItemInFolder(assetPath);
          return;
        } else if (parent !== Paths.Actions && parent !== Paths.Notes) {
          new import_obsidian.Notice(`Unsuported type: ${parent}`);
          return;
        }
        let loaded = false;
        if (parent === Paths.Actions) {
          loaded = this.loadNoteNamed(name);
        } else {
          loaded = this.loadActionNamed(name);
        }
        if (!loaded) {
          new import_obsidian.Notice(`Log entry not found: ${name}`);
        }
      }
    });
    this.addCommand({
      id: "open-index",
      name: "Open Index",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Notes/eec0a297-982c-471c-9748-4943ec45fe94.md");
      }
    });
    this.addCommand({
      id: "open-inbox",
      name: "Open Inbox",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Notes/8c7aad2a-b67f-44b7-86fd-27a50410be65.md");
      }
    });
    this.addCommand({
      id: "open-planning",
      name: "Open Planning",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Notes/d371e0f9-1a7f-4cd0-8fa4-260c176da4a4.md");
      }
    });
    this.addCommand({
      id: "open-next_actions",
      name: "Open Next Actions",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Notes/ab7aec92-2273-40bc-9632-da70937b5575.md");
      }
    });
    this.addCommand({
      id: "open-someday_maybe",
      name: "Open Someday Maybe",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Notes/e7b605b9-4d3a-4c17-bf4e-e7f1a51f7a30.md");
      }
    });
    this.addCommand({
      id: "open-waiting_for",
      name: "Open Waiting For",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Notes/7a13d7ac-732b-4cec-91f0-1498c824b82e.md");
      }
    });
    this.addCommand({
      id: "open-todays-log",
      name: "Open Today's Logs",
      // @ts-ignore
      callback: () => {
        const now = new Date();
        const nowIso = now.toISOString().slice(0, 10);
        if (!this.loadNoteNamed(nowIso)) {
          this.note(nowIso);
        }
      }
    });
    this.addCommand({
      id: "list-orphaned",
      name: "List Orphaned",
      // @ts-ignore
      callback: async () => {
        const files = this.app.vault.getFiles();
        const links = {};
        const r = [];
        let i = 0;
        let failed = 0;
        for (const f of files) {
          links[f.path] = 0;
        }
        const mdc = this.app.metadataCache;
        for (const f of files) {
          i++;
          const cache = this.app.metadataCache.getFileCache(f);
          if (cache.links === void 0) {
            continue;
          }
          for (const l of cache.links) {
            const link = await this.app.metadataCache.linkResolver(l.link);
            if (link === void 0) {
              failed++;
            }
          }
        }
        console.log(failed);
        for (const l of r) {
          ;
        }
      }
    });
    this.addCommand({
      id: "check-duplicates",
      name: "Check for Duplicates",
      // @ts-ignore
      callback: () => {
        const res = {};
        let i = 0;
        const pages = this.dv.pages(`"${Paths.Notes}"`);
        for (const page of pages) {
          const uuid = page.file.name;
          const cache = this.getFileCacheFromUUID(uuid);
          const nameHeading = this.getResourceName(cache);
          if (nameHeading === void 0 || nameHeading === "") {
            continue;
          }
          if (nameHeading.length !== 10 || nameHeading[0] !== "2") {
            continue;
          }
          if (res[nameHeading] === void 0 || res[nameHeading] === null) {
            res[nameHeading] = [uuid];
          } else {
            res[nameHeading].push(uuid);
          }
        }
        const keys = Object.keys(res);
        keys.sort();
        for (const key of keys) {
          if (res[key].length > 1) {
            console.log(key);
            for (const page of res[key]) {
              console.log(`	${page}`);
            }
          }
        }
      }
    });
    this.addCommand({
      id: "open-yesterdays-logs",
      name: "Open Yesterday's Logs",
      // @ts-ignore
      callback: () => {
        const now = new Date();
        now.setDate(now.getDate() - 1);
        const nowIso = now.toISOString().slice(0, 10);
        this.loadNoteNamed(nowIso);
      }
    });
    this.addCommand({
      id: "open-todays-daily",
      name: "Open Today's Daily",
      // @ts-ignore
      callback: () => {
        const now = new Date();
        const nowIso = now.toISOString().slice(0, 10);
        this.loadActionNamed(nowIso);
      }
    });
    this.addCommand({
      id: "open-tomorrows-daily",
      name: "Open Tomorrow's Daily",
      // @ts-ignore
      callback: () => {
        const now = new Date();
        now.setDate(now.getDate() + 1);
        const nowIso = now.toISOString().slice(0, 10);
        this.loadActionNamed(nowIso);
      }
    });
    this.addCommand({
      id: "open-yesterdays-daily",
      name: "Open Yesterday's Daily",
      // @ts-ignore
      callback: () => {
        const now = new Date();
        now.setDate(now.getDate() - 1);
        const nowIso = now.toISOString().slice(0, 10);
        this.loadActionNamed(nowIso);
      }
    });
    this.addCommand({
      id: "generate-note",
      name: "Generate Note",
      // @ts-ignore
      callback: () => {
        this.note();
      }
    });
    this.addCommand({
      id: "generate-verbatim",
      name: "Generate Verbatim",
      // @ts-ignore
      callback: () => {
        this.verbatim();
      }
    });
    this.addCommand({
      id: "generate-action",
      name: "Generate Action",
      // @ts-ignore
      callback: () => {
        this.action();
      }
    });
    this.addCommand({
      id: "clippy-the-clipper",
      name: "Clippy Clip",
      // @ts-ignore
      callback: () => {
        navigator.clipboard.readText().then((text) => {
          let _id = void 0;
          try {
            _id = this.extractUUIDFromLink(text);
          } catch (e) {
            return;
          }
          const file = this.getFileFromUUID(_id);
          Assert.True(
            file !== void 0,
            `getFileFromUUID: returned undefined for uuid: ${_id}`
          );
          const alias = this.grugAlias(_id);
          const activeLeaf = this.app.workspace.getLeaf();
          if (activeLeaf) {
            const editor = activeLeaf.view.sourceMode.cmEditor;
            const cursor = editor.getCursor();
            editor.replaceRange(alias, cursor);
          }
        });
      }
    });
    this.addCommand({
      id: "copy-uuid",
      name: "Copy UUID",
      // @ts-ignore
      callback: async () => {
        const leaf = this.app.workspace.getLeaf();
        const file = this.getFileFromLeaf(leaf);
        const uuid = file.basename;
        if (["Verbatim", "Notes", "Actions"].contains(file.parent.name)) {
          await navigator.clipboard.writeText(uuid);
        }
      }
    });
    this.addCommand({
      id: "safe-delete",
      name: "Safe Delete",
      // @ts-ignore
      callback: () => {
        const file = this.app.workspace.getActiveFile();
        if (file === void 0) {
          return;
        }
        this.app.vault.delete(file);
      }
    });
    this.addCommand({
      id: "append-to-inbox",
      name: "Append to Inbox",
      // @ts-ignore
      callback: () => {
        const f = this.app.vault.getAbstractFileByPath("INBOX.md");
        if (f === void 0 || f === null) {
          console.warn(`file not found INBOX.md`);
          return;
        }
        const active = this.app.workspace.getLeaf();
        const root = active.parent;
        let found = false;
        let node = void 0;
        const emptyTabs = [];
        for (const leaf of root.children) {
          const file = this.getFileFromLeaf(leaf);
          if (file === void 0 || file === null) {
            emptyTabs.push(leaf);
            continue;
          }
          if (file.name === f.name) {
            found = true;
            node = leaf;
          }
        }
        if (!found) {
          if (emptyTabs.length > 0) {
            node = emptyTabs[0];
          } else {
            this.app.workspace.createLeafInParent(
              root,
              root.children.length + 1
            );
            node = root.children[root.children.length - 1];
          }
        }
        const editorAction = (node2) => {
          const editor = node2.view.sourceMode.cmEditor;
          editor.insertText("\n\n---\n\n", editor.lastLine());
          editor.setCursor(editor.lastLine(), 0);
        };
        if (this.app.workspace.getActiveFile() === null || this.app.workspace.getActiveFile().name !== "INBOX.md") {
          node.openFile(f, {
            active: true
          }).then((_) => editorAction(node));
        } else {
          editorAction(node);
        }
      }
    });
    this.app.workspace.onLayoutReady(() => {
      console.log("workspace - layout-ready");
      for (const f of this.app.vault.getFiles()) {
        const uuid = f.basename;
        if (!Helper.isUUID(uuid)) {
          continue;
        }
        this.vaultContentDict[uuid] = f;
      }
    });
    this.app.metadataCache.on(
      "changed",
      (file, data, cache) => {
        const uuid = file.basename;
        if (Helper.isUUID(uuid)) {
          this.vaultContentDict[uuid] = file;
        }
      }
    );
    this.app.workspace.on("active-leaf-change", () => {
      return this.sneakyTabRenamer(this.app);
    });
    this.app.workspace.on("quick-preview", () => {
      return this.sneakyTabRenamer(this.app);
    });
    this.app.workspace.on("resize", () => {
      return this.sneakyTabRenamer(this.app);
    });
  }
  sneakyTabRenamer(app) {
    const root = this.app.workspace.getLeaf().parent;
    for (const leaf of root.children) {
      const file = leaf.view.file;
      if (file === void 0) {
        continue;
      }
      const uuid = file.basename;
      const cache = this.app.metadataCache.getFileCache(file);
      let text = "";
      if (file.parent.name === "Actions") {
        const dt = new Date(this.getResourceName(cache));
        text = `(A) ${dayShort[dt.getDay()]}. ${dt.getDate()} ${monthShort[dt.getMonth()]}`;
      } else if (file.parent.name === "Notes") {
        if (cache.headings.length > 0 && cache.headings[0].level === 1) {
          text = `(N) ${cache.headings[0].heading}`;
        } else {
          text = `(N) ${uuid}`;
        }
      } else if (file.parent.name === "Verbatim") {
        if (cache.headings.length > 0 && cache.headings[0].level === 1) {
          text = `(V) ${cache.headings[0].heading}`;
        } else {
          text = `(V) ${uuid}`;
        }
      } else {
        console.warn(`type undefined for file: ${file.path}`);
        return;
      }
      leaf.tabHeaderInnerTitleEl.innerText = text;
      leaf.tabHeaderInnerTitleEl.innerHTML = text;
    }
  }
  getResourceName(cache) {
    if (cache.headings.length > 0 && cache.headings[0].level === 1) {
      return cache.headings[0].heading;
    } else {
      return cache.frontmatter.uuid;
    }
  }
  loadResourceNamed(name, path) {
    const pages = this.dv.pages(`"${path}"`).where((page) => {
      const uuid = page.file.name;
      const cache = this.getFileCacheFromUUID(uuid);
      const nameHeading = this.getResourceName(cache);
      if (nameHeading === void 0) {
        return false;
      }
      if (nameHeading !== name) {
        return false;
      }
      return true;
    });
    if (pages.length === 0) {
      return;
    }
    if (pages.length === 0) {
      return false;
    } else {
      this.openViewInNewTabIfNotOpened(`${path}/${pages[0].file.name}.md`);
      return true;
    }
  }
  loadActionNamed(name) {
    return this.loadResourceNamed(name, Paths.Actions);
  }
  loadNoteNamed(name) {
    return this.loadResourceNamed(name, Paths.Notes);
  }
  onunload() {
    console.log("gonext - onunload()");
    delete window.gonext;
  }
  async loadSettings() {
    this.settings = Object.assign(
      {},
      DEFAULT_SETTINGS,
      await this.loadData()
    );
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  action() {
    const dt = new Date();
    const note = {
      uuid: v4_default(),
      created_at: dt.toISOString(),
      path: "",
      data: ""
    };
    note.path = `${Paths.Actions}/${note.uuid}.md`;
    note.data = `---
uuid: "${note.uuid}"
created_at: "${note.created_at}"
---
# 
## content
`;
    const f = this.app.vault.create(note.path, note.data).then((f2) => {
      return f2;
    });
    const active = this.app.workspace.activeLeaf;
    const root = active.parent;
    this.app.workspace.createLeafInParent(root, root.children.length + 1);
    const leaf = root.children[root.children.length - 1];
    f.then((file) => {
      leaf.openFile(file, { active: true });
    });
  }
  verbatim(name) {
    const dt = new Date();
    const note = {
      uuid: v4_default(),
      created_at: dt.toISOString(),
      path: "",
      data: ""
    };
    note.path = `${Paths.Verbatim}/${note.uuid}.md`;
    note.data = `---
uuid: "${note.uuid}"
created_at: "${note.created_at}"
---
# ${name}
## Content
`;
    if (name === void 0) {
      note.data = `---
uuid: "${note.uuid}"
created_at: "${note.created_at}"
---
# 
## Content
`;
    } else {
      note.data = `---
uuid: "${note.uuid}"
created_at: "${note.created_at}"
---
# ${name}
## Content
`;
    }
    const f = this.app.vault.create(note.path, note.data).then((f2) => {
      return f2;
    });
    const active = this.app.workspace.activeLeaf;
    const root = active.parent;
    this.app.workspace.createLeafInParent(root, root.children.length + 1);
    const leaf = root.children[root.children.length - 1];
    f.then((file) => {
      leaf.openFile(file, { active: true });
    });
  }
  note(name) {
    const dt = new Date();
    const note = {
      uuid: v4_default(),
      created_at: dt.toISOString(),
      path: "",
      data: ""
    };
    note.path = `${Paths.Notes}/${note.uuid}.md`;
    if (name === void 0) {
      note.data = `---
uuid: "${note.uuid}"
created_at: "${note.created_at}"
---
# 
## Content
`;
    } else {
      note.data = `---
uuid: "${note.uuid}"
created_at: "${note.created_at}"
---
# ${name}
## Content
`;
    }
    const f = this.app.vault.create(note.path, note.data).then((f2) => {
      return f2;
    });
    const active = this.app.workspace.activeLeaf;
    const root = active.parent;
    this.app.workspace.createLeafInParent(root, root.children.length + 1);
    const leaf = root.children[root.children.length - 1];
    f.then((file) => {
      leaf.openFile(file, { active: true });
    });
  }
};
var Helper = {
  nilCheck(val) {
    return val === void 0 || val === null;
  },
  roundToOneDecimal(val) {
    return Math.round(val * 10) / 10;
  },
  durationStringToSec(val) {
    if (val === void 0 || val.length === 0) {
      return 0;
    }
    const mult = val.slice(-1);
    let m = 0;
    if (mult === "h") {
      m = 60 * 60;
    } else if (mult === "m") {
      m = 60;
    } else if (mult === "d") {
      m = 24 * 60 * 60;
    } else if (mult == "w") {
      m = 24 * 60 * 60 * 7;
    } else {
      console.warn(`Unhandled case val: ${val}`);
      return void 0;
    }
    return m * parseInt(val.slice(0, -1));
  },
  msecToStringDuration(val) {
    const oneHourInMsec = 36e5;
    const oneDayInMsec = 864e5;
    if (val >= 24 * oneHourInMsec) {
      return String(Helper.roundToOneDecimal(val / oneDayInMsec)).padStart(
        2,
        "0"
      ) + " d";
    } else {
      return String(Helper.roundToOneDecimal(val / oneHourInMsec)).padStart(
        2,
        "0"
      ) + " h";
    }
  },
  isUUID(val) {
    if (typeof val !== "string") {
      return false;
    }
    return val.length === 36;
  }
};
var ValidationError = class extends Error {
  constructor(message) {
    super(message);
    this.name = "ValidationError";
  }
};
var Assert = {
  True(predicate, message, strict = true) {
    if (!predicate) {
      if (strict) {
        throw new ValidationError(message);
      } else {
        console.error(message);
      }
    }
  },
  False(predicate, message, strict = false) {
    if (predicate) {
      if (strict) {
        throw new ValidationError(message);
      } else {
        console.error(message);
      }
    }
  }
};
var Paths = {
  Actions: "Actions",
  Notes: "Notes",
  Verbatim: "Verbatim",
  Assets: "Assets",
  Tasks: "Actions"
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3N0cmluZ2lmeS5qcyIsICJub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JuZy5qcyIsICJub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL25hdGl2ZS5qcyIsICJub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3Y0LmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvLyBAdHMtaWdub3JlXG5pbXBvcnQge1xuICBQbHVnaW4sXG4gIFdvcmtzcGFjZSxcbiAgLy8gQHRzLWlnbm9yZVxuICBIVE1MRWxlbWVudCxcbiAgYWRkSWNvbixcbiAgQ2FjaGVkTWV0YWRhdGEsXG4gIFRGaWxlLFxuICBUQWJzdHJhY3RGaWxlLFxuICBOb3RpY2UsXG59IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0LCB2MSBhcyB1dWlkdjEgfSBmcm9tIFwidXVpZFwiO1xuXG5jb25zdCBkYXlTaG9ydCA9IFtcIlN1blwiLCBcIk1vblwiLCBcIlR1ZVwiLCBcIldlZFwiLCBcIlRodVwiLCBcIkZyaVwiLCBcIlNhdFwiXTtcbmNvbnN0IG1vbnRoU2hvcnQgPSBbXG4gIFwiSmFuXCIsXG4gIFwiRmViXCIsXG4gIFwiTWFyXCIsXG4gIFwiQXByXCIsXG4gIFwiTWF5XCIsXG4gIFwiSnVuXCIsXG4gIFwiSnVsXCIsXG4gIFwiQXVnXCIsXG4gIFwiU2VwXCIsXG4gIFwiT2N0XCIsXG4gIFwiTm92XCIsXG4gIFwiRGVjXCIsXG5dO1xuXG4vLyBSZW1lbWJlciB0byByZW5hbWUgdGhlc2UgY2xhc3NlcyBhbmQgaW50ZXJmYWNlcyFcbmludGVyZmFjZSBNeVBsdWdpblNldHRpbmdzIHtcbiAgbXlTZXR0aW5nOiBzdHJpbmc7XG59XG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IE15UGx1Z2luU2V0dGluZ3MgPSB7XG4gIG15U2V0dGluZzogXCJkZWZhdWx0XCIsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNeVBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG4gIHNldHRpbmdzOiBNeVBsdWdpblNldHRpbmdzO1xuICB3b3Jrc3BhY2U6IFdvcmtzcGFjZTtcbiAgbWV0YWRhdGFDYWNoZTogYW55O1xuICBkdjogYW55O1xuICAvLyBAdHMtaWdub3JlXG4gIHJlbmRlcjogUmVuZGVyO1xuICBkZWJ1ZzogYm9vbGVhbjtcbiAgdGFza0luU3RhdHVzQmFyOiBIVE1MRWxlbWVudDtcbiAgYXBpOiBhbnk7XG4gIHZhdWx0Q29udGVudDogVEZpbGVbXSA9IFtdO1xuICB2YXVsdENvbnRlbnREaWN0OiB7IFtpZDogc3RyaW5nXTogVEZpbGUgfSA9IHt9O1xuXG4gIG9wZW5WaWV3SW5OZXdUYWJJZk5vdE9wZW5lZChuYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zdCBmID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG5hbWUpO1xuICAgIGlmIChmID09PSB1bmRlZmluZWQgfHwgZiA9PT0gbnVsbCkge1xuICAgICAgY29uc29sZS53YXJuKGBmaWxlIG5vdCBmb3VuZCAke25hbWV9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgYWN0aXZlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoKTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgY29uc3Qgcm9vdCA9IGFjdGl2ZS5wYXJlbnQ7XG4gICAgLy8gcmVjaGVyY2hlciBzaSBwYXMgZFx1MDBFOWphIG91dmVydCBkYW5zIGxlcyBvbmdsZXRzIGFjdGlmc1xuICAgIC8vIHNpbm9uIGNyXHUwMEU5ZXIgdW4gbm91dmVsIG9uZ2xldCwgb3V2cmlyIGxlIGZpY2hpZXIsIGV0IGVuIGZhaXJlIGwnb25nbGV0IGFjdGlmXG4gICAgbGV0IGZvdW5kID0gZmFsc2U7XG4gICAgbGV0IG5vZGUgPSB1bmRlZmluZWQ7XG4gICAgY29uc3QgZW1wdHlUYWJzID0gW107XG5cbiAgICBmb3IgKGNvbnN0IGxlYWYgb2Ygcm9vdC5jaGlsZHJlbikge1xuICAgICAgY29uc3QgZmlsZSA9IHRoaXMuZ2V0RmlsZUZyb21MZWFmKGxlYWYpO1xuICAgICAgaWYgKGZpbGUgPT09IHVuZGVmaW5lZCB8fCBmaWxlID09PSBudWxsKSB7XG4gICAgICAgIGVtcHR5VGFicy5wdXNoKGxlYWYpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZpbGUubmFtZSA9PT0gZi5uYW1lKSB7XG4gICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgbm9kZSA9IGxlYWY7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghZm91bmQpIHtcbiAgICAgIGlmIChlbXB0eVRhYnMubGVuZ3RoID4gMCkge1xuICAgICAgICBub2RlID0gZW1wdHlUYWJzWzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLmNyZWF0ZUxlYWZJblBhcmVudChcbiAgICAgICAgICByb290LFxuICAgICAgICAgIHJvb3QuY2hpbGRyZW4ubGVuZ3RoICsgMSxcbiAgICAgICAgKTtcbiAgICAgICAgbm9kZSA9IHJvb3QuY2hpbGRyZW5bcm9vdC5jaGlsZHJlbi5sZW5ndGggLSAxXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBub2RlLm9wZW5GaWxlKGYsIHsgYWN0aXZlOiB0cnVlLCB9KTtcbiAgfVxuXG4gIGdldEZpbGVGcm9tTGVhZihsZWFmKTogVEZpbGUge1xuICAgIGxldCBmaWxlID0gdW5kZWZpbmVkO1xuICAgIHRyeSB7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBmaWxlID0gbGVhZi52aWV3LmZpbGU7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcmV0dXJuIHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChmaWxlKTtcbiAgfVxuXG4gIGV4dHJhY3RVVUlERnJvbUxpbmsobGluazogc3RyaW5nKSB7XG4gICAgQXNzZXJ0LlRydWUoXG4gICAgICBsaW5rLmxlbmd0aCA+PSAzNixcbiAgICAgIGBleHRyYWN0VVVJREZyb21MaW5rOiBJbnZhbGlkIHBhcmFtZXRlciB0eXBlOiBsaW5rOiBcIiR7bGlua31cImAsXG4gICAgKTtcblxuICAgIC8vIGF0IHRoaXMgcG9pbnQgbGluayBpcyBlaXRoZXIgZm9ybSB1dWlkI2hlYWRpbmcgfHwgaW52YWxpZFxuICAgIC8vIHdlIGNhbiBzYWZlbHkgYXNzdW1lIDA6MzYgaXMgdGhlIHV1aWRcbiAgICBBc3NlcnQuVHJ1ZShcbiAgICAgIEhlbHBlci5pc1VVSUQobGluay5zbGljZSgwLCAzNikpLFxuICAgICAgYGV4dHJhY3RVVUlERnJvbUxpbms6IEludmFsaWQgcGFyYW1ldGVyIHR5cGU6IGxpbms6IFwiJHtsaW5rfVwiYCxcbiAgICApO1xuICAgIGlmIChsaW5rLmxlbmd0aCA9PT0gMzYpIHtcbiAgICAgIHJldHVybiBsaW5rO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbGluay5zbGljZSgwLCAzNik7XG4gICAgfVxuICB9XG5cbiAgZ3J1Z0FsaWFzKF9pZDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBjYWNoZSA9IHRoaXMuZ2V0RmlsZUNhY2hlRnJvbVVVSUQoX2lkKTtcbiAgICBpZiAoY2FjaGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc29sZS5lcnJvcihgZ3J1Z0FsaWFzOiBmaWxlIG5vdCBmb3VuZCBpbiBncnVnIGNhY2hlICR7X2lkfWApO1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuXG4gICAgLy8gd2hhdCBpcyB0aGUgbmFtaW5nIHByZWZlcmVuY2U/XG4gICAgLy8gYWxpYXMgPiBuYW1lIGhlYWRpbmdcbiAgICBsZXQgdGFyZ2V0TmFtZSA9IHVuZGVmaW5lZDtcblxuICAgIGlmIChjYWNoZS5oZWFkaW5ncy5sZW5ndGggPiAwICYmIGNhY2hlLmhlYWRpbmdzWzBdLmxldmVsID09PSAxKSB7XG4gICAgICB0YXJnZXROYW1lID0gY2FjaGUuaGVhZGluZ3NbMF0uaGVhZGluZztcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0TmFtZSA9IF9pZDtcbiAgICB9XG5cbiAgICBjb25zdCBmaWxlID0gdGhpcy5nZXRGaWxlRnJvbVVVSUQoX2lkKTtcbiAgICBpZiAoZmlsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBncnVnQWxpYXM6IENhbm5vdCBncnVnIHRoaXMgaWQ6ICR7X2lkfWApO1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIGNvbnN0IHBhdGggPSBgJHtmaWxlLnBhdGguc3BsaXQoXCIvXCIpLnNsaWNlKDAsIC0xKX0vJHtfaWR9YDtcblxuICAgIHJldHVybiBgW1ske3BhdGh9fCR7dGFyZ2V0TmFtZX1dXWA7XG4gIH1cblxuICBnZXRGaWxlRnJvbVVVSUQoX2lkOiBzdHJpbmcpOiBUQWJzdHJhY3RGaWxlIHtcbiAgICByZXR1cm4gdGhpcy52YXVsdENvbnRlbnREaWN0W19pZF07XG4gIH1cblxuICBnZXRGaWxlQ2FjaGVGcm9tVVVJRChfaWQ6IHN0cmluZyk6IENhY2hlZE1ldGFkYXRhIHtcbiAgICBjb25zdCBmID0gdGhpcy52YXVsdENvbnRlbnREaWN0W19pZF07XG4gICAgaWYgKGYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZik7XG4gIH1cblxuICBhc3luYyBvbmxvYWQoKSB7XG4gICAgY29uc29sZS5sb2coXCJnb25leHQgLSBvbmxvYWQoKVwiKTtcbiAgICBhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICB0aGlzLmR2ID0gdGhpcy5hcHAucGx1Z2lucy5wbHVnaW5zLmRhdGF2aWV3LmFwaTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdGhpcy5maWxlcyA9IHt9O1xuICAgIHRoaXMuYXBpID0ge307XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgd2luZG93LmdvbmV4dCA9IHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHN0YXRlOiB3aW5kb3cuZ29uZXh0Py5zdGF0ZSA/PyB7fSxcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGFwcDogdGhpcy5hcHAsXG4gICAgfTtcbiAgICBhZGRJY29uKFxuICAgICAgXCJHb05leHRJY29uXCIsXG4gICAgICBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIzMlwiIGhlaWdodD1cIjMyXCIgdmlld0JveD1cIjAgMCAzMiAzMlwiPjxwYXRoIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTIwIDEyVjJoMnYxMHptNCAwVjJoMnYxMHptNCAwVjJoMnYxMHptLTEyIDhhMy45MTIgMy45MTIgMCAwIDEtNC00YTMuOTEyIDMuOTEyIDAgMCAxIDQtNHYtMmE2IDYgMCAxIDAgNiA2aC0yYTMuOTEyIDMuOTEyIDAgMCAxLTQgNFwiPjwvcGF0aD48cGF0aCBmaWxsPVwiY3VycmVudENvbG9yXCIgZD1cIk0yOC44OTMgMTguNDU0TDI2LjA5OCAxNmwtMS4zMTggMS41MDRsMi43OTIgMi40NTJsLTIuMzYgNC4wODhsLTMuNDI3LTEuMTZhOS4wMzIgOS4wMzIgMCAwIDEtMi43MTQgMS41NjVMMTguMzYgMjhoLTQuNzJsLS43MS0zLjU1YTkuMDk1IDkuMDk1IDAgMCAxLTIuNjk1LTEuNTcybC0zLjQ0NyAxLjE2NmwtMi4zNi00LjA4OGwyLjcyNS0yLjM5NWE4LjkyNiA4LjkyNiAwIDAgMS0uMDA3LTMuMTI4bC0yLjcxOC0yLjM5bDIuMzYtNC4wODdsMy40MjcgMS4xNkE5LjAzIDkuMDMgMCAwIDEgMTIuOTMgNy41NUwxMy42NCA0SDE2VjJoLTIuMzZhMiAyIDAgMCAwLTEuOTYxIDEuNjA4bC0uNTA0IDIuNTE5YTEwLjk2NyAxMC45NjcgMCAwIDAtMS4zMjcuNzUzbC0yLjQyLS44MTlhMS45OTggMS45OTggMCAwIDAtMi4zNzIuODk1bC0yLjM2IDQuMDg4YTIgMiAwIDAgMCAuNDExIDIuNTAybDEuOTMxIDEuNjk3QzUuMDIxIDE1LjQ5NSA1IDE1Ljc0NSA1IDE2YzAgLjI1OC4wMS41MTMuMDI4Ljc2NmwtMS45MiAxLjY4OGEyIDIgMCAwIDAtLjQxMyAyLjUwMmwyLjM2IDQuMDg4YTEuOTk4IDEuOTk4IDAgMCAwIDIuMzc0Ljg5NWwyLjQzNC0uODI0YTEwLjk3NCAxMC45NzQgMCAwIDAgMS4zMTIuNzU5bC41MDMgMi41MThBMiAyIDAgMCAwIDEzLjY0IDMwaDQuNzJhMiAyIDAgMCAwIDEuOTYxLTEuNjA4bC41MDQtMi41MTlhMTAuOTY3IDEwLjk2NyAwIDAgMCAxLjMyNy0uNzUzbDIuNDE5LjgxOGExLjk5OCAxLjk5OCAwIDAgMCAyLjM3My0uODk0bDIuMzYtNC4wODhhMiAyIDAgMCAwLS40MTEtMi41MDJcIj48L3BhdGg+PC9zdmc+YCxcbiAgICApO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBcIm9wZW4tYXNzZXRzXCIsXG4gICAgICBuYW1lOiBcIk9wZW4gQXNzZXRzXCIsXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBsZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoKTtcbiAgICAgICAgY29uc3QgZmlsZSA9IHRoaXMuZ2V0RmlsZUZyb21MZWFmKGxlYWYpO1xuICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5hcHAudmF1bHQuYWRhcHRlcjtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjb25zdCB2YXVsdERpciA9IGFkYXB0ZXIuYmFzZVBhdGg7XG4gICAgICAgIGNvbnN0IHV1aWQgPSBmaWxlLmJhc2VuYW1lO1xuICAgICAgICBjb25zdCBwYXJlbnQgPSBmaWxlLnBhcmVudC5uYW1lO1xuICAgICAgICBjb25zdCBjYWNoZSA9IHRoaXMuZ2V0RmlsZUNhY2hlRnJvbVVVSUQodXVpZCk7XG4gICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLmdldFJlc291cmNlTmFtZShjYWNoZSk7XG5cbiAgICAgICAgaWYgKHBhcmVudCA9PT0gXCJWZXJiYXRpbVwiKSB7XG4gICAgICAgICAgaWYgKCFhd2FpdCBhZGFwdGVyLmV4aXN0cyhgJHtQYXRocy5Bc3NldHN9LyR7dXVpZH0vYCkpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIubWtkaXIoYCR7UGF0aHMuQXNzZXRzfS8ke3V1aWR9L2ApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBhc3NldFBhdGggPSBgJHt2YXVsdERpcn0vJHtQYXRocy5Bc3NldHN9LyR7dXVpZH0vYDtcbiAgICAgICAgICBjb25zdCB7IHNoZWxsIH0gPSByZXF1aXJlKFwiZWxlY3Ryb25cIik7XG4gICAgICAgICAgc2hlbGwuc2hvd0l0ZW1JbkZvbGRlcihhc3NldFBhdGgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmIChwYXJlbnQgIT09IFBhdGhzLkFjdGlvbnMgJiYgcGFyZW50ICE9PSBQYXRocy5Ob3Rlcykge1xuICAgICAgICAgIG5ldyBOb3RpY2UoYFVuc3Vwb3J0ZWQgdHlwZTogJHtwYXJlbnR9YCk7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbG9hZGVkID0gZmFsc2U7XG4gICAgICAgIGlmIChwYXJlbnQgPT09IFBhdGhzLkFjdGlvbnMpIHtcbiAgICAgICAgICBsb2FkZWQgPSB0aGlzLmxvYWROb3RlTmFtZWQobmFtZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9hZGVkID0gdGhpcy5sb2FkQWN0aW9uTmFtZWQobmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWxvYWRlZCkge1xuICAgICAgICAgIG5ldyBOb3RpY2UoYExvZyBlbnRyeSBub3QgZm91bmQ6ICR7bmFtZX1gKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJvcGVuLWluZGV4XCIsXG4gICAgICBuYW1lOiBcIk9wZW4gSW5kZXhcIixcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgIHRoaXMub3BlblZpZXdJbk5ld1RhYklmTm90T3BlbmVkKFwiTm90ZXMvZWVjMGEyOTctOTgyYy00NzFjLTk3NDgtNDk0M2VjNDVmZTk0Lm1kXCIpO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJvcGVuLWluYm94XCIsXG4gICAgICBuYW1lOiBcIk9wZW4gSW5ib3hcIixcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgIHRoaXMub3BlblZpZXdJbk5ld1RhYklmTm90T3BlbmVkKFwiTm90ZXMvOGM3YWFkMmEtYjY3Zi00NGI3LTg2ZmQtMjdhNTA0MTBiZTY1Lm1kXCIpO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJvcGVuLXBsYW5uaW5nXCIsXG4gICAgICBuYW1lOiBcIk9wZW4gUGxhbm5pbmdcIixcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgIHRoaXMub3BlblZpZXdJbk5ld1RhYklmTm90T3BlbmVkKFwiTm90ZXMvZDM3MWUwZjktMWE3Zi00Y2QwLThmYTQtMjYwYzE3NmRhNGE0Lm1kXCIpO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJvcGVuLW5leHRfYWN0aW9uc1wiLFxuICAgICAgbmFtZTogXCJPcGVuIE5leHQgQWN0aW9uc1wiLFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgdGhpcy5vcGVuVmlld0luTmV3VGFiSWZOb3RPcGVuZWQoXCJOb3Rlcy9hYjdhZWM5Mi0yMjczLTQwYmMtOTYzMi1kYTcwOTM3YjU1NzUubWRcIik7XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBcIm9wZW4tc29tZWRheV9tYXliZVwiLFxuICAgICAgbmFtZTogXCJPcGVuIFNvbWVkYXkgTWF5YmVcIixcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgIHRoaXMub3BlblZpZXdJbk5ld1RhYklmTm90T3BlbmVkKFwiTm90ZXMvZTdiNjA1YjktNGQzYS00YzE3LWJmNGUtZTdmMWE1MWY3YTMwLm1kXCIpO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJvcGVuLXdhaXRpbmdfZm9yXCIsXG4gICAgICBuYW1lOiBcIk9wZW4gV2FpdGluZyBGb3JcIixcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgIHRoaXMub3BlblZpZXdJbk5ld1RhYklmTm90T3BlbmVkKFwiTm90ZXMvN2ExM2Q3YWMtNzMyYi00Y2VjLTkxZjAtMTQ5OGM4MjRiODJlLm1kXCIpO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJvcGVuLXRvZGF5cy1sb2dcIixcbiAgICAgIG5hbWU6IFwiT3BlbiBUb2RheSdzIExvZ3NcIixcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGNvbnN0IG5vd0lzbyA9IG5vdy50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBpZiAoIXRoaXMubG9hZE5vdGVOYW1lZChub3dJc28pKSB7XG4gICAgICAgICAgdGhpcy5ub3RlKG5vd0lzbyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvLyBsaW5rIGJydXQgLT4gcGF0aFxuICAgIC8vIGxpbmsgc291cyBmb3JtZSBpbmRldGVybWluXHUwMEU5XG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBcImxpc3Qtb3JwaGFuZWRcIixcbiAgICAgIG5hbWU6IFwiTGlzdCBPcnBoYW5lZFwiLFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgY2FsbGJhY2s6IGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgZmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRGaWxlcygpO1xuICAgICAgICBjb25zdCBsaW5rcyA9IHt9XG4gICAgICAgIGNvbnN0IHIgPSBbXTtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBsZXQgZmFpbGVkID0gMDtcblxuICAgICAgICBmb3IgKGNvbnN0IGYgb2YgZmlsZXMpIHtcbiAgICAgICAgICBsaW5rc1tmLnBhdGhdID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFwcC5tZXRhZGF0YUNhY2hlLmdldExpbmtzKClcbiAgICAgICAgLy8gYXBwLm1ldGFkYXRhQ2FjaGUubGlua1Jlc29sdmVyUXVldWVcbiAgICAgICAgLy8gYXBwLm1ldGFkYXRhQ2FjaGUubGlua1Jlc29sdmVyXG4gICAgICAgIC8vIGFwcC5tZXRhZGF0YUNhY2hlLnJlc29sdmVMaW5rXG4gICAgICAgIC8vIGFwcC5tZXRhZGF0YUNhY2hlLmZpbGVUb0xpbmtUZXh0XG4gICAgICAgIC8vIGFwcC5tZXRhZGF0YUNhY2hlLmdldExpbmtQYXRoRGVzdFxuICAgICAgICAvLyBhcHAubWV0YWRhdGFDYWNoZS5nZXRGaXJzdExpbmtQYXRoRGVzdFxuICAgICAgICAvL1xuICAgICAgICAvLyBhcHAubWV0YWRhdGFDYWNoZS5nZXRCYWNrbGlua3NGb3JGaWxlXG4gICAgICAgIGNvbnN0IG1kYyA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGU7XG5cblxuICAgICAgICBmb3IgKGNvbnN0IGYgb2YgZmlsZXMpIHtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhmKVxuICAgICAgICAgIGkrKztcbiAgICAgICAgICBjb25zdCBjYWNoZSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGYpO1xuICAgICAgICAgIGlmIChjYWNoZS5saW5rcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjYWNoZSk7XG4gICAgICAgICAgZm9yIChjb25zdCBsIG9mIGNhY2hlLmxpbmtzKSB7XG4gICAgICAgICAgICBjb25zdCBsaW5rID0gYXdhaXQgdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5saW5rUmVzb2x2ZXIobC5saW5rKTtcbiAgICAgICAgICAgIGlmIChsaW5rID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgZmFpbGVkKys7XG4gICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGYpXG4gICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGNhY2hlKVxuICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhsLmxpbmspXG4gICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiXFxuXFxuXCIpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldExpbmtwYXRoKGwubGluaykpO1xuXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKGZhaWxlZCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBsIG9mIHIpIHtcbiAgICAgICAgICA7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2cobClcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJjaGVjay1kdXBsaWNhdGVzXCIsXG4gICAgICBuYW1lOiBcIkNoZWNrIGZvciBEdXBsaWNhdGVzXCIsXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICBjb25zdCByZXMgPSB7fTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGNvbnN0IHBhZ2VzID0gdGhpcy5kdi5wYWdlcyhgXCIke1BhdGhzLk5vdGVzfVwiYCk7XG4gICAgICAgIGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuICAgICAgICAgIGNvbnN0IHV1aWQgPSBwYWdlLmZpbGUubmFtZTtcbiAgICAgICAgICBjb25zdCBjYWNoZSA9IHRoaXMuZ2V0RmlsZUNhY2hlRnJvbVVVSUQodXVpZCk7XG4gICAgICAgICAgY29uc3QgbmFtZUhlYWRpbmcgPSB0aGlzLmdldFJlc291cmNlTmFtZShjYWNoZSwpO1xuXG4gICAgICAgICAgaWYgKG5hbWVIZWFkaW5nID09PSB1bmRlZmluZWQgfHwgbmFtZUhlYWRpbmcgPT09IFwiXCIpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGlzIG5vdCBkYXRlIGZvcm1hdFxuICAgICAgICAgIGlmIChuYW1lSGVhZGluZy5sZW5ndGggIT09IDEwIHx8IG5hbWVIZWFkaW5nWzBdICE9PSBcIjJcIikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHJlc1tuYW1lSGVhZGluZ10gPT09IHVuZGVmaW5lZCB8fCByZXNbbmFtZUhlYWRpbmddID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXNbbmFtZUhlYWRpbmddID0gW3V1aWRdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNbbmFtZUhlYWRpbmddLnB1c2godXVpZCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocmVzKTtcbiAgICAgICAga2V5cy5zb3J0KCk7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICAgICAgICBpZiAocmVzW2tleV0ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcGFnZSBvZiByZXNba2V5XSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgXHQke3BhZ2V9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBcIm9wZW4teWVzdGVyZGF5cy1sb2dzXCIsXG4gICAgICBuYW1lOiBcIk9wZW4gWWVzdGVyZGF5J3MgTG9nc1wiLFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgbm93LnNldERhdGUobm93LmdldERhdGUoKSAtIDEpO1xuICAgICAgICBjb25zdCBub3dJc28gPSBub3cudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG4gICAgICAgIHRoaXMubG9hZE5vdGVOYW1lZChub3dJc28pO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJvcGVuLXRvZGF5cy1kYWlseVwiLFxuICAgICAgbmFtZTogXCJPcGVuIFRvZGF5J3MgRGFpbHlcIixcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGNvbnN0IG5vd0lzbyA9IG5vdy50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTtcbiAgICAgICAgdGhpcy5sb2FkQWN0aW9uTmFtZWQobm93SXNvKTtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6IFwib3Blbi10b21vcnJvd3MtZGFpbHlcIixcbiAgICAgIG5hbWU6IFwiT3BlbiBUb21vcnJvdydzIERhaWx5XCIsXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBub3cuc2V0RGF0ZShub3cuZ2V0RGF0ZSgpICsgMSk7XG4gICAgICAgIGNvbnN0IG5vd0lzbyA9IG5vdy50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTtcbiAgICAgICAgdGhpcy5sb2FkQWN0aW9uTmFtZWQobm93SXNvKTtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6IFwib3Blbi15ZXN0ZXJkYXlzLWRhaWx5XCIsXG4gICAgICBuYW1lOiBcIk9wZW4gWWVzdGVyZGF5J3MgRGFpbHlcIixcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIG5vdy5zZXREYXRlKG5vdy5nZXREYXRlKCkgLSAxKTtcbiAgICAgICAgY29uc3Qgbm93SXNvID0gbm93LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xuICAgICAgICB0aGlzLmxvYWRBY3Rpb25OYW1lZChub3dJc28pO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJnZW5lcmF0ZS1ub3RlXCIsXG4gICAgICBuYW1lOiBcIkdlbmVyYXRlIE5vdGVcIixcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgIHRoaXMubm90ZSgpO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJnZW5lcmF0ZS12ZXJiYXRpbVwiLFxuICAgICAgbmFtZTogXCJHZW5lcmF0ZSBWZXJiYXRpbVwiLFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgdGhpcy52ZXJiYXRpbSgpO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJnZW5lcmF0ZS1hY3Rpb25cIixcbiAgICAgIG5hbWU6IFwiR2VuZXJhdGUgQWN0aW9uXCIsXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICB0aGlzLmFjdGlvbigpO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJjbGlwcHktdGhlLWNsaXBwZXJcIixcbiAgICAgIG5hbWU6IFwiQ2xpcHB5IENsaXBcIixcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgIG5hdmlnYXRvci5jbGlwYm9hcmQucmVhZFRleHQoKS50aGVuKCh0ZXh0KSA9PiB7XG4gICAgICAgICAgbGV0IF9pZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgX2lkID0gdGhpcy5leHRyYWN0VVVJREZyb21MaW5rKHRleHQpO1xuICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBmaWxlID0gdGhpcy5nZXRGaWxlRnJvbVVVSUQoX2lkKTtcbiAgICAgICAgICBBc3NlcnQuVHJ1ZShcbiAgICAgICAgICAgIGZpbGUgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGBnZXRGaWxlRnJvbVVVSUQ6IHJldHVybmVkIHVuZGVmaW5lZCBmb3IgdXVpZDogJHtfaWR9YCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IGFsaWFzID0gdGhpcy5ncnVnQWxpYXMoX2lkKTtcbiAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgY29uc3QgYWN0aXZlTGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCk7XG4gICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgIGlmIChhY3RpdmVMZWFmKSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBjb25zdCBlZGl0b3IgPSBhY3RpdmVMZWFmLnZpZXcuc291cmNlTW9kZS5jbUVkaXRvcjtcbiAgICAgICAgICAgIGNvbnN0IGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3IoKTtcbiAgICAgICAgICAgIGVkaXRvci5yZXBsYWNlUmFuZ2UoYWxpYXMsIGN1cnNvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6IFwiY29weS11dWlkXCIsXG4gICAgICBuYW1lOiBcIkNvcHkgVVVJRFwiLFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgY2FsbGJhY2s6IGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgbGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCk7XG4gICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLmdldEZpbGVGcm9tTGVhZihsZWFmKTtcbiAgICAgICAgY29uc3QgdXVpZCA9IGZpbGUuYmFzZW5hbWU7XG5cbiAgICAgICAgaWYgKFtcIlZlcmJhdGltXCIsIFwiTm90ZXNcIiwgXCJBY3Rpb25zXCJdLmNvbnRhaW5zKGZpbGUucGFyZW50Lm5hbWUpKSB7XG4gICAgICAgICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodXVpZCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSk7XG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBcInNhZmUtZGVsZXRlXCIsXG4gICAgICBuYW1lOiBcIlNhZmUgRGVsZXRlXCIsXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICBjb25zdCBmaWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcbiAgICAgICAgaWYgKGZpbGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXBwLnZhdWx0LmRlbGV0ZShmaWxlKTtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6IFwiYXBwZW5kLXRvLWluYm94XCIsXG4gICAgICBuYW1lOiBcIkFwcGVuZCB0byBJbmJveFwiLFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgLy8gb3V2ZXJ0dXJlIHBhcyBpbnN0YW50YW5cdTAwRTllXG4gICAgICAgIGNvbnN0IGYgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoXCJJTkJPWC5tZFwiKTtcbiAgICAgICAgaWYgKGYgPT09IHVuZGVmaW5lZCB8fCBmID09PSBudWxsKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGBmaWxlIG5vdCBmb3VuZCBJTkJPWC5tZGApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGFjdGl2ZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3Qgcm9vdCA9IGFjdGl2ZS5wYXJlbnQ7XG4gICAgICAgIC8vIHJlY2hlcmNoZXIgc2kgcGFzIGRcdTAwRTlqYSBvdXZlcnQgZGFucyBsZXMgb25nbGV0cyBhY3RpZnNcbiAgICAgICAgLy8gc2lub24gY3JcdTAwRTllciB1biBub3V2ZWwgb25nbGV0LCBvdXZyaXIgbGUgZmljaGllciwgZXQgZW4gZmFpcmUgbCdvbmdsZXQgYWN0aWZcbiAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XG4gICAgICAgIGxldCBub2RlID0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBlbXB0eVRhYnMgPSBbXTtcblxuICAgICAgICBmb3IgKGNvbnN0IGxlYWYgb2Ygcm9vdC5jaGlsZHJlbikge1xuICAgICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLmdldEZpbGVGcm9tTGVhZihsZWFmKTtcbiAgICAgICAgICBpZiAoZmlsZSA9PT0gdW5kZWZpbmVkIHx8IGZpbGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGVtcHR5VGFicy5wdXNoKGxlYWYpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGZpbGUubmFtZSA9PT0gZi5uYW1lKSB7XG4gICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICBub2RlID0gbGVhZjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgaWYgKGVtcHR5VGFicy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBub2RlID0gZW1wdHlUYWJzWzBdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFwcC53b3Jrc3BhY2UuY3JlYXRlTGVhZkluUGFyZW50KFxuICAgICAgICAgICAgICByb290LFxuICAgICAgICAgICAgICByb290LmNoaWxkcmVuLmxlbmd0aCArIDEsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbm9kZSA9IHJvb3QuY2hpbGRyZW5bcm9vdC5jaGlsZHJlbi5sZW5ndGggLSAxXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBlZGl0b3JBY3Rpb24gPSAobm9kZSkgPT4ge1xuICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICBjb25zdCBlZGl0b3IgPSBub2RlLnZpZXcuc291cmNlTW9kZS5jbUVkaXRvcjtcbiAgICAgICAgICBlZGl0b3IuaW5zZXJ0VGV4dChcIlxcblxcbi0tLVxcblxcblwiLCBlZGl0b3IubGFzdExpbmUoKSk7XG4gICAgICAgICAgZWRpdG9yLnNldEN1cnNvcihlZGl0b3IubGFzdExpbmUoKSwgMCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCkgPT09IG51bGwgfHxcbiAgICAgICAgICB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpLm5hbWUgIT09IFwiSU5CT1gubWRcIlxuICAgICAgICApIHtcbiAgICAgICAgICBub2RlLm9wZW5GaWxlKGYsIHtcbiAgICAgICAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICB9KS50aGVuKChfKSA9PiBlZGl0b3JBY3Rpb24obm9kZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVkaXRvckFjdGlvbihub2RlKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuYXBwLndvcmtzcGFjZS5vbkxheW91dFJlYWR5KCgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwid29ya3NwYWNlIC0gbGF5b3V0LXJlYWR5XCIpO1xuICAgICAgZm9yIChjb25zdCBmIG9mIHRoaXMuYXBwLnZhdWx0LmdldEZpbGVzKCkpIHtcbiAgICAgICAgY29uc3QgdXVpZCA9IGYuYmFzZW5hbWU7XG4gICAgICAgIGlmICghSGVscGVyLmlzVVVJRCh1dWlkKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52YXVsdENvbnRlbnREaWN0W3V1aWRdID0gZjtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUub24oXG4gICAgICBcImNoYW5nZWRcIixcbiAgICAgIChmaWxlOiBURmlsZSwgZGF0YTogc3RyaW5nLCBjYWNoZTogQ2FjaGVkTWV0YWRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdXVpZCA9IGZpbGUuYmFzZW5hbWU7XG4gICAgICAgIGlmIChIZWxwZXIuaXNVVUlEKHV1aWQpKSB7XG4gICAgICAgICAgdGhpcy52YXVsdENvbnRlbnREaWN0W3V1aWRdID0gZmlsZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICApO1xuXG4gICAgdGhpcy5hcHAud29ya3NwYWNlLm9uKFwiYWN0aXZlLWxlYWYtY2hhbmdlXCIsICgpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLnNuZWFreVRhYlJlbmFtZXIodGhpcy5hcHApO1xuICAgIH0pO1xuXG4gICAgdGhpcy5hcHAud29ya3NwYWNlLm9uKFwicXVpY2stcHJldmlld1wiLCAoKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5zbmVha3lUYWJSZW5hbWVyKHRoaXMuYXBwKTtcbiAgICB9KTtcblxuICAgIHRoaXMuYXBwLndvcmtzcGFjZS5vbihcInJlc2l6ZVwiLCAoKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5zbmVha3lUYWJSZW5hbWVyKHRoaXMuYXBwKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNuZWFreVRhYlJlbmFtZXIoYXBwKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IHJvb3QgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZigpLnBhcmVudDtcblxuICAgIGZvciAoY29uc3QgbGVhZiBvZiByb290LmNoaWxkcmVuKSB7XG4gICAgICBjb25zdCBmaWxlID0gbGVhZi52aWV3LmZpbGU7XG4gICAgICBpZiAoZmlsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB1dWlkID0gZmlsZS5iYXNlbmFtZTtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZmlsZSk7XG4gICAgICAvLyBAdHMtaWdub3JlXG5cbiAgICAgIGxldCB0ZXh0ID0gXCJcIjtcbiAgICAgIGlmIChmaWxlLnBhcmVudC5uYW1lID09PSBcIkFjdGlvbnNcIikge1xuICAgICAgICBjb25zdCBkdCA9IG5ldyBEYXRlKHRoaXMuZ2V0UmVzb3VyY2VOYW1lKGNhY2hlKSlcbiAgICAgICAgdGV4dCA9IGAoQSkgJHtkYXlTaG9ydFtkdC5nZXREYXkoKV19LiAke2R0LmdldERhdGUoKX0gJHttb250aFNob3J0W2R0LmdldE1vbnRoKCldfWA7XG4gICAgICB9IGVsc2UgaWYgKGZpbGUucGFyZW50Lm5hbWUgPT09IFwiTm90ZXNcIikge1xuICAgICAgICBpZiAoY2FjaGUuaGVhZGluZ3MubGVuZ3RoID4gMCAmJiBjYWNoZS5oZWFkaW5nc1swXS5sZXZlbCA9PT0gMSkge1xuICAgICAgICAgIHRleHQgPSBgKE4pICR7Y2FjaGUuaGVhZGluZ3NbMF0uaGVhZGluZ31gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRleHQgPSBgKE4pICR7dXVpZH1gO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGZpbGUucGFyZW50Lm5hbWUgPT09IFwiVmVyYmF0aW1cIikge1xuICAgICAgICBpZiAoY2FjaGUuaGVhZGluZ3MubGVuZ3RoID4gMCAmJiBjYWNoZS5oZWFkaW5nc1swXS5sZXZlbCA9PT0gMSkge1xuICAgICAgICAgIHRleHQgPSBgKFYpICR7Y2FjaGUuaGVhZGluZ3NbMF0uaGVhZGluZ31gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRleHQgPSBgKFYpICR7dXVpZH1gO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oYHR5cGUgdW5kZWZpbmVkIGZvciBmaWxlOiAke2ZpbGUucGF0aH1gKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgbGVhZi50YWJIZWFkZXJJbm5lclRpdGxlRWwuaW5uZXJUZXh0ID0gdGV4dDtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGxlYWYudGFiSGVhZGVySW5uZXJUaXRsZUVsLmlubmVySFRNTCA9IHRleHQ7XG4gICAgfVxuICB9XG5cbiAgZ2V0UmVzb3VyY2VOYW1lKGNhY2hlOiBDYWNoZWRNZXRhZGF0YSk6IHN0cmluZyB7XG4gICAgaWYgKGNhY2hlLmhlYWRpbmdzLmxlbmd0aCA+IDAgJiYgY2FjaGUuaGVhZGluZ3NbMF0ubGV2ZWwgPT09IDEpIHtcbiAgICAgIHJldHVybiBjYWNoZS5oZWFkaW5nc1swXS5oZWFkaW5nO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY2FjaGUuZnJvbnRtYXR0ZXIudXVpZDtcbiAgICB9XG5cbiAgfVxuXG4gIGxvYWRSZXNvdXJjZU5hbWVkKG5hbWU6IHN0cmluZywgcGF0aDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3QgcGFnZXMgPSB0aGlzLmR2XG4gICAgICAucGFnZXMoYFwiJHtwYXRofVwiYClcbiAgICAgIC53aGVyZSgocGFnZSkgPT4ge1xuICAgICAgICBjb25zdCB1dWlkID0gcGFnZS5maWxlLm5hbWU7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5nZXRGaWxlQ2FjaGVGcm9tVVVJRCh1dWlkKTtcbiAgICAgICAgY29uc3QgbmFtZUhlYWRpbmcgPSB0aGlzLmdldFJlc291cmNlTmFtZShjYWNoZSk7XG5cbiAgICAgICAgaWYgKG5hbWVIZWFkaW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmFtZUhlYWRpbmcgIT09IG5hbWUpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pO1xuXG4gICAgaWYgKHBhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChwYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vcGVuVmlld0luTmV3VGFiSWZOb3RPcGVuZWQoYCR7cGF0aH0vJHtwYWdlc1swXS5maWxlLm5hbWV9Lm1kYCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBsb2FkQWN0aW9uTmFtZWQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMubG9hZFJlc291cmNlTmFtZWQobmFtZSwgUGF0aHMuQWN0aW9ucyk7XG4gIH1cblxuICBsb2FkTm90ZU5hbWVkKG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmxvYWRSZXNvdXJjZU5hbWVkKG5hbWUsIFBhdGhzLk5vdGVzKTtcbiAgfVxuXG4gIG9udW5sb2FkKCkge1xuICAgIGNvbnNvbGUubG9nKFwiZ29uZXh0IC0gb251bmxvYWQoKVwiKTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgZGVsZXRlIHdpbmRvdy5nb25leHQ7XG4gIH1cblxuICBhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG4gICAgdGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oXG4gICAgICB7fSxcbiAgICAgIERFRkFVTFRfU0VUVElOR1MsXG4gICAgICBhd2FpdCB0aGlzLmxvYWREYXRhKCksXG4gICAgKTtcbiAgfVxuXG4gIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcbiAgICBhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuICB9XG5cbiAgYWN0aW9uKCkge1xuICAgIGNvbnN0IGR0ID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBub3RlID0ge1xuICAgICAgdXVpZDogdXVpZHY0KCksXG4gICAgICBjcmVhdGVkX2F0OiBkdC50b0lTT1N0cmluZygpLFxuICAgICAgcGF0aDogXCJcIixcbiAgICAgIGRhdGE6IFwiXCIsXG4gICAgfTtcblxuICAgIG5vdGUucGF0aCA9IGAke1BhdGhzLkFjdGlvbnN9LyR7bm90ZS51dWlkfS5tZGA7XG4gICAgbm90ZS5kYXRhID0gYC0tLVxcbnV1aWQ6IFwiJHtub3RlLnV1aWR9XCJcXG5jcmVhdGVkX2F0OiBcIiR7bm90ZS5jcmVhdGVkX2F0fVwiXFxuLS0tXFxuIyBcXG4jIyBjb250ZW50XFxuYDtcblxuICAgIGNvbnN0IGYgPSB0aGlzLmFwcC52YXVsdC5jcmVhdGUobm90ZS5wYXRoLCBub3RlLmRhdGEpLnRoZW4oKGYpID0+IHtcbiAgICAgIHJldHVybiBmO1xuICAgIH0pO1xuICAgIGNvbnN0IGFjdGl2ZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVMZWFmO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBjb25zdCByb290ID0gYWN0aXZlLnBhcmVudDtcbiAgICB0aGlzLmFwcC53b3Jrc3BhY2UuY3JlYXRlTGVhZkluUGFyZW50KHJvb3QsIHJvb3QuY2hpbGRyZW4ubGVuZ3RoICsgMSk7XG4gICAgY29uc3QgbGVhZiA9IHJvb3QuY2hpbGRyZW5bcm9vdC5jaGlsZHJlbi5sZW5ndGggLSAxXTtcbiAgICBmLnRoZW4oKGZpbGUpID0+IHtcbiAgICAgIGxlYWYub3BlbkZpbGUoZmlsZSwgeyBhY3RpdmU6IHRydWUgfSk7XG4gICAgfSk7XG4gIH1cblxuICB2ZXJiYXRpbShuYW1lPzogc3RyaW5nKSB7XG4gICAgY29uc3QgZHQgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IG5vdGUgPSB7XG4gICAgICB1dWlkOiB1dWlkdjQoKSxcbiAgICAgIGNyZWF0ZWRfYXQ6IGR0LnRvSVNPU3RyaW5nKCksXG4gICAgICBwYXRoOiBcIlwiLFxuICAgICAgZGF0YTogXCJcIixcbiAgICB9O1xuXG4gICAgbm90ZS5wYXRoID0gYCR7UGF0aHMuVmVyYmF0aW19LyR7bm90ZS51dWlkfS5tZGA7XG4gICAgbm90ZS5kYXRhID0gYC0tLVxcbnV1aWQ6IFwiJHtub3RlLnV1aWR9XCJcXG5jcmVhdGVkX2F0OiBcIiR7bm90ZS5jcmVhdGVkX2F0fVwiXFxuLS0tXFxuIyAke25hbWV9XFxuIyMgQ29udGVudFxcbmA7XG5cbiAgICBpZiAobmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBub3RlLmRhdGEgPSBgLS0tXFxudXVpZDogXCIke25vdGUudXVpZH1cIlxcbmNyZWF0ZWRfYXQ6IFwiJHtub3RlLmNyZWF0ZWRfYXR9XCJcXG4tLS1cXG4jIFxcbiMjIENvbnRlbnRcXG5gO1xuICAgIH0gZWxzZSB7XG4gICAgICBub3RlLmRhdGEgPSBgLS0tXFxudXVpZDogXCIke25vdGUudXVpZH1cIlxcbmNyZWF0ZWRfYXQ6IFwiJHtub3RlLmNyZWF0ZWRfYXR9XCJcXG4tLS1cXG4jICR7bmFtZX1cXG4jIyBDb250ZW50XFxuYDtcbiAgICB9XG5cbiAgICBjb25zdCBmID0gdGhpcy5hcHAudmF1bHQuY3JlYXRlKG5vdGUucGF0aCwgbm90ZS5kYXRhKS50aGVuKChmKSA9PiB7XG4gICAgICByZXR1cm4gZjtcbiAgICB9KTtcbiAgICBjb25zdCBhY3RpdmUgPSB0aGlzLmFwcC53b3Jrc3BhY2UuYWN0aXZlTGVhZjtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgY29uc3Qgcm9vdCA9IGFjdGl2ZS5wYXJlbnQ7XG4gICAgdGhpcy5hcHAud29ya3NwYWNlLmNyZWF0ZUxlYWZJblBhcmVudChyb290LCByb290LmNoaWxkcmVuLmxlbmd0aCArIDEpO1xuICAgIGNvbnN0IGxlYWYgPSByb290LmNoaWxkcmVuW3Jvb3QuY2hpbGRyZW4ubGVuZ3RoIC0gMV07XG4gICAgZi50aGVuKChmaWxlKSA9PiB7XG4gICAgICBsZWFmLm9wZW5GaWxlKGZpbGUsIHsgYWN0aXZlOiB0cnVlIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgbm90ZShuYW1lPzogc3RyaW5nKSB7XG4gICAgY29uc3QgZHQgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IG5vdGUgPSB7XG4gICAgICB1dWlkOiB1dWlkdjQoKSxcbiAgICAgIGNyZWF0ZWRfYXQ6IGR0LnRvSVNPU3RyaW5nKCksXG4gICAgICBwYXRoOiBcIlwiLFxuICAgICAgZGF0YTogXCJcIixcbiAgICB9O1xuXG4gICAgbm90ZS5wYXRoID0gYCR7UGF0aHMuTm90ZXN9LyR7bm90ZS51dWlkfS5tZGA7XG4gICAgaWYgKG5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgbm90ZS5kYXRhID0gYC0tLVxcbnV1aWQ6IFwiJHtub3RlLnV1aWR9XCJcXG5jcmVhdGVkX2F0OiBcIiR7bm90ZS5jcmVhdGVkX2F0fVwiXFxuLS0tXFxuIyBcXG4jIyBDb250ZW50XFxuYDtcbiAgICB9IGVsc2Uge1xuICAgICAgbm90ZS5kYXRhID0gYC0tLVxcbnV1aWQ6IFwiJHtub3RlLnV1aWR9XCJcXG5jcmVhdGVkX2F0OiBcIiR7bm90ZS5jcmVhdGVkX2F0fVwiXFxuLS0tXFxuIyAke25hbWV9XFxuIyMgQ29udGVudFxcbmA7XG4gICAgfVxuXG4gICAgY29uc3QgZiA9IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZShub3RlLnBhdGgsIG5vdGUuZGF0YSkudGhlbigoZikgPT4ge1xuICAgICAgcmV0dXJuIGY7XG4gICAgfSk7XG4gICAgY29uc3QgYWN0aXZlID0gdGhpcy5hcHAud29ya3NwYWNlLmFjdGl2ZUxlYWY7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IHJvb3QgPSBhY3RpdmUucGFyZW50O1xuICAgIHRoaXMuYXBwLndvcmtzcGFjZS5jcmVhdGVMZWFmSW5QYXJlbnQocm9vdCwgcm9vdC5jaGlsZHJlbi5sZW5ndGggKyAxKTtcbiAgICBjb25zdCBsZWFmID0gcm9vdC5jaGlsZHJlbltyb290LmNoaWxkcmVuLmxlbmd0aCAtIDFdO1xuICAgIGYudGhlbigoZmlsZSkgPT4ge1xuICAgICAgbGVhZi5vcGVuRmlsZShmaWxlLCB7IGFjdGl2ZTogdHJ1ZSB9KTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgSGVscGVyID0ge1xuICBuaWxDaGVjayh2YWw6IGFueSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB2YWwgPT09IHVuZGVmaW5lZCB8fCB2YWwgPT09IG51bGw7XG4gIH0sXG5cbiAgcm91bmRUb09uZURlY2ltYWwodmFsOiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKHZhbCAqIDEwKSAvIDEwO1xuICB9LFxuXG4gIGR1cmF0aW9uU3RyaW5nVG9TZWModmFsKSB7XG4gICAgaWYgKHZhbCA9PT0gdW5kZWZpbmVkIHx8IHZhbC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBjb25zdCBtdWx0ID0gdmFsLnNsaWNlKC0xKTtcbiAgICBsZXQgbSA9IDA7XG4gICAgaWYgKG11bHQgPT09IFwiaFwiKSB7XG4gICAgICBtID0gNjAgKiA2MDtcbiAgICB9IGVsc2UgaWYgKG11bHQgPT09IFwibVwiKSB7XG4gICAgICBtID0gNjA7XG4gICAgfSBlbHNlIGlmIChtdWx0ID09PSBcImRcIikge1xuICAgICAgbSA9IDI0ICogNjAgKiA2MDtcbiAgICB9IGVsc2UgaWYgKG11bHQgPT0gXCJ3XCIpIHtcbiAgICAgIG0gPSAyNCAqIDYwICogNjAgKiA3O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLndhcm4oYFVuaGFuZGxlZCBjYXNlIHZhbDogJHt2YWx9YCk7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHJldHVybiBtICogcGFyc2VJbnQodmFsLnNsaWNlKDAsIC0xKSk7XG4gIH0sXG5cbiAgbXNlY1RvU3RyaW5nRHVyYXRpb24odmFsOiBudW1iZXIpIHtcbiAgICBjb25zdCBvbmVIb3VySW5Nc2VjID0gMzYwMDAwMDsgLy8gMSBob3VyIGluIG1zZWNcbiAgICBjb25zdCBvbmVEYXlJbk1zZWMgPSA4NjQwMDAwMDsgLy8gMSBkYXkgaW4gbXNlY1xuICAgIGlmICh2YWwgPj0gMjQgKiBvbmVIb3VySW5Nc2VjKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBTdHJpbmcoSGVscGVyLnJvdW5kVG9PbmVEZWNpbWFsKHZhbCAvIG9uZURheUluTXNlYykpLnBhZFN0YXJ0KFxuICAgICAgICAgIDIsXG4gICAgICAgICAgXCIwXCIsXG4gICAgICAgICkgKyBcIiBkXCJcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIFN0cmluZyhIZWxwZXIucm91bmRUb09uZURlY2ltYWwodmFsIC8gb25lSG91ckluTXNlYykpLnBhZFN0YXJ0KFxuICAgICAgICAgIDIsXG4gICAgICAgICAgXCIwXCIsXG4gICAgICAgICkgKyBcIiBoXCJcbiAgICAgICk7XG4gICAgfVxuICB9LFxuXG4gIGlzVVVJRCh2YWw6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGlmICh0eXBlb2YgdmFsICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB2YWwubGVuZ3RoID09PSAzNjtcbiAgfSxcbn07XG5cbmNsYXNzIFZhbGlkYXRpb25FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgIHN1cGVyKG1lc3NhZ2UpOyAvLyAoMSlcbiAgICB0aGlzLm5hbWUgPSBcIlZhbGlkYXRpb25FcnJvclwiOyAvLyAoMilcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgQXNzZXJ0ID0ge1xuICBUcnVlKHByZWRpY2F0ZTogYm9vbGVhbiwgbWVzc2FnZTogc3RyaW5nLCBzdHJpY3QgPSB0cnVlKSB7XG4gICAgaWYgKCFwcmVkaWNhdGUpIHtcbiAgICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihtZXNzYWdlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBGYWxzZShwcmVkaWNhdGU6IGJvb2xlYW4sIG1lc3NhZ2U6IHN0cmluZywgc3RyaWN0ID0gZmFsc2UpIHtcbiAgICBpZiAocHJlZGljYXRlKSB7XG4gICAgICBpZiAoc3RyaWN0KSB7XG4gICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IobWVzc2FnZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBQYXRocyA9IHtcbiAgQWN0aW9uczogXCJBY3Rpb25zXCIsXG4gIE5vdGVzOiBcIk5vdGVzXCIsXG4gIFZlcmJhdGltOiBcIlZlcmJhdGltXCIsXG4gIEFzc2V0czogXCJBc3NldHNcIixcbiAgVGFza3M6IFwiQWN0aW9uc1wiLFxufTtcbiIsICJpbXBvcnQgdmFsaWRhdGUgZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG5cbi8qKlxuICogQ29udmVydCBhcnJheSBvZiAxNiBieXRlIHZhbHVlcyB0byBVVUlEIHN0cmluZyBmb3JtYXQgb2YgdGhlIGZvcm06XG4gKiBYWFhYWFhYWC1YWFhYLVhYWFgtWFhYWC1YWFhYWFhYWFhYWFhcbiAqL1xudmFyIGJ5dGVUb0hleCA9IFtdO1xuZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICBieXRlVG9IZXgucHVzaCgoaSArIDB4MTAwKS50b1N0cmluZygxNikuc2xpY2UoMSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVuc2FmZVN0cmluZ2lmeShhcnIsIG9mZnNldCA9IDApIHtcbiAgLy8gTm90ZTogQmUgY2FyZWZ1bCBlZGl0aW5nIHRoaXMgY29kZSEgIEl0J3MgYmVlbiB0dW5lZCBmb3IgcGVyZm9ybWFuY2VcbiAgLy8gYW5kIHdvcmtzIGluIHdheXMgeW91IG1heSBub3QgZXhwZWN0LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkL3B1bGwvNDM0XG4gIC8vXG4gIC8vIE5vdGUgdG8gZnV0dXJlLXNlbGY6IE5vLCB5b3UgY2FuJ3QgcmVtb3ZlIHRoZSBgdG9Mb3dlckNhc2UoKWAgY2FsbC5cbiAgLy8gUkVGOiBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQvcHVsbC82NzcjaXNzdWVjb21tZW50LTE3NTczNTEzNTFcbiAgcmV0dXJuIChieXRlVG9IZXhbYXJyW29mZnNldCArIDBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDNdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA1XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDZdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgN11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA4XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDldXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTNdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTVdXSkudG9Mb3dlckNhc2UoKTtcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeShhcnIsIG9mZnNldCA9IDApIHtcbiAgdmFyIHV1aWQgPSB1bnNhZmVTdHJpbmdpZnkoYXJyLCBvZmZzZXQpO1xuICAvLyBDb25zaXN0ZW5jeSBjaGVjayBmb3IgdmFsaWQgVVVJRC4gIElmIHRoaXMgdGhyb3dzLCBpdCdzIGxpa2VseSBkdWUgdG8gb25lXG4gIC8vIG9mIHRoZSBmb2xsb3dpbmc6XG4gIC8vIC0gT25lIG9yIG1vcmUgaW5wdXQgYXJyYXkgdmFsdWVzIGRvbid0IG1hcCB0byBhIGhleCBvY3RldCAobGVhZGluZyB0b1xuICAvLyBcInVuZGVmaW5lZFwiIGluIHRoZSB1dWlkKVxuICAvLyAtIEludmFsaWQgaW5wdXQgdmFsdWVzIGZvciB0aGUgUkZDIGB2ZXJzaW9uYCBvciBgdmFyaWFudGAgZmllbGRzXG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ1N0cmluZ2lmaWVkIFVVSUQgaXMgaW52YWxpZCcpO1xuICB9XG4gIHJldHVybiB1dWlkO1xufVxuZXhwb3J0IGRlZmF1bHQgc3RyaW5naWZ5OyIsICIvLyBVbmlxdWUgSUQgY3JlYXRpb24gcmVxdWlyZXMgYSBoaWdoIHF1YWxpdHkgcmFuZG9tICMgZ2VuZXJhdG9yLiBJbiB0aGUgYnJvd3NlciB3ZSB0aGVyZWZvcmVcbi8vIHJlcXVpcmUgdGhlIGNyeXB0byBBUEkgYW5kIGRvIG5vdCBzdXBwb3J0IGJ1aWx0LWluIGZhbGxiYWNrIHRvIGxvd2VyIHF1YWxpdHkgcmFuZG9tIG51bWJlclxuLy8gZ2VuZXJhdG9ycyAobGlrZSBNYXRoLnJhbmRvbSgpKS5cblxudmFyIGdldFJhbmRvbVZhbHVlcztcbnZhciBybmRzOCA9IG5ldyBVaW50OEFycmF5KDE2KTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJuZygpIHtcbiAgLy8gbGF6eSBsb2FkIHNvIHRoYXQgZW52aXJvbm1lbnRzIHRoYXQgbmVlZCB0byBwb2x5ZmlsbCBoYXZlIGEgY2hhbmNlIHRvIGRvIHNvXG4gIGlmICghZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgLy8gZ2V0UmFuZG9tVmFsdWVzIG5lZWRzIHRvIGJlIGludm9rZWQgaW4gYSBjb250ZXh0IHdoZXJlIFwidGhpc1wiIGlzIGEgQ3J5cHRvIGltcGxlbWVudGF0aW9uLlxuICAgIGdldFJhbmRvbVZhbHVlcyA9IHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0byk7XG4gICAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY3J5cHRvLmdldFJhbmRvbVZhbHVlcygpIG5vdCBzdXBwb3J0ZWQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQjZ2V0cmFuZG9tdmFsdWVzLW5vdC1zdXBwb3J0ZWQnKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG59IiwgInZhciByYW5kb21VVUlEID0gdHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLnJhbmRvbVVVSUQgJiYgY3J5cHRvLnJhbmRvbVVVSUQuYmluZChjcnlwdG8pO1xuZXhwb3J0IGRlZmF1bHQge1xuICByYW5kb21VVUlEXG59OyIsICJpbXBvcnQgbmF0aXZlIGZyb20gJy4vbmF0aXZlLmpzJztcbmltcG9ydCBybmcgZnJvbSAnLi9ybmcuanMnO1xuaW1wb3J0IHsgdW5zYWZlU3RyaW5naWZ5IH0gZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgaWYgKG5hdGl2ZS5yYW5kb21VVUlEICYmICFidWYgJiYgIW9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmF0aXZlLnJhbmRvbVVVSUQoKTtcbiAgfVxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpO1xuXG4gIC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcbiAgcm5kc1s2XSA9IHJuZHNbNl0gJiAweDBmIHwgMHg0MDtcbiAgcm5kc1s4XSA9IHJuZHNbOF0gJiAweDNmIHwgMHg4MDtcblxuICAvLyBDb3B5IGJ5dGVzIHRvIGJ1ZmZlciwgaWYgcHJvdmlkZWRcbiAgaWYgKGJ1Zikge1xuICAgIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7ICsraSkge1xuICAgICAgYnVmW29mZnNldCArIGldID0gcm5kc1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIGJ1ZjtcbiAgfVxuICByZXR1cm4gdW5zYWZlU3RyaW5naWZ5KHJuZHMpO1xufVxuZXhwb3J0IGRlZmF1bHQgdjQ7Il0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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LFVBQUksS0FBSztBQUFBLElBQ1gsV0FBVyxTQUFTLEtBQUs7QUFDdkIsVUFBSTtBQUFBLElBQ04sV0FBVyxTQUFTLEtBQUs7QUFDdkIsVUFBSSxLQUFLLEtBQUs7QUFBQSxJQUNoQixXQUFXLFFBQVEsS0FBSztBQUN0QixVQUFJLEtBQUssS0FBSyxLQUFLO0FBQUEsSUFDckIsT0FBTztBQUNMLGNBQVEsS0FBSyx1QkFBdUIsS0FBSztBQUN6QyxhQUFPO0FBQUEsSUFDVDtBQUVBLFdBQU8sSUFBSSxTQUFTLElBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQztBQUFBLEVBQ3RDO0FBQUEsRUFFQSxxQkFBcUIsS0FBYTtBQUNoQyxVQUFNLGdCQUFnQjtBQUN0QixVQUFNLGVBQWU7QUFDckIsUUFBSSxPQUFPLEtBQUssZUFBZTtBQUM3QixhQUNFLE9BQU8sT0FBTyxrQkFBa0IsTUFBTSxZQUFZLENBQUMsRUFBRTtBQUFBLFFBQ25EO0FBQUEsUUFDQTtBQUFBLE1BQ0YsSUFBSTtBQUFBLElBRVIsT0FBTztBQUNMLGFBQ0UsT0FBTyxPQUFPLGtCQUFrQixNQUFNLGFBQWEsQ0FBQyxFQUFFO0FBQUEsUUFDcEQ7QUFBQSxRQUNBO0FBQUEsTUFDRixJQUFJO0FBQUEsSUFFUjtBQUFBLEVBQ0Y7QUFBQSxFQUVBLE9BQU8sS0FBc0I7QUFDM0IsUUFBSSxPQUFPLFFBQVEsVUFBVTtBQUMzQixhQUFPO0FBQUEsSUFDVDtBQUNBLFdBQU8sSUFBSSxXQUFXO0FBQUEsRUFDeEI7QUFDRjtBQUVBLElBQU0sa0JBQU4sY0FBOEIsTUFBTTtBQUFBLEVBQ2xDLFlBQVksU0FBUztBQUNuQixVQUFNLE9BQU87QUFDYixTQUFLLE9BQU87QUFBQSxFQUNkO0FBQ0Y7QUFFTyxJQUFNLFNBQVM7QUFBQSxFQUNwQixLQUFLLFdBQW9CLFNBQWlCLFNBQVMsTUFBTTtBQUN2RCxRQUFJLENBQUMsV0FBVztBQUNkLFVBQUksUUFBUTtBQUNWLGNBQU0sSUFBSSxnQkFBZ0IsT0FBTztBQUFBLE1BQ25DLE9BQU87QUFDTCxnQkFBUSxNQUFNLE9BQU87QUFBQSxNQUN2QjtBQUFBLElBQ0Y7QUFBQSxFQUNGO0FBQUEsRUFDQSxNQUFNLFdBQW9CLFNBQWlCLFNBQVMsT0FBTztBQUN6RCxRQUFJLFdBQVc7QUFDYixVQUFJLFFBQVE7QUFDVixjQUFNLElBQUksZ0JBQWdCLE9BQU87QUFBQSxNQUNuQyxPQUFPO0FBQ0wsZ0JBQVEsTUFBTSxPQUFPO0FBQUEsTUFDdkI7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQUNGO0FBRU8sSUFBTSxRQUFRO0FBQUEsRUFDbkIsU0FBUztBQUFBLEVBQ1QsT0FBTztBQUFBLEVBQ1AsVUFBVTtBQUFBLEVBQ1YsUUFBUTtBQUFBLEVBQ1IsT0FBTztBQUNUOyIsCiAgIm5hbWVzIjogWyJub2RlIiwgImYiXQp9Cg==
