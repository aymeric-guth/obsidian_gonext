/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => MyPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");

// constants.ts
var Paths = {
  Tasks: "Actions",
  Components: "Components",
  Goals: "Goals",
  Slipbox: "Notes",
  Inbox: "800 Inbox",
  Refs: "802 Refs",
  Archives: "400 Archives",
  Logs: "600 Log",
  Attachments: "000 Attachments",
  Journal: "Journal",
  Resources: "Resources",
  Projects: "100 Projects",
  Domains: "Domains",
  Names: "Names",
  Verbatim: "Verbatim",
  Assets: "Assets"
};
var Status = {
  Todo: "todo",
  Doing: "doing",
  Done: "done",
  Maybe: "maybe",
  Standby: "standby",
  Trash: "trash"
};
var Types = {
  Fleeting: 13,
  Literature: 1,
  Permanent: 2,
  Task: 3,
  Praxis: 4,
  Provision: 5,
  Log: 6,
  Resource: 7,
  Media: 8,
  Project: 12,
  Org: 9,
  Domain: 10,
  Component: 11
};
var Namespace = {
  Area: "area",
  Context: "context",
  Layer: "layer",
  Org: "org",
  Project: "project"
};
var Default = {
  Area: "none",
  Context: "any",
  Layer: "none",
  Org: "none",
  Project: "none"
};

// node_modules/uuid/dist/esm-browser/stringify.js
var byteToHex = [];
for (i = 0; i < 256; ++i) {
  byteToHex.push((i + 256).toString(16).slice(1));
}
var i;
function unsafeStringify(arr, offset = 0) {
  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + "-" + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + "-" + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + "-" + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + "-" + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();
}

// node_modules/uuid/dist/esm-browser/rng.js
var getRandomValues;
var rnds8 = new Uint8Array(16);
function rng() {
  if (!getRandomValues) {
    getRandomValues = typeof crypto !== "undefined" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);
    if (!getRandomValues) {
      throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");
    }
  }
  return getRandomValues(rnds8);
}

// node_modules/uuid/dist/esm-browser/native.js
var randomUUID = typeof crypto !== "undefined" && crypto.randomUUID && crypto.randomUUID.bind(crypto);
var native_default = {
  randomUUID
};

// node_modules/uuid/dist/esm-browser/v4.js
function v4(options, buf, offset) {
  if (native_default.randomUUID && !buf && !options) {
    return native_default.randomUUID();
  }
  options = options || {};
  var rnds = options.random || (options.rng || rng)();
  rnds[6] = rnds[6] & 15 | 64;
  rnds[8] = rnds[8] & 63 | 128;
  if (buf) {
    offset = offset || 0;
    for (var i = 0; i < 16; ++i) {
      buf[offset + i] = rnds[i];
    }
    return buf;
  }
  return unsafeStringify(rnds);
}
var v4_default = v4;

// api.ts
var FrontmatterJS = class {
  singular(values, field) {
    if (!Helper.nilCheck(this.fm[field])) {
      const value = this.fm[field];
      if (typeof value === "string") {
        if (!values.contains(value)) {
          values.push(value);
        }
      } else {
        console.warn(
          `'${field}' is ignored, invalid data-type: '${typeof this.fm[field]}'`
        );
      }
    }
  }
  plural(values, field) {
    if (!Helper.nilCheck(this.fm[field])) {
      if (!Array.isArray(this.fm[field])) {
        console.warn(
          `'${field}' is ignored, invalid data-type: '${field}'`
        );
      } else {
        for (const value of this.fm[field]) {
          if (typeof value === "string") {
            if (!values.contains(value)) {
              values.push(value);
            }
          } else {
            console.warn(
              `'${value}s.${value}' is ignored, invalid data-type: '${typeof value}'`
            );
          }
        }
      }
    }
  }
  constructor(page) {
    Assert.True(page !== void 0, "'page' is undefined");
    this.f = page.file;
    const f = this.f;
    Assert.True(f !== void 0, "'f' is undefined");
    this.fm = f.frontmatter;
    Assert.True(this.fm !== void 0, "'fm' is undefined");
    Assert.True(
      this.fm.uuid !== void 0,
      `'uuid' is undefined for '${this.f.path}'`
    );
    this.uuid = this.fm.uuid;
    this.version = this.fm.version;
    this.type = this.fm.type;
    this.createdAt = new Date(this.fm.created_at);
    this.at = this.fm.at !== void 0 ? new Date(this.fm.at) : new Date();
    this.before = this.fm.before !== void 0 ? new Date(this.fm.before) : new Date();
    this.after = this.fm.after !== void 0 ? new Date(this.fm.after) : new Date();
    this.components = [];
    this.domains = [];
    this.projects = [];
    this.contexts = [];
    this.traits = [];
    this.energy = this.fm.energy !== void 0 ? this.fm.energy : 9;
    const domains = [];
    const components = [];
    const projects = [];
    const names = [];
    const contexts = [];
    const contents = [];
    const traits = [];
    if (!Helper.nilCheck(this.fm.tags)) {
      if (!Array.isArray(this.fm.tags)) {
        console.warn("'tags' is ignored, invalid data-type");
        this.fm.tags = [];
      }
      for (const tag of this.fm.tags) {
        if (tag.slice(0, 7) === "domain/") {
          domains.push(tag.slice(7));
        } else if (tag.slice(0, 10) === "component/") {
          components.push(tag.slice(10));
        } else if (tag.slice(0, 8) === "project/") {
          projects.push(tag.slice(8));
        } else if (tag.slice(0, 5) === "name/") {
          names.push(tag.slice(5));
        } else if (tag.slice(0, 8) == "context/") {
          contexts.push(tag.slice(8));
        } else if (tag.slice(0, 8) == "content/") {
          contents.push(tag.slice(8));
        } else if (tag.slice(0, 6) == "trait/") {
          traits.push(tag.slice(6));
        }
      }
    }
    this.singular(domains, "domain");
    this.plural(domains, "domains");
    this.singular(components, "components");
    this.plural(components, "components");
    this.singular(projects, "project");
    this.plural(projects, "projects");
    this.singular(contents, "contents");
    this.plural(contents, "contents");
    this.singular(names, "name");
    this.plural(names, "names");
    this.plural(names, "alias");
    this.singular(traits, "trait");
    this.plural(traits, "traits");
    this.domains = domains;
    this.components = components;
    this.projects = projects;
    this.names = names;
    this.contexts = contexts;
    this.contents = contents;
    this.traits = traits;
  }
  getDomain(emptyDefault = true) {
    if (emptyDefault) {
      return this.domains[0];
    } else {
      return this.domains[0] === void 0 ? "unknown" : this.domains[0];
    }
  }
  getDomains() {
    return this.domains;
  }
  getTraits() {
    return this.traits;
  }
  getComponents() {
    return this.components;
  }
  getProject(emptyDefault = true) {
    if (emptyDefault) {
      return this.projects[0];
    } else {
      return this.projects[0] === void 0 ? "" : this.projects[0];
    }
  }
  getProjects() {
    return this.projects;
  }
  getName(emptyDefault = true) {
    if (emptyDefault) {
      return this.names[0];
    } else {
      return this.names[0] === void 0 ? "" : this.names[0];
    }
  }
  getContent(emptyDefault = true) {
    if (emptyDefault) {
      return this.contents[0];
    } else {
      return this.contents[0] === void 0 ? "" : this.contents[0];
    }
  }
  getNames() {
    return this.names;
  }
  getContext(emptyDefault = true) {
    if (emptyDefault) {
      return this.contexts[0];
    } else {
      return this.contexts[0] === void 0 ? "" : this.contexts[0];
    }
  }
  resolve(dv) {
    const domains = [];
    for (const domain of this.domains) {
      if (Helper.isUUID(domain)) {
        const pages = dv.pages(`"${Paths.Domains}"`).where((page) => page.file.frontmatter.uuid === domain);
        if (pages.length > 1) {
          throw new Error();
        } else if (pages.length === 1) {
          const page = pages[0];
          domains.push(page.file.frontmatter.name);
        }
      } else {
        const pages = dv.pages(`"${Paths.Domains}"`).where((page) => page.file.frontmatter.name === domain);
        if (pages.length > 1) {
          throw new Error();
        } else if (pages.length === 1) {
          const page = pages[0];
          domains.push(page.file.frontmatter.name);
        }
      }
    }
    if (domains.length !== this.domains.length) {
      console.warn(`Domain resolution failed for: ${this.domains}`);
    }
    this.domains = domains;
  }
};
var ValidationError = class extends Error {
  constructor(message) {
    super(message);
    this.name = "ValidationError";
  }
};
var Assert = {
  True(predicate, message, strict = true) {
    if (!predicate) {
      if (strict) {
        throw new ValidationError(message);
      } else {
        console.error(message);
      }
    }
  },
  False(predicate, message, strict = false) {
    if (predicate) {
      if (strict) {
        throw new ValidationError(message);
      } else {
        console.error(message);
      }
    }
  }
};
var Helper = {
  nilCheck(val) {
    return val === void 0 || val === null;
  },
  getKeyFuck(groupBy) {
    switch (groupBy) {
      default:
      case "doneAt":
        return (entry) => entry.file.frontmatter.doneAt.toISOString().slice(0, 10);
        break;
      case "createdAt":
        return (entry) => entry.file.frontmatter.createdAt.toISOString().slice(0, 10);
        break;
      case "project":
        return (entry) => entry.file.frontmatter.project;
        break;
      case "area":
        return (entry) => entry.file.frontmatter.area;
        break;
    }
  },
  getKey(groupBy) {
    switch (groupBy) {
      default:
      case "doneAt":
        return (entry) => entry.doneAt.toISOString().slice(0, 10);
        break;
      case "createdAt":
        return (entry) => entry.createdAt.toISOString().slice(0, 10);
        break;
      case "project":
        return (entry) => entry.project;
        break;
      case "area":
        return (entry) => entry.area;
        break;
    }
  },
  numberTypeToString(val) {
    switch (val.type) {
      case Types.Fleeting:
        return "fleeting";
      case Types.Log:
        return "log";
      case Types.Project:
        return "project";
      case Types.Org:
        return "org";
      case Types.Domain:
        return "domain";
      case Types.Component:
        return "component";
      default:
        throw new Error(
          `numberTypeToString: type: "${val.type}" not implemented "${val.uuid}"`
        );
    }
  },
  roundToOneDecimal(val) {
    return Math.round(val * 10) / 10;
  },
  isChildTag(parent, child) {
    if (child.length <= parent.length + 1) {
      return false;
    } else if (child.slice(0, parent.length + 1) != `${parent}/`) {
      return false;
    }
    return true;
  },
  getField(field, defaultValue) {
    if (field === void 0 || field === null) {
      return defaultValue;
    } else {
      return field;
    }
  },
  getDate(dt) {
    if (dt === "" || dt === null) {
      return void 0;
    } else if (dt !== void 0) {
      dt = new Date(dt);
      if (isNaN(dt)) {
        return void 0;
      } else {
        return dt;
      }
    } else {
      return void 0;
    }
  },
  getTag(fm, type, emptyDefault = void 0) {
    let name = "";
    let defaultValue = "";
    if (type === "area") {
      name = Namespace.Area;
      defaultValue = Default.Area;
    } else if (type === "context") {
      name = Namespace.Context;
      defaultValue = Default.Context;
    } else if (type === "layer") {
      name = Namespace.Layer;
      defaultValue = Default.Layer;
    } else if (type === "org") {
      name = Namespace.Org;
      defaultValue = Default.Org;
    } else if (type === "project") {
      name = Namespace.Project;
      defaultValue = Default.Project;
    } else if (type == "domain") {
      name = "domain";
      defaultValue = "none";
    } else {
      throw new Error(`getTag got unsuported type: '${type}'`);
    }
    const len = name.length + 1;
    const defaultTag = `${name}/${defaultValue}`;
    let defaultRetVal = defaultTag;
    if (emptyDefault) {
      defaultRetVal = void 0;
    }
    if (fm === void 0) {
      return defaultRetVal;
    }
    const tags = fm.tags;
    if (tags === void 0 || tags.length === 0) {
      return defaultRetVal;
    }
    for (const tag of tags) {
      if (tag == defaultTag) {
        return defaultRetVal;
      }
      if (tag.length > len && tag.slice(0, len) == `${name}/`) {
        return tag;
      }
    }
    return defaultRetVal;
  },
  getName(fm) {
    const components = Helper.getComponents(fm);
    if (components.length < 1) {
      throw new Error(`Helper.getName() ${fm}`);
    }
    let name = void 0;
    let occurences = 0;
    for (const component of components) {
      if (component.slice(0, 15) === "component/name/") {
        name = component.slice(15);
        occurences += 1;
      }
    }
    if (occurences > 1) {
      throw new Error(
        `Helper.getName() ${fm} multiple occurences of 'component/name'`
      );
    }
    if (name === void 0) {
      throw new Error(
        `Helper.getName() ${fm} 'component/name' undefined`
      );
    }
    return name;
  },
  getComponents(fm) {
    const components = [];
    if (Helper.nilCheck(fm.tags)) {
      return [];
    }
    for (const tag of fm.tags) {
      if (tag.length > 10 && tag.slice(0, 10) === "component/") {
        components.push(tag);
      }
    }
    return components;
  },
  getArea(fm, emptyDefault = false) {
    return Helper.getTag(fm, "area", emptyDefault);
  },
  getContext(fm, emptyDefault = false) {
    return Helper.getTag(fm, "context", emptyDefault);
  },
  getDomain(fm, emptyDefault = false) {
    return Helper.getTag(fm, "domain", emptyDefault);
  },
  getLayer(fm, emptyDefault = false) {
    return Helper.getTag(fm, "layer", emptyDefault);
  },
  getOrg(fm, emptyDefault = false) {
    return Helper.getTag(fm, "org", emptyDefault);
  },
  getProject(fm, emptyDefault = false) {
    return Helper.getTag(fm, "project", emptyDefault);
  },
  durationStringToSec(val) {
    if (val === void 0 || val.length === 0) {
      return 0;
    }
    const mult = val.slice(-1);
    let m = 0;
    if (mult === "h") {
      m = 60 * 60;
    } else if (mult === "m") {
      m = 60;
    } else if (mult === "d") {
      m = 24 * 60 * 60;
    } else if (mult == "w") {
      m = 24 * 60 * 60 * 7;
    } else {
      console.warn(`Unhandled case val: ${val}`);
      return void 0;
    }
    return m * parseInt(val.slice(0, -1));
  },
  msecToStringDuration(val) {
    const oneHourInMsec = 36e5;
    const oneDayInMsec = 864e5;
    if (val >= 24 * oneHourInMsec) {
      return String(Helper.roundToOneDecimal(val / oneDayInMsec)).padStart(
        2,
        "0"
      ) + " d";
    } else {
      return String(Helper.roundToOneDecimal(val / oneHourInMsec)).padStart(
        2,
        "0"
      ) + " h";
    }
  },
  isUUID(val) {
    if (typeof val !== "string") {
      return false;
    }
    return val.length === 36;
  },
  sortByAge(a, b) {
    const fmA = new FrontmatterJS(a);
    const fmB = new FrontmatterJS(b);
    return fmA.createdAt.getTime() - fmB.createdAt.getTime();
  },
  sortByPriority(a, b) {
    const fmA = new FrontmatterJS(a);
    const fmB = new FrontmatterJS(b);
    return fmB.fm.priority - fmA.fm.priority;
  },
  sortByPriorityAndAge(a, b) {
    const fmA = new FrontmatterJS(a);
    const fmB = new FrontmatterJS(b);
    if (fmA.fm.priority !== fmB.fm.priority.priority) {
      return Helper.sortByPriority(a, b);
    } else {
      return Helper.sortByAge(a, b);
    }
  },
  sortByDuration(a, b) {
    const fmA = new FrontmatterJS(a);
    const fmB = new FrontmatterJS(b);
    return Helper.durationStringToSec(fmA.fm.time_estimate) - Helper.durationStringToSec(fmB.fm.time_estimate);
  },
  sortByPriorityAndDuration(a, b) {
    const fmA = new FrontmatterJS(a);
    const fmB = new FrontmatterJS(b);
    if (fmA.fm.priority !== fmB.fm.priority) {
      return Helper.sortByPriority(a, b);
    } else {
      return Helper.sortByDuration(a, b);
    }
  },
  sortByPriorityAndDurationAndAge(a, b) {
    const fmA = new FrontmatterJS(a);
    const fmB = new FrontmatterJS(b);
    if (fmA.fm.priority !== fmB.fm.priority) {
      return Helper.sortByPriority(a, b);
    } else if (fmA.fm.time_estimate !== fmB.fm.time_estimate) {
      return Helper.sortByDuration(a, b);
    } else {
      return Helper.sortByAge(a, b);
    }
  }
};
var Renderer = {
  makeLinkName(dv, f, anchor = "Content") {
    if (Helper.nilCheck(f.frontmatter.name)) {
      return Renderer.makeLinkShortUUID(dv, f, anchor);
    }
    return dv.sectionLink(f.path, anchor, false, `${f.frontmatter.name}`);
  },
  makeLinkAlias(dv, f, anchor = "Content") {
    if (Helper.nilCheck(f.frontmatter.alias)) {
      return Renderer.makeLinkShortUUID(dv, f, anchor);
    }
    return dv.sectionLink(f.path, anchor, false, `${f.frontmatter.alias}`);
  },
  makeLinkShortUUID(dv, f, anchor = "Content") {
    return dv.sectionLink(
      f.path,
      anchor,
      false,
      `${f.frontmatter.uuid.slice(0, 8)}`
    );
  },
  makeLink(dv, f, name = void 0, anchor = "Content") {
    return dv.sectionLink(f.path, anchor, false, name);
  },
  do(dv, rs) {
    for (const row of rs) {
      switch (row[0]) {
        case "header":
          const [, level, heading] = row;
          dv.header(level, heading);
          break;
        case "paragraph":
          const [, text] = row;
          dv.paragraph(text);
          break;
        case "array":
          const [, renderer, data] = row;
          renderer(dv, data);
          break;
        case "stats":
          const [, name, unit, value] = row;
          dv.paragraph(`${name} (${unit}): ${value}`);
          break;
        default:
          throw new Error(`Unsuported opcode: "fuckoff"`);
      }
    }
  }
};
var Frontmatter = class {
  constructor(gonext) {
    this.gonext = gonext;
  }
  projectParseMeta(dv) {
    const current = dv.current();
    const projectName = current.file.folder.slice(
      Paths.Projects.length + 1
    );
    const projectDir = current.file.folder;
    if (projectName.contains("/")) {
      throw new Error(
        `projectDir: ${projectDir} folder: ${current.file.folder}`
      );
    }
    const pages = dv.pages(`"${projectDir}/meta"`).array();
    if (pages.length !== 1) {
      throw new Error(`len: ${pages.length}`);
    }
    const fm = pages[0].file.frontmatter;
    const uuid = fm.uuid;
    if (Helper.nilCheck(uuid)) {
      throw new Error(`project 'uuid' is not defined`);
    }
    const name = fm.name;
    if (Helper.nilCheck(name)) {
      throw new Error(`'name' is not defined`);
    }
    const domains = fm.domains;
    if (!Array.isArray(domains)) {
      throw new Error(`'domains' must be of array type`);
    }
    return {
      uuid,
      name,
      domains
    };
  }
  getCreatedAt(f) {
    return Helper.nilCheck(f.frontmatter.created_at) ? new Date(f.ctime.ts) : new Date(f.frontmatter.created_at);
  }
  getCurrentFrontmatter() {
    const file = this.gonext.workspace.getActiveFile();
    const fileContent = this.gonext.metadataCache.getFileCache(file);
    if (fileContent === void 0) {
      return void 0;
    }
    const fm = fileContent.frontmatter;
    if (fm === void 0) {
      return void 0;
    }
    return fm;
  }
  parseListByNamespace(fm) {
    const byAreas = fm.by_areas === void 0 ? [] : fm.by_areas;
    const byContexts = fm.by_contexts === void 0 ? [] : fm.by_contexts;
    const byLayers = fm.by_layers === void 0 ? [] : fm.by_layers;
    const byOrgs = fm.by_orgs === void 0 ? [] : fm.by_orgs;
    const byProjects = fm.by_projects === void 0 ? [] : fm.by_projects;
    return [byAreas, byContexts, byLayers, byOrgs, byProjects];
  }
  parseListBeforeAfter(fm) {
    const before = Helper.getDate(fm.before);
    const after = Helper.getDate(fm.after);
    return [before, after];
  }
  parseListFilterBy(fm) {
    if (fm === void 0) {
      return [];
    }
    const filterBy = fm.filter_by;
    if (!Array.isArray(filterBy)) {
      return [];
    }
    return filterBy;
  }
  parseListGroupBy(fm) {
    if (fm === void 0) {
      return "";
    }
    const groupBy = fm.group_by;
    if (!(typeof groupBy === "undefined") && !(typeof groupBy === "string")) {
      return "";
    }
    return groupBy;
  }
  parseAllProgressedTasks() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      throw new Error(`Invalid frontmatter, cannot proceed`);
    }
    const groupBy = this.parseListGroupBy(fm);
    const filterBy = this.parseListFilterBy(fm);
    const [before, after] = this.parseListBeforeAfter(fm);
    return [groupBy, filterBy, before, after];
  }
  parseAllDoneTasks() {
    return this.parseAllProgressedTasks();
  }
  parseAllDoneTaskWithoutLog() {
    return this.parseAllProgressedTasks();
  }
  parseAllTodoAdHoc() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      throw new Error(`Invalid frontmatter, cannot proceed`);
    }
    const groupBy = this.parseListGroupBy(fm);
    const filterBy = this.parseListFilterBy(fm);
    const [before, after] = this.parseListBeforeAfter(fm);
    const minPriority = Helper.getField(fm.min_priority, 0);
    return [groupBy, filterBy, before, after, minPriority];
  }
  parseInbox() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      return [[], [], 0, 4294967295];
    }
    const source = Helper.nilCheck(fm.source) ? ["logs", "fleeting"] : fm.source;
    const groupBy = Helper.nilCheck(fm.group_by) ? "none" : fm.group_by;
    const filterBy = this.parseListFilterBy(fm);
    const minSize = Helper.nilCheck(fm.min_size) ? 0 : fm.min_size;
    const maxSize = Helper.nilCheck(fm.max_size) ? 4294967295 : fm.max_size;
    return [source, groupBy, filterBy, minSize, maxSize];
  }
  parseTodoList() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      return [[], [], [], [], [], 0];
    }
    const [byAreas, byContexts, byLayers, byOrgs, byProjects] = this.parseListByNamespace(fm);
    const minPriority = Helper.getField(fm.min_priority, 0);
    return [byAreas, byContexts, byLayers, byOrgs, byProjects, minPriority];
  }
  parseDoneList() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      return [[], [], [], [], [], [], []];
    }
    const [byAreas, byContexts, byLayers, byOrgs, byProjects] = this.parseListByNamespace(fm);
    const [before, after] = this.parseListBeforeAfter(fm);
    const fields = Helper.getField(fm.fields, []);
    const stats = Helper.getField(fm.stats, []);
    return [
      byAreas,
      byContexts,
      byLayers,
      byOrgs,
      byProjects,
      fields,
      stats,
      before,
      after
    ];
  }
};
var NoteHelper = class {
  constructor(gonext, dv, frontmatter) {
    this.gonext = gonext;
    this.dv = dv;
    this.frontmatter = frontmatter;
  }
  isDoable(task, at = void 0) {
    const fm = task.file.frontmatter;
    if (fm.status !== Status.Todo) {
      return false;
    }
    if (fm.after !== void 0) {
      const after = new Date(fm.after);
      if (Date.now() <= after.getTime()) {
        return false;
      }
    }
    if (at !== void 0) {
      const fmAt = new Date(fm.at);
      fmAt.setHours(0);
      fmAt.setMinutes(0);
      fmAt.setSeconds(0);
      if (at.getTime() < fmAt.getTime()) {
        return false;
      }
    } else {
      if (fm.at !== void 0) {
        const at2 = new Date(fm.at);
        if (Date.now() <= at2.getTime()) {
          return false;
        }
      }
    }
    const deps = fm.needs;
    if (deps === void 0 || deps.length === 0) {
      return true;
    }
    if (this.hasPendingDependencies(deps)) {
      return false;
    }
    return true;
  }
  hasPendingDependencies(deps) {
    for (const dep of deps) {
      const task = this.dv.pages(`"${Paths.Tasks}/${dep}"`).array();
      if (task.length === 0) {
        console.warn(
          `hasPendingDependencies: "${Paths.Tasks}/${dep}" task does not exists`
        );
        continue;
      }
      const fm = task[0].file.frontmatter;
      if (fm.type !== Types.Task && fm.type !== Types.Provision && fm.type !== Types.Praxis) {
        continue;
      }
      if (fm.status === Status.Todo) {
        return true;
      }
    }
    return false;
  }
  isChildTag(parent, child) {
    if (child.length <= parent.length + 1) {
      return false;
    } else if (child.slice(0, parent.length + 1) != `${parent}/`) {
      return false;
    }
    return true;
  }
  getNamespaceContent(ns) {
    const children = [];
    const pages = this.dv.pages(`#${ns}`);
    for (const p of pages) {
      const tags = p.file.frontmatter.tags;
      if (tags === void 0 || tags.length === 0) {
        continue;
      }
      for (const tag of tags) {
        if (this.isChildTag(ns, tag)) {
          const t = tag.slice(ns.length + 1);
          if (!children.contains(t)) {
            children.push(t);
          }
        }
      }
    }
    return children;
  }
  isLastRevision(page) {
    const revisionList = (dv, root, current) => {
      let head = current;
      while (true) {
        const pages = dv.pages(`"${root}"`).where(
          (page2) => page2.file.frontmatter.next === head.file.frontmatter.uuid
        );
        if (pages.length > 1) {
          throw new Error();
        } else if (pages.length === 0) {
          break;
        }
        head = pages[0];
      }
      const buff = [];
      let cur = head;
      while (true) {
        buff.push(cur);
        const fm2 = cur.file.frontmatter;
        if (fm2.next === void 0) {
          break;
        }
        const pages = dv.pages(`"${root}/${fm2.next}"`);
        if (pages.length === 0) {
          break;
        }
        cur = pages[0];
      }
      return buff;
    };
    const note = page;
    const fm = note.file.frontmatter;
    let revisions = [];
    switch (fm.type) {
      case Types.Permanena:
        revisions = revisionList(this.dv, Paths.Slipbox, note);
        break;
      case Types.Resource:
        revisions = revisionList(this.dv, Paths.Resources, note);
        break;
      default:
        throw new Error();
    }
    if (revisions.length <= 1) {
      return true;
    }
    return revisions[0].file.frontmatter.uuid === fm.uuid;
  }
};
var Generator = class {
  constructor(app) {
    this.app = app;
    this.dv = app.dv;
    this.gonext = app.gonext;
  }
  action() {
    const dt = new Date();
    const note = {
      uuid: v4_default(),
      created_at: dt.toISOString(),
      path: "",
      data: ""
    };
    note.path = `${Paths.Tasks}/${note.uuid}.md`;
    note.data = `---
uuid: "${note.uuid}"
created_at: "${note.created_at}"
---
# 
## content
`;
    const f = this.app.vault.create(note.path, note.data).then((f2) => {
      return f2;
    });
    const active = this.app.workspace.activeLeaf;
    const root = active.parent;
    this.app.workspace.createLeafInParent(root, root.children.length + 1);
    const leaf = root.children[root.children.length - 1];
    f.then((file) => {
      leaf.openFile(file, { active: true });
    });
  }
  verbatim(name) {
    const dt = new Date();
    const note = {
      uuid: v4_default(),
      created_at: dt.toISOString(),
      path: "",
      data: ""
    };
    note.path = `${Paths.Verbatim}/${note.uuid}.md`;
    note.data = `---
uuid: "${note.uuid}"
created_at: "${note.created_at}"
---
# ${name}
## Content
`;
    if (name === void 0) {
      note.data = `---
uuid: "${note.uuid}"
created_at: "${note.created_at}"
---
# 
## Content
`;
    } else {
      note.data = `---
uuid: "${note.uuid}"
created_at: "${note.created_at}"
---
# ${name}
## Content
`;
    }
    const f = this.app.vault.create(note.path, note.data).then((f2) => {
      return f2;
    });
    const active = this.app.workspace.activeLeaf;
    const root = active.parent;
    this.app.workspace.createLeafInParent(root, root.children.length + 1);
    const leaf = root.children[root.children.length - 1];
    f.then((file) => {
      leaf.openFile(file, { active: true });
    });
  }
  note(name) {
    const dt = new Date();
    const note = {
      uuid: v4_default(),
      created_at: dt.toISOString(),
      path: "",
      data: ""
    };
    note.path = `${Paths.Slipbox}/${note.uuid}.md`;
    if (name === void 0) {
      note.data = `---
uuid: "${note.uuid}"
created_at: "${note.created_at}"
---
# 
## Content
`;
    } else {
      note.data = `---
uuid: "${note.uuid}"
created_at: "${note.created_at}"
---
# ${name}
## Content
`;
    }
    const f = this.app.vault.create(note.path, note.data).then((f2) => {
      return f2;
    });
    const active = this.app.workspace.activeLeaf;
    const root = active.parent;
    this.app.workspace.createLeafInParent(root, root.children.length + 1);
    const leaf = root.children[root.children.length - 1];
    f.then((file) => {
      leaf.openFile(file, { active: true });
    });
  }
};
var ListMaker = class {
  constructor(gonext, dv, frontmatter) {
    this.gonext = gonext;
    this.dv = dv;
    this.frontmatter = frontmatter;
    this.noteHelper = new NoteHelper(gonext, dv, frontmatter);
  }
  planning(lastWeek = 1) {
    const rs = [];
    const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (fm.at === void 0) {
        return false;
      }
      return true;
    }).sort((page) => page.file.frontmatter.at, "desc");
    const now = new Date();
    const bins = {};
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      let at = void 0;
      try {
        at = fm.at.toISOString().slice(0, 10);
      } catch (e) {
        throw new Error(`Invalid date: '${fm.fm.uuid}'`);
      }
      const weekNumber = this.getWeekNumber5(fm.at);
      if (fm.at.getFullYear() < now.getFullYear()) {
        if (weekNumber > 1) {
          continue;
        }
      }
      if (bins[weekNumber] === void 0) {
        bins[weekNumber] = [fm];
      } else {
        bins[weekNumber].push(fm);
      }
    }
    const currentWeekNumber = this.getWeekNumber5(now);
    for (const key of Object.keys(bins)) {
      const weekNumber = Number(key);
      if (weekNumber + lastWeek < currentWeekNumber) {
        continue;
      }
      if (weekNumber < currentWeekNumber) {
        rs.push(["header", 2, `~~week ${key}~~`]);
      } else if (weekNumber === currentWeekNumber) {
        rs.push(["header", 2, `*week ${key}*`]);
      } else {
        rs.push(["header", 2, `week ${key}`]);
      }
      bins[key].sort((a, b) => {
        return a.at.getTime() - b.at.getTime();
      });
      for (const task of bins[key]) {
        const day = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"][task.at.getDay()];
        const text = Renderer.makeLink(
          this.dv,
          task.f,
          `${task.at.toISOString().slice(0, 10)}, ${day}`,
          "Task"
        );
        if (weekNumber < currentWeekNumber) {
          rs.push(["paragraph", `~~${text}~~`]);
        } else if (weekNumber === currentWeekNumber) {
          if (this.dayOfYear(task.at) < this.dayOfYear(now)) {
            rs.push(["paragraph", `~~${text}~~`]);
          } else {
            rs.push(["paragraph", `${text}`]);
          }
        } else {
          rs.push(["paragraph", `${text}`]);
        }
      }
    }
    return rs;
  }
  dayOfYear(dt) {
    const year = dt.getFullYear();
    const month = dt.getMonth() + 1;
    const day = dt.getDate();
    const N1 = Math.floor(275 * month / 9);
    const N2 = Math.floor((month + 9) / 12);
    const N3 = 1 + Math.floor((year - 4 * Math.floor(year / 4) + 2) / 3);
    return N1 - N2 * N3 + day - 30;
  }
  getWeekNumber(d) {
    d = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));
    d.setUTCDate(d.getUTCDate() + 4 - (d.getUTCDay() || 7));
    const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));
    return Math.ceil(((d - yearStart) / 864e5 + 1) / 7);
  }
  // https://codepen.io/ldijkman/pen/LYdNJvM
  getWeekNumber5(dt) {
    const tdt = new Date(dt.valueOf());
    const dayn = dt.getDay();
    tdt.setDate(tdt.getDate() - dayn + 3);
    const firstThursday = tdt.valueOf();
    tdt.setMonth(0, 1);
    if (tdt.getDay() !== 4) {
      tdt.setMonth(0, 1 + (4 - tdt.getDay() + 7) % 7);
    }
    return 1 + Math.ceil((firstThursday - tdt) / 6048e5);
  }
  getWeekNumber4(d) {
    d = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));
    const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));
    const firstSunday = yearStart.getUTCDay() === 0 ? yearStart : new Date(
      Date.UTC(
        d.getUTCFullYear(),
        0,
        1 + (7 - yearStart.getUTCDay())
      )
    );
    const daysSinceFirstSunday = (d - firstSunday + 864e5) / 864e5;
    return Math.ceil(daysSinceFirstSunday / 7);
  }
  getMonth(year, weekNumber) {
    const firstDayOfYear = new Date(year, 0, 1);
    const firstDayOfWeek = firstDayOfYear.getDay();
    const daysToAdd = (weekNumber - 1) * 7 - firstDayOfWeek + (firstDayOfWeek === 0 ? 1 : 0);
    const weekStartDate = new Date(
      firstDayOfYear.setDate(firstDayOfYear.getDate() + daysToAdd)
    );
    if (weekStartDate.getDate() > 24) {
      weekStartDate.setDate(weekStartDate.getDate() + 7);
    }
    const monthNumber = weekStartDate.getMonth();
    return monthNumber + 1;
  }
  getMonthName(monthNumber) {
    const date = new Date(2e3, monthNumber - 1);
    return date.toLocaleString("default", { month: "long" });
  }
};

// main.ts
var dayShort = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
var monthShort = [
  "Jan",
  "Feb",
  "Mar",
  "Apr",
  "May",
  "Jun",
  "Jul",
  "Aug",
  "Sep",
  "Oct",
  "Nov",
  "Dec"
];
var DEFAULT_SETTINGS = {
  mySetting: "default"
};
var MyPlugin = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.vaultContent = [];
    this.vaultContentDict = {};
  }
  openViewInNewTabIfNotOpened(name) {
    const f = this.app.vault.getAbstractFileByPath(name);
    if (f === void 0 || f === null) {
      console.warn(`file not found ${name}`);
      return;
    }
    const active = this.app.workspace.activeLeaf;
    const root = active.parent;
    let found = false;
    let node = void 0;
    const emptyTabs = [];
    for (const leaf of root.children) {
      const file = this.getFileFromLeaf(leaf);
      if (file === void 0 || file === null) {
        emptyTabs.push(leaf);
        continue;
      }
      if (file.name === f.name) {
        found = true;
        node = leaf;
      }
    }
    if (!found) {
      if (emptyTabs.length > 0) {
        node = emptyTabs[0];
      } else {
        this.app.workspace.createLeafInParent(
          root,
          root.children.length + 1
        );
        node = root.children[root.children.length - 1];
      }
    }
    node.openFile(f, {
      active: true
    });
  }
  openInNewTabIfNotOpened(page) {
    const active = this.app.workspace.activeLeaf;
    const root = active.parent;
    let found = false;
    let node = void 0;
    const emptyTabs = [];
    for (const leaf of root.children) {
      const file = this.getFileCacheFromLeaf(leaf);
      if (file === void 0 || file === null) {
        emptyTabs.push(leaf);
        continue;
      }
      if (file.frontmatter !== void 0 && file.frontmatter.uuid === page.file.frontmatter.uuid) {
        found = true;
        node = leaf;
        break;
      }
    }
    if (!found) {
      if (emptyTabs.length > 0) {
        node = emptyTabs[0];
      } else {
        this.app.workspace.createLeafInParent(
          root,
          root.children.length + 1
        );
        node = root.children[root.children.length - 1];
      }
    }
    node.openFile(this.app.vault.getAbstractFileByPath(page.file.path), {
      active: true
    });
  }
  getFileCacheFromLeaf(leaf) {
    let file = void 0;
    try {
      file = leaf.view.file;
    } catch (e) {
      return void 0;
    }
    if (file === void 0 || file === null) {
      return void 0;
    }
    const abstractPath = this.app.vault.getAbstractFileByPath(file);
    return this.app.metadataCache.getFileCache(abstractPath);
  }
  getFileFromLeaf(leaf) {
    let file = void 0;
    try {
      file = leaf.view.file;
    } catch (e) {
      return void 0;
    }
    return this.app.vault.getAbstractFileByPath(file);
  }
  extractUUIDFromLink(link) {
    Assert.True(
      link.length >= 36,
      `extractUUIDFromLink: Invalid parameter type: link: "${link}"`
    );
    Assert.True(
      Helper.isUUID(link.slice(0, 36)),
      `extractUUIDFromLink: Invalid parameter type: link: "${link}"`
    );
    if (link.length === 36) {
      return link;
    } else {
      return link.slice(0, 36);
    }
  }
  grugAlias(_id) {
    const cache = this.getFileCacheFromUUID(_id);
    if (cache === void 0) {
      console.error(`grugAlias: file not found in grug cache ${_id}`);
      return "";
    }
    console.log(cache);
    console.log();
    let targetName = void 0;
    const fm = cache.frontmatter;
    if (cache.headings.length > 0 && cache.headings[0].level === 1) {
      targetName = cache.headings[0].heading;
    } else if (fm.alias !== void 0) {
      if (Array.isArray(fm.alias) && fm.alias.length > 0) {
        targetName = cache.frontmatter.alias[0];
      } else {
        targetName = cache.frontmatter.alias;
      }
    } else {
      targetName = _id;
    }
    const file = this.getFileFromUUID(_id);
    if (file === void 0) {
      console.error(`grugAlias: Cannot grug this id: ${_id}`);
      return "";
    }
    const path = `${file.path.split("/").slice(0, -1)}/${_id}`;
    return `[[${path}|${targetName}]]`;
  }
  getFileFromUUID(_id) {
    return this.vaultContentDict[_id];
  }
  getFileCacheFromUUID(_id) {
    const f = this.vaultContentDict[_id];
    if (f === void 0) {
      return void 0;
    }
    return this.app.metadataCache.getFileCache(f);
  }
  async onload() {
    var _a, _b;
    console.log("gonext - onload()");
    await this.loadSettings();
    this.metadataCache = this.app.metadataCache;
    this.workspace = this.app.workspace;
    this.dv = this.app.plugins.plugins.dataview.api;
    this.frontmatter = new Frontmatter(this);
    this.listMaker = new ListMaker(this, this.dv, this.frontmatter);
    this.generate = new Generator(this.app);
    this.files = {};
    this.api = {
      namespace: Namespace,
      default: Default,
      frontmatter: this.frontmatter,
      listMaker: this.listMaker,
      renderer: Renderer,
      FrontmatterJS
    };
    window.gonext = {
      // @ts-ignore
      state: (_b = (_a = window.gonext) == null ? void 0 : _a.state) != null ? _b : {},
      // @ts-ignore
      app: this.app
    };
    (0, import_obsidian.addIcon)(
      "GoNextIcon",
      `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path fill="currentColor" d="M20 12V2h2v10zm4 0V2h2v10zm4 0V2h2v10zm-12 8a3.912 3.912 0 0 1-4-4a3.912 3.912 0 0 1 4-4v-2a6 6 0 1 0 6 6h-2a3.912 3.912 0 0 1-4 4"></path><path fill="currentColor" d="M28.893 18.454L26.098 16l-1.318 1.504l2.792 2.452l-2.36 4.088l-3.427-1.16a9.032 9.032 0 0 1-2.714 1.565L18.36 28h-4.72l-.71-3.55a9.095 9.095 0 0 1-2.695-1.572l-3.447 1.166l-2.36-4.088l2.725-2.395a8.926 8.926 0 0 1-.007-3.128l-2.718-2.39l2.36-4.087l3.427 1.16A9.03 9.03 0 0 1 12.93 7.55L13.64 4H16V2h-2.36a2 2 0 0 0-1.961 1.608l-.504 2.519a10.967 10.967 0 0 0-1.327.753l-2.42-.819a1.998 1.998 0 0 0-2.372.895l-2.36 4.088a2 2 0 0 0 .411 2.502l1.931 1.697C5.021 15.495 5 15.745 5 16c0 .258.01.513.028.766l-1.92 1.688a2 2 0 0 0-.413 2.502l2.36 4.088a1.998 1.998 0 0 0 2.374.895l2.434-.824a10.974 10.974 0 0 0 1.312.759l.503 2.518A2 2 0 0 0 13.64 30h4.72a2 2 0 0 0 1.961-1.608l.504-2.519a10.967 10.967 0 0 0 1.327-.753l2.419.818a1.998 1.998 0 0 0 2.373-.894l2.36-4.088a2 2 0 0 0-.411-2.502"></path></svg>`
    );
    this.addCommand({
      id: "open-assets",
      name: "Open Assets",
      // @ts-ignore
      callback: async () => {
        const leaf = this.app.workspace.getLeaf();
        const file = this.getFileFromLeaf(leaf);
        const cache = this.getFileCacheFromLeaf(leaf);
        const adapter = this.app.vault.adapter;
        const vaultDir = adapter.basePath;
        const fm = cache.frontmatter;
        if (fm === void 0) {
          console.log(`file does not have a frontmatter: ${file.path}`);
          return;
        }
        const uuid = fm.uuid;
        if (uuid === void 0) {
          console.log(`file does not have a uuid: ${file.path}`);
          return;
        }
        if (!await adapter.exists(`${Paths.Assets}/${uuid}/`)) {
          await this.app.vault.adapter.mkdir(`${Paths.Assets}/${uuid}/`);
        }
        const assetPath = `${vaultDir}/${Paths.Assets}/${uuid}/`;
        console.log(assetPath);
        const { shell } = require("electron");
        shell.showItemInFolder(assetPath);
      }
    });
    this.addCommand({
      id: "open-index",
      name: "Open Index",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Notes/eec0a297-982c-471c-9748-4943ec45fe94.md");
      }
    });
    this.addCommand({
      id: "open-inbox",
      name: "Open Inbox",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Notes/8c7aad2a-b67f-44b7-86fd-27a50410be65.md");
      }
    });
    this.addCommand({
      id: "open-planning",
      name: "Open Planning",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Planning.md");
      }
    });
    this.addCommand({
      id: "open-next_actions",
      name: "Open Next Actions",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Notes/ab7aec92-2273-40bc-9632-da70937b5575.md");
      }
    });
    this.addCommand({
      id: "open-someday_maybe",
      name: "Open Someday Maybe",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Notes/e7b605b9-4d3a-4c17-bf4e-e7f1a51f7a30.md");
      }
    });
    this.addCommand({
      id: "open-waiting_for",
      name: "Open Waiting For",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Notes/7a13d7ac-732b-4cec-91f0-1498c824b82e.md");
      }
    });
    this.addCommand({
      id: "open-todays-log",
      name: "Open Today's Logs",
      // @ts-ignore
      callback: () => {
        const now = new Date();
        const nowIso = now.toISOString().slice(0, 10);
        const pages = this.dv.pages(`"${Paths.Slipbox}"`).where((page) => {
          const fm = new FrontmatterJS(page);
          const cache = this.getFileCacheFromUUID(fm.uuid);
          const nameHeading = this.getResourceName(cache);
          if (nameHeading === void 0) {
            return false;
          }
          if (nameHeading !== nowIso) {
            return false;
          }
          return true;
        });
        if (pages.length === 0) {
          this.generate.note(nowIso);
        } else if (pages.length > 1) {
          console.warn(`more than one occurence for ${nowIso}: ${pages.length}`);
          this.openInNewTabIfNotOpened(pages[0]);
        } else {
          this.openInNewTabIfNotOpened(pages[0]);
        }
      }
    });
    this.addCommand({
      id: "check-duplicates",
      name: "Check for Duplicates",
      // @ts-ignore
      callback: () => {
        const res = {};
        let i = 0;
        const pages = this.dv.pages(`"${Paths.Slipbox}"`);
        for (const page of pages) {
          const fm = new FrontmatterJS(page);
          const cache = this.getFileCacheFromUUID(fm.uuid);
          const nameHeading = this.getResourceName(
            cache
          );
          if (nameHeading === void 0 || nameHeading === "") {
            continue;
          }
          if (nameHeading.length !== 10 || nameHeading[0] !== "2") {
            continue;
          }
          if (res[nameHeading] === void 0 || res[nameHeading] === null) {
            res[nameHeading] = [fm.uuid];
          } else {
            res[nameHeading].push(fm.uuid);
          }
        }
        const keys = Object.keys(res);
        keys.sort();
        for (const key of keys) {
          if (res[key].length > 1) {
            console.log(key);
            for (const page of res[key]) {
              console.log(`	${page}`);
            }
          }
        }
      }
    });
    this.addCommand({
      id: "open-yesterdays-logs",
      name: "Open Yesterday's Logs",
      // @ts-ignore
      callback: () => {
        const now = new Date();
        now.setDate(now.getDate() - 1);
        const nowIso = now.toISOString().slice(0, 10);
        const pages = this.dv.pages(`"${Paths.Slipbox}"`).where((page) => {
          const fm = new FrontmatterJS(page);
          const cache = this.getFileCacheFromUUID(fm.uuid);
          const nameHeading = this.getResourceName(
            cache
          );
          if (nameHeading === void 0) {
            return false;
          }
          if (nameHeading !== nowIso) {
            return false;
          }
          return true;
        });
        if (pages.length === 0) {
          return;
        }
        this.openInNewTabIfNotOpened(pages[0]);
      }
    });
    this.addCommand({
      id: "open-todays-daily",
      name: "Open Today's Daily",
      // @ts-ignore
      callback: () => {
        const now = new Date();
        const nowIso = now.toISOString().slice(0, 10);
        const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
          if (page.file.frontmatter.at === void 0) {
            return false;
          }
          const fm = new FrontmatterJS(page);
          if (fm.getProject() !== "daily") {
            return false;
          }
          let fmIso = void 0;
          try {
            fmIso = fm.at.toISOString().slice(0, 10);
          } catch (e) {
            console.warn(`possible invalid data in ${fm.uuid}`);
            return false;
          }
          if (fmIso === nowIso) {
            return true;
          }
          return false;
        });
        if (pages.length === 0) {
          return;
        }
        this.openInNewTabIfNotOpened(pages[0]);
      }
    });
    this.addCommand({
      id: "open-tomorrows-daily",
      name: "Open Tomorrow's Daily",
      // @ts-ignore
      callback: () => {
        const now = new Date();
        now.setDate(now.getDate() + 1);
        const nowIso = now.toISOString().slice(0, 10);
        const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
          if (page.file.frontmatter.at === void 0) {
            return false;
          }
          const fm = new FrontmatterJS(page);
          if (fm.getProject() !== "daily") {
            return false;
          }
          let fmIso = void 0;
          try {
            fmIso = fm.at.toISOString().slice(0, 10);
          } catch (e) {
            console.warn(`possible invalid data in ${fm.uuid}`);
            return false;
          }
          if (fmIso === nowIso) {
            return true;
          }
          return false;
        });
        if (pages.length === 0) {
          return;
        }
        this.openInNewTabIfNotOpened(pages[0]);
      }
    });
    this.addCommand({
      id: "open-yesterdays-daily",
      name: "Open Yesterday's Daily",
      // @ts-ignore
      callback: () => {
        const now = new Date();
        now.setDate(now.getDate() - 1);
        const nowIso = now.toISOString().slice(0, 10);
        const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
          if (page.file.frontmatter.at === void 0) {
            return false;
          }
          const fm = new FrontmatterJS(page);
          if (fm.getProject() !== "daily") {
            return false;
          }
          let fmIso = void 0;
          try {
            fmIso = fm.at.toISOString().slice(0, 10);
          } catch (e) {
            console.warn(`possible invalid data in ${fm.uuid}`);
            return false;
          }
          if (fmIso === nowIso) {
            return true;
          }
          return false;
        });
        if (pages.length === 0) {
          return;
        }
        this.openInNewTabIfNotOpened(pages[0]);
      }
    });
    this.addCommand({
      id: "generate-note",
      name: "Generate Note",
      // @ts-ignore
      callback: () => {
        this.generate.note();
      }
    });
    this.addCommand({
      id: "generate-verbatim",
      name: "Generate Verbatim",
      // @ts-ignore
      callback: () => {
        this.generate.verbatim();
      }
    });
    this.addCommand({
      id: "generate-action",
      name: "Generate Action",
      // @ts-ignore
      callback: () => {
        this.generate.action();
      }
    });
    this.addCommand({
      id: "clippy-the-clipper",
      name: "Clippy Clip",
      // @ts-ignore
      callback: () => {
        navigator.clipboard.readText().then((text) => {
          let _id = void 0;
          try {
            _id = this.extractUUIDFromLink(text);
          } catch (e) {
            return;
          }
          const file = this.getFileFromUUID(_id);
          Assert.True(
            file !== void 0,
            `getFileFromUUID: returned undefined for uuid: ${_id}`
          );
          const rootDir = file.path.split("/")[0];
          const authorized = [Paths.Slipbox, Paths.Refs];
          const alias = this.grugAlias(_id);
          const activeLeaf = this.app.workspace.activeLeaf;
          if (activeLeaf) {
            const editor = activeLeaf.view.sourceMode.cmEditor;
            const cursor = editor.getCursor();
            editor.replaceRange(alias, cursor);
          }
        });
      }
    });
    this.addCommand({
      id: "copy-uuid",
      name: "Copy UUID",
      // @ts-ignore
      callback: async () => {
        const leaf = this.app.workspace.getLeaf();
        const file = this.getFileFromLeaf(leaf);
        const cache = this.getFileCacheFromLeaf(leaf);
        const fm = cache.frontmatter;
        if (fm === void 0) {
          console.log(`file does not have a frontmatter: ${file.path}`);
          return;
        }
        const uuid = fm.uuid;
        if (uuid === void 0) {
          console.log(`file does not have a uuid: ${file.path}`);
          return;
        }
        if (["Verbatim", "Notes", "Actions"].contains(file.parent.name)) {
          await navigator.clipboard.writeText(String(cache.frontmatter.uuid));
        }
      }
    });
    this.addCommand({
      id: "safe-delete",
      name: "Safe Delete",
      // @ts-ignore
      callback: () => {
        const file = this.app.workspace.getActiveFile();
        if (file === void 0) {
          return;
        }
        const safeFromHarm = [
          "INBOX.md",
          "INDEX.md",
          "Logs.md",
          "NEXT ACTIONS.md",
          "SOMEDAY MAYBE.md",
          "WAITING FOR.md",
          "Planning.md"
        ];
        const fm = this.app.metadataCache.getFileCache(file).frontmatter;
        if (safeFromHarm.contains(file.path)) {
          console.log(
            "Oopsie, almost did an oopsie. Got your back bro"
          );
          return;
        }
        if (fm.tags !== void 0 && fm.tags.length >= 0) {
          for (const tag of fm.tags) {
            if (tag === "project/daily") {
              console.log(
                "Hey George What's up George, You cannot do that George"
              );
              return;
            }
          }
        }
        console.log(`deleted file: ${file.path}`);
        this.app.vault.delete(file);
      }
    });
    this.addCommand({
      id: "append-to-inbox",
      name: "Append to Inbox",
      // @ts-ignore
      callback: () => {
        const f = this.app.vault.getAbstractFileByPath("INBOX.md");
        if (f === void 0 || f === null) {
          console.warn(`file not found INBOX.md`);
          return;
        }
        const active = this.app.workspace.getLeaf();
        const root = active.parent;
        let found = false;
        let node = void 0;
        const emptyTabs = [];
        for (const leaf of root.children) {
          const file = this.getFileFromLeaf(leaf);
          if (file === void 0 || file === null) {
            emptyTabs.push(leaf);
            continue;
          }
          if (file.name === f.name) {
            found = true;
            node = leaf;
          }
        }
        if (!found) {
          if (emptyTabs.length > 0) {
            node = emptyTabs[0];
          } else {
            this.app.workspace.createLeafInParent(
              root,
              root.children.length + 1
            );
            node = root.children[root.children.length - 1];
          }
        }
        const editorAction = (node2) => {
          const editor = node2.view.sourceMode.cmEditor;
          editor.insertText("\n\n---\n\n", editor.lastLine());
          editor.setCursor(editor.lastLine(), 0);
        };
        if (this.app.workspace.getActiveFile() === null || this.app.workspace.getActiveFile().name !== "INBOX.md") {
          node.openFile(f, {
            active: true
          }).then((_) => editorAction(node));
        } else {
          editorAction(node);
        }
      }
    });
    this.app.workspace.onLayoutReady(() => {
      console.log("workspace - layout-ready");
      for (const f of this.app.vault.getFiles()) {
        if (!Helper.isUUID(f.basename)) {
          continue;
        }
        this.vaultContentDict[f.basename] = f;
      }
    });
    this.app.metadataCache.on(
      "changed",
      (file, data, cache) => {
        if (Helper.isUUID(file.basename)) {
          this.vaultContentDict[file.basename] = file;
        }
      }
    );
    this.app.workspace.on("active-leaf-change", () => {
      return this.sneakyTabRenamer(this.app);
    });
    this.app.workspace.on("quick-preview", () => {
      return this.sneakyTabRenamer(this.app);
    });
    this.app.workspace.on("resize", () => {
      return this.sneakyTabRenamer(this.app);
    });
  }
  sneakyTabRenamer(app) {
    const root = this.app.workspace.getLeaf().parent;
    for (const leaf of root.children) {
      const file = leaf.view.file;
      if (file === void 0) {
        continue;
      }
      const cache = this.app.metadataCache.getFileCache(file);
      const fm = cache.frontmatter;
      if (fm === void 0) {
        continue;
      }
      let text = "";
      if (file.parent.name === "Actions") {
        const at = new Date(fm.at);
        text = `(A) ${dayShort[at.getDay()]}. ${at.getDate()} ${monthShort[at.getMonth()]}`;
      } else if (file.parent.name === "Notes") {
        if (cache.headings.length > 0 && cache.headings[0].level === 1) {
          text = `(N) ${cache.headings[0].heading}`;
        } else {
          text = `(N) ${fm.uuid}`;
        }
      } else if (file.parent.name === "Verbatim") {
        if (cache.headings.length > 0 && cache.headings[0].level === 1) {
          text = `(V) ${cache.headings[0].heading}`;
        } else {
          text = `(V) ${fm.uuid}`;
        }
      } else {
        console.warn(`type undefined for fm: ${fm}`);
        return;
      }
      leaf.tabHeaderInnerTitleEl.innerText = text;
      leaf.tabHeaderInnerTitleEl.innerHTML = text;
    }
  }
  getResourceName(cache) {
    let resourceName = "";
    if (cache.headings.length > 0 && cache.headings[0].level === 1) {
      resourceName = cache.headings[0].heading;
    } else if (cache.frontmatter.alias !== void 0) {
      if (Array.isArray(cache.frontmatter.alias) && cache.frontmatter.alias.length > 0) {
        resourceName = cache.frontmatter.alias[0];
      } else {
        resourceName = cache.frontmatter.alias;
      }
    } else {
      resourceName = cache.frontmatter.uuid;
    }
    return resourceName;
  }
  onunload() {
    console.log("gonext - onunload()");
    delete window.gonext;
  }
  async loadSettings() {
    this.settings = Object.assign(
      {},
      DEFAULT_SETTINGS,
      await this.loadData()
    );
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJjb25zdGFudHMudHMiLCAibm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9zdHJpbmdpZnkuanMiLCAibm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9ybmcuanMiLCAibm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9uYXRpdmUuanMiLCAibm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92NC5qcyIsICJhcGkudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8vIEB0cy1pZ25vcmVcbmltcG9ydCB7XG5cdEFwcCxcblx0TW9kYWwsXG5cdFBsdWdpbixcblx0V29ya3NwYWNlLFxuXHQvLyBAdHMtaWdub3JlXG5cdEhUTUxFbGVtZW50LFxuXHRhZGRJY29uLFxuXHRDYWNoZWRNZXRhZGF0YSxcblx0VEZpbGUsXG5cdFRBYnN0cmFjdEZpbGUsXG59IGZyb20gXCJvYnNpZGlhblwiO1xuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IHtcblx0SGVscGVyLFxuXHRGcm9udG1hdHRlcixcblx0TGlzdE1ha2VyLFxuXHQvLyBAdHMtaWdub3JlXG5cdE5hbWVzcGFjZSxcblx0Ly8gQHRzLWlnbm9yZVxuXHRSZW5kZXJlcixcblx0Ly8gQHRzLWlnbm9yZVxuXHRBdXRvRmllbGQsXG5cdC8vIEB0cy1pZ25vcmVcblx0RnJvbnRtYXR0ZXJKUyxcblx0RHZMaWIsXG5cdC8vIEB0cy1pZ25vcmVcblx0R2VuZXJhdG9yLFxuXHQvLyBAdHMtaWdub3JlXG5cdEFzc2VydCxcbn0gZnJvbSBcIi4vYXBpXCI7XG4vLyBAdHMtaWdub3JlXG5pbXBvcnQgeyBQYXRocywgU3RhdHVzLCBUeXBlcywgTmFtZXNwYWNlLCBEZWZhdWx0IH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5cbmNvbnN0IGRheVNob3J0ID0gW1wiU3VuXCIsIFwiTW9uXCIsIFwiVHVlXCIsIFwiV2VkXCIsIFwiVGh1XCIsIFwiRnJpXCIsIFwiU2F0XCJdO1xuY29uc3QgbW9udGhTaG9ydCA9IFtcblx0XCJKYW5cIixcblx0XCJGZWJcIixcblx0XCJNYXJcIixcblx0XCJBcHJcIixcblx0XCJNYXlcIixcblx0XCJKdW5cIixcblx0XCJKdWxcIixcblx0XCJBdWdcIixcblx0XCJTZXBcIixcblx0XCJPY3RcIixcblx0XCJOb3ZcIixcblx0XCJEZWNcIixcbl07XG5cbi8vIFJlbWVtYmVyIHRvIHJlbmFtZSB0aGVzZSBjbGFzc2VzIGFuZCBpbnRlcmZhY2VzIVxuaW50ZXJmYWNlIE15UGx1Z2luU2V0dGluZ3Mge1xuXHRteVNldHRpbmc6IHN0cmluZztcbn1cblxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogTXlQbHVnaW5TZXR0aW5ncyA9IHtcblx0bXlTZXR0aW5nOiBcImRlZmF1bHRcIixcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE15UGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcblx0c2V0dGluZ3M6IE15UGx1Z2luU2V0dGluZ3M7XG5cdHdvcmtzcGFjZTogV29ya3NwYWNlO1xuXHRtZXRhZGF0YUNhY2hlOiBhbnk7XG5cdGR2OiBhbnk7XG5cdC8vIEB0cy1pZ25vcmVcblx0cmVuZGVyOiBSZW5kZXI7XG5cdGRlYnVnOiBib29sZWFuO1xuXHR0YXNrSW5TdGF0dXNCYXI6IEhUTUxFbGVtZW50O1xuXHRhcGk6IGFueTtcblx0bGlzdE1ha2VyOiBMaXN0TWFrZXI7XG5cdGZyb250bWF0dGVyOiBGcm9udG1hdHRlcjtcblx0Z2VuZXJhdGU6IEdlbmVyYXRvcjtcblx0dmF1bHRDb250ZW50OiBURmlsZVtdID0gW107XG5cdHZhdWx0Q29udGVudERpY3Q6IHsgW2lkOiBzdHJpbmddOiBURmlsZSB9ID0ge307XG5cblx0b3BlblZpZXdJbk5ld1RhYklmTm90T3BlbmVkKG5hbWU6IHN0cmluZykge1xuXHRcdGNvbnN0IGYgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgobmFtZSk7XG5cdFx0aWYgKGYgPT09IHVuZGVmaW5lZCB8fCBmID09PSBudWxsKSB7XG5cdFx0XHRjb25zb2xlLndhcm4oYGZpbGUgbm90IGZvdW5kICR7bmFtZX1gKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjb25zdCBhY3RpdmUgPSB0aGlzLmFwcC53b3Jrc3BhY2UuYWN0aXZlTGVhZjtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0Y29uc3Qgcm9vdCA9IGFjdGl2ZS5wYXJlbnQ7XG5cdFx0Ly8gcmVjaGVyY2hlciBzaSBwYXMgZFx1MDBFOWphIG91dmVydCBkYW5zIGxlcyBvbmdsZXRzIGFjdGlmc1xuXHRcdC8vIHNpbm9uIGNyXHUwMEU5ZXIgdW4gbm91dmVsIG9uZ2xldCwgb3V2cmlyIGxlIGZpY2hpZXIsIGV0IGVuIGZhaXJlIGwnb25nbGV0IGFjdGlmXG5cdFx0bGV0IGZvdW5kID0gZmFsc2U7XG5cdFx0bGV0IG5vZGUgPSB1bmRlZmluZWQ7XG5cdFx0Y29uc3QgZW1wdHlUYWJzID0gW107XG5cblx0XHRmb3IgKGNvbnN0IGxlYWYgb2Ygcm9vdC5jaGlsZHJlbikge1xuXHRcdFx0Y29uc3QgZmlsZSA9IHRoaXMuZ2V0RmlsZUZyb21MZWFmKGxlYWYpO1xuXHRcdFx0aWYgKGZpbGUgPT09IHVuZGVmaW5lZCB8fCBmaWxlID09PSBudWxsKSB7XG5cdFx0XHRcdGVtcHR5VGFicy5wdXNoKGxlYWYpO1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGZpbGUubmFtZSA9PT0gZi5uYW1lKSB7XG5cdFx0XHRcdGZvdW5kID0gdHJ1ZTtcblx0XHRcdFx0bm9kZSA9IGxlYWY7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmICghZm91bmQpIHtcblx0XHRcdGlmIChlbXB0eVRhYnMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRub2RlID0gZW1wdHlUYWJzWzBdO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLmNyZWF0ZUxlYWZJblBhcmVudChcblx0XHRcdFx0XHRyb290LFxuXHRcdFx0XHRcdHJvb3QuY2hpbGRyZW4ubGVuZ3RoICsgMSxcblx0XHRcdFx0KTtcblx0XHRcdFx0bm9kZSA9IHJvb3QuY2hpbGRyZW5bcm9vdC5jaGlsZHJlbi5sZW5ndGggLSAxXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRub2RlLm9wZW5GaWxlKGYsIHtcblx0XHRcdGFjdGl2ZTogdHJ1ZSxcblx0XHR9KTtcblx0fVxuXG5cdG9wZW5Jbk5ld1RhYklmTm90T3BlbmVkKHBhZ2UpIHtcblx0XHRjb25zdCBhY3RpdmUgPSB0aGlzLmFwcC53b3Jrc3BhY2UuYWN0aXZlTGVhZjtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0Y29uc3Qgcm9vdCA9IGFjdGl2ZS5wYXJlbnQ7XG5cdFx0Ly8gcmVjaGVyY2hlciBzaSBwYXMgZFx1MDBFOWphIG91dmVydCBkYW5zIGxlcyBvbmdsZXRzIGFjdGlmc1xuXHRcdC8vIHNpbm9uIGNyXHUwMEU5ZXIgdW4gbm91dmVsIG9uZ2xldCwgb3V2cmlyIGxlIGZpY2hpZXIsIGV0IGVuIGZhaXJlIGwnb25nbGV0IGFjdGlmXG5cdFx0bGV0IGZvdW5kID0gZmFsc2U7XG5cdFx0bGV0IG5vZGUgPSB1bmRlZmluZWQ7XG5cdFx0Y29uc3QgZW1wdHlUYWJzID0gW107XG5cblx0XHRmb3IgKGNvbnN0IGxlYWYgb2Ygcm9vdC5jaGlsZHJlbikge1xuXHRcdFx0Y29uc3QgZmlsZSA9IHRoaXMuZ2V0RmlsZUNhY2hlRnJvbUxlYWYobGVhZik7XG5cdFx0XHRpZiAoZmlsZSA9PT0gdW5kZWZpbmVkIHx8IGZpbGUgPT09IG51bGwpIHtcblx0XHRcdFx0ZW1wdHlUYWJzLnB1c2gobGVhZik7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoXG5cdFx0XHRcdGZpbGUuZnJvbnRtYXR0ZXIgIT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0XHRmaWxlLmZyb250bWF0dGVyLnV1aWQgPT09IHBhZ2UuZmlsZS5mcm9udG1hdHRlci51dWlkXG5cdFx0XHQpIHtcblx0XHRcdFx0Zm91bmQgPSB0cnVlO1xuXHRcdFx0XHRub2RlID0gbGVhZjtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCFmb3VuZCkge1xuXHRcdFx0aWYgKGVtcHR5VGFicy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdG5vZGUgPSBlbXB0eVRhYnNbMF07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuY3JlYXRlTGVhZkluUGFyZW50KFxuXHRcdFx0XHRcdHJvb3QsXG5cdFx0XHRcdFx0cm9vdC5jaGlsZHJlbi5sZW5ndGggKyAxLFxuXHRcdFx0XHQpO1xuXHRcdFx0XHRub2RlID0gcm9vdC5jaGlsZHJlbltyb290LmNoaWxkcmVuLmxlbmd0aCAtIDFdO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdG5vZGUub3BlbkZpbGUodGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHBhZ2UuZmlsZS5wYXRoKSwge1xuXHRcdFx0YWN0aXZlOiB0cnVlLFxuXHRcdH0pO1xuXHR9XG5cblx0Z2V0RmlsZUNhY2hlRnJvbUxlYWYobGVhZik6IENhY2hlZE1ldGFkYXRhIHtcblx0XHRsZXQgZmlsZSA9IHVuZGVmaW5lZDtcblx0XHR0cnkge1xuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0ZmlsZSA9IGxlYWYudmlldy5maWxlO1xuXHRcdH0gY2F0Y2gge1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0aWYgKGZpbGUgPT09IHVuZGVmaW5lZCB8fCBmaWxlID09PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0Y29uc3QgYWJzdHJhY3RQYXRoID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZpbGUpO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRyZXR1cm4gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoYWJzdHJhY3RQYXRoKTtcblx0fVxuXG5cdGdldEZpbGVGcm9tTGVhZihsZWFmKTogVEFic3RyYWN0RmlsZSB7XG5cdFx0bGV0IGZpbGUgPSB1bmRlZmluZWQ7XG5cdFx0dHJ5IHtcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGZpbGUgPSBsZWFmLnZpZXcuZmlsZTtcblx0XHR9IGNhdGNoIHtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRyZXR1cm4gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZpbGUpO1xuXHR9XG5cblx0ZXh0cmFjdFVVSURGcm9tTGluayhsaW5rOiBzdHJpbmcpIHtcblx0XHRBc3NlcnQuVHJ1ZShcblx0XHRcdGxpbmsubGVuZ3RoID49IDM2LFxuXHRcdFx0YGV4dHJhY3RVVUlERnJvbUxpbms6IEludmFsaWQgcGFyYW1ldGVyIHR5cGU6IGxpbms6IFwiJHtsaW5rfVwiYCxcblx0XHQpO1xuXG5cdFx0Ly8gYXQgdGhpcyBwb2ludCBsaW5rIGlzIGVpdGhlciBmb3JtIHV1aWQjaGVhZGluZyB8fCBpbnZhbGlkXG5cdFx0Ly8gd2UgY2FuIHNhZmVseSBhc3N1bWUgMDozNiBpcyB0aGUgdXVpZFxuXHRcdEFzc2VydC5UcnVlKFxuXHRcdFx0SGVscGVyLmlzVVVJRChsaW5rLnNsaWNlKDAsIDM2KSksXG5cdFx0XHRgZXh0cmFjdFVVSURGcm9tTGluazogSW52YWxpZCBwYXJhbWV0ZXIgdHlwZTogbGluazogXCIke2xpbmt9XCJgLFxuXHRcdCk7XG5cdFx0aWYgKGxpbmsubGVuZ3RoID09PSAzNikge1xuXHRcdFx0cmV0dXJuIGxpbms7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBsaW5rLnNsaWNlKDAsIDM2KTtcblx0XHR9XG5cdH1cblxuXHRncnVnQWxpYXMoX2lkOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRcdGNvbnN0IGNhY2hlID0gdGhpcy5nZXRGaWxlQ2FjaGVGcm9tVVVJRChfaWQpO1xuXHRcdGlmIChjYWNoZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKGBncnVnQWxpYXM6IGZpbGUgbm90IGZvdW5kIGluIGdydWcgY2FjaGUgJHtfaWR9YCk7XG5cdFx0XHRyZXR1cm4gXCJcIjtcblx0XHR9XG5cblx0XHRjb25zb2xlLmxvZyhjYWNoZSk7XG5cdFx0Y29uc29sZS5sb2coKTtcblx0XHQvLyB3aGF0IGlzIHRoZSBuYW1pbmcgcHJlZmVyZW5jZT9cblx0XHQvLyBhbGlhcyA+IG5hbWUgaGVhZGluZ1xuXHRcdGxldCB0YXJnZXROYW1lID0gdW5kZWZpbmVkO1xuXHRcdGNvbnN0IGZtID0gY2FjaGUuZnJvbnRtYXR0ZXI7XG5cblx0XHRpZiAoY2FjaGUuaGVhZGluZ3MubGVuZ3RoID4gMCAmJiBjYWNoZS5oZWFkaW5nc1swXS5sZXZlbCA9PT0gMSkge1xuXHRcdFx0dGFyZ2V0TmFtZSA9IGNhY2hlLmhlYWRpbmdzWzBdLmhlYWRpbmc7XG5cdFx0fSBlbHNlIGlmIChmbS5hbGlhcyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRpZiAoQXJyYXkuaXNBcnJheShmbS5hbGlhcykgJiYgZm0uYWxpYXMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHQvLyBwcm9ibGVtIGF0aGVpc3RzP1xuXHRcdFx0XHR0YXJnZXROYW1lID0gY2FjaGUuZnJvbnRtYXR0ZXIuYWxpYXNbMF07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0YXJnZXROYW1lID0gY2FjaGUuZnJvbnRtYXR0ZXIuYWxpYXM7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldE5hbWUgPSBfaWQ7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZmlsZSA9IHRoaXMuZ2V0RmlsZUZyb21VVUlEKF9pZCk7XG5cdFx0aWYgKGZpbGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Y29uc29sZS5lcnJvcihgZ3J1Z0FsaWFzOiBDYW5ub3QgZ3J1ZyB0aGlzIGlkOiAke19pZH1gKTtcblx0XHRcdHJldHVybiBcIlwiO1xuXHRcdH1cblx0XHRjb25zdCBwYXRoID0gYCR7ZmlsZS5wYXRoLnNwbGl0KFwiL1wiKS5zbGljZSgwLCAtMSl9LyR7X2lkfWA7XG5cblx0XHRyZXR1cm4gYFtbJHtwYXRofXwke3RhcmdldE5hbWV9XV1gO1xuXHR9XG5cblx0Z2V0RmlsZUZyb21VVUlEKF9pZDogc3RyaW5nKTogVEFic3RyYWN0RmlsZSB7XG5cdFx0cmV0dXJuIHRoaXMudmF1bHRDb250ZW50RGljdFtfaWRdO1xuXHR9XG5cblx0Z2V0RmlsZUNhY2hlRnJvbVVVSUQoX2lkOiBzdHJpbmcpOiBDYWNoZWRNZXRhZGF0YSB7XG5cdFx0Y29uc3QgZiA9IHRoaXMudmF1bHRDb250ZW50RGljdFtfaWRdO1xuXHRcdGlmIChmID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGYpO1xuXHR9XG5cblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdGNvbnNvbGUubG9nKFwiZ29uZXh0IC0gb25sb2FkKClcIik7XG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblx0XHR0aGlzLm1ldGFkYXRhQ2FjaGUgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlO1xuXHRcdHRoaXMud29ya3NwYWNlID0gdGhpcy5hcHAud29ya3NwYWNlO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHR0aGlzLmR2ID0gdGhpcy5hcHAucGx1Z2lucy5wbHVnaW5zLmRhdGF2aWV3LmFwaTtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0dGhpcy5mcm9udG1hdHRlciA9IG5ldyBGcm9udG1hdHRlcih0aGlzKTtcblx0XHR0aGlzLmxpc3RNYWtlciA9IG5ldyBMaXN0TWFrZXIodGhpcywgdGhpcy5kdiwgdGhpcy5mcm9udG1hdHRlcik7XG5cdFx0dGhpcy5nZW5lcmF0ZSA9IG5ldyBHZW5lcmF0b3IodGhpcy5hcHApO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHR0aGlzLmZpbGVzID0ge307XG5cblx0XHR0aGlzLmFwaSA9IHtcblx0XHRcdG5hbWVzcGFjZTogTmFtZXNwYWNlLFxuXHRcdFx0ZGVmYXVsdDogRGVmYXVsdCxcblx0XHRcdGZyb250bWF0dGVyOiB0aGlzLmZyb250bWF0dGVyLFxuXHRcdFx0bGlzdE1ha2VyOiB0aGlzLmxpc3RNYWtlcixcblx0XHRcdHJlbmRlcmVyOiBSZW5kZXJlcixcblx0XHRcdEZyb250bWF0dGVySlM6IEZyb250bWF0dGVySlMsXG5cdFx0fTtcblxuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHR3aW5kb3cuZ29uZXh0ID0ge1xuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0c3RhdGU6IHdpbmRvdy5nb25leHQ/LnN0YXRlID8/IHt9LFxuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0YXBwOiB0aGlzLmFwcCxcblx0XHR9O1xuXHRcdGFkZEljb24oXG5cdFx0XHRcIkdvTmV4dEljb25cIixcblx0XHRcdGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjMyXCIgaGVpZ2h0PVwiMzJcIiB2aWV3Qm94PVwiMCAwIDMyIDMyXCI+PHBhdGggZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNMjAgMTJWMmgydjEwem00IDBWMmgydjEwem00IDBWMmgydjEwem0tMTIgOGEzLjkxMiAzLjkxMiAwIDAgMS00LTRhMy45MTIgMy45MTIgMCAwIDEgNC00di0yYTYgNiAwIDEgMCA2IDZoLTJhMy45MTIgMy45MTIgMCAwIDEtNCA0XCI+PC9wYXRoPjxwYXRoIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTI4Ljg5MyAxOC40NTRMMjYuMDk4IDE2bC0xLjMxOCAxLjUwNGwyLjc5MiAyLjQ1MmwtMi4zNiA0LjA4OGwtMy40MjctMS4xNmE5LjAzMiA5LjAzMiAwIDAgMS0yLjcxNCAxLjU2NUwxOC4zNiAyOGgtNC43MmwtLjcxLTMuNTVhOS4wOTUgOS4wOTUgMCAwIDEtMi42OTUtMS41NzJsLTMuNDQ3IDEuMTY2bC0yLjM2LTQuMDg4bDIuNzI1LTIuMzk1YTguOTI2IDguOTI2IDAgMCAxLS4wMDctMy4xMjhsLTIuNzE4LTIuMzlsMi4zNi00LjA4N2wzLjQyNyAxLjE2QTkuMDMgOS4wMyAwIDAgMSAxMi45MyA3LjU1TDEzLjY0IDRIMTZWMmgtMi4zNmEyIDIgMCAwIDAtMS45NjEgMS42MDhsLS41MDQgMi41MTlhMTAuOTY3IDEwLjk2NyAwIDAgMC0xLjMyNy43NTNsLTIuNDItLjgxOWExLjk5OCAxLjk5OCAwIDAgMC0yLjM3Mi44OTVsLTIuMzYgNC4wODhhMiAyIDAgMCAwIC40MTEgMi41MDJsMS45MzEgMS42OTdDNS4wMjEgMTUuNDk1IDUgMTUuNzQ1IDUgMTZjMCAuMjU4LjAxLjUxMy4wMjguNzY2bC0xLjkyIDEuNjg4YTIgMiAwIDAgMC0uNDEzIDIuNTAybDIuMzYgNC4wODhhMS45OTggMS45OTggMCAwIDAgMi4zNzQuODk1bDIuNDM0LS44MjRhMTAuOTc0IDEwLjk3NCAwIDAgMCAxLjMxMi43NTlsLjUwMyAyLjUxOEEyIDIgMCAwIDAgMTMuNjQgMzBoNC43MmEyIDIgMCAwIDAgMS45NjEtMS42MDhsLjUwNC0yLjUxOWExMC45NjcgMTAuOTY3IDAgMCAwIDEuMzI3LS43NTNsMi40MTkuODE4YTEuOTk4IDEuOTk4IDAgMCAwIDIuMzczLS44OTRsMi4zNi00LjA4OGEyIDIgMCAwIDAtLjQxMS0yLjUwMlwiPjwvcGF0aD48L3N2Zz5gLFxuXHRcdCk7XG5cblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogXCJvcGVuLWFzc2V0c1wiLFxuXHRcdFx0bmFtZTogXCJPcGVuIEFzc2V0c1wiLFxuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcblx0XHRcdFx0Y29uc3QgbGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCk7XG5cdFx0XHRcdGNvbnN0IGZpbGUgPSB0aGlzLmdldEZpbGVGcm9tTGVhZihsZWFmKTtcblx0XHRcdFx0Y29uc3QgY2FjaGUgPSB0aGlzLmdldEZpbGVDYWNoZUZyb21MZWFmKGxlYWYpO1xuXHRcdFx0XHRjb25zdCBhZGFwdGVyID0gdGhpcy5hcHAudmF1bHQuYWRhcHRlcjtcblx0XHRcdFx0Y29uc3QgdmF1bHREaXIgPSBhZGFwdGVyLmJhc2VQYXRoO1xuXG5cdFx0XHRcdGNvbnN0IGZtID0gY2FjaGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coYGZpbGUgZG9lcyBub3QgaGF2ZSBhIGZyb250bWF0dGVyOiAke2ZpbGUucGF0aH1gKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gY29uc29sZS5sb2coZm0pXG5cblx0XHRcdFx0Y29uc3QgdXVpZCA9IGZtLnV1aWQ7XG5cdFx0XHRcdGlmICh1dWlkID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhgZmlsZSBkb2VzIG5vdCBoYXZlIGEgdXVpZDogJHtmaWxlLnBhdGh9YCk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCFhd2FpdCBhZGFwdGVyLmV4aXN0cyhgJHtQYXRocy5Bc3NldHN9LyR7dXVpZH0vYCkpIHtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLm1rZGlyKGAke1BhdGhzLkFzc2V0c30vJHt1dWlkfS9gKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnN0IGFzc2V0UGF0aCA9IGAke3ZhdWx0RGlyfS8ke1BhdGhzLkFzc2V0c30vJHt1dWlkfS9gO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhhc3NldFBhdGgpO1xuXHRcdFx0XHRjb25zdCB7IHNoZWxsIH0gPSByZXF1aXJlKFwiZWxlY3Ryb25cIik7XG5cdFx0XHRcdHNoZWxsLnNob3dJdGVtSW5Gb2xkZXIoYXNzZXRQYXRoKTtcblx0XHRcdH0sXG5cdFx0fSk7XG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcIm9wZW4taW5kZXhcIixcblx0XHRcdG5hbWU6IFwiT3BlbiBJbmRleFwiLFxuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0dGhpcy5vcGVuVmlld0luTmV3VGFiSWZOb3RPcGVuZWQoXCJOb3Rlcy9lZWMwYTI5Ny05ODJjLTQ3MWMtOTc0OC00OTQzZWM0NWZlOTQubWRcIik7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogXCJvcGVuLWluYm94XCIsXG5cdFx0XHRuYW1lOiBcIk9wZW4gSW5ib3hcIixcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdHRoaXMub3BlblZpZXdJbk5ld1RhYklmTm90T3BlbmVkKFwiTm90ZXMvOGM3YWFkMmEtYjY3Zi00NGI3LTg2ZmQtMjdhNTA0MTBiZTY1Lm1kXCIpO1xuXHRcdFx0fSxcblx0XHR9KTtcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6IFwib3Blbi1wbGFubmluZ1wiLFxuXHRcdFx0bmFtZTogXCJPcGVuIFBsYW5uaW5nXCIsXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xuXHRcdFx0XHR0aGlzLm9wZW5WaWV3SW5OZXdUYWJJZk5vdE9wZW5lZChcIlBsYW5uaW5nLm1kXCIpO1xuXHRcdFx0fSxcblx0XHR9KTtcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6IFwib3Blbi1uZXh0X2FjdGlvbnNcIixcblx0XHRcdG5hbWU6IFwiT3BlbiBOZXh0IEFjdGlvbnNcIixcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdHRoaXMub3BlblZpZXdJbk5ld1RhYklmTm90T3BlbmVkKFwiTm90ZXMvYWI3YWVjOTItMjI3My00MGJjLTk2MzItZGE3MDkzN2I1NTc1Lm1kXCIpO1xuXHRcdFx0fSxcblx0XHR9KTtcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6IFwib3Blbi1zb21lZGF5X21heWJlXCIsXG5cdFx0XHRuYW1lOiBcIk9wZW4gU29tZWRheSBNYXliZVwiLFxuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0dGhpcy5vcGVuVmlld0luTmV3VGFiSWZOb3RPcGVuZWQoXCJOb3Rlcy9lN2I2MDViOS00ZDNhLTRjMTctYmY0ZS1lN2YxYTUxZjdhMzAubWRcIik7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogXCJvcGVuLXdhaXRpbmdfZm9yXCIsXG5cdFx0XHRuYW1lOiBcIk9wZW4gV2FpdGluZyBGb3JcIixcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdHRoaXMub3BlblZpZXdJbk5ld1RhYklmTm90T3BlbmVkKFwiTm90ZXMvN2ExM2Q3YWMtNzMyYi00Y2VjLTkxZjAtMTQ5OGM4MjRiODJlLm1kXCIpO1xuXHRcdFx0fSxcblx0XHR9KTtcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6IFwib3Blbi10b2RheXMtbG9nXCIsXG5cdFx0XHRuYW1lOiBcIk9wZW4gVG9kYXkncyBMb2dzXCIsXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xuXHRcdFx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRjb25zdCBub3dJc28gPSBub3cudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0Y29uc3QgcGFnZXMgPSB0aGlzLmR2XG5cdFx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuU2xpcGJveH1cImApXG5cdFx0XHRcdFx0LndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRcdFx0Y29uc3QgY2FjaGUgPSB0aGlzLmdldEZpbGVDYWNoZUZyb21VVUlEKGZtLnV1aWQpO1xuXG5cdFx0XHRcdFx0XHRjb25zdCBuYW1lSGVhZGluZyA9IHRoaXMuZ2V0UmVzb3VyY2VOYW1lKGNhY2hlKTtcblx0XHRcdFx0XHRcdGlmIChuYW1lSGVhZGluZyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aWYgKG5hbWVIZWFkaW5nICE9PSBub3dJc28pIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRpZiAocGFnZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdFx0Ly8gY3JlYXRlIHBlcm1hbmVudFxuXHRcdFx0XHRcdHRoaXMuZ2VuZXJhdGUubm90ZShub3dJc28pO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHBhZ2VzLmxlbmd0aCA+IDEpIHtcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oYG1vcmUgdGhhbiBvbmUgb2NjdXJlbmNlIGZvciAke25vd0lzb306ICR7cGFnZXMubGVuZ3RofWApXG5cdFx0XHRcdFx0dGhpcy5vcGVuSW5OZXdUYWJJZk5vdE9wZW5lZChwYWdlc1swXSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpcy5vcGVuSW5OZXdUYWJJZk5vdE9wZW5lZChwYWdlc1swXSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0fSxcblx0XHR9KTtcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6IFwiY2hlY2stZHVwbGljYXRlc1wiLFxuXHRcdFx0bmFtZTogXCJDaGVjayBmb3IgRHVwbGljYXRlc1wiLFxuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0Y29uc3QgcmVzID0ge307XG5cdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0bGV0IGkgPSAwO1xuXHRcdFx0XHRjb25zdCBwYWdlcyA9IHRoaXMuZHYucGFnZXMoYFwiJHtQYXRocy5TbGlwYm94fVwiYCk7XG5cdFx0XHRcdGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuXHRcdFx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRcdFx0Y29uc3QgY2FjaGUgPSB0aGlzLmdldEZpbGVDYWNoZUZyb21VVUlEKGZtLnV1aWQpO1xuXHRcdFx0XHRcdGNvbnN0IG5hbWVIZWFkaW5nID0gdGhpcy5nZXRSZXNvdXJjZU5hbWUoXG5cdFx0XHRcdFx0XHRjYWNoZSxcblx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0aWYgKG5hbWVIZWFkaW5nID09PSB1bmRlZmluZWQgfHwgbmFtZUhlYWRpbmcgPT09IFwiXCIpIHtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIGlzIG5vdCBkYXRlIGZvcm1hdFxuXHRcdFx0XHRcdGlmIChuYW1lSGVhZGluZy5sZW5ndGggIT09IDEwIHx8IG5hbWVIZWFkaW5nWzBdICE9PSBcIjJcIikge1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKHJlc1tuYW1lSGVhZGluZ10gPT09IHVuZGVmaW5lZCB8fCByZXNbbmFtZUhlYWRpbmddID09PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRyZXNbbmFtZUhlYWRpbmddID0gW2ZtLnV1aWRdO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXNbbmFtZUhlYWRpbmddLnB1c2goZm0udXVpZCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocmVzKTtcblx0XHRcdFx0a2V5cy5zb3J0KCk7XG5cdFx0XHRcdGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcblx0XHRcdFx0XHRpZiAocmVzW2tleV0ubGVuZ3RoID4gMSkge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coa2V5KTtcblx0XHRcdFx0XHRcdGZvciAoY29uc3QgcGFnZSBvZiByZXNba2V5XSkge1xuXHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhgXHQke3BhZ2V9YCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcIm9wZW4teWVzdGVyZGF5cy1sb2dzXCIsXG5cdFx0XHRuYW1lOiBcIk9wZW4gWWVzdGVyZGF5J3MgTG9nc1wiLFxuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKTtcblx0XHRcdFx0bm93LnNldERhdGUobm93LmdldERhdGUoKSAtIDEpO1xuXHRcdFx0XHRjb25zdCBub3dJc28gPSBub3cudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0Y29uc3QgcGFnZXMgPSB0aGlzLmR2XG5cdFx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuU2xpcGJveH1cImApXG5cdFx0XHRcdFx0LndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRcdFx0Y29uc3QgY2FjaGUgPSB0aGlzLmdldEZpbGVDYWNoZUZyb21VVUlEKGZtLnV1aWQpO1xuXHRcdFx0XHRcdFx0Y29uc3QgbmFtZUhlYWRpbmcgPSB0aGlzLmdldFJlc291cmNlTmFtZShcblx0XHRcdFx0XHRcdFx0Y2FjaGUsXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0aWYgKG5hbWVIZWFkaW5nID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKG5hbWVIZWFkaW5nICE9PSBub3dJc28pIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Ly8gdGhpcy5nZXRSZXNvdXJjZU5hbWVcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGlmIChwYWdlcy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLm9wZW5Jbk5ld1RhYklmTm90T3BlbmVkKHBhZ2VzWzBdKTtcblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6IFwib3Blbi10b2RheXMtZGFpbHlcIixcblx0XHRcdG5hbWU6IFwiT3BlbiBUb2RheSdzIERhaWx5XCIsXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xuXHRcdFx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRjb25zdCBub3dJc28gPSBub3cudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0Y29uc3QgcGFnZXMgPSB0aGlzLmR2XG5cdFx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9XCJgKVxuXHRcdFx0XHRcdC53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHBhZ2UuZmlsZS5mcm9udG1hdHRlci5hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gYXNzaWduIG5vdyBzaSBhdCA9PT0gdW5kZWZpbmVkXG5cdFx0XHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRcdFx0aWYgKGZtLmdldFByb2plY3QoKSAhPT0gXCJkYWlseVwiKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0bGV0IGZtSXNvID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0Zm1Jc28gPSBmbS5hdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTtcblx0XHRcdFx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oYHBvc3NpYmxlIGludmFsaWQgZGF0YSBpbiAke2ZtLnV1aWR9YCk7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aWYgKGZtSXNvID09PSBub3dJc28pIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRpZiAocGFnZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy5vcGVuSW5OZXdUYWJJZk5vdE9wZW5lZChwYWdlc1swXSk7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcIm9wZW4tdG9tb3Jyb3dzLWRhaWx5XCIsXG5cdFx0XHRuYW1lOiBcIk9wZW4gVG9tb3Jyb3cncyBEYWlseVwiLFxuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKTtcblx0XHRcdFx0bm93LnNldERhdGUobm93LmdldERhdGUoKSArIDEpO1xuXHRcdFx0XHRjb25zdCBub3dJc28gPSBub3cudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cdFx0XHRcdC8vIEB0cy1pZ25vcmVcblxuXHRcdFx0XHRjb25zdCBwYWdlcyA9IHRoaXMuZHZcblx0XHRcdFx0XHQucGFnZXMoYFwiJHtQYXRocy5UYXNrc31cImApXG5cdFx0XHRcdFx0LndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAocGFnZS5maWxlLmZyb250bWF0dGVyLmF0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBhc3NpZ24gbm93IHNpIGF0ID09PSB1bmRlZmluZWRcblx0XHRcdFx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRcdFx0XHRpZiAoZm0uZ2V0UHJvamVjdCgpICE9PSBcImRhaWx5XCIpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRsZXQgZm1Jc28gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRmbUlzbyA9IGZtLmF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xuXHRcdFx0XHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUud2FybihgcG9zc2libGUgaW52YWxpZCBkYXRhIGluICR7Zm0udXVpZH1gKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpZiAoZm1Jc28gPT09IG5vd0lzbykge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGlmIChwYWdlcy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLm9wZW5Jbk5ld1RhYklmTm90T3BlbmVkKHBhZ2VzWzBdKTtcblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6IFwib3Blbi15ZXN0ZXJkYXlzLWRhaWx5XCIsXG5cdFx0XHRuYW1lOiBcIk9wZW4gWWVzdGVyZGF5J3MgRGFpbHlcIixcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG5cdFx0XHRcdG5vdy5zZXREYXRlKG5vdy5nZXREYXRlKCkgLSAxKTtcblx0XHRcdFx0Y29uc3Qgbm93SXNvID0gbm93LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xuXHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cblx0XHRcdFx0Y29uc3QgcGFnZXMgPSB0aGlzLmR2XG5cdFx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9XCJgKVxuXHRcdFx0XHRcdC53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHBhZ2UuZmlsZS5mcm9udG1hdHRlci5hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gYXNzaWduIG5vdyBzaSBhdCA9PT0gdW5kZWZpbmVkXG5cdFx0XHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRcdFx0aWYgKGZtLmdldFByb2plY3QoKSAhPT0gXCJkYWlseVwiKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0bGV0IGZtSXNvID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0Zm1Jc28gPSBmbS5hdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTtcblx0XHRcdFx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oYHBvc3NpYmxlIGludmFsaWQgZGF0YSBpbiAke2ZtLnV1aWR9YCk7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aWYgKGZtSXNvID09PSBub3dJc28pIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRpZiAocGFnZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy5vcGVuSW5OZXdUYWJJZk5vdE9wZW5lZChwYWdlc1swXSk7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcImdlbmVyYXRlLW5vdGVcIixcblx0XHRcdG5hbWU6IFwiR2VuZXJhdGUgTm90ZVwiLFxuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0dGhpcy5nZW5lcmF0ZS5ub3RlKCk7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcImdlbmVyYXRlLXZlcmJhdGltXCIsXG5cdFx0XHRuYW1lOiBcIkdlbmVyYXRlIFZlcmJhdGltXCIsXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xuXHRcdFx0XHR0aGlzLmdlbmVyYXRlLnZlcmJhdGltKCk7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcImdlbmVyYXRlLWFjdGlvblwiLFxuXHRcdFx0bmFtZTogXCJHZW5lcmF0ZSBBY3Rpb25cIixcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdHRoaXMuZ2VuZXJhdGUuYWN0aW9uKCk7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcImNsaXBweS10aGUtY2xpcHBlclwiLFxuXHRcdFx0bmFtZTogXCJDbGlwcHkgQ2xpcFwiLFxuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0bmF2aWdhdG9yLmNsaXBib2FyZC5yZWFkVGV4dCgpLnRoZW4oKHRleHQpID0+IHtcblx0XHRcdFx0XHRsZXQgX2lkID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRfaWQgPSB0aGlzLmV4dHJhY3RVVUlERnJvbUxpbmsodGV4dCk7XG5cdFx0XHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvbnN0IGZpbGUgPSB0aGlzLmdldEZpbGVGcm9tVVVJRChfaWQpO1xuXHRcdFx0XHRcdEFzc2VydC5UcnVlKFxuXHRcdFx0XHRcdFx0ZmlsZSAhPT0gdW5kZWZpbmVkLFxuXHRcdFx0XHRcdFx0YGdldEZpbGVGcm9tVVVJRDogcmV0dXJuZWQgdW5kZWZpbmVkIGZvciB1dWlkOiAke19pZH1gLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0Y29uc3Qgcm9vdERpciA9IGZpbGUucGF0aC5zcGxpdChcIi9cIilbMF07XG5cdFx0XHRcdFx0Y29uc3QgYXV0aG9yaXplZCA9IFtQYXRocy5TbGlwYm94LCBQYXRocy5SZWZzXTtcblx0XHRcdFx0XHRjb25zdCBhbGlhcyA9IHRoaXMuZ3J1Z0FsaWFzKF9pZCk7XG5cdFx0XHRcdFx0Ly8gbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoYWxpYXMpLnRoZW4oKCkgPT4ge2NvbnNvbGUubG9nKFwiY291Y291LCBldGMgZXRjXCIpfSk7XG5cdFx0XHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0XHRcdGNvbnN0IGFjdGl2ZUxlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuYWN0aXZlTGVhZjtcblx0XHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdFx0aWYgKGFjdGl2ZUxlYWYpIHtcblx0XHRcdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0XHRcdGNvbnN0IGVkaXRvciA9IGFjdGl2ZUxlYWYudmlldy5zb3VyY2VNb2RlLmNtRWRpdG9yO1xuXHRcdFx0XHRcdFx0Y29uc3QgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvcigpO1xuXHRcdFx0XHRcdFx0ZWRpdG9yLnJlcGxhY2VSYW5nZShhbGlhcywgY3Vyc29yKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcImNvcHktdXVpZFwiLFxuXHRcdFx0bmFtZTogXCJDb3B5IFVVSURcIixcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGxlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZigpO1xuXHRcdFx0XHRjb25zdCBmaWxlID0gdGhpcy5nZXRGaWxlRnJvbUxlYWYobGVhZik7XG5cdFx0XHRcdGNvbnN0IGNhY2hlID0gdGhpcy5nZXRGaWxlQ2FjaGVGcm9tTGVhZihsZWFmKTtcblx0XHRcdFx0Y29uc3QgZm0gPSBjYWNoZS5mcm9udG1hdHRlcjtcblx0XHRcdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhgZmlsZSBkb2VzIG5vdCBoYXZlIGEgZnJvbnRtYXR0ZXI6ICR7ZmlsZS5wYXRofWApO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnN0IHV1aWQgPSBmbS51dWlkO1xuXHRcdFx0XHRpZiAodXVpZCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coYGZpbGUgZG9lcyBub3QgaGF2ZSBhIHV1aWQ6ICR7ZmlsZS5wYXRofWApO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChbXCJWZXJiYXRpbVwiLCBcIk5vdGVzXCIsIFwiQWN0aW9uc1wiXS5jb250YWlucyhmaWxlLnBhcmVudC5uYW1lKSkge1xuXHRcdFx0XHRcdGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KFN0cmluZyhjYWNoZS5mcm9udG1hdHRlci51dWlkKSk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0fSk7XG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcInNhZmUtZGVsZXRlXCIsXG5cdFx0XHRuYW1lOiBcIlNhZmUgRGVsZXRlXCIsXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xuXHRcdFx0XHRjb25zdCBmaWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcblx0XHRcdFx0aWYgKGZpbGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnN0IHNhZmVGcm9tSGFybSA9IFtcblx0XHRcdFx0XHRcIklOQk9YLm1kXCIsXG5cdFx0XHRcdFx0XCJJTkRFWC5tZFwiLFxuXHRcdFx0XHRcdFwiTG9ncy5tZFwiLFxuXHRcdFx0XHRcdFwiTkVYVCBBQ1RJT05TLm1kXCIsXG5cdFx0XHRcdFx0XCJTT01FREFZIE1BWUJFLm1kXCIsXG5cdFx0XHRcdFx0XCJXQUlUSU5HIEZPUi5tZFwiLFxuXHRcdFx0XHRcdFwiUGxhbm5pbmcubWRcIixcblx0XHRcdFx0XTtcblx0XHRcdFx0Y29uc3QgZm0gPVxuXHRcdFx0XHRcdHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpLmZyb250bWF0dGVyO1xuXHRcdFx0XHRpZiAoc2FmZUZyb21IYXJtLmNvbnRhaW5zKGZpbGUucGF0aCkpIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcblx0XHRcdFx0XHRcdFwiT29wc2llLCBhbG1vc3QgZGlkIGFuIG9vcHNpZS4gR290IHlvdXIgYmFjayBicm9cIixcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChmbS50YWdzICE9PSB1bmRlZmluZWQgJiYgZm0udGFncy5sZW5ndGggPj0gMCkge1xuXHRcdFx0XHRcdGZvciAoY29uc3QgdGFnIG9mIGZtLnRhZ3MpIHtcblx0XHRcdFx0XHRcdGlmICh0YWcgPT09IFwicHJvamVjdC9kYWlseVwiKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKFxuXHRcdFx0XHRcdFx0XHRcdFwiSGV5IEdlb3JnZSBXaGF0J3MgdXAgR2VvcmdlLCBZb3UgY2Fubm90IGRvIHRoYXQgR2VvcmdlXCIsXG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zb2xlLmxvZyhgZGVsZXRlZCBmaWxlOiAke2ZpbGUucGF0aH1gKTtcblx0XHRcdFx0dGhpcy5hcHAudmF1bHQuZGVsZXRlKGZpbGUpO1xuXHRcdFx0fSxcblx0XHR9KTtcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogXCJhcHBlbmQtdG8taW5ib3hcIixcblx0XHRcdG5hbWU6IFwiQXBwZW5kIHRvIEluYm94XCIsXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xuXHRcdFx0XHQvLyBvdXZlcnR1cmUgcGFzIGluc3RhbnRhblx1MDBFOWVcblx0XHRcdFx0Y29uc3QgZiA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChcIklOQk9YLm1kXCIpO1xuXHRcdFx0XHRpZiAoZiA9PT0gdW5kZWZpbmVkIHx8IGYgPT09IG51bGwpIHtcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oYGZpbGUgbm90IGZvdW5kIElOQk9YLm1kYCk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3QgYWN0aXZlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoKTtcblx0XHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0XHRjb25zdCByb290ID0gYWN0aXZlLnBhcmVudDtcblx0XHRcdFx0Ly8gcmVjaGVyY2hlciBzaSBwYXMgZFx1MDBFOWphIG91dmVydCBkYW5zIGxlcyBvbmdsZXRzIGFjdGlmc1xuXHRcdFx0XHQvLyBzaW5vbiBjclx1MDBFOWVyIHVuIG5vdXZlbCBvbmdsZXQsIG91dnJpciBsZSBmaWNoaWVyLCBldCBlbiBmYWlyZSBsJ29uZ2xldCBhY3RpZlxuXHRcdFx0XHRsZXQgZm91bmQgPSBmYWxzZTtcblx0XHRcdFx0bGV0IG5vZGUgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdGNvbnN0IGVtcHR5VGFicyA9IFtdO1xuXG5cdFx0XHRcdGZvciAoY29uc3QgbGVhZiBvZiByb290LmNoaWxkcmVuKSB7XG5cdFx0XHRcdFx0Y29uc3QgZmlsZSA9IHRoaXMuZ2V0RmlsZUZyb21MZWFmKGxlYWYpO1xuXHRcdFx0XHRcdGlmIChmaWxlID09PSB1bmRlZmluZWQgfHwgZmlsZSA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0ZW1wdHlUYWJzLnB1c2gobGVhZik7XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoZmlsZS5uYW1lID09PSBmLm5hbWUpIHtcblx0XHRcdFx0XHRcdGZvdW5kID0gdHJ1ZTtcblx0XHRcdFx0XHRcdG5vZGUgPSBsZWFmO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghZm91bmQpIHtcblx0XHRcdFx0XHRpZiAoZW1wdHlUYWJzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRcdG5vZGUgPSBlbXB0eVRhYnNbMF07XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5jcmVhdGVMZWFmSW5QYXJlbnQoXG5cdFx0XHRcdFx0XHRcdHJvb3QsXG5cdFx0XHRcdFx0XHRcdHJvb3QuY2hpbGRyZW4ubGVuZ3RoICsgMSxcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRub2RlID0gcm9vdC5jaGlsZHJlbltyb290LmNoaWxkcmVuLmxlbmd0aCAtIDFdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnN0IGVkaXRvckFjdGlvbiA9IChub2RlKSA9PiB7XG5cdFx0XHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0XHRcdGNvbnN0IGVkaXRvciA9IG5vZGUudmlldy5zb3VyY2VNb2RlLmNtRWRpdG9yO1xuXHRcdFx0XHRcdGVkaXRvci5pbnNlcnRUZXh0KFwiXFxuXFxuLS0tXFxuXFxuXCIsIGVkaXRvci5sYXN0TGluZSgpKTtcblx0XHRcdFx0XHRlZGl0b3Iuc2V0Q3Vyc29yKGVkaXRvci5sYXN0TGluZSgpLCAwKTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKSA9PT0gbnVsbCB8fFxuXHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCkubmFtZSAhPT0gXCJJTkJPWC5tZFwiXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdG5vZGUub3BlbkZpbGUoZiwge1xuXHRcdFx0XHRcdFx0YWN0aXZlOiB0cnVlLFxuXHRcdFx0XHRcdH0pLnRoZW4oKF8pID0+IGVkaXRvckFjdGlvbihub2RlKSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZWRpdG9yQWN0aW9uKG5vZGUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uTGF5b3V0UmVhZHkoKCkgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coXCJ3b3Jrc3BhY2UgLSBsYXlvdXQtcmVhZHlcIik7XG5cdFx0XHRmb3IgKGNvbnN0IGYgb2YgdGhpcy5hcHAudmF1bHQuZ2V0RmlsZXMoKSkge1xuXHRcdFx0XHRpZiAoIUhlbHBlci5pc1VVSUQoZi5iYXNlbmFtZSkpIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMudmF1bHRDb250ZW50RGljdFtmLmJhc2VuYW1lXSA9IGY7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0Ly8gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5vblxuXHRcdHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUub24oXG5cdFx0XHRcImNoYW5nZWRcIixcblx0XHRcdChmaWxlOiBURmlsZSwgZGF0YTogc3RyaW5nLCBjYWNoZTogQ2FjaGVkTWV0YWRhdGEpID0+IHtcblx0XHRcdFx0aWYgKEhlbHBlci5pc1VVSUQoZmlsZS5iYXNlbmFtZSkpIHtcblx0XHRcdFx0XHR0aGlzLnZhdWx0Q29udGVudERpY3RbZmlsZS5iYXNlbmFtZV0gPSBmaWxlO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdCk7XG5cblx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oXCJhY3RpdmUtbGVhZi1jaGFuZ2VcIiwgKCkgPT4ge1xuXHRcdFx0cmV0dXJuIHRoaXMuc25lYWt5VGFiUmVuYW1lcih0aGlzLmFwcCk7XG5cdFx0fSk7XG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uKFwicXVpY2stcHJldmlld1wiLCAoKSA9PiB7XG5cdFx0XHRyZXR1cm4gdGhpcy5zbmVha3lUYWJSZW5hbWVyKHRoaXMuYXBwKTtcblx0XHR9KTtcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oXCJyZXNpemVcIiwgKCkgPT4ge1xuXHRcdFx0cmV0dXJuIHRoaXMuc25lYWt5VGFiUmVuYW1lcih0aGlzLmFwcCk7XG5cdFx0fSk7XG5cdH1cblxuXHRzbmVha3lUYWJSZW5hbWVyKGFwcCkge1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRjb25zdCByb290ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoKS5wYXJlbnQ7XG5cblx0XHRmb3IgKGNvbnN0IGxlYWYgb2Ygcm9vdC5jaGlsZHJlbikge1xuXHRcdFx0Y29uc3QgZmlsZSA9IGxlYWYudmlldy5maWxlO1xuXHRcdFx0aWYgKGZpbGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y29uc3QgY2FjaGUgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShmaWxlKTtcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGNvbnN0IGZtID0gY2FjaGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0bGV0IHRleHQgPSBcIlwiO1xuXHRcdFx0aWYgKGZpbGUucGFyZW50Lm5hbWUgPT09IFwiQWN0aW9uc1wiKSB7XG5cdFx0XHRcdGNvbnN0IGF0ID0gbmV3IERhdGUoZm0uYXQpO1xuXHRcdFx0XHR0ZXh0ID0gYChBKSAke2RheVNob3J0W2F0LmdldERheSgpXX0uICR7YXQuZ2V0RGF0ZSgpfSAke21vbnRoU2hvcnRbYXQuZ2V0TW9udGgoKV19YDtcblx0XHRcdH0gZWxzZSBpZiAoZmlsZS5wYXJlbnQubmFtZSA9PT0gXCJOb3Rlc1wiKSB7XG5cdFx0XHRcdGlmIChjYWNoZS5oZWFkaW5ncy5sZW5ndGggPiAwICYmIGNhY2hlLmhlYWRpbmdzWzBdLmxldmVsID09PSAxKSB7XG5cdFx0XHRcdFx0dGV4dCA9IGAoTikgJHtjYWNoZS5oZWFkaW5nc1swXS5oZWFkaW5nfWA7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGV4dCA9IGAoTikgJHtmbS51dWlkfWA7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoZmlsZS5wYXJlbnQubmFtZSA9PT0gXCJWZXJiYXRpbVwiKSB7XG5cdFx0XHRcdGlmIChjYWNoZS5oZWFkaW5ncy5sZW5ndGggPiAwICYmIGNhY2hlLmhlYWRpbmdzWzBdLmxldmVsID09PSAxKSB7XG5cdFx0XHRcdFx0dGV4dCA9IGAoVikgJHtjYWNoZS5oZWFkaW5nc1swXS5oZWFkaW5nfWA7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGV4dCA9IGAoVikgJHtmbS51dWlkfWA7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnNvbGUud2FybihgdHlwZSB1bmRlZmluZWQgZm9yIGZtOiAke2ZtfWApXG5cdFx0XHRcdHJldHVyblxuXHRcdFx0fVxuXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRsZWFmLnRhYkhlYWRlcklubmVyVGl0bGVFbC5pbm5lclRleHQgPSB0ZXh0O1xuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0bGVhZi50YWJIZWFkZXJJbm5lclRpdGxlRWwuaW5uZXJIVE1MID0gdGV4dDtcblx0XHR9XG5cdH1cblxuXHRnZXRSZXNvdXJjZU5hbWUoY2FjaGU6IENhY2hlZE1ldGFkYXRhKTogc3RyaW5nIHtcblx0XHRsZXQgcmVzb3VyY2VOYW1lID0gXCJcIjtcblxuXHRcdGlmIChjYWNoZS5oZWFkaW5ncy5sZW5ndGggPiAwICYmIGNhY2hlLmhlYWRpbmdzWzBdLmxldmVsID09PSAxKSB7XG5cdFx0XHRyZXNvdXJjZU5hbWUgPSBjYWNoZS5oZWFkaW5nc1swXS5oZWFkaW5nO1xuXHRcdH0gZWxzZSBpZiAoY2FjaGUuZnJvbnRtYXR0ZXIuYWxpYXMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0aWYgKEFycmF5LmlzQXJyYXkoY2FjaGUuZnJvbnRtYXR0ZXIuYWxpYXMpICYmIGNhY2hlLmZyb250bWF0dGVyLmFsaWFzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0Ly8gcHJvYmxlbSBhdGhlaXN0cz9cblx0XHRcdFx0cmVzb3VyY2VOYW1lID0gY2FjaGUuZnJvbnRtYXR0ZXIuYWxpYXNbMF07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXNvdXJjZU5hbWUgPSBjYWNoZS5mcm9udG1hdHRlci5hbGlhcztcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVzb3VyY2VOYW1lID0gY2FjaGUuZnJvbnRtYXR0ZXIudXVpZDtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc291cmNlTmFtZTtcblxuXHR9XG5cblx0b251bmxvYWQoKSB7XG5cdFx0Y29uc29sZS5sb2coXCJnb25leHQgLSBvbnVubG9hZCgpXCIpO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRkZWxldGUgd2luZG93LmdvbmV4dDtcblx0fVxuXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbihcblx0XHRcdHt9LFxuXHRcdFx0REVGQVVMVF9TRVRUSU5HUyxcblx0XHRcdGF3YWl0IHRoaXMubG9hZERhdGEoKSxcblx0XHQpO1xuXHR9XG5cblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG5cdH1cbn1cbiIsICJleHBvcnQgY29uc3QgUGF0aHMgPSB7XG5cdFRhc2tzOiBcIkFjdGlvbnNcIixcblx0Q29tcG9uZW50czogXCJDb21wb25lbnRzXCIsXG5cdEdvYWxzOiBcIkdvYWxzXCIsXG5cdFNsaXBib3g6IFwiTm90ZXNcIixcblx0SW5ib3g6IFwiODAwIEluYm94XCIsXG5cdFJlZnM6IFwiODAyIFJlZnNcIixcblx0QXJjaGl2ZXM6IFwiNDAwIEFyY2hpdmVzXCIsXG5cdExvZ3M6IFwiNjAwIExvZ1wiLFxuXHRBdHRhY2htZW50czogXCIwMDAgQXR0YWNobWVudHNcIixcblx0Sm91cm5hbDogXCJKb3VybmFsXCIsXG5cdFJlc291cmNlczogXCJSZXNvdXJjZXNcIixcblx0UHJvamVjdHM6IFwiMTAwIFByb2plY3RzXCIsXG5cdERvbWFpbnM6IFwiRG9tYWluc1wiLFxuXHROYW1lczogXCJOYW1lc1wiLFxuXHRWZXJiYXRpbTogXCJWZXJiYXRpbVwiLFxuXHRBc3NldHM6IFwiQXNzZXRzXCJcbn07XG5cbmV4cG9ydCBjb25zdCBTdGF0dXMgPSB7XG5cdFRvZG86IFwidG9kb1wiLFxuXHREb2luZzogXCJkb2luZ1wiLFxuXHREb25lOiBcImRvbmVcIixcblx0TWF5YmU6IFwibWF5YmVcIixcblx0U3RhbmRieTogXCJzdGFuZGJ5XCIsXG5cdFRyYXNoOiBcInRyYXNoXCIsXG59O1xuZXhwb3J0IGNvbnN0IEdvYWxTdGF0dXMgPSB7XG5cdFJlZnJhbWU6IFwicmVmcmFtZVwiLFxuXHRSZXNlYXJjaDogXCJyZXNlYXJjaFwiLFxuXHRPcGVyYXRpb25hbGl6ZTogXCJvcGVyYXRpb25hbGl6ZVwiLFxuXHRQbGFuaWZ5OiBcInBsYW5pZnlcIixcblx0RGVwZW5kYW50OiBcImRlcGVuZGFudFwiLFxuXHRBY3RpdmU6IFwiYWN0aXZlXCIsXG5cdEZhaWxlZDogXCJmYWlsZWRcIixcblx0U3VjY2VzczogXCJzdWNjZXNzXCIsXG59O1xuXG5leHBvcnQgY29uc3QgVHlwZXMgPSB7XG5cdEZsZWV0aW5nOiAxMyxcblx0TGl0ZXJhdHVyZTogMSxcblx0UGVybWFuZW50OiAyLFxuXHRUYXNrOiAzLFxuXHRQcmF4aXM6IDQsXG5cdFByb3Zpc2lvbjogNSxcblx0TG9nOiA2LFxuXHRSZXNvdXJjZTogNyxcblx0TWVkaWE6IDgsXG5cdFByb2plY3Q6IDEyLFxuXHRPcmc6IDksXG5cdERvbWFpbjogMTAsXG5cdENvbXBvbmVudDogMTEsXG59O1xuXG5leHBvcnQgY29uc3QgTmFtZXNwYWNlID0ge1xuXHRBcmVhOiBcImFyZWFcIixcblx0Q29udGV4dDogXCJjb250ZXh0XCIsXG5cdExheWVyOiBcImxheWVyXCIsXG5cdE9yZzogXCJvcmdcIixcblx0UHJvamVjdDogXCJwcm9qZWN0XCIsXG59O1xuXG5leHBvcnQgY29uc3QgRGVmYXVsdCA9IHtcblx0QXJlYTogXCJub25lXCIsXG5cdENvbnRleHQ6IFwiYW55XCIsXG5cdExheWVyOiBcIm5vbmVcIixcblx0T3JnOiBcIm5vbmVcIixcblx0UHJvamVjdDogXCJub25lXCIsXG59O1xuIiwgImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcblxuLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG52YXIgYnl0ZVRvSGV4ID0gW107XG5mb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleC5wdXNoKChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zbGljZSgxKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gdW5zYWZlU3RyaW5naWZ5KGFyciwgb2Zmc2V0ID0gMCkge1xuICAvLyBOb3RlOiBCZSBjYXJlZnVsIGVkaXRpbmcgdGhpcyBjb2RlISAgSXQncyBiZWVuIHR1bmVkIGZvciBwZXJmb3JtYW5jZVxuICAvLyBhbmQgd29ya3MgaW4gd2F5cyB5b3UgbWF5IG5vdCBleHBlY3QuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQvcHVsbC80MzRcbiAgLy9cbiAgLy8gTm90ZSB0byBmdXR1cmUtc2VsZjogTm8sIHlvdSBjYW4ndCByZW1vdmUgdGhlIGB0b0xvd2VyQ2FzZSgpYCBjYWxsLlxuICAvLyBSRUY6IGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZC9wdWxsLzY3NyNpc3N1ZWNvbW1lbnQtMTc1NzM1MTM1MVxuICByZXR1cm4gKGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgM11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDVdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA3XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDhdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxM11dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNV1dKS50b0xvd2VyQ2FzZSgpO1xufVxuZnVuY3Rpb24gc3RyaW5naWZ5KGFyciwgb2Zmc2V0ID0gMCkge1xuICB2YXIgdXVpZCA9IHVuc2FmZVN0cmluZ2lmeShhcnIsIG9mZnNldCk7XG4gIC8vIENvbnNpc3RlbmN5IGNoZWNrIGZvciB2YWxpZCBVVUlELiAgSWYgdGhpcyB0aHJvd3MsIGl0J3MgbGlrZWx5IGR1ZSB0byBvbmVcbiAgLy8gb2YgdGhlIGZvbGxvd2luZzpcbiAgLy8gLSBPbmUgb3IgbW9yZSBpbnB1dCBhcnJheSB2YWx1ZXMgZG9uJ3QgbWFwIHRvIGEgaGV4IG9jdGV0IChsZWFkaW5nIHRvXG4gIC8vIFwidW5kZWZpbmVkXCIgaW4gdGhlIHV1aWQpXG4gIC8vIC0gSW52YWxpZCBpbnB1dCB2YWx1ZXMgZm9yIHRoZSBSRkMgYHZlcnNpb25gIG9yIGB2YXJpYW50YCBmaWVsZHNcbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignU3RyaW5naWZpZWQgVVVJRCBpcyBpbnZhbGlkJyk7XG4gIH1cbiAgcmV0dXJuIHV1aWQ7XG59XG5leHBvcnQgZGVmYXVsdCBzdHJpbmdpZnk7IiwgIi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuIEluIHRoZSBicm93c2VyIHdlIHRoZXJlZm9yZVxuLy8gcmVxdWlyZSB0aGUgY3J5cHRvIEFQSSBhbmQgZG8gbm90IHN1cHBvcnQgYnVpbHQtaW4gZmFsbGJhY2sgdG8gbG93ZXIgcXVhbGl0eSByYW5kb20gbnVtYmVyXG4vLyBnZW5lcmF0b3JzIChsaWtlIE1hdGgucmFuZG9tKCkpLlxuXG52YXIgZ2V0UmFuZG9tVmFsdWVzO1xudmFyIHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcm5nKCkge1xuICAvLyBsYXp5IGxvYWQgc28gdGhhdCBlbnZpcm9ubWVudHMgdGhhdCBuZWVkIHRvIHBvbHlmaWxsIGhhdmUgYSBjaGFuY2UgdG8gZG8gc29cbiAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAvLyBnZXRSYW5kb21WYWx1ZXMgbmVlZHMgdG8gYmUgaW52b2tlZCBpbiBhIGNvbnRleHQgd2hlcmUgXCJ0aGlzXCIgaXMgYSBDcnlwdG8gaW1wbGVtZW50YXRpb24uXG4gICAgZ2V0UmFuZG9tVmFsdWVzID0gdHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKTtcbiAgICBpZiAoIWdldFJhbmRvbVZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKCkgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCNnZXRyYW5kb212YWx1ZXMtbm90LXN1cHBvcnRlZCcpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KTtcbn0iLCAidmFyIHJhbmRvbVVVSUQgPSB0eXBlb2YgY3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiBjcnlwdG8ucmFuZG9tVVVJRCAmJiBjcnlwdG8ucmFuZG9tVVVJRC5iaW5kKGNyeXB0byk7XG5leHBvcnQgZGVmYXVsdCB7XG4gIHJhbmRvbVVVSURcbn07IiwgImltcG9ydCBuYXRpdmUgZnJvbSAnLi9uYXRpdmUuanMnO1xuaW1wb3J0IHJuZyBmcm9tICcuL3JuZy5qcyc7XG5pbXBvcnQgeyB1bnNhZmVTdHJpbmdpZnkgfSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5mdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICBpZiAobmF0aXZlLnJhbmRvbVVVSUQgJiYgIWJ1ZiAmJiAhb3B0aW9ucykge1xuICAgIHJldHVybiBuYXRpdmUucmFuZG9tVVVJRCgpO1xuICB9XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7XG5cbiAgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuICBybmRzWzZdID0gcm5kc1s2XSAmIDB4MGYgfCAweDQwO1xuICBybmRzWzhdID0gcm5kc1s4XSAmIDB4M2YgfCAweDgwO1xuXG4gIC8vIENvcHkgYnl0ZXMgdG8gYnVmZmVyLCBpZiBwcm92aWRlZFxuICBpZiAoYnVmKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgICBidWZbb2Zmc2V0ICsgaV0gPSBybmRzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gYnVmO1xuICB9XG4gIHJldHVybiB1bnNhZmVTdHJpbmdpZnkocm5kcyk7XG59XG5leHBvcnQgZGVmYXVsdCB2NDsiLCAiaW1wb3J0IHtcblx0UGF0aHMsXG5cdFN0YXR1cyxcblx0VHlwZXMsXG5cdE5hbWVzcGFjZSxcblx0RGVmYXVsdCxcblx0R29hbFN0YXR1cyxcbn0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQsIHYxIGFzIHV1aWR2MSB9IGZyb20gXCJ1dWlkXCI7XG5cbmV4cG9ydCBjbGFzcyBGcm9udG1hdHRlckpTIHtcblx0cHVibGljIHV1aWQ6IHN0cmluZztcblx0cHVibGljIHZlcnNpb246IHN0cmluZztcblx0cHVibGljIHR5cGU6IG51bWJlcjtcblx0cHVibGljIGNyZWF0ZWRBdDogRGF0ZTtcblx0cHVibGljIGF0OiBEYXRlO1xuXHRwdWJsaWMgYmVmb3JlOiBEYXRlO1xuXHRwdWJsaWMgYWZ0ZXI6IERhdGU7XG5cdHB1YmxpYyBjb21wb25lbnRzOiBzdHJpbmdbXTtcblx0cHVibGljIGRvbWFpbnM6IHN0cmluZ1tdO1xuXHRwdWJsaWMgbmFtZXM6IHN0cmluZ1tdO1xuXHRwdWJsaWMgcHJvamVjdHM6IHN0cmluZ1tdO1xuXHRwdWJsaWMgZm07XG5cdHB1YmxpYyBjb250ZW50czogc3RyaW5nW107XG5cdHB1YmxpYyB0cmFpdHM6IHN0cmluZ1tdO1xuXHRwdWJsaWMgY29udGV4dHM6IHN0cmluZ1tdO1xuXHRwdWJsaWMgc3RhdHVzOiBzdHJpbmc7XG5cdHB1YmxpYyBmO1xuXHRwdWJsaWMgZW5lcmd5OiBudW1iZXI7XG5cblx0c2luZ3VsYXIodmFsdWVzOiBzdHJpbmdbXSwgZmllbGQ6IHN0cmluZykge1xuXHRcdGlmICghSGVscGVyLm5pbENoZWNrKHRoaXMuZm1bZmllbGRdKSkge1xuXHRcdFx0Y29uc3QgdmFsdWUgPSB0aGlzLmZtW2ZpZWxkXTtcblx0XHRcdGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0aWYgKCF2YWx1ZXMuY29udGFpbnModmFsdWUpKSB7XG5cdFx0XHRcdFx0dmFsdWVzLnB1c2godmFsdWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcdFx0YCcke2ZpZWxkfScgaXMgaWdub3JlZCwgaW52YWxpZCBkYXRhLXR5cGU6ICcke3R5cGVvZiB0aGlzLmZtW2ZpZWxkXX0nYCxcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRwbHVyYWwodmFsdWVzOiBzdHJpbmdbXSwgZmllbGQ6IHN0cmluZykge1xuXHRcdGlmICghSGVscGVyLm5pbENoZWNrKHRoaXMuZm1bZmllbGRdKSkge1xuXHRcdFx0aWYgKCFBcnJheS5pc0FycmF5KHRoaXMuZm1bZmllbGRdKSkge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcdFx0YCcke2ZpZWxkfScgaXMgaWdub3JlZCwgaW52YWxpZCBkYXRhLXR5cGU6ICcke2ZpZWxkfSdgLFxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9yIChjb25zdCB2YWx1ZSBvZiB0aGlzLmZtW2ZpZWxkXSkge1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0XHRcdGlmICghdmFsdWVzLmNvbnRhaW5zKHZhbHVlKSkge1xuXHRcdFx0XHRcdFx0XHR2YWx1ZXMucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUud2Fybihcblx0XHRcdFx0XHRcdFx0YCcke3ZhbHVlfXMuJHt2YWx1ZX0nIGlzIGlnbm9yZWQsIGludmFsaWQgZGF0YS10eXBlOiAnJHt0eXBlb2YgdmFsdWV9J2AsXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGNvbnN0cnVjdG9yKHBhZ2UpIHtcblx0XHRBc3NlcnQuVHJ1ZShwYWdlICE9PSB1bmRlZmluZWQsIFwiJ3BhZ2UnIGlzIHVuZGVmaW5lZFwiKTtcblx0XHR0aGlzLmYgPSBwYWdlLmZpbGU7XG5cdFx0Y29uc3QgZiA9IHRoaXMuZjtcblx0XHRBc3NlcnQuVHJ1ZShmICE9PSB1bmRlZmluZWQsIFwiJ2YnIGlzIHVuZGVmaW5lZFwiKTtcblx0XHR0aGlzLmZtID0gZi5mcm9udG1hdHRlcjtcblx0XHRBc3NlcnQuVHJ1ZSh0aGlzLmZtICE9PSB1bmRlZmluZWQsIFwiJ2ZtJyBpcyB1bmRlZmluZWRcIik7XG5cdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHR0aGlzLmZtLnV1aWQgIT09IHVuZGVmaW5lZCxcblx0XHRcdGAndXVpZCcgaXMgdW5kZWZpbmVkIGZvciAnJHt0aGlzLmYucGF0aH0nYCxcblx0XHQpO1xuXHRcdC8vIEFzc2VydC5UcnVlKHRoaXMuZm0udmVyc2lvbiAhPT0gdW5kZWZpbmVkLCBcIid2ZXJzaW9uJyBpcyB1bmRlZmluZWRcIik7XG5cdFx0Ly8gQXNzZXJ0LlRydWUoZm0uY3JlYXRlZF9hdCAhPT0gdW5kZWZpbmVkLCBcIidjcmVhdGVkX2F0JyBpcyB1bmRlZmluZWRcIik7XG5cblx0XHR0aGlzLnV1aWQgPSB0aGlzLmZtLnV1aWQ7XG5cdFx0dGhpcy52ZXJzaW9uID0gdGhpcy5mbS52ZXJzaW9uO1xuXHRcdHRoaXMudHlwZSA9IHRoaXMuZm0udHlwZTtcblx0XHR0aGlzLmNyZWF0ZWRBdCA9IG5ldyBEYXRlKHRoaXMuZm0uY3JlYXRlZF9hdCk7XG5cdFx0dGhpcy5hdCA9IHRoaXMuZm0uYXQgIT09IHVuZGVmaW5lZCA/IG5ldyBEYXRlKHRoaXMuZm0uYXQpIDogbmV3IERhdGUoKTtcblx0XHR0aGlzLmJlZm9yZSA9XG5cdFx0XHR0aGlzLmZtLmJlZm9yZSAhPT0gdW5kZWZpbmVkXG5cdFx0XHRcdD8gbmV3IERhdGUodGhpcy5mbS5iZWZvcmUpXG5cdFx0XHRcdDogbmV3IERhdGUoKTtcblx0XHR0aGlzLmFmdGVyID1cblx0XHRcdHRoaXMuZm0uYWZ0ZXIgIT09IHVuZGVmaW5lZCA/IG5ldyBEYXRlKHRoaXMuZm0uYWZ0ZXIpIDogbmV3IERhdGUoKTtcblx0XHR0aGlzLmNvbXBvbmVudHMgPSBbXTtcblx0XHR0aGlzLmRvbWFpbnMgPSBbXTtcblx0XHR0aGlzLnByb2plY3RzID0gW107XG5cdFx0dGhpcy5jb250ZXh0cyA9IFtdO1xuXHRcdHRoaXMudHJhaXRzID0gW107XG5cdFx0dGhpcy5lbmVyZ3kgPSB0aGlzLmZtLmVuZXJneSAhPT0gdW5kZWZpbmVkID8gdGhpcy5mbS5lbmVyZ3kgOiA5O1xuXG5cdFx0Y29uc3QgZG9tYWlucyA9IFtdO1xuXHRcdGNvbnN0IGNvbXBvbmVudHMgPSBbXTtcblx0XHRjb25zdCBwcm9qZWN0cyA9IFtdO1xuXHRcdGNvbnN0IG5hbWVzID0gW107XG5cdFx0Y29uc3QgY29udGV4dHMgPSBbXTtcblx0XHRjb25zdCBjb250ZW50cyA9IFtdO1xuXHRcdGNvbnN0IHRyYWl0cyA9IFtdO1xuXG5cdFx0aWYgKCFIZWxwZXIubmlsQ2hlY2sodGhpcy5mbS50YWdzKSkge1xuXHRcdFx0aWYgKCFBcnJheS5pc0FycmF5KHRoaXMuZm0udGFncykpIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKFwiJ3RhZ3MnIGlzIGlnbm9yZWQsIGludmFsaWQgZGF0YS10eXBlXCIpO1xuXHRcdFx0XHR0aGlzLmZtLnRhZ3MgPSBbXTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yIChjb25zdCB0YWcgb2YgdGhpcy5mbS50YWdzKSB7XG5cdFx0XHRcdGlmICh0YWcuc2xpY2UoMCwgNykgPT09IFwiZG9tYWluL1wiKSB7XG5cdFx0XHRcdFx0ZG9tYWlucy5wdXNoKHRhZy5zbGljZSg3KSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAodGFnLnNsaWNlKDAsIDEwKSA9PT0gXCJjb21wb25lbnQvXCIpIHtcblx0XHRcdFx0XHRjb21wb25lbnRzLnB1c2godGFnLnNsaWNlKDEwKSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAodGFnLnNsaWNlKDAsIDgpID09PSBcInByb2plY3QvXCIpIHtcblx0XHRcdFx0XHRwcm9qZWN0cy5wdXNoKHRhZy5zbGljZSg4KSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAodGFnLnNsaWNlKDAsIDUpID09PSBcIm5hbWUvXCIpIHtcblx0XHRcdFx0XHRuYW1lcy5wdXNoKHRhZy5zbGljZSg1KSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAodGFnLnNsaWNlKDAsIDgpID09IFwiY29udGV4dC9cIikge1xuXHRcdFx0XHRcdGNvbnRleHRzLnB1c2godGFnLnNsaWNlKDgpKTtcblx0XHRcdFx0fSBlbHNlIGlmICh0YWcuc2xpY2UoMCwgOCkgPT0gXCJjb250ZW50L1wiKSB7XG5cdFx0XHRcdFx0Y29udGVudHMucHVzaCh0YWcuc2xpY2UoOCkpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHRhZy5zbGljZSgwLCA2KSA9PSBcInRyYWl0L1wiKSB7XG5cdFx0XHRcdFx0dHJhaXRzLnB1c2godGFnLnNsaWNlKDYpKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuc2luZ3VsYXIoZG9tYWlucywgXCJkb21haW5cIik7XG5cdFx0dGhpcy5wbHVyYWwoZG9tYWlucywgXCJkb21haW5zXCIpO1xuXHRcdHRoaXMuc2luZ3VsYXIoY29tcG9uZW50cywgXCJjb21wb25lbnRzXCIpO1xuXHRcdHRoaXMucGx1cmFsKGNvbXBvbmVudHMsIFwiY29tcG9uZW50c1wiKTtcblx0XHR0aGlzLnNpbmd1bGFyKHByb2plY3RzLCBcInByb2plY3RcIik7XG5cdFx0dGhpcy5wbHVyYWwocHJvamVjdHMsIFwicHJvamVjdHNcIik7XG5cdFx0dGhpcy5zaW5ndWxhcihjb250ZW50cywgXCJjb250ZW50c1wiKTtcblx0XHR0aGlzLnBsdXJhbChjb250ZW50cywgXCJjb250ZW50c1wiKTtcblx0XHR0aGlzLnNpbmd1bGFyKG5hbWVzLCBcIm5hbWVcIik7XG5cdFx0dGhpcy5wbHVyYWwobmFtZXMsIFwibmFtZXNcIik7XG5cdFx0dGhpcy5wbHVyYWwobmFtZXMsIFwiYWxpYXNcIik7XG5cdFx0dGhpcy5zaW5ndWxhcih0cmFpdHMsIFwidHJhaXRcIik7XG5cdFx0dGhpcy5wbHVyYWwodHJhaXRzLCBcInRyYWl0c1wiKTtcblxuXHRcdHRoaXMuZG9tYWlucyA9IGRvbWFpbnM7XG5cdFx0dGhpcy5jb21wb25lbnRzID0gY29tcG9uZW50cztcblx0XHR0aGlzLnByb2plY3RzID0gcHJvamVjdHM7XG5cdFx0dGhpcy5uYW1lcyA9IG5hbWVzO1xuXHRcdHRoaXMuY29udGV4dHMgPSBjb250ZXh0cztcblx0XHR0aGlzLmNvbnRlbnRzID0gY29udGVudHM7XG5cdFx0dGhpcy50cmFpdHMgPSB0cmFpdHM7XG5cdH1cblxuXHRnZXREb21haW4oZW1wdHlEZWZhdWx0ID0gdHJ1ZSk6IHN0cmluZyB7XG5cdFx0aWYgKGVtcHR5RGVmYXVsdCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZG9tYWluc1swXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHRoaXMuZG9tYWluc1swXSA9PT0gdW5kZWZpbmVkID8gXCJ1bmtub3duXCIgOiB0aGlzLmRvbWFpbnNbMF07XG5cdFx0fVxuXHR9XG5cblx0Z2V0RG9tYWlucygpOiBzdHJpbmdbXSB7XG5cdFx0cmV0dXJuIHRoaXMuZG9tYWlucztcblx0fVxuXG5cdGdldFRyYWl0cygpOiBzdHJpbmdbXSB7XG5cdFx0cmV0dXJuIHRoaXMudHJhaXRzO1xuXHR9XG5cblx0Z2V0Q29tcG9uZW50cygpOiBzdHJpbmdbXSB7XG5cdFx0cmV0dXJuIHRoaXMuY29tcG9uZW50cztcblx0fVxuXG5cdGdldFByb2plY3QoZW1wdHlEZWZhdWx0ID0gdHJ1ZSk6IHN0cmluZyB7XG5cdFx0aWYgKGVtcHR5RGVmYXVsdCkge1xuXHRcdFx0cmV0dXJuIHRoaXMucHJvamVjdHNbMF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB0aGlzLnByb2plY3RzWzBdID09PSB1bmRlZmluZWQgPyBcIlwiIDogdGhpcy5wcm9qZWN0c1swXTtcblx0XHR9XG5cdH1cblxuXHRnZXRQcm9qZWN0cygpOiBzdHJpbmdbXSB7XG5cdFx0cmV0dXJuIHRoaXMucHJvamVjdHM7XG5cdH1cblxuXHRnZXROYW1lKGVtcHR5RGVmYXVsdCA9IHRydWUpOiBzdHJpbmcge1xuXHRcdGlmIChlbXB0eURlZmF1bHQpIHtcblx0XHRcdHJldHVybiB0aGlzLm5hbWVzWzBdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5uYW1lc1swXSA9PT0gdW5kZWZpbmVkID8gXCJcIiA6IHRoaXMubmFtZXNbMF07XG5cdFx0fVxuXHR9XG5cblx0Z2V0Q29udGVudChlbXB0eURlZmF1bHQgPSB0cnVlKTogc3RyaW5nIHtcblx0XHRpZiAoZW1wdHlEZWZhdWx0KSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jb250ZW50c1swXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHRoaXMuY29udGVudHNbMF0gPT09IHVuZGVmaW5lZCA/IFwiXCIgOiB0aGlzLmNvbnRlbnRzWzBdO1xuXHRcdH1cblx0fVxuXG5cdGdldE5hbWVzKCk6IHN0cmluZ1tdIHtcblx0XHRyZXR1cm4gdGhpcy5uYW1lcztcblx0fVxuXG5cdGdldENvbnRleHQoZW1wdHlEZWZhdWx0ID0gdHJ1ZSk6IHN0cmluZyB7XG5cdFx0aWYgKGVtcHR5RGVmYXVsdCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuY29udGV4dHNbMF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB0aGlzLmNvbnRleHRzWzBdID09PSB1bmRlZmluZWQgPyBcIlwiIDogdGhpcy5jb250ZXh0c1swXTtcblx0XHR9XG5cdH1cblxuXHRyZXNvbHZlKGR2KSB7XG5cdFx0Y29uc3QgZG9tYWlucyA9IFtdO1xuXHRcdGZvciAoY29uc3QgZG9tYWluIG9mIHRoaXMuZG9tYWlucykge1xuXHRcdFx0aWYgKEhlbHBlci5pc1VVSUQoZG9tYWluKSkge1xuXHRcdFx0XHRjb25zdCBwYWdlcyA9IGR2XG5cdFx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuRG9tYWluc31cImApXG5cdFx0XHRcdFx0LndoZXJlKChwYWdlKSA9PiBwYWdlLmZpbGUuZnJvbnRtYXR0ZXIudXVpZCA9PT0gZG9tYWluKTtcblx0XHRcdFx0aWYgKHBhZ2VzLmxlbmd0aCA+IDEpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoKTtcblx0XHRcdFx0fSBlbHNlIGlmIChwYWdlcy5sZW5ndGggPT09IDEpIHtcblx0XHRcdFx0XHRjb25zdCBwYWdlID0gcGFnZXNbMF07XG5cdFx0XHRcdFx0ZG9tYWlucy5wdXNoKHBhZ2UuZmlsZS5mcm9udG1hdHRlci5uYW1lKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc3QgcGFnZXMgPSBkdlxuXHRcdFx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLkRvbWFpbnN9XCJgKVxuXHRcdFx0XHRcdC53aGVyZSgocGFnZSkgPT4gcGFnZS5maWxlLmZyb250bWF0dGVyLm5hbWUgPT09IGRvbWFpbik7XG5cdFx0XHRcdGlmIChwYWdlcy5sZW5ndGggPiAxKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCk7XG5cdFx0XHRcdH0gZWxzZSBpZiAocGFnZXMubGVuZ3RoID09PSAxKSB7XG5cdFx0XHRcdFx0Y29uc3QgcGFnZSA9IHBhZ2VzWzBdO1xuXHRcdFx0XHRcdGRvbWFpbnMucHVzaChwYWdlLmZpbGUuZnJvbnRtYXR0ZXIubmFtZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKGRvbWFpbnMubGVuZ3RoICE9PSB0aGlzLmRvbWFpbnMubGVuZ3RoKSB7XG5cdFx0XHRjb25zb2xlLndhcm4oYERvbWFpbiByZXNvbHV0aW9uIGZhaWxlZCBmb3I6ICR7dGhpcy5kb21haW5zfWApO1xuXHRcdH1cblxuXHRcdHRoaXMuZG9tYWlucyA9IGRvbWFpbnM7XG5cdH1cbn1cblxuY2xhc3MgVmFsaWRhdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuXHRjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG5cdFx0c3VwZXIobWVzc2FnZSk7IC8vICgxKVxuXHRcdHRoaXMubmFtZSA9IFwiVmFsaWRhdGlvbkVycm9yXCI7IC8vICgyKVxuXHR9XG59XG5cbmV4cG9ydCBjb25zdCBBc3NlcnQgPSB7XG5cdFRydWUocHJlZGljYXRlOiBib29sZWFuLCBtZXNzYWdlOiBzdHJpbmcsIHN0cmljdCA9IHRydWUpIHtcblx0XHRpZiAoIXByZWRpY2F0ZSkge1xuXHRcdFx0aWYgKHN0cmljdCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKG1lc3NhZ2UpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihtZXNzYWdlKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cdEZhbHNlKHByZWRpY2F0ZTogYm9vbGVhbiwgbWVzc2FnZTogc3RyaW5nLCBzdHJpY3QgPSBmYWxzZSkge1xuXHRcdGlmIChwcmVkaWNhdGUpIHtcblx0XHRcdGlmIChzdHJpY3QpIHtcblx0XHRcdFx0dGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihtZXNzYWdlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxufTtcblxuZXhwb3J0IGNvbnN0IEhlbHBlciA9IHtcblx0bmlsQ2hlY2sodmFsOiBhbnkpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdmFsID09PSB1bmRlZmluZWQgfHwgdmFsID09PSBudWxsO1xuXHR9LFxuXG5cdGdldEtleUZ1Y2soZ3JvdXBCeSkge1xuXHRcdHN3aXRjaCAoZ3JvdXBCeSkge1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdGNhc2UgXCJkb25lQXRcIjpcblx0XHRcdFx0cmV0dXJuIChlbnRyeSkgPT5cblx0XHRcdFx0XHRlbnRyeS5maWxlLmZyb250bWF0dGVyLmRvbmVBdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwiY3JlYXRlZEF0XCI6XG5cdFx0XHRcdHJldHVybiAoZW50cnkpID0+XG5cdFx0XHRcdFx0ZW50cnkuZmlsZS5mcm9udG1hdHRlci5jcmVhdGVkQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcInByb2plY3RcIjpcblx0XHRcdFx0cmV0dXJuIChlbnRyeSkgPT4gZW50cnkuZmlsZS5mcm9udG1hdHRlci5wcm9qZWN0O1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgXCJhcmVhXCI6XG5cdFx0XHRcdHJldHVybiAoZW50cnkpID0+IGVudHJ5LmZpbGUuZnJvbnRtYXR0ZXIuYXJlYTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9LFxuXG5cdGdldEtleShncm91cEJ5KSB7XG5cdFx0c3dpdGNoIChncm91cEJ5KSB7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0Y2FzZSBcImRvbmVBdFwiOlxuXHRcdFx0XHRyZXR1cm4gKGVudHJ5KSA9PiBlbnRyeS5kb25lQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcImNyZWF0ZWRBdFwiOlxuXHRcdFx0XHRyZXR1cm4gKGVudHJ5KSA9PiBlbnRyeS5jcmVhdGVkQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcInByb2plY3RcIjpcblx0XHRcdFx0cmV0dXJuIChlbnRyeSkgPT4gZW50cnkucHJvamVjdDtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwiYXJlYVwiOlxuXHRcdFx0XHRyZXR1cm4gKGVudHJ5KSA9PiBlbnRyeS5hcmVhO1xuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cdH0sXG5cblx0bnVtYmVyVHlwZVRvU3RyaW5nKHZhbCk6IHN0cmluZyB7XG5cdFx0c3dpdGNoICh2YWwudHlwZSkge1xuXHRcdFx0Y2FzZSBUeXBlcy5GbGVldGluZzpcblx0XHRcdFx0cmV0dXJuIFwiZmxlZXRpbmdcIjtcblx0XHRcdGNhc2UgVHlwZXMuTG9nOlxuXHRcdFx0XHRyZXR1cm4gXCJsb2dcIjtcblx0XHRcdGNhc2UgVHlwZXMuUHJvamVjdDpcblx0XHRcdFx0cmV0dXJuIFwicHJvamVjdFwiO1xuXHRcdFx0Y2FzZSBUeXBlcy5Pcmc6XG5cdFx0XHRcdHJldHVybiBcIm9yZ1wiO1xuXHRcdFx0Y2FzZSBUeXBlcy5Eb21haW46XG5cdFx0XHRcdHJldHVybiBcImRvbWFpblwiO1xuXHRcdFx0Y2FzZSBUeXBlcy5Db21wb25lbnQ6XG5cdFx0XHRcdHJldHVybiBcImNvbXBvbmVudFwiO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdGBudW1iZXJUeXBlVG9TdHJpbmc6IHR5cGU6IFwiJHt2YWwudHlwZX1cIiBub3QgaW1wbGVtZW50ZWQgXCIke3ZhbC51dWlkfVwiYCxcblx0XHRcdFx0KTtcblx0XHR9XG5cdH0sXG5cblx0cm91bmRUb09uZURlY2ltYWwodmFsOiBudW1iZXIpOiBudW1iZXIge1xuXHRcdHJldHVybiBNYXRoLnJvdW5kKHZhbCAqIDEwKSAvIDEwO1xuXHR9LFxuXG5cdGlzQ2hpbGRUYWcocGFyZW50LCBjaGlsZCkge1xuXHRcdGlmIChjaGlsZC5sZW5ndGggPD0gcGFyZW50Lmxlbmd0aCArIDEpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9IGVsc2UgaWYgKGNoaWxkLnNsaWNlKDAsIHBhcmVudC5sZW5ndGggKyAxKSAhPSBgJHtwYXJlbnR9L2ApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0Z2V0RmllbGQoZmllbGQsIGRlZmF1bHRWYWx1ZSkge1xuXHRcdGlmIChmaWVsZCA9PT0gdW5kZWZpbmVkIHx8IGZpZWxkID09PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gZGVmYXVsdFZhbHVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gZmllbGQ7XG5cdFx0fVxuXHR9LFxuXG5cdGdldERhdGUoZHQpIHtcblx0XHRpZiAoZHQgPT09IFwiXCIgfHwgZHQgPT09IG51bGwpIHtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fSBlbHNlIGlmIChkdCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRkdCA9IG5ldyBEYXRlKGR0KTtcblx0XHRcdGlmIChpc05hTihkdCkpIHtcblx0XHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBkdDtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cdH0sXG5cblx0Z2V0VGFnKGZtLCB0eXBlLCBlbXB0eURlZmF1bHQgPSB1bmRlZmluZWQpIHtcblx0XHRsZXQgbmFtZSA9IFwiXCI7XG5cdFx0bGV0IGRlZmF1bHRWYWx1ZSA9IFwiXCI7XG5cblx0XHRpZiAodHlwZSA9PT0gXCJhcmVhXCIpIHtcblx0XHRcdG5hbWUgPSBOYW1lc3BhY2UuQXJlYTtcblx0XHRcdGRlZmF1bHRWYWx1ZSA9IERlZmF1bHQuQXJlYTtcblx0XHR9IGVsc2UgaWYgKHR5cGUgPT09IFwiY29udGV4dFwiKSB7XG5cdFx0XHRuYW1lID0gTmFtZXNwYWNlLkNvbnRleHQ7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSBEZWZhdWx0LkNvbnRleHQ7XG5cdFx0fSBlbHNlIGlmICh0eXBlID09PSBcImxheWVyXCIpIHtcblx0XHRcdG5hbWUgPSBOYW1lc3BhY2UuTGF5ZXI7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSBEZWZhdWx0LkxheWVyO1xuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gXCJvcmdcIikge1xuXHRcdFx0bmFtZSA9IE5hbWVzcGFjZS5Pcmc7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSBEZWZhdWx0Lk9yZztcblx0XHR9IGVsc2UgaWYgKHR5cGUgPT09IFwicHJvamVjdFwiKSB7XG5cdFx0XHRuYW1lID0gTmFtZXNwYWNlLlByb2plY3Q7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSBEZWZhdWx0LlByb2plY3Q7XG5cdFx0fSBlbHNlIGlmICh0eXBlID09IFwiZG9tYWluXCIpIHtcblx0XHRcdG5hbWUgPSBcImRvbWFpblwiO1xuXHRcdFx0ZGVmYXVsdFZhbHVlID0gXCJub25lXCI7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgZ2V0VGFnIGdvdCB1bnN1cG9ydGVkIHR5cGU6ICcke3R5cGV9J2ApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGxlbiA9IG5hbWUubGVuZ3RoICsgMTtcblx0XHRjb25zdCBkZWZhdWx0VGFnID0gYCR7bmFtZX0vJHtkZWZhdWx0VmFsdWV9YDtcblxuXHRcdGxldCBkZWZhdWx0UmV0VmFsID0gZGVmYXVsdFRhZztcblx0XHRpZiAoZW1wdHlEZWZhdWx0KSB7XG5cdFx0XHRkZWZhdWx0UmV0VmFsID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gZGVmYXVsdFJldFZhbDtcblx0XHR9XG5cblx0XHRjb25zdCB0YWdzID0gZm0udGFncztcblx0XHRpZiAodGFncyA9PT0gdW5kZWZpbmVkIHx8IHRhZ3MubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gZGVmYXVsdFJldFZhbDtcblx0XHR9XG5cdFx0Ly8gLT4gdGFnIG4nZXhpc3RlIHBhcyAtPiB2YWxldXIgcGFyIGRlZmF1dFxuXHRcdC8vIC0+IHRhZyBleGlzdGUgbWFpcyBpbCBhIHVuZSB2YWxldXIgcGFyIGRlZmF1dCAtPiB2YWxldXIgcGFyIGRlZmF1dFxuXHRcdGZvciAoY29uc3QgdGFnIG9mIHRhZ3MpIHtcblx0XHRcdGlmICh0YWcgPT0gZGVmYXVsdFRhZykge1xuXHRcdFx0XHRyZXR1cm4gZGVmYXVsdFJldFZhbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRhZy5sZW5ndGggPiBsZW4gJiYgdGFnLnNsaWNlKDAsIGxlbikgPT0gYCR7bmFtZX0vYCkge1xuXHRcdFx0XHRyZXR1cm4gdGFnO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBkZWZhdWx0UmV0VmFsO1xuXHR9LFxuXG5cdGdldE5hbWUoZm0pOiBzdHJpbmcge1xuXHRcdGNvbnN0IGNvbXBvbmVudHMgPSBIZWxwZXIuZ2V0Q29tcG9uZW50cyhmbSk7XG5cdFx0aWYgKGNvbXBvbmVudHMubGVuZ3RoIDwgMSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBIZWxwZXIuZ2V0TmFtZSgpICR7Zm19YCk7XG5cdFx0fVxuXG5cdFx0bGV0IG5hbWUgPSB1bmRlZmluZWQ7XG5cdFx0bGV0IG9jY3VyZW5jZXMgPSAwO1xuXHRcdGZvciAoY29uc3QgY29tcG9uZW50IG9mIGNvbXBvbmVudHMpIHtcblx0XHRcdGlmIChjb21wb25lbnQuc2xpY2UoMCwgMTUpID09PSBcImNvbXBvbmVudC9uYW1lL1wiKSB7XG5cdFx0XHRcdG5hbWUgPSBjb21wb25lbnQuc2xpY2UoMTUpO1xuXHRcdFx0XHRvY2N1cmVuY2VzICs9IDE7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKG9jY3VyZW5jZXMgPiAxKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdGBIZWxwZXIuZ2V0TmFtZSgpICR7Zm19IG11bHRpcGxlIG9jY3VyZW5jZXMgb2YgJ2NvbXBvbmVudC9uYW1lJ2AsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGlmIChuYW1lID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0YEhlbHBlci5nZXROYW1lKCkgJHtmbX0gJ2NvbXBvbmVudC9uYW1lJyB1bmRlZmluZWRgLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbmFtZTtcblx0fSxcblxuXHRnZXRDb21wb25lbnRzKGZtKSB7XG5cdFx0Y29uc3QgY29tcG9uZW50cyA9IFtdO1xuXHRcdGlmIChIZWxwZXIubmlsQ2hlY2soZm0udGFncykpIHtcblx0XHRcdHJldHVybiBbXTtcblx0XHR9XG5cdFx0Zm9yIChjb25zdCB0YWcgb2YgZm0udGFncykge1xuXHRcdFx0aWYgKHRhZy5sZW5ndGggPiAxMCAmJiB0YWcuc2xpY2UoMCwgMTApID09PSBcImNvbXBvbmVudC9cIikge1xuXHRcdFx0XHRjb21wb25lbnRzLnB1c2godGFnKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGNvbXBvbmVudHM7XG5cdH0sXG5cblx0Z2V0QXJlYShmbSwgZW1wdHlEZWZhdWx0ID0gZmFsc2UpIHtcblx0XHRyZXR1cm4gSGVscGVyLmdldFRhZyhmbSwgXCJhcmVhXCIsIGVtcHR5RGVmYXVsdCk7XG5cdH0sXG5cblx0Z2V0Q29udGV4dChmbSwgZW1wdHlEZWZhdWx0ID0gZmFsc2UpIHtcblx0XHRyZXR1cm4gSGVscGVyLmdldFRhZyhmbSwgXCJjb250ZXh0XCIsIGVtcHR5RGVmYXVsdCk7XG5cdH0sXG5cblx0Z2V0RG9tYWluKGZtLCBlbXB0eURlZmF1bHQgPSBmYWxzZSkge1xuXHRcdHJldHVybiBIZWxwZXIuZ2V0VGFnKGZtLCBcImRvbWFpblwiLCBlbXB0eURlZmF1bHQpO1xuXHR9LFxuXG5cdGdldExheWVyKGZtLCBlbXB0eURlZmF1bHQgPSBmYWxzZSkge1xuXHRcdHJldHVybiBIZWxwZXIuZ2V0VGFnKGZtLCBcImxheWVyXCIsIGVtcHR5RGVmYXVsdCk7XG5cdH0sXG5cblx0Z2V0T3JnKGZtLCBlbXB0eURlZmF1bHQgPSBmYWxzZSkge1xuXHRcdHJldHVybiBIZWxwZXIuZ2V0VGFnKGZtLCBcIm9yZ1wiLCBlbXB0eURlZmF1bHQpO1xuXHR9LFxuXG5cdGdldFByb2plY3QoZm0sIGVtcHR5RGVmYXVsdCA9IGZhbHNlKSB7XG5cdFx0cmV0dXJuIEhlbHBlci5nZXRUYWcoZm0sIFwicHJvamVjdFwiLCBlbXB0eURlZmF1bHQpO1xuXHR9LFxuXG5cdGR1cmF0aW9uU3RyaW5nVG9TZWModmFsKSB7XG5cdFx0aWYgKHZhbCA9PT0gdW5kZWZpbmVkIHx8IHZhbC5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblx0XHRjb25zdCBtdWx0ID0gdmFsLnNsaWNlKC0xKTtcblx0XHRsZXQgbSA9IDA7XG5cdFx0aWYgKG11bHQgPT09IFwiaFwiKSB7XG5cdFx0XHRtID0gNjAgKiA2MDtcblx0XHR9IGVsc2UgaWYgKG11bHQgPT09IFwibVwiKSB7XG5cdFx0XHRtID0gNjA7XG5cdFx0fSBlbHNlIGlmIChtdWx0ID09PSBcImRcIikge1xuXHRcdFx0bSA9IDI0ICogNjAgKiA2MDtcblx0XHR9IGVsc2UgaWYgKG11bHQgPT0gXCJ3XCIpIHtcblx0XHRcdG0gPSAyNCAqIDYwICogNjAgKiA3O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLndhcm4oYFVuaGFuZGxlZCBjYXNlIHZhbDogJHt2YWx9YCk7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdHJldHVybiBtICogcGFyc2VJbnQodmFsLnNsaWNlKDAsIC0xKSk7XG5cdH0sXG5cblx0bXNlY1RvU3RyaW5nRHVyYXRpb24odmFsOiBudW1iZXIpIHtcblx0XHRjb25zdCBvbmVIb3VySW5Nc2VjID0gMzYwMDAwMDsgLy8gMSBob3VyIGluIG1zZWNcblx0XHRjb25zdCBvbmVEYXlJbk1zZWMgPSA4NjQwMDAwMDsgLy8gMSBkYXkgaW4gbXNlY1xuXHRcdGlmICh2YWwgPj0gMjQgKiBvbmVIb3VySW5Nc2VjKSB7XG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRTdHJpbmcoSGVscGVyLnJvdW5kVG9PbmVEZWNpbWFsKHZhbCAvIG9uZURheUluTXNlYykpLnBhZFN0YXJ0KFxuXHRcdFx0XHRcdDIsXG5cdFx0XHRcdFx0XCIwXCIsXG5cdFx0XHRcdCkgKyBcIiBkXCJcblx0XHRcdCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFN0cmluZyhIZWxwZXIucm91bmRUb09uZURlY2ltYWwodmFsIC8gb25lSG91ckluTXNlYykpLnBhZFN0YXJ0KFxuXHRcdFx0XHRcdDIsXG5cdFx0XHRcdFx0XCIwXCIsXG5cdFx0XHRcdCkgKyBcIiBoXCJcblx0XHRcdCk7XG5cdFx0fVxuXHR9LFxuXG5cdGlzVVVJRCh2YWw6IHN0cmluZyk6IGJvb2xlYW4ge1xuXHRcdGlmICh0eXBlb2YgdmFsICE9PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiB2YWwubGVuZ3RoID09PSAzNjtcblx0fSxcblxuXHRzb3J0QnlBZ2UoYSwgYikge1xuXHRcdGNvbnN0IGZtQSA9IG5ldyBGcm9udG1hdHRlckpTKGEpO1xuXHRcdGNvbnN0IGZtQiA9IG5ldyBGcm9udG1hdHRlckpTKGIpO1xuXG5cdFx0cmV0dXJuIGZtQS5jcmVhdGVkQXQuZ2V0VGltZSgpIC0gZm1CLmNyZWF0ZWRBdC5nZXRUaW1lKCk7XG5cdH0sXG5cblx0c29ydEJ5UHJpb3JpdHkoYSwgYikge1xuXHRcdGNvbnN0IGZtQSA9IG5ldyBGcm9udG1hdHRlckpTKGEpO1xuXHRcdGNvbnN0IGZtQiA9IG5ldyBGcm9udG1hdHRlckpTKGIpO1xuXG5cdFx0cmV0dXJuIGZtQi5mbS5wcmlvcml0eSAtIGZtQS5mbS5wcmlvcml0eTtcblx0fSxcblxuXHRzb3J0QnlQcmlvcml0eUFuZEFnZShhLCBiKSB7XG5cdFx0Y29uc3QgZm1BID0gbmV3IEZyb250bWF0dGVySlMoYSk7XG5cdFx0Y29uc3QgZm1CID0gbmV3IEZyb250bWF0dGVySlMoYik7XG5cblx0XHRpZiAoZm1BLmZtLnByaW9yaXR5ICE9PSBmbUIuZm0ucHJpb3JpdHkucHJpb3JpdHkpIHtcblx0XHRcdHJldHVybiBIZWxwZXIuc29ydEJ5UHJpb3JpdHkoYSwgYik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBIZWxwZXIuc29ydEJ5QWdlKGEsIGIpO1xuXHRcdH1cblx0fSxcblxuXHRzb3J0QnlEdXJhdGlvbihhLCBiKSB7XG5cdFx0Y29uc3QgZm1BID0gbmV3IEZyb250bWF0dGVySlMoYSk7XG5cdFx0Y29uc3QgZm1CID0gbmV3IEZyb250bWF0dGVySlMoYik7XG5cdFx0cmV0dXJuIChcblx0XHRcdEhlbHBlci5kdXJhdGlvblN0cmluZ1RvU2VjKGZtQS5mbS50aW1lX2VzdGltYXRlKSAtXG5cdFx0XHRIZWxwZXIuZHVyYXRpb25TdHJpbmdUb1NlYyhmbUIuZm0udGltZV9lc3RpbWF0ZSlcblx0XHQpO1xuXHR9LFxuXG5cdHNvcnRCeVByaW9yaXR5QW5kRHVyYXRpb24oYSwgYikge1xuXHRcdGNvbnN0IGZtQSA9IG5ldyBGcm9udG1hdHRlckpTKGEpO1xuXHRcdGNvbnN0IGZtQiA9IG5ldyBGcm9udG1hdHRlckpTKGIpO1xuXG5cdFx0aWYgKGZtQS5mbS5wcmlvcml0eSAhPT0gZm1CLmZtLnByaW9yaXR5KSB7XG5cdFx0XHRyZXR1cm4gSGVscGVyLnNvcnRCeVByaW9yaXR5KGEsIGIpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gSGVscGVyLnNvcnRCeUR1cmF0aW9uKGEsIGIpO1xuXHRcdH1cblx0fSxcblxuXHRzb3J0QnlQcmlvcml0eUFuZER1cmF0aW9uQW5kQWdlKGEsIGIpIHtcblx0XHRjb25zdCBmbUEgPSBuZXcgRnJvbnRtYXR0ZXJKUyhhKTtcblx0XHRjb25zdCBmbUIgPSBuZXcgRnJvbnRtYXR0ZXJKUyhiKTtcblxuXHRcdGlmIChmbUEuZm0ucHJpb3JpdHkgIT09IGZtQi5mbS5wcmlvcml0eSkge1xuXHRcdFx0cmV0dXJuIEhlbHBlci5zb3J0QnlQcmlvcml0eShhLCBiKTtcblx0XHR9IGVsc2UgaWYgKGZtQS5mbS50aW1lX2VzdGltYXRlICE9PSBmbUIuZm0udGltZV9lc3RpbWF0ZSkge1xuXHRcdFx0cmV0dXJuIEhlbHBlci5zb3J0QnlEdXJhdGlvbihhLCBiKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIEhlbHBlci5zb3J0QnlBZ2UoYSwgYik7XG5cdFx0fVxuXHR9LFxufTtcblxuLy8gdGhpcyBtdXN0IGJlIGNhbGxlZCBmcm9tIGBkYXRhdmlld2pzYCBjb2RlYmxvY2tzXG5leHBvcnQgY29uc3QgUmVuZGVyZXIgPSB7XG5cdG1ha2VMaW5rTmFtZShkdiwgZiwgYW5jaG9yID0gXCJDb250ZW50XCIpIHtcblx0XHRpZiAoSGVscGVyLm5pbENoZWNrKGYuZnJvbnRtYXR0ZXIubmFtZSkpIHtcblx0XHRcdHJldHVybiBSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRChkdiwgZiwgYW5jaG9yKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZHYuc2VjdGlvbkxpbmsoZi5wYXRoLCBhbmNob3IsIGZhbHNlLCBgJHtmLmZyb250bWF0dGVyLm5hbWV9YCk7XG5cdH0sXG5cblx0bWFrZUxpbmtBbGlhcyhkdiwgZiwgYW5jaG9yID0gXCJDb250ZW50XCIpIHtcblx0XHRpZiAoSGVscGVyLm5pbENoZWNrKGYuZnJvbnRtYXR0ZXIuYWxpYXMpKSB7XG5cdFx0XHRyZXR1cm4gUmVuZGVyZXIubWFrZUxpbmtTaG9ydFVVSUQoZHYsIGYsIGFuY2hvcik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGR2LnNlY3Rpb25MaW5rKGYucGF0aCwgYW5jaG9yLCBmYWxzZSwgYCR7Zi5mcm9udG1hdHRlci5hbGlhc31gKTtcblx0fSxcblxuXHRtYWtlTGlua1Nob3J0VVVJRChkdiwgZiwgYW5jaG9yID0gXCJDb250ZW50XCIpIHtcblx0XHRyZXR1cm4gZHYuc2VjdGlvbkxpbmsoXG5cdFx0XHRmLnBhdGgsXG5cdFx0XHRhbmNob3IsXG5cdFx0XHRmYWxzZSxcblx0XHRcdGAke2YuZnJvbnRtYXR0ZXIudXVpZC5zbGljZSgwLCA4KX1gLFxuXHRcdCk7XG5cdH0sXG5cblx0bWFrZUxpbmsoZHYsIGYsIG5hbWUgPSB1bmRlZmluZWQsIGFuY2hvciA9IFwiQ29udGVudFwiKSB7XG5cdFx0cmV0dXJuIGR2LnNlY3Rpb25MaW5rKGYucGF0aCwgYW5jaG9yLCBmYWxzZSwgbmFtZSk7XG5cdH0sXG5cblxuXHRkbyhkdiwgcnMpIHtcblx0XHRmb3IgKGNvbnN0IHJvdyBvZiBycykge1xuXHRcdFx0c3dpdGNoIChyb3dbMF0pIHtcblx0XHRcdFx0Y2FzZSBcImhlYWRlclwiOlxuXHRcdFx0XHRcdGNvbnN0IFssIGxldmVsLCBoZWFkaW5nXSA9IHJvdztcblx0XHRcdFx0XHRkdi5oZWFkZXIobGV2ZWwsIGhlYWRpbmcpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFwicGFyYWdyYXBoXCI6XG5cdFx0XHRcdFx0Y29uc3QgWywgdGV4dF0gPSByb3c7XG5cdFx0XHRcdFx0ZHYucGFyYWdyYXBoKHRleHQpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFwiYXJyYXlcIjpcblx0XHRcdFx0XHRjb25zdCBbLCByZW5kZXJlciwgZGF0YV0gPSByb3c7XG5cdFx0XHRcdFx0cmVuZGVyZXIoZHYsIGRhdGEpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFwic3RhdHNcIjpcblx0XHRcdFx0XHRjb25zdCBbLCBuYW1lLCB1bml0LCB2YWx1ZV0gPSByb3c7XG5cdFx0XHRcdFx0ZHYucGFyYWdyYXBoKGAke25hbWV9ICgke3VuaXR9KTogJHt2YWx1ZX1gKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFVuc3Vwb3J0ZWQgb3Bjb2RlOiBcImZ1Y2tvZmZcImApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcbn07XG5cbmV4cG9ydCBjbGFzcyBGcm9udG1hdHRlciB7XG5cdGdvbmV4dDogYW55O1xuXG5cdGNvbnN0cnVjdG9yKGdvbmV4dCkge1xuXHRcdHRoaXMuZ29uZXh0ID0gZ29uZXh0O1xuXHR9XG5cblx0cHJvamVjdFBhcnNlTWV0YShkdikge1xuXHRcdC8vIGZhdXRlIGRlIG1pZXV4IHBvdXIgbGUgbW9tZW50XG5cdFx0Y29uc3QgY3VycmVudCA9IGR2LmN1cnJlbnQoKTtcblx0XHRjb25zdCBwcm9qZWN0TmFtZSA9IGN1cnJlbnQuZmlsZS5mb2xkZXIuc2xpY2UoXG5cdFx0XHRQYXRocy5Qcm9qZWN0cy5sZW5ndGggKyAxLFxuXHRcdCk7XG5cdFx0Y29uc3QgcHJvamVjdERpciA9IGN1cnJlbnQuZmlsZS5mb2xkZXI7XG5cdFx0aWYgKHByb2plY3ROYW1lLmNvbnRhaW5zKFwiL1wiKSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRgcHJvamVjdERpcjogJHtwcm9qZWN0RGlyfSBmb2xkZXI6ICR7Y3VycmVudC5maWxlLmZvbGRlcn1gLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRjb25zdCBwYWdlcyA9IGR2LnBhZ2VzKGBcIiR7cHJvamVjdERpcn0vbWV0YVwiYCkuYXJyYXkoKTtcblx0XHRpZiAocGFnZXMubGVuZ3RoICE9PSAxKSB7XG5cdFx0XHQvLyBjb25zb2xlLmxvZyhwYWdlcyk7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYGxlbjogJHtwYWdlcy5sZW5ndGh9YCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZm0gPSBwYWdlc1swXS5maWxlLmZyb250bWF0dGVyO1xuXHRcdGNvbnN0IHV1aWQgPSBmbS51dWlkO1xuXHRcdGlmIChIZWxwZXIubmlsQ2hlY2sodXVpZCkpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgcHJvamVjdCAndXVpZCcgaXMgbm90IGRlZmluZWRgKTtcblx0XHR9XG5cblx0XHRjb25zdCBuYW1lID0gZm0ubmFtZTtcblx0XHRpZiAoSGVscGVyLm5pbENoZWNrKG5hbWUpKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYCduYW1lJyBpcyBub3QgZGVmaW5lZGApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGRvbWFpbnMgPSBmbS5kb21haW5zO1xuXHRcdGlmICghQXJyYXkuaXNBcnJheShkb21haW5zKSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGAnZG9tYWlucycgbXVzdCBiZSBvZiBhcnJheSB0eXBlYCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHV1aWQ6IHV1aWQsXG5cdFx0XHRuYW1lOiBuYW1lLFxuXHRcdFx0ZG9tYWluczogZG9tYWlucyxcblx0XHR9O1xuXHR9XG5cblx0Z2V0Q3JlYXRlZEF0KGYpOiBEYXRlIHtcblx0XHRyZXR1cm4gSGVscGVyLm5pbENoZWNrKGYuZnJvbnRtYXR0ZXIuY3JlYXRlZF9hdClcblx0XHRcdD8gbmV3IERhdGUoZi5jdGltZS50cylcblx0XHRcdDogbmV3IERhdGUoZi5mcm9udG1hdHRlci5jcmVhdGVkX2F0KTtcblx0fVxuXG5cdGdldEN1cnJlbnRGcm9udG1hdHRlcigpIHtcblx0XHRjb25zdCBmaWxlID0gdGhpcy5nb25leHQud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcblx0XHRjb25zdCBmaWxlQ29udGVudCA9IHRoaXMuZ29uZXh0Lm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpO1xuXHRcdGlmIChmaWxlQ29udGVudCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHQvLyBjb25zb2xlLndhcm4oXCInZmlsZUNvbnRlbnQnIGlzIHVuZGVmaW5lZFwiKTtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZm0gPSBmaWxlQ29udGVudC5mcm9udG1hdHRlcjtcblx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Ly8gY29uc29sZS53YXJuKFwiJ2ZtJyBpcyB1bmRlZmluZWRcIik7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdHJldHVybiBmbTtcblx0fVxuXG5cdHBhcnNlTGlzdEJ5TmFtZXNwYWNlKGZtKSB7XG5cdFx0Y29uc3QgYnlBcmVhcyA9IGZtLmJ5X2FyZWFzID09PSB1bmRlZmluZWQgPyBbXSA6IGZtLmJ5X2FyZWFzO1xuXHRcdGNvbnN0IGJ5Q29udGV4dHMgPSBmbS5ieV9jb250ZXh0cyA9PT0gdW5kZWZpbmVkID8gW10gOiBmbS5ieV9jb250ZXh0cztcblx0XHRjb25zdCBieUxheWVycyA9IGZtLmJ5X2xheWVycyA9PT0gdW5kZWZpbmVkID8gW10gOiBmbS5ieV9sYXllcnM7XG5cdFx0Y29uc3QgYnlPcmdzID0gZm0uYnlfb3JncyA9PT0gdW5kZWZpbmVkID8gW10gOiBmbS5ieV9vcmdzO1xuXHRcdGNvbnN0IGJ5UHJvamVjdHMgPSBmbS5ieV9wcm9qZWN0cyA9PT0gdW5kZWZpbmVkID8gW10gOiBmbS5ieV9wcm9qZWN0cztcblxuXHRcdHJldHVybiBbYnlBcmVhcywgYnlDb250ZXh0cywgYnlMYXllcnMsIGJ5T3JncywgYnlQcm9qZWN0c107XG5cdH1cblxuXHRwYXJzZUxpc3RCZWZvcmVBZnRlcihmbSkge1xuXHRcdGNvbnN0IGJlZm9yZSA9IEhlbHBlci5nZXREYXRlKGZtLmJlZm9yZSk7XG5cdFx0Y29uc3QgYWZ0ZXIgPSBIZWxwZXIuZ2V0RGF0ZShmbS5hZnRlcik7XG5cdFx0cmV0dXJuIFtiZWZvcmUsIGFmdGVyXTtcblx0fVxuXG5cdHBhcnNlTGlzdEZpbHRlckJ5KGZtKSB7XG5cdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBbXTtcblx0XHR9XG5cblx0XHRjb25zdCBmaWx0ZXJCeSA9IGZtLmZpbHRlcl9ieTtcblx0XHRpZiAoIUFycmF5LmlzQXJyYXkoZmlsdGVyQnkpKSB7XG5cdFx0XHRyZXR1cm4gW107XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZpbHRlckJ5O1xuXHR9XG5cblx0cGFyc2VMaXN0R3JvdXBCeShmbSkge1xuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gXCJcIjtcblx0XHR9XG5cblx0XHRjb25zdCBncm91cEJ5ID0gZm0uZ3JvdXBfYnk7XG5cdFx0aWYgKFxuXHRcdFx0ISh0eXBlb2YgZ3JvdXBCeSA9PT0gXCJ1bmRlZmluZWRcIikgJiZcblx0XHRcdCEodHlwZW9mIGdyb3VwQnkgPT09IFwic3RyaW5nXCIpXG5cdFx0KSB7XG5cdFx0XHRyZXR1cm4gXCJcIjtcblx0XHR9XG5cblx0XHRyZXR1cm4gZ3JvdXBCeTtcblx0fVxuXG5cdHBhcnNlQWxsUHJvZ3Jlc3NlZFRhc2tzKCkge1xuXHRcdGNvbnN0IGZtID0gdGhpcy5nZXRDdXJyZW50RnJvbnRtYXR0ZXIoKTtcblx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGZyb250bWF0dGVyLCBjYW5ub3QgcHJvY2VlZGApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGdyb3VwQnkgPSB0aGlzLnBhcnNlTGlzdEdyb3VwQnkoZm0pO1xuXHRcdGNvbnN0IGZpbHRlckJ5ID0gdGhpcy5wYXJzZUxpc3RGaWx0ZXJCeShmbSk7XG5cdFx0Y29uc3QgW2JlZm9yZSwgYWZ0ZXJdID0gdGhpcy5wYXJzZUxpc3RCZWZvcmVBZnRlcihmbSk7XG5cblx0XHRyZXR1cm4gW2dyb3VwQnksIGZpbHRlckJ5LCBiZWZvcmUsIGFmdGVyXTtcblx0fVxuXG5cdHBhcnNlQWxsRG9uZVRhc2tzKCkge1xuXHRcdHJldHVybiB0aGlzLnBhcnNlQWxsUHJvZ3Jlc3NlZFRhc2tzKCk7XG5cdH1cblxuXHRwYXJzZUFsbERvbmVUYXNrV2l0aG91dExvZygpIHtcblx0XHRyZXR1cm4gdGhpcy5wYXJzZUFsbFByb2dyZXNzZWRUYXNrcygpO1xuXHR9XG5cblx0cGFyc2VBbGxUb2RvQWRIb2MoKSB7XG5cdFx0Y29uc3QgZm0gPSB0aGlzLmdldEN1cnJlbnRGcm9udG1hdHRlcigpO1xuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZnJvbnRtYXR0ZXIsIGNhbm5vdCBwcm9jZWVkYCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZ3JvdXBCeSA9IHRoaXMucGFyc2VMaXN0R3JvdXBCeShmbSk7XG5cdFx0Y29uc3QgZmlsdGVyQnkgPSB0aGlzLnBhcnNlTGlzdEZpbHRlckJ5KGZtKTtcblx0XHRjb25zdCBbYmVmb3JlLCBhZnRlcl0gPSB0aGlzLnBhcnNlTGlzdEJlZm9yZUFmdGVyKGZtKTtcblx0XHRjb25zdCBtaW5Qcmlvcml0eSA9IEhlbHBlci5nZXRGaWVsZChmbS5taW5fcHJpb3JpdHksIDApO1xuXG5cdFx0cmV0dXJuIFtncm91cEJ5LCBmaWx0ZXJCeSwgYmVmb3JlLCBhZnRlciwgbWluUHJpb3JpdHldO1xuXHR9XG5cblx0cGFyc2VJbmJveCgpIHtcblx0XHRjb25zdCBmbSA9IHRoaXMuZ2V0Q3VycmVudEZyb250bWF0dGVyKCk7XG5cdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBbW10sIFtdLCAwLCAweGZmZmZmZmZmXTtcblx0XHR9XG5cblx0XHRjb25zdCBzb3VyY2UgPSBIZWxwZXIubmlsQ2hlY2soZm0uc291cmNlKVxuXHRcdFx0PyBbXCJsb2dzXCIsIFwiZmxlZXRpbmdcIl1cblx0XHRcdDogZm0uc291cmNlO1xuXHRcdGNvbnN0IGdyb3VwQnkgPSBIZWxwZXIubmlsQ2hlY2soZm0uZ3JvdXBfYnkpID8gXCJub25lXCIgOiBmbS5ncm91cF9ieTtcblx0XHRjb25zdCBmaWx0ZXJCeSA9IHRoaXMucGFyc2VMaXN0RmlsdGVyQnkoZm0pO1xuXHRcdGNvbnN0IG1pblNpemUgPSBIZWxwZXIubmlsQ2hlY2soZm0ubWluX3NpemUpID8gMCA6IGZtLm1pbl9zaXplO1xuXHRcdGNvbnN0IG1heFNpemUgPSBIZWxwZXIubmlsQ2hlY2soZm0ubWF4X3NpemUpID8gMHhmZmZmZmZmZiA6IGZtLm1heF9zaXplO1xuXG5cdFx0cmV0dXJuIFtzb3VyY2UsIGdyb3VwQnksIGZpbHRlckJ5LCBtaW5TaXplLCBtYXhTaXplXTtcblx0fVxuXG5cdHBhcnNlVG9kb0xpc3QoKSB7XG5cdFx0Y29uc3QgZm0gPSB0aGlzLmdldEN1cnJlbnRGcm9udG1hdHRlcigpO1xuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gW1tdLCBbXSwgW10sIFtdLCBbXSwgMF07XG5cdFx0fVxuXG5cdFx0Y29uc3QgW2J5QXJlYXMsIGJ5Q29udGV4dHMsIGJ5TGF5ZXJzLCBieU9yZ3MsIGJ5UHJvamVjdHNdID1cblx0XHRcdHRoaXMucGFyc2VMaXN0QnlOYW1lc3BhY2UoZm0pO1xuXHRcdGNvbnN0IG1pblByaW9yaXR5ID0gSGVscGVyLmdldEZpZWxkKGZtLm1pbl9wcmlvcml0eSwgMCk7XG5cblx0XHRyZXR1cm4gW2J5QXJlYXMsIGJ5Q29udGV4dHMsIGJ5TGF5ZXJzLCBieU9yZ3MsIGJ5UHJvamVjdHMsIG1pblByaW9yaXR5XTtcblx0fVxuXG5cdHBhcnNlRG9uZUxpc3QoKSB7XG5cdFx0Y29uc3QgZm0gPSB0aGlzLmdldEN1cnJlbnRGcm9udG1hdHRlcigpO1xuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gW1tdLCBbXSwgW10sIFtdLCBbXSwgW10sIFtdXTtcblx0XHR9XG5cblx0XHRjb25zdCBbYnlBcmVhcywgYnlDb250ZXh0cywgYnlMYXllcnMsIGJ5T3JncywgYnlQcm9qZWN0c10gPVxuXHRcdFx0dGhpcy5wYXJzZUxpc3RCeU5hbWVzcGFjZShmbSk7XG5cdFx0Y29uc3QgW2JlZm9yZSwgYWZ0ZXJdID0gdGhpcy5wYXJzZUxpc3RCZWZvcmVBZnRlcihmbSk7XG5cdFx0Y29uc3QgZmllbGRzID0gSGVscGVyLmdldEZpZWxkKGZtLmZpZWxkcywgW10pO1xuXHRcdGNvbnN0IHN0YXRzID0gSGVscGVyLmdldEZpZWxkKGZtLnN0YXRzLCBbXSk7XG5cblx0XHRyZXR1cm4gW1xuXHRcdFx0YnlBcmVhcyxcblx0XHRcdGJ5Q29udGV4dHMsXG5cdFx0XHRieUxheWVycyxcblx0XHRcdGJ5T3Jncyxcblx0XHRcdGJ5UHJvamVjdHMsXG5cdFx0XHRmaWVsZHMsXG5cdFx0XHRzdGF0cyxcblx0XHRcdGJlZm9yZSxcblx0XHRcdGFmdGVyLFxuXHRcdF07XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIE5vdGVIZWxwZXIge1xuXHRkdjogYW55O1xuXHRnb25leHQ6IGFueTtcblx0ZnJvbnRtYXR0ZXI6IEZyb250bWF0dGVyO1xuXG5cdGNvbnN0cnVjdG9yKGdvbmV4dCwgZHYsIGZyb250bWF0dGVyKSB7XG5cdFx0dGhpcy5nb25leHQgPSBnb25leHQ7XG5cdFx0dGhpcy5kdiA9IGR2O1xuXHRcdHRoaXMuZnJvbnRtYXR0ZXIgPSBmcm9udG1hdHRlcjtcblx0fVxuXG5cdGlzRG9hYmxlKHRhc2ssIGF0ID0gdW5kZWZpbmVkKSB7XG5cdFx0Y29uc3QgZm0gPSB0YXNrLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0aWYgKGZtLnN0YXR1cyAhPT0gU3RhdHVzLlRvZG8pIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRpZiAoZm0uYWZ0ZXIgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Y29uc3QgYWZ0ZXIgPSBuZXcgRGF0ZShmbS5hZnRlcik7XG5cdFx0XHRpZiAoRGF0ZS5ub3coKSA8PSBhZnRlci5nZXRUaW1lKCkpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChhdCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRjb25zdCBmbUF0ID0gbmV3IERhdGUoZm0uYXQpO1xuXHRcdFx0Zm1BdC5zZXRIb3VycygwKTtcblx0XHRcdGZtQXQuc2V0TWludXRlcygwKTtcblx0XHRcdGZtQXQuc2V0U2Vjb25kcygwKTtcblxuXHRcdFx0Ly8gaWYgKGZtLnV1aWQgPT09IFwiMmE5N2RlMzUtY2E4Ny00MjY3LTkxNTktNmMwOTZkNDE2M2YxXCIpIHtcblx0XHRcdC8vIFx0Y29uc29sZS5sb2coYHV1aWQ6ICR7Zm0udXVpZH1gKTtcblx0XHRcdC8vIFx0Y29uc29sZS5sb2coYGF0OiAke2F0LmdldFRpbWUoKX1gKTtcblx0XHRcdC8vIFx0Y29uc29sZS5sb2coYGZtQXQ6ICR7Zm1BdC5nZXRUaW1lKCl9YCk7XG5cdFx0XHQvLyBcdGNvbnNvbGUubG9nKGBpZjogJHthdC5nZXRUaW1lKCkgPCBmbUF0LmdldFRpbWUoKX1gKTtcblx0XHRcdC8vIH1cblxuXHRcdFx0aWYgKGF0LmdldFRpbWUoKSA8IGZtQXQuZ2V0VGltZSgpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKGZtLmF0ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Y29uc3QgYXQgPSBuZXcgRGF0ZShmbS5hdCk7XG5cdFx0XHRcdGlmIChEYXRlLm5vdygpIDw9IGF0LmdldFRpbWUoKSkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IGRlcHMgPSBmbS5uZWVkcztcblx0XHRpZiAoZGVwcyA9PT0gdW5kZWZpbmVkIHx8IGRlcHMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5oYXNQZW5kaW5nRGVwZW5kZW5jaWVzKGRlcHMpKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRoYXNQZW5kaW5nRGVwZW5kZW5jaWVzKGRlcHMpIHtcblx0XHRmb3IgKGNvbnN0IGRlcCBvZiBkZXBzKSB7XG5cdFx0XHRjb25zdCB0YXNrID0gdGhpcy5kdi5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfS8ke2RlcH1cImApLmFycmF5KCk7XG5cdFx0XHRpZiAodGFzay5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0XHRcdGBoYXNQZW5kaW5nRGVwZW5kZW5jaWVzOiBcIiR7UGF0aHMuVGFza3N9LyR7ZGVwfVwiIHRhc2sgZG9lcyBub3QgZXhpc3RzYCxcblx0XHRcdFx0KTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGZtID0gdGFza1swXS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRmbS50eXBlICE9PSBUeXBlcy5UYXNrICYmXG5cdFx0XHRcdGZtLnR5cGUgIT09IFR5cGVzLlByb3Zpc2lvbiAmJlxuXHRcdFx0XHRmbS50eXBlICE9PSBUeXBlcy5QcmF4aXNcblx0XHRcdCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGZtLnN0YXR1cyA9PT0gU3RhdHVzLlRvZG8pIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0aXNDaGlsZFRhZyhwYXJlbnQsIGNoaWxkKSB7XG5cdFx0aWYgKGNoaWxkLmxlbmd0aCA8PSBwYXJlbnQubGVuZ3RoICsgMSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0gZWxzZSBpZiAoY2hpbGQuc2xpY2UoMCwgcGFyZW50Lmxlbmd0aCArIDEpICE9IGAke3BhcmVudH0vYCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGdldE5hbWVzcGFjZUNvbnRlbnQobnM6IHN0cmluZykge1xuXHRcdGNvbnN0IGNoaWxkcmVuID0gW107XG5cdFx0Y29uc3QgcGFnZXMgPSB0aGlzLmR2LnBhZ2VzKGAjJHtuc31gKTtcblx0XHRmb3IgKGNvbnN0IHAgb2YgcGFnZXMpIHtcblx0XHRcdGNvbnN0IHRhZ3MgPSBwLmZpbGUuZnJvbnRtYXR0ZXIudGFncztcblxuXHRcdFx0aWYgKHRhZ3MgPT09IHVuZGVmaW5lZCB8fCB0YWdzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yIChjb25zdCB0YWcgb2YgdGFncykge1xuXHRcdFx0XHRpZiAodGhpcy5pc0NoaWxkVGFnKG5zLCB0YWcpKSB7XG5cdFx0XHRcdFx0Y29uc3QgdCA9IHRhZy5zbGljZShucy5sZW5ndGggKyAxKTtcblx0XHRcdFx0XHRpZiAoIWNoaWxkcmVuLmNvbnRhaW5zKHQpKSB7XG5cdFx0XHRcdFx0XHRjaGlsZHJlbi5wdXNoKHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBjaGlsZHJlbjtcblx0fVxuXG5cdGlzTGFzdFJldmlzaW9uKHBhZ2UpOiBib29sZWFuIHtcblx0XHRjb25zdCByZXZpc2lvbkxpc3QgPSAoZHYsIHJvb3Q6IHN0cmluZywgY3VycmVudCkgPT4ge1xuXHRcdFx0bGV0IGhlYWQgPSBjdXJyZW50O1xuXHRcdFx0d2hpbGUgKHRydWUpIHtcblx0XHRcdFx0Y29uc3QgcGFnZXMgPSBkdlxuXHRcdFx0XHRcdC5wYWdlcyhgXCIke3Jvb3R9XCJgKVxuXHRcdFx0XHRcdC53aGVyZShcblx0XHRcdFx0XHRcdChwYWdlKSA9PlxuXHRcdFx0XHRcdFx0XHRwYWdlLmZpbGUuZnJvbnRtYXR0ZXIubmV4dCA9PT1cblx0XHRcdFx0XHRcdFx0aGVhZC5maWxlLmZyb250bWF0dGVyLnV1aWQsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0aWYgKHBhZ2VzLmxlbmd0aCA+IDEpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoKTtcblx0XHRcdFx0fSBlbHNlIGlmIChwYWdlcy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0XHRoZWFkID0gcGFnZXNbMF07XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRcdGxldCBjdXIgPSBoZWFkO1xuXHRcdFx0d2hpbGUgKHRydWUpIHtcblx0XHRcdFx0YnVmZi5wdXNoKGN1cik7XG5cdFx0XHRcdGNvbnN0IGZtID0gY3VyLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRcdGlmIChmbS5uZXh0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0XHRjb25zdCBwYWdlcyA9IGR2LnBhZ2VzKGBcIiR7cm9vdH0vJHtmbS5uZXh0fVwiYCk7XG5cdFx0XHRcdGlmIChwYWdlcy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0XHRjdXIgPSBwYWdlc1swXTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGJ1ZmY7XG5cdFx0fTtcblxuXHRcdGNvbnN0IG5vdGUgPSBwYWdlO1xuXHRcdGNvbnN0IGZtID0gbm90ZS5maWxlLmZyb250bWF0dGVyO1xuXHRcdGxldCByZXZpc2lvbnMgPSBbXTtcblx0XHRzd2l0Y2ggKGZtLnR5cGUpIHtcblx0XHRcdGNhc2UgVHlwZXMuUGVybWFuZW5hOlxuXHRcdFx0XHRyZXZpc2lvbnMgPSByZXZpc2lvbkxpc3QodGhpcy5kdiwgUGF0aHMuU2xpcGJveCwgbm90ZSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBUeXBlcy5SZXNvdXJjZTpcblx0XHRcdFx0cmV2aXNpb25zID0gcmV2aXNpb25MaXN0KHRoaXMuZHYsIFBhdGhzLlJlc291cmNlcywgbm90ZSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCk7XG5cdFx0fVxuXG5cdFx0aWYgKHJldmlzaW9ucy5sZW5ndGggPD0gMSkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJldmlzaW9uc1swXS5maWxlLmZyb250bWF0dGVyLnV1aWQgPT09IGZtLnV1aWQ7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIEdlbmVyYXRvciB7XG5cdGFwcDogYW55O1xuXHRkdjogYW55O1xuXHRnb25leHQ6IGFueTtcblxuXHRjb25zdHJ1Y3RvcihhcHApIHtcblx0XHR0aGlzLmFwcCA9IGFwcDtcblx0XHR0aGlzLmR2ID0gYXBwLmR2O1xuXHRcdHRoaXMuZ29uZXh0ID0gYXBwLmdvbmV4dDtcblx0fVxuXG5cdGFjdGlvbigpIHtcblx0XHRjb25zdCBkdCA9IG5ldyBEYXRlKCk7XG5cdFx0Y29uc3Qgbm90ZSA9IHtcblx0XHRcdHV1aWQ6IHV1aWR2NCgpLFxuXHRcdFx0Y3JlYXRlZF9hdDogZHQudG9JU09TdHJpbmcoKSxcblx0XHRcdHBhdGg6IFwiXCIsXG5cdFx0XHRkYXRhOiBcIlwiLFxuXHRcdH07XG5cblx0XHRub3RlLnBhdGggPSBgJHtQYXRocy5UYXNrc30vJHtub3RlLnV1aWR9Lm1kYDtcblx0XHRub3RlLmRhdGEgPSBgLS0tXFxudXVpZDogXCIke25vdGUudXVpZH1cIlxcbmNyZWF0ZWRfYXQ6IFwiJHtub3RlLmNyZWF0ZWRfYXR9XCJcXG4tLS1cXG4jIFxcbiMjIGNvbnRlbnRcXG5gO1xuXG5cdFx0Y29uc3QgZiA9IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZShub3RlLnBhdGgsIG5vdGUuZGF0YSkudGhlbigoZikgPT4ge1xuXHRcdFx0cmV0dXJuIGY7XG5cdFx0fSk7XG5cdFx0Y29uc3QgYWN0aXZlID0gdGhpcy5hcHAud29ya3NwYWNlLmFjdGl2ZUxlYWY7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGNvbnN0IHJvb3QgPSBhY3RpdmUucGFyZW50O1xuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5jcmVhdGVMZWFmSW5QYXJlbnQocm9vdCwgcm9vdC5jaGlsZHJlbi5sZW5ndGggKyAxKTtcblx0XHRjb25zdCBsZWFmID0gcm9vdC5jaGlsZHJlbltyb290LmNoaWxkcmVuLmxlbmd0aCAtIDFdO1xuXHRcdGYudGhlbigoZmlsZSkgPT4ge1xuXHRcdFx0bGVhZi5vcGVuRmlsZShmaWxlLCB7IGFjdGl2ZTogdHJ1ZSB9KTtcblx0XHR9KTtcblx0fVxuXG5cdHZlcmJhdGltKG5hbWU/OiBzdHJpbmcpIHtcblx0XHRjb25zdCBkdCA9IG5ldyBEYXRlKCk7XG5cdFx0Y29uc3Qgbm90ZSA9IHtcblx0XHRcdHV1aWQ6IHV1aWR2NCgpLFxuXHRcdFx0Y3JlYXRlZF9hdDogZHQudG9JU09TdHJpbmcoKSxcblx0XHRcdHBhdGg6IFwiXCIsXG5cdFx0XHRkYXRhOiBcIlwiLFxuXHRcdH07XG5cblx0XHRub3RlLnBhdGggPSBgJHtQYXRocy5WZXJiYXRpbX0vJHtub3RlLnV1aWR9Lm1kYDtcblx0XHRub3RlLmRhdGEgPSBgLS0tXFxudXVpZDogXCIke25vdGUudXVpZH1cIlxcbmNyZWF0ZWRfYXQ6IFwiJHtub3RlLmNyZWF0ZWRfYXR9XCJcXG4tLS1cXG4jICR7bmFtZX1cXG4jIyBDb250ZW50XFxuYDtcblxuXHRcdGlmIChuYW1lID09PSB1bmRlZmluZWQpIHtcblx0XHRcdG5vdGUuZGF0YSA9IGAtLS1cXG51dWlkOiBcIiR7bm90ZS51dWlkfVwiXFxuY3JlYXRlZF9hdDogXCIke25vdGUuY3JlYXRlZF9hdH1cIlxcbi0tLVxcbiMgXFxuIyMgQ29udGVudFxcbmA7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG5vdGUuZGF0YSA9IGAtLS1cXG51dWlkOiBcIiR7bm90ZS51dWlkfVwiXFxuY3JlYXRlZF9hdDogXCIke25vdGUuY3JlYXRlZF9hdH1cIlxcbi0tLVxcbiMgJHtuYW1lfVxcbiMjIENvbnRlbnRcXG5gO1xuXHRcdH1cblxuXHRcdGNvbnN0IGYgPSB0aGlzLmFwcC52YXVsdC5jcmVhdGUobm90ZS5wYXRoLCBub3RlLmRhdGEpLnRoZW4oKGYpID0+IHtcblx0XHRcdHJldHVybiBmO1xuXHRcdH0pO1xuXHRcdGNvbnN0IGFjdGl2ZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVMZWFmO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRjb25zdCByb290ID0gYWN0aXZlLnBhcmVudDtcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuY3JlYXRlTGVhZkluUGFyZW50KHJvb3QsIHJvb3QuY2hpbGRyZW4ubGVuZ3RoICsgMSk7XG5cdFx0Y29uc3QgbGVhZiA9IHJvb3QuY2hpbGRyZW5bcm9vdC5jaGlsZHJlbi5sZW5ndGggLSAxXTtcblx0XHRmLnRoZW4oKGZpbGUpID0+IHtcblx0XHRcdGxlYWYub3BlbkZpbGUoZmlsZSwgeyBhY3RpdmU6IHRydWUgfSk7XG5cdFx0fSk7XG5cdH1cblxuXHRub3RlKG5hbWU/OiBzdHJpbmcpIHtcblx0XHRjb25zdCBkdCA9IG5ldyBEYXRlKCk7XG5cdFx0Y29uc3Qgbm90ZSA9IHtcblx0XHRcdHV1aWQ6IHV1aWR2NCgpLFxuXHRcdFx0Y3JlYXRlZF9hdDogZHQudG9JU09TdHJpbmcoKSxcblx0XHRcdHBhdGg6IFwiXCIsXG5cdFx0XHRkYXRhOiBcIlwiLFxuXHRcdH07XG5cblx0XHRub3RlLnBhdGggPSBgJHtQYXRocy5TbGlwYm94fS8ke25vdGUudXVpZH0ubWRgO1xuXHRcdGlmIChuYW1lID09PSB1bmRlZmluZWQpIHtcblx0XHRcdG5vdGUuZGF0YSA9IGAtLS1cXG51dWlkOiBcIiR7bm90ZS51dWlkfVwiXFxuY3JlYXRlZF9hdDogXCIke25vdGUuY3JlYXRlZF9hdH1cIlxcbi0tLVxcbiMgXFxuIyMgQ29udGVudFxcbmA7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG5vdGUuZGF0YSA9IGAtLS1cXG51dWlkOiBcIiR7bm90ZS51dWlkfVwiXFxuY3JlYXRlZF9hdDogXCIke25vdGUuY3JlYXRlZF9hdH1cIlxcbi0tLVxcbiMgJHtuYW1lfVxcbiMjIENvbnRlbnRcXG5gO1xuXHRcdH1cblxuXHRcdGNvbnN0IGYgPSB0aGlzLmFwcC52YXVsdC5jcmVhdGUobm90ZS5wYXRoLCBub3RlLmRhdGEpLnRoZW4oKGYpID0+IHtcblx0XHRcdHJldHVybiBmO1xuXHRcdH0pO1xuXHRcdGNvbnN0IGFjdGl2ZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVMZWFmO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRjb25zdCByb290ID0gYWN0aXZlLnBhcmVudDtcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuY3JlYXRlTGVhZkluUGFyZW50KHJvb3QsIHJvb3QuY2hpbGRyZW4ubGVuZ3RoICsgMSk7XG5cdFx0Y29uc3QgbGVhZiA9IHJvb3QuY2hpbGRyZW5bcm9vdC5jaGlsZHJlbi5sZW5ndGggLSAxXTtcblx0XHRmLnRoZW4oKGZpbGUpID0+IHtcblx0XHRcdGxlYWYub3BlbkZpbGUoZmlsZSwgeyBhY3RpdmU6IHRydWUgfSk7XG5cdFx0fSk7XG5cdH1cblxufVxuXG5leHBvcnQgY2xhc3MgTGlzdE1ha2VyIHtcblx0ZHY6IGFueTtcblx0Z29uZXh0OiBhbnk7XG5cdGZyb250bWF0dGVyOiBGcm9udG1hdHRlcjtcblx0bm90ZUhlbHBlcjogTm90ZUhlbHBlcjtcblxuXHRjb25zdHJ1Y3Rvcihnb25leHQsIGR2LCBmcm9udG1hdHRlcikge1xuXHRcdHRoaXMuZ29uZXh0ID0gZ29uZXh0O1xuXHRcdHRoaXMuZHYgPSBkdjtcblx0XHR0aGlzLmZyb250bWF0dGVyID0gZnJvbnRtYXR0ZXI7XG5cdFx0dGhpcy5ub3RlSGVscGVyID0gbmV3IE5vdGVIZWxwZXIoZ29uZXh0LCBkdiwgZnJvbnRtYXR0ZXIpO1xuXHR9XG5cblxuXHRwbGFubmluZyhsYXN0V2VlayA9IDEpIHtcblx0XHRjb25zdCBycyA9IFtdO1xuXHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdlxuXHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9XCJgKVxuXHRcdFx0LndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRcdGlmIChmbS5hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9KVxuXHRcdFx0LnNvcnQoKHBhZ2UpID0+IHBhZ2UuZmlsZS5mcm9udG1hdHRlci5hdCwgXCJkZXNjXCIpO1xuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG5cdFx0Ly8gY29uc3Qgbm93ID0gbmV3IERhdGUoXCIyMDI0LTEyLTMxXCIpO1xuXHRcdGNvbnN0IGJpbnMgPSB7fTtcblx0XHRmb3IgKGNvbnN0IHBhZ2Ugb2YgcGFnZXMpIHtcblx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRsZXQgYXQgPSB1bmRlZmluZWQ7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRhdCA9IGZtLmF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xuXHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBkYXRlOiAnJHtmbS5mbS51dWlkfSdgKTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3Qgd2Vla051bWJlciA9IHRoaXMuZ2V0V2Vla051bWJlcjUoZm0uYXQpO1xuXHRcdFx0aWYgKGZtLmF0LmdldEZ1bGxZZWFyKCkgPCBub3cuZ2V0RnVsbFllYXIoKSkge1xuXHRcdFx0XHRpZiAod2Vla051bWJlciA+IDEpIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0Ly8gY29uc3Qgd2Vla051bWJlciA9IHRoaXMuZ2V0V2Vla051bWJlcihmbS5hdCk7XG5cdFx0XHRpZiAoYmluc1t3ZWVrTnVtYmVyXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGJpbnNbd2Vla051bWJlcl0gPSBbZm1dO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ymluc1t3ZWVrTnVtYmVyXS5wdXNoKGZtKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCBjdXJyZW50V2Vla051bWJlciA9IHRoaXMuZ2V0V2Vla051bWJlcjUobm93KTtcblx0XHQvLyBjb25zdCBjdXJyZW50V2Vla051bWJlciA9IHRoaXMuZ2V0V2Vla051bWJlcihub3cpO1xuXHRcdGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGJpbnMpKSB7XG5cdFx0XHRjb25zdCB3ZWVrTnVtYmVyID0gTnVtYmVyKGtleSk7XG5cdFx0XHRpZiAod2Vla051bWJlciArIGxhc3RXZWVrIDwgY3VycmVudFdlZWtOdW1iZXIpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRpZiAod2Vla051bWJlciA8IGN1cnJlbnRXZWVrTnVtYmVyKSB7XG5cdFx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIGB+fndlZWsgJHtrZXl9fn5gXSk7XG5cdFx0XHR9IGVsc2UgaWYgKHdlZWtOdW1iZXIgPT09IGN1cnJlbnRXZWVrTnVtYmVyKSB7XG5cdFx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIGAqd2VlayAke2tleX0qYF0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMiwgYHdlZWsgJHtrZXl9YF0pO1xuXHRcdFx0fVxuXG5cdFx0XHRiaW5zW2tleV0uc29ydCgoYSwgYikgPT4ge1xuXHRcdFx0XHRyZXR1cm4gYS5hdC5nZXRUaW1lKCkgLSBiLmF0LmdldFRpbWUoKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRmb3IgKGNvbnN0IHRhc2sgb2YgYmluc1trZXldKSB7XG5cdFx0XHRcdGNvbnN0IGRheSA9IFtcIlN1blwiLCBcIk1vblwiLCBcIlR1ZVwiLCBcIldlZFwiLCBcIlRodVwiLCBcIkZyaVwiLCBcIlNhdFwiXVtcblx0XHRcdFx0XHR0YXNrLmF0LmdldERheSgpXG5cdFx0XHRcdF07XG5cdFx0XHRcdGNvbnN0IHRleHQgPSBSZW5kZXJlci5tYWtlTGluayhcblx0XHRcdFx0XHR0aGlzLmR2LFxuXHRcdFx0XHRcdHRhc2suZixcblx0XHRcdFx0XHRgJHt0YXNrLmF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApfSwgJHtkYXl9YCxcblx0XHRcdFx0XHRcIlRhc2tcIixcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRpZiAod2Vla051bWJlciA8IGN1cnJlbnRXZWVrTnVtYmVyKSB7XG5cdFx0XHRcdFx0cnMucHVzaChbXCJwYXJhZ3JhcGhcIiwgYH5+JHt0ZXh0fX5+YF0pO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHdlZWtOdW1iZXIgPT09IGN1cnJlbnRXZWVrTnVtYmVyKSB7XG5cdFx0XHRcdFx0aWYgKHRoaXMuZGF5T2ZZZWFyKHRhc2suYXQpIDwgdGhpcy5kYXlPZlllYXIobm93KSkge1xuXHRcdFx0XHRcdFx0cnMucHVzaChbXCJwYXJhZ3JhcGhcIiwgYH5+JHt0ZXh0fX5+YF0pO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRycy5wdXNoKFtcInBhcmFncmFwaFwiLCBgJHt0ZXh0fWBdKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cnMucHVzaChbXCJwYXJhZ3JhcGhcIiwgYCR7dGV4dH1gXSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gcnM7XG5cdH1cblxuXHRkYXlPZlllYXIoZHQpOiBudW1iZXIge1xuXHRcdGNvbnN0IHllYXIgPSBkdC5nZXRGdWxsWWVhcigpO1xuXHRcdGNvbnN0IG1vbnRoID0gZHQuZ2V0TW9udGgoKSArIDE7XG5cdFx0Y29uc3QgZGF5ID0gZHQuZ2V0RGF0ZSgpO1xuXG5cdFx0Y29uc3QgTjEgPSBNYXRoLmZsb29yKCgyNzUgKiBtb250aCkgLyA5KTtcblx0XHRjb25zdCBOMiA9IE1hdGguZmxvb3IoKG1vbnRoICsgOSkgLyAxMik7XG5cdFx0Y29uc3QgTjMgPSAxICsgTWF0aC5mbG9vcigoeWVhciAtIDQgKiBNYXRoLmZsb29yKHllYXIgLyA0KSArIDIpIC8gMyk7XG5cdFx0cmV0dXJuIE4xIC0gTjIgKiBOMyArIGRheSAtIDMwO1xuXHR9XG5cblx0Z2V0V2Vla051bWJlcihkKSB7XG5cdFx0Ly8gQ29weSBkYXRlIHNvIGRvbid0IG1vZGlmeSBvcmlnaW5hbFxuXHRcdGQgPSBuZXcgRGF0ZShEYXRlLlVUQyhkLmdldEZ1bGxZZWFyKCksIGQuZ2V0TW9udGgoKSwgZC5nZXREYXRlKCkpKTtcblx0XHQvLyBTZXQgdG8gbmVhcmVzdCBUaHVyc2RheTogY3VycmVudCBkYXRlICsgNCAtIGN1cnJlbnQgZGF5IG51bWJlclxuXHRcdC8vIE1ha2UgU3VuZGF5J3MgZGF5IG51bWJlciA3XG5cdFx0ZC5zZXRVVENEYXRlKGQuZ2V0VVRDRGF0ZSgpICsgNCAtIChkLmdldFVUQ0RheSgpIHx8IDcpKTtcblx0XHQvLyBHZXQgZmlyc3QgZGF5IG9mIHllYXJcblx0XHRjb25zdCB5ZWFyU3RhcnQ6IGFueSA9IG5ldyBEYXRlKERhdGUuVVRDKGQuZ2V0VVRDRnVsbFllYXIoKSwgMCwgMSkpO1xuXHRcdC8vIENhbGN1bGF0ZSBmdWxsIHdlZWtzIHRvIG5lYXJlc3QgVGh1cnNkYXlcblx0XHRyZXR1cm4gTWF0aC5jZWlsKCgoZCAtIHllYXJTdGFydCkgLyA4NjQwMDAwMCArIDEpIC8gNyk7XG5cdH1cblxuXHQvLyBodHRwczovL2NvZGVwZW4uaW8vbGRpamttYW4vcGVuL0xZZE5Kdk1cblx0Z2V0V2Vla051bWJlcjUoZHQpIHtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0Y29uc3QgdGR0ID0gbmV3IERhdGUoZHQudmFsdWVPZigpKTtcblx0XHQvLyBjb25zdCBkYXluID0gKGR0LmdldERheSgpICsgNikgJSA3O1xuXHRcdGNvbnN0IGRheW4gPSBkdC5nZXREYXkoKTtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0dGR0LnNldERhdGUodGR0LmdldERhdGUoKSAtIGRheW4gKyAzKTtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0Y29uc3QgZmlyc3RUaHVyc2RheSA9IHRkdC52YWx1ZU9mKCk7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdHRkdC5zZXRNb250aCgwLCAxKTtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0aWYgKHRkdC5nZXREYXkoKSAhPT0gNCkge1xuXHRcdFx0dGR0LnNldE1vbnRoKDAsIDEgKyAoKDQgLSB0ZHQuZ2V0RGF5KCkgKyA3KSAlIDcpKTtcblx0XHR9XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdHJldHVybiAxICsgTWF0aC5jZWlsKChmaXJzdFRodXJzZGF5IC0gdGR0KSAvIDYwNDgwMDAwMCk7XG5cdH1cblxuXHRnZXRXZWVrTnVtYmVyNChkKSB7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGQgPSBuZXcgRGF0ZShEYXRlLlVUQyhkLmdldEZ1bGxZZWFyKCksIGQuZ2V0TW9udGgoKSwgZC5nZXREYXRlKCkpKTtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0Y29uc3QgeWVhclN0YXJ0ID0gbmV3IERhdGUoRGF0ZS5VVEMoZC5nZXRVVENGdWxsWWVhcigpLCAwLCAxKSk7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGNvbnN0IGZpcnN0U3VuZGF5ID1cblx0XHRcdHllYXJTdGFydC5nZXRVVENEYXkoKSA9PT0gMFxuXHRcdFx0XHQ/IHllYXJTdGFydFxuXHRcdFx0XHQ6IG5ldyBEYXRlKFxuXHRcdFx0XHRcdERhdGUuVVRDKFxuXHRcdFx0XHRcdFx0ZC5nZXRVVENGdWxsWWVhcigpLFxuXHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdDEgKyAoNyAtIHllYXJTdGFydC5nZXRVVENEYXkoKSksXG5cdFx0XHRcdFx0KSxcblx0XHRcdFx0KTtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0Y29uc3QgZGF5c1NpbmNlRmlyc3RTdW5kYXkgPSAoZCAtIGZpcnN0U3VuZGF5ICsgODY0MDAwMDApIC8gODY0MDAwMDA7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdHJldHVybiBNYXRoLmNlaWwoZGF5c1NpbmNlRmlyc3RTdW5kYXkgLyA3KTtcblx0fVxuXG5cdGdldE1vbnRoKHllYXIsIHdlZWtOdW1iZXIpIHtcblx0XHQvLyBDcmVhdGUgYSBkYXRlIG9iamVjdCBmb3IgdGhlIGZpcnN0IGRheSBvZiB0aGUgeWVhclxuXHRcdGNvbnN0IGZpcnN0RGF5T2ZZZWFyID0gbmV3IERhdGUoeWVhciwgMCwgMSk7XG5cblx0XHQvLyBEZXRlcm1pbmUgdGhlIGRheSBvZiB0aGUgd2VlayBmb3IgdGhlIGZpcnN0IGRheSBvZiB0aGUgeWVhclxuXHRcdGNvbnN0IGZpcnN0RGF5T2ZXZWVrID0gZmlyc3REYXlPZlllYXIuZ2V0RGF5KCk7XG5cblx0XHQvLyBDYWxjdWxhdGUgdGhlIG51bWJlciBvZiBkYXlzIHRvIGFkZCB0byB0aGUgZmlyc3QgZGF5IG9mIHRoZSB5ZWFyXG5cdFx0Ly8gdG8gZ2V0IHRvIHRoZSBzdGFydCBvZiB0aGUgc3BlY2lmaWVkIHdlZWtcblx0XHQvLyBXZWVrcyBzdGFydCBvbiBNb25kYXk7IGlmIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHllYXIgaXMgYSBNb25kYXksXG5cdFx0Ly8gbm8gYWRqdXN0bWVudCBpcyBuZWVkZWQsIG90aGVyd2lzZSBhZGp1c3QgdG8gdGhlIG5leHQgTW9uZGF5XG5cdFx0Y29uc3QgZGF5c1RvQWRkID1cblx0XHRcdCh3ZWVrTnVtYmVyIC0gMSkgKiA3IC1cblx0XHRcdGZpcnN0RGF5T2ZXZWVrICtcblx0XHRcdChmaXJzdERheU9mV2VlayA9PT0gMCA/IDEgOiAwKTtcblxuXHRcdC8vIEFkanVzdCB0aGUgZGF0ZSB0byB0aGUgc3RhcnQgb2YgdGhlIHNwZWNpZmllZCB3ZWVrXG5cdFx0Y29uc3Qgd2Vla1N0YXJ0RGF0ZSA9IG5ldyBEYXRlKFxuXHRcdFx0Zmlyc3REYXlPZlllYXIuc2V0RGF0ZShmaXJzdERheU9mWWVhci5nZXREYXRlKCkgKyBkYXlzVG9BZGQpLFxuXHRcdCk7XG5cblx0XHQvLyBDaGVjayBpZiB0aGUgd2Vla1N0YXJ0RGF0ZSBpcyBvbiB0aGUgbGFzdCBkYXkgb2YgdGhlIG1vbnRoLFxuXHRcdC8vIGlmIHNvLCBtb3ZlIHRvIHRoZSBuZXh0IG1vbnRoIHRvIHJvdW5kIHVwIGZvciBhIHdlZWsgdGhhdCBzcGFucyBhIG1vbnRoIHRyYW5zaXRpb25cblx0XHRpZiAod2Vla1N0YXJ0RGF0ZS5nZXREYXRlKCkgPiAyNCkge1xuXHRcdFx0d2Vla1N0YXJ0RGF0ZS5zZXREYXRlKHdlZWtTdGFydERhdGUuZ2V0RGF0ZSgpICsgNyk7XG5cdFx0fVxuXG5cdFx0Ly8gRXh0cmFjdCB0aGUgbW9udGggbnVtYmVyICgwLTExIGZvciBKYW4tRGVjKSBmcm9tIHRoZSB3ZWVrU3RhcnREYXRlXG5cdFx0Y29uc3QgbW9udGhOdW1iZXIgPSB3ZWVrU3RhcnREYXRlLmdldE1vbnRoKCk7XG5cblx0XHRyZXR1cm4gbW9udGhOdW1iZXIgKyAxOyAvLyBSZXR1cm4gbW9udGggbnVtYmVyICgxLTEyKVxuXHR9XG5cblx0Z2V0TW9udGhOYW1lKG1vbnRoTnVtYmVyKSB7XG5cdFx0Y29uc3QgZGF0ZSA9IG5ldyBEYXRlKDIwMDAsIG1vbnRoTnVtYmVyIC0gMSk7IC8vIFllYXIgMjAwMCBpcyB1c2VkIGFyYml0cmFyaWx5OyBhbnkgbm9uLWxlYXAgeWVhciB3aWxsIGRvXG5cdFx0cmV0dXJuIGRhdGUudG9Mb2NhbGVTdHJpbmcoXCJkZWZhdWx0XCIsIHsgbW9udGg6IFwibG9uZ1wiIH0pO1xuXHR9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0Esc0JBV087OztBQ1pBLElBQU0sUUFBUTtBQUFBLEVBQ3BCLE9BQU87QUFBQSxFQUNQLFlBQVk7QUFBQSxFQUNaLE9BQU87QUFBQSxFQUNQLFNBQVM7QUFBQSxFQUNULE9BQU87QUFBQSxFQUNQLE1BQU07QUFBQSxFQUNOLFVBQVU7QUFBQSxFQUNWLE1BQU07QUFBQSxFQUNOLGFBQWE7QUFBQSxFQUNiLFNBQVM7QUFBQSxFQUNULFdBQVc7QUFBQSxFQUNYLFVBQVU7QUFBQSxFQUNWLFNBQVM7QUFBQSxFQUNULE9BQU87QUFBQSxFQUNQLFVBQVU7QUFBQSxFQUNWLFFBQVE7QUFDVDtBQUVPLElBQU0sU0FBUztBQUFBLEVBQ3JCLE1BQU07QUFBQSxFQUNOLE9BQU87QUFBQSxFQUNQLE1BQU07QUFBQSxFQUNOLE9BQU87QUFBQSxFQUNQLFNBQVM7QUFBQSxFQUNULE9BQU87QUFDUjtBQVlPLElBQU0sUUFBUTtBQUFBLEVBQ3BCLFVBQVU7QUFBQSxFQUNWLFlBQVk7QUFBQSxFQUNaLFdB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UUFBUSxNQUFNLFlBQVksS0FBSyxLQUFLLE1BQU0sWUFBWSxNQUFNLFNBQVMsR0FBRztBQUVqRix1QkFBZSxNQUFNLFlBQVksTUFBTSxDQUFDO0FBQUEsTUFDekMsT0FBTztBQUNOLHVCQUFlLE1BQU0sWUFBWTtBQUFBLE1BQ2xDO0FBQUEsSUFDRCxPQUFPO0FBQ04scUJBQWUsTUFBTSxZQUFZO0FBQUEsSUFDbEM7QUFDQSxXQUFPO0FBQUEsRUFFUjtBQUFBLEVBRUEsV0FBVztBQUNWLFlBQVEsSUFBSSxxQkFBcUI7QUFFakMsV0FBTyxPQUFPO0FBQUEsRUFDZjtBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ3BCLFNBQUssV0FBVyxPQUFPO0FBQUEsTUFDdEIsQ0FBQztBQUFBLE1BQ0Q7QUFBQSxNQUNBLE1BQU0sS0FBSyxTQUFTO0FBQUEsSUFDckI7QUFBQSxFQUNEO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDcEIsVUFBTSxLQUFLLFNBQVMsS0FBSyxRQUFRO0FBQUEsRUFDbEM7QUFDRDsiLAogICJuYW1lcyI6IFsiYXQiLCAicGFnZSIsICJmbSIsICJmIiwgIm5vZGUiXQp9Cg==
