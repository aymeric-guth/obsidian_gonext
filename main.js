/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => MyPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");

// constants.ts
var Paths = {
  Tasks: "813 Tasks",
  Components: "Components",
  Goals: "Goals",
  Slipbox: "803 Slipbox",
  Inbox: "800 Inbox",
  Refs: "802 Refs",
  Archives: "400 Archives",
  Logs: "600 Log",
  Attachments: "000 Attachments",
  Journal: "Journal",
  Resources: "Resources",
  Projects: "100 Projects",
  Domains: "Domains",
  Names: "Names"
};
var Status = {
  Todo: "todo",
  Doing: "doing",
  Done: "done",
  Maybe: "maybe",
  Standby: "standby",
  Trash: "trash"
};
var GoalStatus = {
  Reframe: "reframe",
  Research: "research",
  Operationalize: "operationalize",
  Planify: "planify",
  Dependant: "dependant",
  Active: "active",
  Failed: "failed",
  Success: "success"
};
var Types = {
  Fleeting: 13,
  Literature: 1,
  Permanent: 2,
  Task: 3,
  Praxis: 4,
  Provision: 5,
  Log: 6,
  Resource: 7,
  Media: 8,
  Project: 12,
  Org: 9,
  Domain: 10,
  Component: 11
};
var Namespace = {
  Area: "area",
  Context: "context",
  Layer: "layer",
  Org: "org",
  Project: "project"
};
var Default = {
  Area: "none",
  Context: "any",
  Layer: "none",
  Org: "none",
  Project: "none"
};

// node_modules/uuid/dist/esm-browser/stringify.js
var byteToHex = [];
for (i = 0; i < 256; ++i) {
  byteToHex.push((i + 256).toString(16).slice(1));
}
var i;
function unsafeStringify(arr, offset = 0) {
  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + "-" + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + "-" + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + "-" + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + "-" + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();
}

// node_modules/uuid/dist/esm-browser/rng.js
var getRandomValues;
var rnds8 = new Uint8Array(16);
function rng() {
  if (!getRandomValues) {
    getRandomValues = typeof crypto !== "undefined" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);
    if (!getRandomValues) {
      throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");
    }
  }
  return getRandomValues(rnds8);
}

// node_modules/uuid/dist/esm-browser/native.js
var randomUUID = typeof crypto !== "undefined" && crypto.randomUUID && crypto.randomUUID.bind(crypto);
var native_default = {
  randomUUID
};

// node_modules/uuid/dist/esm-browser/v4.js
function v4(options, buf, offset) {
  if (native_default.randomUUID && !buf && !options) {
    return native_default.randomUUID();
  }
  options = options || {};
  var rnds = options.random || (options.rng || rng)();
  rnds[6] = rnds[6] & 15 | 64;
  rnds[8] = rnds[8] & 63 | 128;
  if (buf) {
    offset = offset || 0;
    for (var i = 0; i < 16; ++i) {
      buf[offset + i] = rnds[i];
    }
    return buf;
  }
  return unsafeStringify(rnds);
}
var v4_default = v4;

// api.ts
var FrontmatterJS = class {
  singular(values, field) {
    if (!Helper.nilCheck(this.fm[field])) {
      const value = this.fm[field];
      if (typeof value === "string") {
        if (!values.contains(value)) {
          values.push(value);
        }
      } else {
        console.warn(
          `'${field}' is ignored, invalid data-type: '${typeof this.fm[field]}'`
        );
      }
    }
  }
  plural(values, field) {
    if (!Helper.nilCheck(this.fm[field])) {
      if (!Array.isArray(this.fm[field])) {
        console.warn(
          `'${field}' is ignored, invalid data-type: '${field}'`
        );
      } else {
        for (const value of this.fm[field]) {
          if (typeof value === "string") {
            if (!values.contains(value)) {
              values.push(value);
            }
          } else {
            console.warn(
              `'${value}s.${value}' is ignored, invalid data-type: '${typeof value}'`
            );
          }
        }
      }
    }
  }
  constructor(page) {
    Assert.True(page !== void 0, "'page' is undefined");
    this.f = page.file;
    const f = this.f;
    Assert.True(f !== void 0, "'f' is undefined");
    this.fm = f.frontmatter;
    Assert.True(this.fm !== void 0, "'fm' is undefined");
    Assert.True(
      this.fm.uuid !== void 0,
      `'uuid' is undefined for '${this.f.path}'`
    );
    this.uuid = this.fm.uuid;
    this.version = this.fm.version;
    this.type = this.fm.type;
    this.createdAt = new Date(this.fm.created_at);
    this.at = this.fm.at !== void 0 ? new Date(this.fm.at) : new Date();
    this.before = this.fm.before !== void 0 ? new Date(this.fm.before) : new Date();
    this.after = this.fm.after !== void 0 ? new Date(this.fm.after) : new Date();
    this.components = [];
    this.domains = [];
    this.projects = [];
    this.contexts = [];
    this.traits = [];
    this.energy = this.fm.energy !== void 0 ? this.fm.energy : 9;
    const domains = [];
    const components = [];
    const projects = [];
    const names = [];
    const contexts = [];
    const contents = [];
    const traits = [];
    if (!Helper.nilCheck(this.fm.tags)) {
      if (!Array.isArray(this.fm.tags)) {
        console.warn("'tags' is ignored, invalid data-type");
        this.fm.tags = [];
      }
      for (const tag of this.fm.tags) {
        if (tag.slice(0, 7) === "domain/") {
          domains.push(tag.slice(7));
        } else if (tag.slice(0, 10) === "component/") {
          components.push(tag.slice(10));
        } else if (tag.slice(0, 8) === "project/") {
          projects.push(tag.slice(8));
        } else if (tag.slice(0, 5) === "name/") {
          names.push(tag.slice(5));
        } else if (tag.slice(0, 8) == "context/") {
          contexts.push(tag.slice(8));
        } else if (tag.slice(0, 8) == "content/") {
          contents.push(tag.slice(8));
        } else if (tag.slice(0, 6) == "trait/") {
          traits.push(tag.slice(6));
        }
      }
    }
    this.singular(domains, "domain");
    this.plural(domains, "domains");
    this.singular(components, "components");
    this.plural(components, "components");
    this.singular(projects, "project");
    this.plural(projects, "projects");
    this.singular(contents, "contents");
    this.plural(contents, "contents");
    this.singular(names, "name");
    this.plural(names, "names");
    this.plural(names, "alias");
    this.singular(traits, "trait");
    this.plural(traits, "traits");
    this.domains = domains;
    this.components = components;
    this.projects = projects;
    this.names = names;
    this.contexts = contexts;
    this.contents = contents;
    this.traits = traits;
  }
  getDomain(emptyDefault = true) {
    if (emptyDefault) {
      return this.domains[0];
    } else {
      return this.domains[0] === void 0 ? "unknown" : this.domains[0];
    }
  }
  getDomains() {
    return this.domains;
  }
  getTraits() {
    return this.traits;
  }
  getComponents() {
    return this.components;
  }
  getProject(emptyDefault = true) {
    if (emptyDefault) {
      return this.projects[0];
    } else {
      return this.projects[0] === void 0 ? "" : this.projects[0];
    }
  }
  getProjects() {
    return this.projects;
  }
  getName(emptyDefault = true) {
    if (emptyDefault) {
      return this.names[0];
    } else {
      return this.names[0] === void 0 ? "" : this.names[0];
    }
  }
  getContent(emptyDefault = true) {
    if (emptyDefault) {
      return this.contents[0];
    } else {
      return this.contents[0] === void 0 ? "" : this.contents[0];
    }
  }
  getNames() {
    return this.names;
  }
  getContext(emptyDefault = true) {
    if (emptyDefault) {
      return this.contexts[0];
    } else {
      return this.contexts[0] === void 0 ? "" : this.contexts[0];
    }
  }
  resolve(dv) {
    const domains = [];
    for (const domain of this.domains) {
      if (Helper.isUUID(domain)) {
        const pages = dv.pages(`"${Paths.Domains}"`).where((page) => page.file.frontmatter.uuid === domain);
        if (pages.length > 1) {
          throw new Error();
        } else if (pages.length === 1) {
          const page = pages[0];
          domains.push(page.file.frontmatter.name);
        }
      } else {
        const pages = dv.pages(`"${Paths.Domains}"`).where((page) => page.file.frontmatter.name === domain);
        if (pages.length > 1) {
          throw new Error();
        } else if (pages.length === 1) {
          const page = pages[0];
          domains.push(page.file.frontmatter.name);
        }
      }
    }
    if (domains.length !== this.domains.length) {
      console.warn(`Domain resolution failed for: ${this.domains}`);
    }
    this.domains = domains;
  }
};
var ValidationError = class extends Error {
  constructor(message) {
    super(message);
    this.name = "ValidationError";
  }
};
var Assert = {
  True(predicate, message, strict = true) {
    if (!predicate) {
      if (strict) {
        throw new ValidationError(message);
      } else {
        console.error(message);
      }
    }
  },
  False(predicate, message, strict = false) {
    if (predicate) {
      if (strict) {
        throw new ValidationError(message);
      } else {
        console.error(message);
      }
    }
  }
};
var Helper = {
  nilCheck(val) {
    return val === void 0 || val === null;
  },
  getKeyFuck(groupBy) {
    switch (groupBy) {
      default:
      case "doneAt":
        return (entry) => entry.file.frontmatter.doneAt.toISOString().slice(0, 10);
        break;
      case "createdAt":
        return (entry) => entry.file.frontmatter.createdAt.toISOString().slice(0, 10);
        break;
      case "project":
        return (entry) => entry.file.frontmatter.project;
        break;
      case "area":
        return (entry) => entry.file.frontmatter.area;
        break;
    }
  },
  getKey(groupBy) {
    switch (groupBy) {
      default:
      case "doneAt":
        return (entry) => entry.doneAt.toISOString().slice(0, 10);
        break;
      case "createdAt":
        return (entry) => entry.createdAt.toISOString().slice(0, 10);
        break;
      case "project":
        return (entry) => entry.project;
        break;
      case "area":
        return (entry) => entry.area;
        break;
    }
  },
  numberTypeToString(val) {
    switch (val.type) {
      case Types.Fleeting:
        return "fleeting";
      case Types.Log:
        return "log";
      case Types.Project:
        return "project";
      case Types.Org:
        return "org";
      case Types.Domain:
        return "domain";
      case Types.Component:
        return "component";
      default:
        throw new Error(
          `numberTypeToString: type: "${val.type}" not implemented "${val.uuid}"`
        );
    }
  },
  roundToOneDecimal(val) {
    return Math.round(val * 10) / 10;
  },
  isChildTag(parent, child) {
    if (child.length <= parent.length + 1) {
      return false;
    } else if (child.slice(0, parent.length + 1) != `${parent}/`) {
      return false;
    }
    return true;
  },
  getField(field, defaultValue) {
    if (field === void 0 || field === null) {
      return defaultValue;
    } else {
      return field;
    }
  },
  getDate(dt) {
    if (dt === "" || dt === null) {
      return void 0;
    } else if (dt !== void 0) {
      dt = new Date(dt);
      if (isNaN(dt)) {
        return void 0;
      } else {
        return dt;
      }
    } else {
      return void 0;
    }
  },
  getTag(fm, type, emptyDefault = void 0) {
    let name = "";
    let defaultValue = "";
    if (type === "area") {
      name = Namespace.Area;
      defaultValue = Default.Area;
    } else if (type === "context") {
      name = Namespace.Context;
      defaultValue = Default.Context;
    } else if (type === "layer") {
      name = Namespace.Layer;
      defaultValue = Default.Layer;
    } else if (type === "org") {
      name = Namespace.Org;
      defaultValue = Default.Org;
    } else if (type === "project") {
      name = Namespace.Project;
      defaultValue = Default.Project;
    } else if (type == "domain") {
      name = "domain";
      defaultValue = "none";
    } else {
      throw new Error(`getTag got unsuported type: '${type}'`);
    }
    const len = name.length + 1;
    const defaultTag = `${name}/${defaultValue}`;
    let defaultRetVal = defaultTag;
    if (emptyDefault) {
      defaultRetVal = void 0;
    }
    if (fm === void 0) {
      return defaultRetVal;
    }
    const tags = fm.tags;
    if (tags === void 0 || tags.length === 0) {
      return defaultRetVal;
    }
    for (const tag of tags) {
      if (tag == defaultTag) {
        return defaultRetVal;
      }
      if (tag.length > len && tag.slice(0, len) == `${name}/`) {
        return tag;
      }
    }
    return defaultRetVal;
  },
  getName(fm) {
    const components = Helper.getComponents(fm);
    if (components.length < 1) {
      throw new Error(`Helper.getName() ${fm}`);
    }
    let name = void 0;
    let occurences = 0;
    for (const component of components) {
      if (component.slice(0, 15) === "component/name/") {
        name = component.slice(15);
        occurences += 1;
      }
    }
    if (occurences > 1) {
      throw new Error(
        `Helper.getName() ${fm} multiple occurences of 'component/name'`
      );
    }
    if (name === void 0) {
      throw new Error(
        `Helper.getName() ${fm} 'component/name' undefined`
      );
    }
    return name;
  },
  getComponents(fm) {
    const components = [];
    if (Helper.nilCheck(fm.tags)) {
      return [];
    }
    for (const tag of fm.tags) {
      if (tag.length > 10 && tag.slice(0, 10) === "component/") {
        components.push(tag);
      }
    }
    return components;
  },
  getArea(fm, emptyDefault = false) {
    return Helper.getTag(fm, "area", emptyDefault);
  },
  getContext(fm, emptyDefault = false) {
    return Helper.getTag(fm, "context", emptyDefault);
  },
  getDomain(fm, emptyDefault = false) {
    return Helper.getTag(fm, "domain", emptyDefault);
  },
  getLayer(fm, emptyDefault = false) {
    return Helper.getTag(fm, "layer", emptyDefault);
  },
  getOrg(fm, emptyDefault = false) {
    return Helper.getTag(fm, "org", emptyDefault);
  },
  getProject(fm, emptyDefault = false) {
    return Helper.getTag(fm, "project", emptyDefault);
  },
  durationStringToSec(val) {
    if (val === void 0 || val.length === 0) {
      return 0;
    }
    const mult = val.slice(-1);
    let m = 0;
    if (mult === "h") {
      m = 60 * 60;
    } else if (mult === "m") {
      m = 60;
    } else if (mult === "d") {
      m = 24 * 60 * 60;
    } else if (mult == "w") {
      m = 24 * 60 * 60 * 7;
    } else {
      console.warn(`Unhandled case val: ${val}`);
      return void 0;
    }
    return m * parseInt(val.slice(0, -1));
  },
  msecToStringDuration(val) {
    const oneHourInMsec = 36e5;
    const oneDayInMsec = 864e5;
    if (val >= 24 * oneHourInMsec) {
      return String(Helper.roundToOneDecimal(val / oneDayInMsec)).padStart(
        2,
        "0"
      ) + " d";
    } else {
      return String(Helper.roundToOneDecimal(val / oneHourInMsec)).padStart(
        2,
        "0"
      ) + " h";
    }
  },
  isUUID(val) {
    if (typeof val !== "string") {
      return false;
    }
    return val.length === 36;
  },
  sortByAge(a, b) {
    const fmA = new FrontmatterJS(a);
    const fmB = new FrontmatterJS(b);
    return fmA.createdAt.getTime() - fmB.createdAt.getTime();
  },
  sortByPriority(a, b) {
    const fmA = new FrontmatterJS(a);
    const fmB = new FrontmatterJS(b);
    return fmB.fm.priority - fmA.fm.priority;
  },
  sortByPriorityAndAge(a, b) {
    const fmA = new FrontmatterJS(a);
    const fmB = new FrontmatterJS(b);
    if (fmA.fm.priority !== fmB.fm.priority.priority) {
      return Helper.sortByPriority(a, b);
    } else {
      return Helper.sortByAge(a, b);
    }
  },
  sortByDuration(a, b) {
    const fmA = new FrontmatterJS(a);
    const fmB = new FrontmatterJS(b);
    return Helper.durationStringToSec(fmA.fm.time_estimate) - Helper.durationStringToSec(fmB.fm.time_estimate);
  },
  sortByPriorityAndDuration(a, b) {
    const fmA = new FrontmatterJS(a);
    const fmB = new FrontmatterJS(b);
    if (fmA.fm.priority !== fmB.fm.priority) {
      return Helper.sortByPriority(a, b);
    } else {
      return Helper.sortByDuration(a, b);
    }
  },
  sortByPriorityAndDurationAndAge(a, b) {
    const fmA = new FrontmatterJS(a);
    const fmB = new FrontmatterJS(b);
    if (fmA.fm.priority !== fmB.fm.priority) {
      return Helper.sortByPriority(a, b);
    } else if (fmA.fm.time_estimate !== fmB.fm.time_estimate) {
      return Helper.sortByDuration(a, b);
    } else {
      return Helper.sortByAge(a, b);
    }
  }
};
var AutoField = {
  tags(dv, fm, level = 2) {
    const tags = fm.tags;
    if (tags == void 0 || tags.length === 0) {
      return;
    }
    tags.sort();
    dv.header(level, "Tags");
    let s = "";
    for (const tag of tags) {
      s += ` #${tag}`;
    }
    dv.paragraph(s);
  },
  healmon(dv) {
    const fm = new FrontmatterJS(dv.current());
    const current = fm.createdAt.toISOString().slice(0, 10);
    const pages = dv.pages(`"${Paths.Journal}"`).where((page) => {
      const jFm = new FrontmatterJS(page);
      if (jFm.getProject() !== "homecook") {
        return false;
      }
      let jCurrent = null;
      const currentMinusOne = new Date(
        fm.createdAt.getTime() - 24 * 60 * 60 * 1e3
      );
      try {
        jCurrent = jFm.createdAt.toISOString().slice(0, 10);
      } catch (e) {
        dv.paragraph(
          `Invalid date: ${Renderer.makeLinkShortUUID(dv, page.file)}`
        );
        console.error(jFm);
      }
      if (currentMinusOne.toISOString().slice(0, 10) !== jCurrent) {
        return false;
      }
      return true;
    });
    dv.header(4, "repas (veille)");
    if (pages.length) {
      for (const page of pages) {
        dv.paragraph(Renderer.makeLinkShortUUID(dv, page.file));
      }
    }
  },
  authors(dv, fm) {
    const authors = fm.authors;
    if (authors === void 0 || authors.length === 0) {
      return;
    }
    dv.header(3, "Authors");
    dv.list(authors);
  },
  title(dv, fm) {
    const title = fm.alias;
    if (title === void 0 || title.length === 0) {
      return;
    }
    dv.header(3, title);
  },
  logs(dv, entries) {
    console.log("coucou, tu veux voir ma bite?");
    const buff = [];
    let totalTime = 0;
    for (const entry of entries) {
      const fme = entry.file.frontmatter;
      const e = [];
      let start = 0;
      let stop = 0;
      if (fme === void 0 || fme.created_at === void 0) {
        throw new Error(`Invalid frontmatter: ${fme.uuid}`);
      }
      start = new Date(fme.created_at);
      e.push(start.toISOString().slice(0, 10));
      if (fme.done_at === void 0) {
        stop = Date.now();
      } else {
        stop = new Date(fme.done_at);
      }
      totalTime += stop - start;
      e.push(
        dv.sectionLink(
          fme.uuid,
          "## Content",
          false,
          fme.uuid.slice(0, 8)
        )
      );
      e.push(Math.round((stop - start) / (1e3 * 60 * 60) * 10) / 10);
      if (fme.reviewed === void 0 || fme.reviewed === 0) {
        e.push(0);
      } else {
        e.push(fme.reviewed);
      }
      buff.push(e);
    }
    if (buff.length > 0) {
      dv.header(2, "Logs");
      dv.table(["created_at", "uuid", "session", "reviewed"], buff);
      if (totalTime > 0) {
        dv.paragraph(
          `_totalTime (h):_ ${Math.round(totalTime / (1e3 * 60 * 60) * 10) / 10}`
        );
      }
    }
  },
  media(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    const pages = dv.pages(`"${Paths.Refs}/${fm.ref_id}"`).array();
    if (pages.length !== 1) {
      return;
    }
    const media = pages[0];
    const mediaFm = media.file.frontmatter;
    AutoField.title(dv, mediaFm);
    dv.paragraph(Renderer.makeLinkAlias(dv, media.file));
    AutoField.authors(dv, mediaFm);
    AutoField.tags(dv, mediaFm, 3);
    const logEntries = dv.pages(`"${Paths.Logs}/${fm.uuid}"`).where((p) => p.type === 6).sort((k) => k.created_at, "desc");
    AutoField.logs(dv, logEntries);
  },
  autoFieldTitle(dv, fm) {
    const title = fm.alias;
    if (title == void 0) {
      return;
    }
    dv.header(1, title);
  },
  autoFieldAuthors(dv, fm) {
    const authors = fm.authors;
    if (authors === void 0 || authors.length === 0) {
      return;
    }
    dv.header(2, "Authors");
    dv.list(authors);
  },
  autoFieldTags(dv, fm) {
    const tags = fm.tags;
    if (tags == void 0 || tags.length === 0) {
      return;
    }
    tags.sort();
    dv.header(2, "Tags");
    let s = "";
    for (const tag of tags) {
      s += ` #${tag}`;
    }
    dv.paragraph(s);
  },
  literature(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    if (fm === void 0) {
      return;
    }
    if (Helper.nilCheck(fm.authors)) {
    } else {
      this.autoFieldTitle(dv, fm);
      this.autoFieldAuthors(dv, fm);
      this.autoFieldTags(dv, fm);
    }
  },
  goal(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    if (fm === void 0) {
      console.warn("fm is required");
      return;
    }
    const created_at = new Date(fm.created_at);
    const logEntries = dv.pages(`"${Paths.Logs}/${fm.uuid}"`).where((p) => p.type === 6).sort((k) => k.created_at, "desc");
    const buff = [];
    for (const entry of logEntries) {
      const fme = entry.file.frontmatter;
      const e = [];
      if (fme === void 0 || fme.created_at === void 0) {
        throw new Error(`Invalid frontmatter: ${fme.uuid}`);
      }
      const start = new Date(fme.created_at);
      e.push(start.toISOString().slice(0, 10));
      e.push(
        dv.sectionLink(
          fme.uuid,
          "## Content",
          false,
          fme.uuid.slice(0, 8)
        )
      );
      buff.push(e);
    }
    const before = new Date(fm.before);
    const timeframe = (before.getTime() - created_at.getTime()) / (1e3 * 3600 * 24);
    let timeframeText = "";
    dv.header(3, "Timeframe");
    if (timeframe > 0 && timeframe < 30) {
      timeframeText = "runaway";
    } else if (timeframe < 60) {
      timeframeText = "10,000 feet";
    } else if (timeframe < 360) {
      timeframeText = "20,000 feet";
    } else if (timeframe < 720) {
      timeframeText = "30,000 feet";
    } else if (timeframe < 1080) {
      timeframeText = "40,000 feet";
    } else {
      timeframeText = "50,000 feet";
    }
    dv.paragraph(timeframeText);
    if (buff.length > 0) {
      dv.header(2, "Reviews");
      dv.table(["reviewed_at", "uuid"], buff);
    }
  },
  daily(dv) {
    const current = dv.current().file.frontmatter;
    const currentAt = new Date(current.at);
    const currentAtShort = currentAt.toISOString().slice(0, 7);
    const gonext = app.plugins.plugins.obsidian_gonext;
    const noteHelper = new NoteHelper(gonext, dv, new Frontmatter(gonext));
    const pages = dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (current.uuid === fm.uuid) {
        return false;
      }
      if (fm.fm.status !== "todo" || fm.getProject() === "daily") {
        return false;
      }
      const now = currentAt;
      let fmAtShort = void 0;
      try {
        fmAtShort = fm.at.toISOString().slice(0, 10);
      } catch (e) {
        throw new Error(`${fm.uuid}`);
      }
      if (!noteHelper.isDoable(page, currentAt)) {
        return false;
      }
      if (page.file.frontmatter.at !== void 0 && fmAtShort === currentAtShort) {
        return true;
      }
      if (page.file.frontmatter.at !== void 0 && fm.at.getTime() < now.getTime()) {
        return true;
      }
      if (page.file.frontmatter.before !== void 0 && fm.before.getTime() > now.getTime()) {
        return true;
      }
      if (page.file.frontmatter.after !== void 0 && fm.after.getTime() < now.getTime()) {
        return true;
      }
      return false;
    }).sort((k) => k.at, "asc");
    if (pages.length > 0) {
      const buff = [];
      for (const page of pages) {
        const fm = new FrontmatterJS(page);
        const h = String(fm.at.getHours()).padStart(2, "0");
        const m = String(fm.at.getMinutes()).padStart(2, "0");
        if (page.file.frontmatter.status === "done") {
          buff.push([
            `~~${Renderer.makeLinkShortUUID(dv, page.file, "Task")}~~`,
            `~~${h}:${m}~~`
          ]);
        } else {
          buff.push([
            `${Renderer.makeLinkShortUUID(dv, page.file, "Task")}`,
            `${h}:${m}`
          ]);
        }
      }
      dv.table(["uuid", "at"], buff);
    }
    AutoField.dailyJoural(dv);
  },
  monthlyJoural(dv) {
    const current = new FrontmatterJS(dv.current());
    const currentAtShort = current.at.toISOString().slice(0, 7);
    const pages = dv.pages(`"Journal"`).where((page) => {
      const fm = new FrontmatterJS(page);
      const atShort = fm.createdAt.toISOString().slice(0, 7);
      if (atShort === currentAtShort && fm.getProject() === "monthly") {
        return true;
      }
      return false;
    }).sort((k) => k.created_at, "asc");
    dv.header(2, "Journal");
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      if (page.file.frontmatter.alias !== void 0) {
        page.file.frontmatter.name = page.file.frontmatter.alias;
      } else if (fm.getProject() !== void 0) {
        page.file.frontmatter.name = fm.getProject();
      } else if (fm.getDomain() !== void 0) {
        page.file.frontmatter.name = fm.getDomain();
      }
      dv.paragraph(Renderer.makeLinkName(dv, page.file));
    }
  },
  dailyJoural(dv) {
    const current = new FrontmatterJS(dv.current());
    const currentAtShort = current.at.toISOString().slice(0, 10);
    console.log(currentAtShort);
    const pages = dv.pages(`"Journal"`).where((page) => {
      const fm = new FrontmatterJS(page);
      const atShort = fm.createdAt.toISOString().slice(0, 10);
      if (atShort === currentAtShort) {
        return true;
      }
      return false;
    }).sort((k) => k.created_at, "asc");
    dv.header(2, "Journal");
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      if (page.file.frontmatter.alias !== void 0) {
        page.file.frontmatter.name = page.file.frontmatter.alias;
      } else if (fm.getProject() !== void 0) {
        page.file.frontmatter.name = fm.getProject();
      } else if (fm.getDomain() !== void 0) {
        page.file.frontmatter.name = fm.getDomain();
      }
      dv.paragraph(Renderer.makeLinkName(dv, page.file));
    }
  },
  dailyGoals(dv) {
    const current = dv.current().file.frontmatter;
    const currentAt = new Date(current.at);
    const pages = dv.pages(`"${Paths.Goals}"`).where((page) => {
      if (page.file.frontmatter.status !== "active") {
        return false;
      } else {
        return true;
      }
    }).sort((k) => k.at, "asc");
    if (pages.length === 0) {
      return;
    }
    for (const page of pages) {
      dv.paragraph(Renderer.makeLinkShortUUID(dv, page.file));
    }
  },
  task(dv) {
    const dvLib = new DvLib();
    dvLib.autoFieldTask(dv);
  },
  log(dv) {
    const current = dv.current();
    const curFm = new FrontmatterJS(current);
    const currentId = curFm.uuid;
    const currentParentId = current.file.path.split("/")[1];
    Assert.True(
      currentParentId !== void 0,
      `currentParentId undefined for ${curFm.uuid}`
    );
    const pages = dv.pages(`"${Paths.Logs}"`).where((page) => {
      const fm = new FrontmatterJS(page);
      const parentId = page.file.path.split("/")[1];
      Assert.True(
        parentId !== void 0,
        `parentId undefined for ${fm.uuid}`
      );
      if (parentId !== currentParentId) {
        return false;
      }
      return true;
    }).sort((k) => k.created_at, "asc");
    for (let i = 0; i < pages.length; i++) {
      const page = pages[i];
      Assert.True(page !== void 0, "ass ert failed");
      const fm = new FrontmatterJS(page);
      if (fm.uuid === currentId) {
        if (i === 0) {
          const dvLib = new DvLib();
          dvLib.autoFieldLog(dv);
        } else {
          dv.paragraph(Renderer.makeLinkShortUUID(dv, pages[i - 1].file));
        }
      }
    }
  }
};
var Renderer = {
  makeLinkName(dv, f, anchor = "Content") {
    if (Helper.nilCheck(f.frontmatter.name)) {
      return Renderer.makeLinkShortUUID(dv, f, anchor);
    }
    return dv.sectionLink(f.path, anchor, false, `${f.frontmatter.name}`);
  },
  makeLinkAlias(dv, f, anchor = "Content") {
    if (Helper.nilCheck(f.frontmatter.alias)) {
      return Renderer.makeLinkShortUUID(dv, f, anchor);
    }
    return dv.sectionLink(f.path, anchor, false, `${f.frontmatter.alias}`);
  },
  makeLinkShortUUID(dv, f, anchor = "Content") {
    return dv.sectionLink(
      f.path,
      anchor,
      false,
      `${f.frontmatter.uuid.slice(0, 8)}`
    );
  },
  makeLink(dv, f, name = void 0, anchor = "Content") {
    return dv.sectionLink(f.path, anchor, false, name);
  },
  projectLogs(dv, data) {
    const cols = ["type", "task_id", "log_id", "took", "reviewed"];
    const buff = [];
    let totalTime = 0;
    for (const d of data) {
      const f = d.file;
      const fm = d.file.frontmatter;
      Assert.True(
        !Helper.nilCheck(fm.uuid),
        `"uuid" id not defined for: ${f.path}`
      );
      Assert.True(
        !Helper.nilCheck(fm.type),
        `"type" id not defined for: ${f.path}`
      );
      const createdAt = new Date(fm.created_at);
      const doneAt = new Date(fm.done_at);
      const delta = doneAt.getTime() - createdAt.getTime();
      totalTime += delta;
      const record = {
        taskId: "",
        logId: Renderer.makeLinkAlias(dv, f),
        took: Math.round(delta / (1e3 * 60 * 60) * 10) / 10,
        reviewed: Helper.nilCheck(fm.reviewed) ? 0 : fm.reviewed,
        type: void 0
      };
      const pages = dv.pages(`"${Paths.Tasks}/${fm.parent_id}"`).array();
      if (pages.length !== 1) {
        throw new Error(
          `parent task with id: "${fm.parent_id}" does not exists`
        );
      }
      const parent = pages[0];
      switch (parent.file.frontmatter.type) {
        case Types.Task:
          record.type = `<font color=8B0000>task</font>`;
          record.taskId = Renderer.makeLinkShortUUID(
            dv,
            parent.file,
            "Task"
          );
          break;
        case Types.Media:
          record.type = `<font color=00008B>media</font>`;
          record.taskId = Renderer.makeLinkShortUUID(
            dv,
            parent.file,
            "Content"
          );
          break;
        case Types.Praxis:
          record.type = `<font color=FF8C00>praxis</font>`;
          record.taskId = Renderer.makeLinkShortUUID(
            dv,
            parent.file,
            "Content"
          );
          break;
        case Types.Provision:
          record.type = `<font color=DC143C>provision</font>`;
          record.taskId = Renderer.makeLinkShortUUID(
            dv,
            parent.file,
            "Content"
          );
          break;
        default:
          throw new Error(
            `Renderer.projectLogs: type "${parent.file.frontmatter.type}" not implemented`
          );
      }
      buff.push([
        record.type,
        record.taskId,
        record.logId,
        record.took,
        record.reviewed
      ]);
    }
    dv.table(cols, buff);
  },
  goal(dv, data) {
    const buff = [];
    for (const fm of data) {
      const created_at = fm.createdAt;
      const logEntries = dv.pages(`"${Paths.Logs}/${fm.uuid}"`).where((p) => p.type === 6).sort((k) => k.created_at, "desc");
      const before = new Date(fm.fm.before);
      const timeframe = (before.getTime() - created_at.getTime()) / (1e3 * 3600 * 24);
      let timeframeText = "";
      if (timeframe > 0 && timeframe < 30) {
        timeframeText = "runaway";
      } else if (timeframe < 60) {
        timeframeText = "10,000 feet";
      } else if (timeframe < 360) {
        timeframeText = "20,000 feet";
      } else if (timeframe < 720) {
        timeframeText = "30,000 feet";
      } else if (timeframe < 1080) {
        timeframeText = "40,000 feet";
      } else {
        timeframeText = "50,000 feet";
      }
      buff.push([
        before.toISOString().slice(0, 10),
        dv.sectionLink(
          fm.uuid,
          "## Content",
          false,
          fm.uuid.slice(0, 8)
        ),
        fm.getDomain(),
        timeframeText
      ]);
    }
    dv.table(["deadline", "uuid", "domain", "timeframe"], buff);
  },
  inboxEntry(dv, data) {
    const cols = [
      "uuid",
      // "type",
      // "age",
      // "size",
      "name"
      // "project",
      // "domain",
      // "components",
    ];
    const buff = [];
    for (const d of data) {
      const f = d.file;
      const fm = d.file.frontmatter;
      Assert.True(
        !Helper.nilCheck(fm.uuid),
        `"uuid" id not defined for: ${f.path}`
      );
      Assert.True(
        !Helper.nilCheck(fm.type),
        `"type" id not defined for: ${f.path}`
      );
      const now = new Date();
      const delta = now.getTime() - fm.createdAt.getTime();
      const since = Helper.msecToStringDuration(delta);
      let name = "";
      if (fm.domain !== "domain/undefined") {
        name = fm.domain;
      } else if (fm.project !== void 0) {
        name = fm.project;
      } else {
        name = "\\-";
      }
      const record = {
        uuid: Helper.numberTypeToString(fm) === "fleeting" ? `&#128196 ${Renderer.makeLinkAlias(dv, f)}` : Renderer.makeLinkAlias(dv, f),
        // uuid: `&#9728 ${Renderer.makeLinkAlias(dv, f)}`,
        type: Helper.numberTypeToString(fm),
        since: `${since}`,
        size: f.size,
        project: fm.project === void 0 ? "\\-" : fm.project.slice(8),
        domain: fm.domain === void 0 ? "\\-" : fm.domain.slice(7),
        //Renderer.domainBase(dv, fm.domain),
        name
      };
      if (record.type === "log") {
        const pages = dv.pages(`"${Paths.Tasks}/${fm.parent_id}"`).array();
        if (pages.length !== 1) {
          throw new Error(`${fm.parent_id} ${fm.id}`);
        }
        const parent = pages[0];
        switch (parent.type) {
          case Types.Task:
            record.uuid = `&#128211 ${record.uuid}`;
            record.type = `<font color=8B0000>task</font>`;
            break;
          case Types.Praxis:
            record.uuid = `&#128188 ${record.uuid}`;
            record.type = `<font color=FF8C00>praxis</font>`;
            break;
          case Types.Media:
            record.uuid = `&#128191 ${record.uuid}`;
            record.type = `<font color=00008B>media</font>`;
            break;
          case Types.Provision:
            record.type = `<font color=DC143C>provision</font>`;
            break;
          default:
            break;
        }
      }
      buff.push([
        record.uuid,
        // record.type,
        // record.since,
        // record.size,
        record.name
        // record.project,
        // record.domain,
      ]);
    }
    dv.table(cols, buff);
  },
  resourceBase(dv, data) {
    const cols = ["uuid"];
    const buff = [];
    for (const d of data) {
      const f = d.file;
      const fm = d.file.frontmatter;
      Assert.True(
        !Helper.nilCheck(fm.uuid),
        `"uuid" id not defined for: ${f.path}`
      );
      buff.push([Renderer.makeLinkAlias(dv, f)]);
    }
    dv.table(cols, buff);
  },
  basicRelation(dv, data) {
    const cols = ["uuid", "name"];
    const buff = [];
    for (const d of data) {
      const f = d.file;
      const fm = d.file.frontmatter;
      Assert.True(
        !Helper.nilCheck(fm.uuid),
        `"uuid" id not defined for: ${f.path}`
      );
      buff.push([Renderer.makeLinkAlias(dv, f), fm.name]);
    }
    dv.table(cols, buff);
  },
  praxisBase(dv, data) {
    const buff = [];
    const cols = ["tasks", "uuid", "estimate"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      buff.push([
        dv.markdownTaskList(f.tasks),
        dv.fileLink(f.path, false, f.name.slice(0, 8)),
        fm.time_estimate
      ]);
    }
    dv.table(cols, buff);
  },
  waitingTask(dv, data) {
    const buff = [];
    const cols = ["tasks", "uuid", "estimate", "cause"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      buff.push([
        dv.markdownTaskList(f.tasks),
        dv.fileLink(f.path, false, f.name.slice(0, 8)),
        fm.time_estimate,
        fm.cause
      ]);
    }
    dv.table(cols, buff);
  },
  readyTask(dv, data) {
    const buff = [];
    const cols = ["uuid", "task", "estimate", "area"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      buff.push([
        Renderer.makeLinkAlias(dv, f, "Task"),
        dv.markdownTaskList(f.tasks),
        fm.time_estimate,
        Helper.getField(Helper.getArea(fm, true), "\\-")
      ]);
    }
    dv.table(cols, buff);
  },
  provisionBase(dv, data) {
    const buff = [];
    const cols = ["uuid", "supplier", "content", "estimate"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      buff.push([
        dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
        fm.supplier,
        dv.markdownTaskList(f.tasks),
        fm.time_estimate
      ]);
    }
    dv.table(cols, buff);
  },
  basicTaskJournalNextAction(dv, data) {
    const buff = [];
    const cols = ["uuid", "priority", "estimate", "tasks"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      const domain = Helper.getDomain(fm, true) === void 0 ? "\\-" : Helper.getDomain(fm);
      if (fm.ref_id === void 0) {
        buff.push([
          // journal.contains(fm.uuid) ? "->" : "\\-",
          dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
          fm.priority,
          fm.time_estimate,
          dv.markdownTaskList(f.tasks)
        ]);
      } else {
        const ref = dv.pages(`"${Paths.Refs}/${fm.ref_id}"`).array();
        if (ref.length === 0) {
          throw new Error(
            `task: '${fm.uuid}' has an undefined ref_id: '${fm.ref_id}'`
          );
        } else {
          buff.push([
            dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
            Renderer.makeLinkAlias(dv, ref[0].file),
            fm.time_estimate,
            domain
          ]);
        }
      }
    }
    dv.table(cols, buff);
  },
  basicTaskJournalWaiting(dv, data) {
    const buff = [];
    const cols = ["uuid", "cause", "tasks"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      const domain = Helper.getDomain(fm, true) === void 0 ? "\\-" : Helper.getDomain(fm);
      if (fm.ref_id === void 0) {
        buff.push([
          // journal.contains(fm.uuid) ? "->" : "\\-",
          dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
          d.cause,
          dv.markdownTaskList(f.tasks)
        ]);
      } else {
        const ref = dv.pages(`"${Paths.Refs}/${fm.ref_id}"`).array();
        if (ref.length === 0) {
          throw new Error(
            `task: '${fm.uuid}' has an undefined ref_id: '${fm.ref_id}'`
          );
        } else {
          buff.push([
            dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
            Renderer.makeLinkAlias(dv, ref[0].file),
            fm.time_estimate,
            domain
          ]);
        }
      }
    }
    dv.table(cols, buff);
  },
  basicTaskJournal(dv, data) {
    const buff = [];
    const cols = ["uuid", "tasks", "estimate"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      const domain = Helper.getDomain(fm, true) === void 0 ? "\\-" : Helper.getDomain(fm);
      if (fm.ref_id === void 0) {
        buff.push([
          // journal.contains(fm.uuid) ? "->" : "\\-",
          dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
          dv.markdownTaskList(f.tasks),
          fm.time_estimate
        ]);
      } else {
        const ref = dv.pages(`"${Paths.Refs}/${fm.ref_id}"`).array();
        if (ref.length === 0) {
          throw new Error(
            `task: '${fm.uuid}' has an undefined ref_id: '${fm.ref_id}'`
          );
        } else {
          buff.push([
            dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
            Renderer.makeLinkAlias(dv, ref[0].file),
            fm.time_estimate,
            domain
          ]);
        }
      }
    }
    dv.table(cols, buff);
  },
  activeTask(dv, data) {
    const buff = [];
    const cols = ["uuid", "tasks", "session"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      const logs = dv.pages(`"${Paths.Logs}/${fm.uuid}"`).where((p) => p.type === 6).sort((k) => k.created_at, "desc");
      const last = logs[0];
      const createdAt = new Date(last.created_at);
      const now = new Date();
      buff.push([
        dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
        dv.markdownTaskList(f.tasks),
        ((t) => {
          return Math.round(t / (3600 * 1e3) * 10) / 10;
        })(now.getTime() - createdAt.getTime())
      ]);
    }
    dv.table(cols, buff);
  },
  basicTask(dv, data) {
    const buff = [];
    const cols = ["uuid", "tasks", "estimate", "domain"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      const domain = Helper.getDomain(fm, true) === void 0 ? "\\-" : Helper.getDomain(fm);
      if (fm.ref_id === void 0) {
        buff.push([
          dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
          dv.markdownTaskList(f.tasks),
          fm.time_estimate,
          domain
        ]);
      } else {
        const ref = dv.pages(`"${Paths.Refs}/${fm.ref_id}"`).array();
        if (ref.length === 0) {
          throw new Error(
            `task: '${fm.uuid}' has an undefined ref_id: '${fm.ref_id}'`
          );
        } else {
          buff.push([
            dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
            Renderer.makeLinkAlias(dv, ref[0].file),
            fm.time_estimate,
            domain
          ]);
        }
      }
    }
    dv.table(cols, buff);
  },
  logs(dv, entries) {
    const buff = [];
    let totalTime = 0;
    for (const entry of entries) {
      const fme = entry.file.frontmatter;
      const e = [];
      let start = 0;
      let stop = 0;
      if (fme === void 0 || fme.created_at === void 0) {
        throw new Error(`Invalid frontmatter: ${fme.uuid}`);
      }
      start = new Date(fme.created_at);
      e.push(start.toISOString().slice(0, 10));
      if (fme.done_at === void 0) {
        stop = Date.now();
      } else {
        stop = new Date(fme.done_at);
      }
      totalTime += stop - start;
      e.push(
        dv.sectionLink(
          fme.uuid,
          "## Content",
          false,
          fme.uuid.slice(0, 8)
        )
      );
      e.push(Math.round((stop - start) / (1e3 * 60 * 60) * 10) / 10);
      if (fme.reviewed === void 0 || fme.reviewed === 0) {
        e.push(0);
      } else {
        e.push(fme.reviewed);
      }
      buff.push(e);
    }
    if (buff.length > 0) {
      dv.header(2, "Logs");
      dv.table(["created_at", "uuid", "session", "reviewed"], buff);
      if (totalTime > 0) {
        dv.paragraph(
          `_totalTime (h):_ ${Math.round(totalTime / (1e3 * 60 * 60) * 10) / 10}`
        );
      }
    }
  },
  mediaWithLogs(dv, data) {
    const buff = [];
    const cols = ["uuid", "tasks", "estimate", "current", "domain"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      const ref = dv.pages(`"${Paths.Refs}/${fm.ref_id}"`).array();
      if (ref.length === 0) {
        throw new Error(
          `task: '${fm.uuid}' has an undefined ref_id: '${fm.ref_id}'`
        );
      }
      const domain = Helper.getDomain(fm, true) === void 0 ? "\\-" : Helper.getDomain(fm);
      const logEntries = dv.pages(`"${Paths.Logs}/${fm.uuid}"`).where((p) => p.type === Types.Log).sort((k) => k.created_at, "desc");
      let totalTime = 0;
      for (const entry of logEntries) {
        const fme = entry.file.frontmatter;
        const e = [];
        let start = 0;
        let stop = 0;
        if (fme === void 0 || fme.created_at === void 0) {
          throw new Error(`Invalid frontmatter: ${fme.uuid}`);
        }
        start = new Date(fme.created_at);
        try {
          e.push(start.toISOString().slice(0, 10));
        } catch (e2) {
          console.error(entry.uuid);
        }
        if (fme.done_at === void 0) {
          stop = Date.now();
        } else {
          stop = new Date(fme.done_at);
        }
        totalTime += stop - start;
      }
      buff.push([
        dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
        Renderer.makeLinkAlias(dv, ref[0].file),
        fm.time_estimate,
        `${Math.round(totalTime / (1e3 * 60 * 60) * 10) / 10}h`,
        domain
      ]);
    }
    dv.table(cols, buff);
  },
  taskDoneWithLogs(dv, data) {
    const buff = [];
    const cols = [
      "taskId",
      "logId",
      "createdAt",
      "doneAt",
      "timeEstimate",
      "took",
      "project"
    ];
    for (const d of data) {
      const f = d.file;
      const fm = d.file.frontmatter;
      const createdAt = new Date(fm.created_at);
      const doneAt = new Date(fm.done_at);
      const timeEstimate = "";
      const took = (doneAt - createdAt) / (1e3 * 3600);
      const pages = dv.pages(`"${Paths.Tasks}"`).where((page) => page.file.frontmatter.uuid === fm.parent_id);
      if (pages.length !== 1) {
        throw new Error();
      }
      const parent = pages[0];
      const parentFm = parent.file.frontmatter;
      const parentF = parent.file;
      buff.push([
        Renderer.makeLinkShortUUID(dv, parent.file, "Task"),
        Renderer.makeLinkShortUUID(dv, f),
        createdAt.toISOString().slice(0, 10),
        doneAt.toISOString().slice(0, 10),
        timeEstimate,
        ((t) => {
          return Math.round(t * 10) / 10;
        })(took),
        Helper.getProject(parentFm)
      ]);
    }
    dv.table(cols, buff);
  },
  projects(dv, pages) {
    const cols = ["name"];
    const buff = [];
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      buff.push([Renderer.makeLink(dv, page.file, fm.getName())]);
    }
    dv.table(cols, buff);
  },
  basicDoneTaskWithLogs(dv, data) {
    const cols = [
      "uuid",
      "createdAt",
      "doneAt",
      "timeEstimate",
      "took",
      "delta",
      "project",
      "area"
    ];
    dv.table(cols, data);
  },
  basicDoneTaskWithoutLogs(dv, data) {
    const cols = ["taskId", "createdAt", "project", "area"];
    dv.table(cols, data);
  },
  basicProgressedTaskWithLog(dv, data) {
    const cols = [
      "taskId",
      "logId",
      // "createdAt",
      // "doneAt",
      "took",
      // "tookAcc",
      "project"
      // "domain",
    ];
    dv.table(cols, data);
  },
  // dailyTask(dv, data) {
  // 	Renderer.makeLinkShortUUID(this.dv, page.file),
  // 	dv.
  // 				rs.push([
  // 					"paragraph",
  // 					Renderer.makeLinkShortUUID(this.dv, page.file),
  // 				]);
  // }
  do(dv, rs) {
    for (const row of rs) {
      switch (row[0]) {
        case "header":
          const [, level, heading] = row;
          dv.header(level, heading);
          break;
        case "paragraph":
          const [, text] = row;
          dv.paragraph(text);
          break;
        case "array":
          const [, renderer, data] = row;
          renderer(dv, data);
          break;
        case "stats":
          const [, name, unit, value] = row;
          dv.paragraph(`${name} (${unit}): ${value}`);
          break;
        default:
          throw new Error(`Unsuported opcode: "fuckoff"`);
      }
    }
  }
};
var Frontmatter = class {
  constructor(gonext) {
    this.gonext = gonext;
  }
  projectParseMeta(dv) {
    const current = dv.current();
    const projectName = current.file.folder.slice(
      Paths.Projects.length + 1
    );
    const projectDir = current.file.folder;
    if (projectName.contains("/")) {
      throw new Error(
        `projectDir: ${projectDir} folder: ${current.file.folder}`
      );
    }
    const pages = dv.pages(`"${projectDir}/meta"`).array();
    if (pages.length !== 1) {
      throw new Error(`len: ${pages.length}`);
    }
    const fm = pages[0].file.frontmatter;
    const uuid = fm.uuid;
    if (Helper.nilCheck(uuid)) {
      throw new Error(`project 'uuid' is not defined`);
    }
    const name = fm.name;
    if (Helper.nilCheck(name)) {
      throw new Error(`'name' is not defined`);
    }
    const domains = fm.domains;
    if (!Array.isArray(domains)) {
      throw new Error(`'domains' must be of array type`);
    }
    return {
      uuid,
      name,
      domains
    };
  }
  getCreatedAt(f) {
    return Helper.nilCheck(f.frontmatter.created_at) ? new Date(f.ctime.ts) : new Date(f.frontmatter.created_at);
  }
  getCurrentFrontmatter() {
    const file = this.gonext.workspace.getActiveFile();
    const fileContent = this.gonext.metadataCache.getFileCache(file);
    if (fileContent === void 0) {
      return void 0;
    }
    const fm = fileContent.frontmatter;
    if (fm === void 0) {
      return void 0;
    }
    return fm;
  }
  parseListByNamespace(fm) {
    const byAreas = fm.by_areas === void 0 ? [] : fm.by_areas;
    const byContexts = fm.by_contexts === void 0 ? [] : fm.by_contexts;
    const byLayers = fm.by_layers === void 0 ? [] : fm.by_layers;
    const byOrgs = fm.by_orgs === void 0 ? [] : fm.by_orgs;
    const byProjects = fm.by_projects === void 0 ? [] : fm.by_projects;
    return [byAreas, byContexts, byLayers, byOrgs, byProjects];
  }
  parseListBeforeAfter(fm) {
    const before = Helper.getDate(fm.before);
    const after = Helper.getDate(fm.after);
    return [before, after];
  }
  parseListFilterBy(fm) {
    if (fm === void 0) {
      return [];
    }
    const filterBy = fm.filter_by;
    if (!Array.isArray(filterBy)) {
      return [];
    }
    return filterBy;
  }
  parseListGroupBy(fm) {
    if (fm === void 0) {
      return "";
    }
    const groupBy = fm.group_by;
    if (!(typeof groupBy === "undefined") && !(typeof groupBy === "string")) {
      return "";
    }
    return groupBy;
  }
  parseAllProgressedTasks() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      throw new Error(`Invalid frontmatter, cannot proceed`);
    }
    const groupBy = this.parseListGroupBy(fm);
    const filterBy = this.parseListFilterBy(fm);
    const [before, after] = this.parseListBeforeAfter(fm);
    return [groupBy, filterBy, before, after];
  }
  parseAllDoneTasks() {
    return this.parseAllProgressedTasks();
  }
  parseAllDoneTaskWithoutLog() {
    return this.parseAllProgressedTasks();
  }
  parseAllTodoAdHoc() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      throw new Error(`Invalid frontmatter, cannot proceed`);
    }
    const groupBy = this.parseListGroupBy(fm);
    const filterBy = this.parseListFilterBy(fm);
    const [before, after] = this.parseListBeforeAfter(fm);
    const minPriority = Helper.getField(fm.min_priority, 0);
    return [groupBy, filterBy, before, after, minPriority];
  }
  parseInbox() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      return [[], [], 0, 4294967295];
    }
    const source = Helper.nilCheck(fm.source) ? ["logs", "fleeting"] : fm.source;
    const groupBy = Helper.nilCheck(fm.group_by) ? "none" : fm.group_by;
    const filterBy = this.parseListFilterBy(fm);
    const minSize = Helper.nilCheck(fm.min_size) ? 0 : fm.min_size;
    const maxSize = Helper.nilCheck(fm.max_size) ? 4294967295 : fm.max_size;
    return [source, groupBy, filterBy, minSize, maxSize];
  }
  parseTodoList() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      return [[], [], [], [], [], 0];
    }
    const [byAreas, byContexts, byLayers, byOrgs, byProjects] = this.parseListByNamespace(fm);
    const minPriority = Helper.getField(fm.min_priority, 0);
    return [byAreas, byContexts, byLayers, byOrgs, byProjects, minPriority];
  }
  parseDoneList() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      return [[], [], [], [], [], [], []];
    }
    const [byAreas, byContexts, byLayers, byOrgs, byProjects] = this.parseListByNamespace(fm);
    const [before, after] = this.parseListBeforeAfter(fm);
    const fields = Helper.getField(fm.fields, []);
    const stats = Helper.getField(fm.stats, []);
    return [
      byAreas,
      byContexts,
      byLayers,
      byOrgs,
      byProjects,
      fields,
      stats,
      before,
      after
    ];
  }
};
var NoteHelper = class {
  constructor(gonext, dv, frontmatter) {
    this.gonext = gonext;
    this.dv = dv;
    this.frontmatter = frontmatter;
  }
  isDoable(task, at = void 0) {
    const fm = task.file.frontmatter;
    if (fm.status !== Status.Todo) {
      return false;
    }
    if (fm.after !== void 0) {
      const after = new Date(fm.after);
      if (Date.now() <= after.getTime()) {
        return false;
      }
    }
    if (at !== void 0) {
      const fmAt = new Date(fm.at);
      fmAt.setHours(0);
      fmAt.setMinutes(0);
      fmAt.setSeconds(0);
      if (at.getTime() < fmAt.getTime()) {
        return false;
      }
    } else {
      if (fm.at !== void 0) {
        const at2 = new Date(fm.at);
        if (Date.now() <= at2.getTime()) {
          return false;
        }
      }
    }
    const deps = fm.needs;
    if (deps === void 0 || deps.length === 0) {
      return true;
    }
    if (this.hasPendingDependencies(deps)) {
      return false;
    }
    return true;
  }
  hasPendingDependencies(deps) {
    for (const dep of deps) {
      const task = this.dv.pages(`"${Paths.Tasks}/${dep}"`).array();
      if (task.length === 0) {
        console.warn(
          `hasPendingDependencies: "${Paths.Tasks}/${dep}" task does not exists`
        );
        continue;
      }
      const fm = task[0].file.frontmatter;
      if (fm.type !== Types.Task && fm.type !== Types.Provision && fm.type !== Types.Praxis) {
        continue;
      }
      if (fm.status === Status.Todo) {
        return true;
      }
    }
    return false;
  }
  isChildTag(parent, child) {
    if (child.length <= parent.length + 1) {
      return false;
    } else if (child.slice(0, parent.length + 1) != `${parent}/`) {
      return false;
    }
    return true;
  }
  getNamespaceContent(ns) {
    const children = [];
    const pages = this.dv.pages(`#${ns}`);
    for (const p of pages) {
      const tags = p.file.frontmatter.tags;
      if (tags === void 0 || tags.length === 0) {
        continue;
      }
      for (const tag of tags) {
        if (this.isChildTag(ns, tag)) {
          const t = tag.slice(ns.length + 1);
          if (!children.contains(t)) {
            children.push(t);
          }
        }
      }
    }
    return children;
  }
  isLastRevision(page) {
    const revisionList = (dv, root, current) => {
      let head = current;
      while (true) {
        const pages = dv.pages(`"${root}"`).where(
          (page2) => page2.file.frontmatter.next === head.file.frontmatter.uuid
        );
        if (pages.length > 1) {
          throw new Error();
        } else if (pages.length === 0) {
          break;
        }
        head = pages[0];
      }
      const buff = [];
      let cur = head;
      while (true) {
        buff.push(cur);
        const fm2 = cur.file.frontmatter;
        if (fm2.next === void 0) {
          break;
        }
        const pages = dv.pages(`"${root}/${fm2.next}"`);
        if (pages.length === 0) {
          break;
        }
        cur = pages[0];
      }
      return buff;
    };
    const note = page;
    const fm = note.file.frontmatter;
    let revisions = [];
    switch (fm.type) {
      case Types.Permanent:
        revisions = revisionList(this.dv, Paths.Slipbox, note);
        break;
      case Types.Resource:
        revisions = revisionList(this.dv, Paths.Resources, note);
        break;
      default:
        throw new Error();
    }
    if (revisions.length <= 1) {
      return true;
    }
    return revisions[0].file.frontmatter.uuid === fm.uuid;
  }
};
var Generator = class {
  constructor(app2) {
    this.app = app2;
    this.dv = app2.dv;
    this.gonext = app2.gonext;
  }
  journalDaily() {
    const now = new Date();
    const nowDate = now.toISOString().slice(0, 10);
    const pages = this.dv.pages(`"${Paths.Journal}"`).where((page) => {
      const fmp = new FrontmatterJS(page);
      if (fmp.getProject() !== "daily") {
        return false;
      }
      if (fmp.createdAt.toISOString().slice(0, 10) !== nowDate) {
        return false;
      }
      return true;
    });
    for (const page of pages) {
      console.log(page);
    }
  }
  fleeting() {
    const dt = new Date();
    const note = {
      uuid: v4_default(),
      type: 13,
      version: "0.0.4",
      created_at: dt.toISOString(),
      path: "",
      data: ""
    };
    note.path = `800 Inbox/${note.uuid}.md`;
    note.data = `---
type: 13
uuid: "${note.uuid}"
created_at: "${note.created_at}"
version: "0.0.4"
---
## Content
`;
    const f = this.app.vault.create(note.path, note.data).then((f2) => {
      return f2;
    });
    const active = this.app.workspace.activeLeaf;
    const root = active.parent;
    this.app.workspace.createLeafInParent(root, root.children.length + 1);
    const leaf = root.children[root.children.length - 1];
    f.then((file) => {
      leaf.openFile(file, { active: true });
    });
  }
  permanent(name) {
    const dt = new Date();
    const note = {
      uuid: v4_default(),
      type: 2,
      version: "0.0.3",
      created_at: dt.toISOString(),
      path: "",
      data: ""
    };
    note.path = `${Paths.Slipbox}/${note.uuid}.md`;
    if (name === void 0) {
      note.data = `---
type: 2
uuid: "${note.uuid}"
created_at: "${note.created_at}"
version: "0.0.3"
---
## Content
`;
    } else {
      note.data = `---
type: 2
uuid: "${note.uuid}"
created_at: "${note.created_at}"
version: "0.0.3"
---
## Content
### ${name}
`;
    }
    const f = this.app.vault.create(note.path, note.data).then((f2) => {
      return f2;
    });
    const active = this.app.workspace.activeLeaf;
    const root = active.parent;
    this.app.workspace.createLeafInParent(root, root.children.length + 1);
    const leaf = root.children[root.children.length - 1];
    f.then((file) => {
      leaf.openFile(file, { active: true });
    });
  }
  // @ts-ignore
  journalEntry(dt) {
    if (dt === void 0) {
      dt = new Date();
    }
    const note = {
      uuid: v4_default(),
      type: 20,
      version: "0.0.4",
      created_at: dt.toISOString(),
      path: "",
      data: ""
    };
    note.path = `Journal/${note.uuid}.md`;
    note.data = `---
type: 20
uuid: "${note.uuid}"
created_at: "${note.created_at}"
version: "0.0.4"
tags:
    - project/daily
---
## Content
### entry
`;
    return this.app.vault.create(note.path, note.data).then((f) => {
      return f;
    });
  }
};
var ListMaker = class {
  constructor(gonext, dv, frontmatter) {
    this.gonext = gonext;
    this.dv = dv;
    this.frontmatter = frontmatter;
    this.noteHelper = new NoteHelper(gonext, dv, frontmatter);
  }
  nameInNamespace(fm, ns) {
    let found = false;
    if (ns.length === 0) {
      return true;
    }
    for (const a of ns) {
      const root = a.split("/");
      Assert.True(root.length === 2, `Invalid tag: '${a}'`);
      const parent = root[0].slice(0, 1) === "!" ? root[0].slice(1) : root[0];
      const name = Helper.getTag(fm, parent);
      if (a.slice(0, 1) === "!") {
        if (name === a.slice(1)) {
          return false;
        } else {
          found = true;
        }
      } else {
        if (name === a) {
          found = true;
        } else {
          found = false;
        }
      }
    }
    return found;
  }
  myNameInNamespace(name, ns) {
    let found = false;
    if (ns.length === 0) {
      return true;
    }
    for (const a of ns) {
      if (a.slice(0, 1) === "!") {
        if (name === a.slice(1)) {
          return false;
        } else {
          found = true;
        }
      } else {
        if (name === a) {
          found = true;
        } else {
          found = false;
        }
      }
    }
    return found;
  }
  filterByNamespace(fm, byAreas, byContexts, byLayers, byOrgs, byProjects) {
    if (!this.myNameInNamespace(Helper.getArea(fm), byAreas)) {
      return false;
    }
    if (!this.myNameInNamespace(Helper.getContext(fm), byContexts)) {
      return false;
    }
    if (!this.myNameInNamespace(Helper.getLayer(fm), byLayers)) {
      return false;
    }
    if (!this.myNameInNamespace(Helper.getOrg(fm), byOrgs)) {
      return false;
    }
    if (!this.myNameInNamespace(Helper.getProject(fm), byProjects)) {
      return false;
    }
    return true;
  }
  filterByDate(dt, before, after) {
    if (before !== void 0 && dt.getTime() > before.getTime()) {
      return false;
    }
    if (after !== void 0 && dt.getTime() < after.getTime()) {
      return false;
    }
    return true;
  }
  goals() {
    const rs = [];
    const bins = {};
    bins[GoalStatus.Reframe] = [];
    bins[GoalStatus.Research] = [];
    bins[GoalStatus.Operationalize] = [];
    bins[GoalStatus.Planify] = [];
    bins[GoalStatus.Dependant] = [];
    bins[GoalStatus.Active] = [];
    bins[GoalStatus.Success] = [];
    bins[GoalStatus.Failed] = [];
    const pages = this.dv.pages(`"${Paths.Goals}"`).where((page) => {
      const fmp = page.file.frontmatter;
      if (bins[fmp.status] === void 0) {
        return true;
      } else {
        const fm = new FrontmatterJS(page);
        bins[fmp.status].push(fm);
        return false;
      }
    });
    const keys = Object.keys(bins);
    keys.sort();
    for (const k of keys) {
      const buff = bins[k];
      buff.sort((a, b) => {
        const dta = new Date(a.fm.before);
        const dtb = new Date(b.fm.before);
        return dta.getTime() - dtb.getTime();
      });
    }
    const displayGoals = (k, rs2) => {
      rs2.push(["header", 3, k]);
      const buff = bins[k];
      rs2.push(["array", Renderer.goal, buff]);
    };
    rs.push(["header", 2, "operational"]);
    displayGoals("active", rs);
    displayGoals("planify", rs);
    rs.push(["header", 2, "non-operational"]);
    displayGoals("reframe", rs);
    displayGoals("research", rs);
    displayGoals("operationalize", rs);
    rs.push(["header", 2, "done"]);
    displayGoals("success", rs);
    displayGoals("failed", rs);
    return rs;
  }
  projectTasksSheetRelationFrontmatter(dv) {
    const current = dv.current();
    const fm = new FrontmatterJS(current);
    return {
      name: fm.getName(),
      uuid: fm.uuid,
      active: fm.fm.active === void 0 || fm.fm.active === true ? true : false
    };
  }
  projectTasksSheetRelation(dv) {
    const project = this.projectTasksSheetRelationFrontmatter(dv);
    const rs = [];
    const bins = {
      nextAction: [],
      waitingFor: [],
      somedayMaybe: []
    };
    {
      const pages2 = dv.pages(`"Journal"`).where((page) => {
        const fm = new FrontmatterJS(page);
        return fm.getProject() === project.name;
      }).sort((k) => k.created_at, "desc");
      if (pages2.length > 0) {
        rs.push(["header", 2, `Journal (${pages2.length})`]);
        for (const page of pages2) {
          const fm = new FrontmatterJS(page);
          const text = Renderer.makeLink(
            dv,
            fm.f,
            `${fm.createdAt.toISOString().slice(0, 10)}`,
            "entry"
          );
          rs.push(["paragraph", text]);
        }
      }
    }
    const pages = dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (fm.fm.status === "done") {
        return false;
      }
      if (["daily", "weekly", "monthly"].contains(project.name)) {
        return false;
      } else if (project.name === "adhoc" && fm.getProject() === void 0) {
        page.file.frontmatter.project = "adhoc";
        return true;
      } else if (project.name === fm.getProject()) {
        return true;
      } else {
        return false;
      }
    });
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      if (this.noteHelper.isDoable(page)) {
        if (fm.fm.priority > 0) {
          bins.nextAction.push(page);
        } else {
          bins.somedayMaybe.push(page);
        }
      } else {
        if (fm.fm.needs !== void 0 && this.noteHelper.hasPendingDependencies(fm.fm.needs)) {
          page.cause = "dependencies";
        } else {
          const fmAt = fm.at;
          const currentAt = new Date();
          const fmAfter = fm.after;
          if (fm.fm.at !== void 0) {
            fmAt.setHours(0);
            fmAt.setMinutes(0);
            fmAt.setSeconds(0);
            fmAt.setMilliseconds(0);
            currentAt.setHours(0);
            currentAt.setMinutes(0);
            currentAt.setSeconds(0);
            currentAt.setMilliseconds(0);
          }
          if (fm.after !== void 0) {
            fmAfter.setHours(0);
            fmAfter.setMinutes(0);
            fmAfter.setSeconds(0);
            fmAfter.setMilliseconds(0);
          }
          console.log(`current: ${currentAt.getTime()}`);
          console.log(`at: ${fm.at.getTime()}`);
          console.log(`after: ${fm.after.getTime()}`);
          if (fm.fm.at !== void 0 && fmAt.getTime() > currentAt.getTime()) {
            page.cause = "at";
          } else if (fm.fm.after !== void 0 && fmAfter.getTime() < currentAt.getTime()) {
            page.cause = "after";
          } else {
            page.cause = "unknown";
          }
        }
        bins.waitingFor.push(page);
      }
    }
    if (bins.nextAction.length > 0) {
      rs.push(["header", 2, `Next Actions (${bins.nextAction.length})`]);
      bins.nextAction.sort(Helper.sortByPriorityAndDurationAndAge);
      rs.push([
        "array",
        Renderer.basicTaskJournalNextAction,
        bins.nextAction
      ]);
    }
    if (bins.waitingFor.length > 0) {
      rs.push(["header", 2, `Waiting (${bins.waitingFor.length})`]);
      bins.waitingFor.sort(Helper.sortByPriorityAndDurationAndAge);
      rs.push([
        "array",
        Renderer.basicTaskJournalWaiting,
        bins.waitingFor
      ]);
    }
    if (bins.somedayMaybe.length > 0) {
      rs.push(["header", 2, `Maybe (${bins.somedayMaybe.length})`]);
      bins.somedayMaybe.sort(Helper.sortByPriorityAndDurationAndAge);
      rs.push(["array", Renderer.basicTaskJournal, bins.somedayMaybe]);
    }
    return rs;
  }
  projectLogsSheetRelation(dv) {
    const project = this.projectTasksSheetRelationFrontmatter(dv);
    const filterBy = [];
    const rs = [];
    rs.push(["header", 2, "Logs"]);
    const logs = this.dv.pages(`"${Paths.Logs}"`).where((page) => {
      if (page.type !== Types.Log) {
        return false;
      }
      if (page.file.frontmatter.reviewed > 0) {
        return false;
      }
      return true;
    });
    const buff = {};
    for (const e of logs) {
      const fm = e.file.frontmatter;
      if (filterBy.length > 0 && !this.nameInNamespace(fm, filterBy)) {
        continue;
      }
      fm.createdAt = this.frontmatter.getCreatedAt(e.file);
      Assert.True(
        !Helper.nilCheck(fm.parent_id),
        `Missing field "parent_id" from log: "${fm.uuid}"`
      );
      const parent = this.dv.pages(`"${Paths.Tasks}/${fm.parent_id}"`).array();
      if (parent.length !== 1) {
        continue;
      }
      Assert.True(
        parent.length === 1,
        `Parent: ${fm.parent_id} not found for log: "${fm.uuid}"`
      );
      fm.project = Helper.getProject(parent[0].file.frontmatter);
      fm.area = Helper.getArea(parent[0].file.frontmatter, true);
      if (fm.project !== `project/${project.name === "adhoc" ? "none" : project.name}`) {
        continue;
      }
      if (Helper.nilCheck(fm.done_at)) {
        continue;
      }
      const date = fm.done_at.slice(0, 10);
      if (buff[date] === void 0) {
        buff[date] = [e];
      } else {
        buff[date].push(e);
      }
    }
    const keys = Object.keys(buff);
    keys.sort();
    for (const date of keys) {
      buff[date].sort(
        (a, b) => b.file.frontmatter.createdAt.getTime() - a.file.frontmatter.createdAt.getTime()
      );
    }
    for (const date of keys.reverse()) {
      rs.push(["header", 3, date]);
      rs.push(["array", Renderer.projectLogs, buff[date]]);
    }
    return rs;
  }
  getProjectLogs(dv, project) {
    const logs = this.dv.pages(`"${Paths.Logs}"`).where((page) => {
      if (page.type !== Types.Log) {
        return false;
      }
      return true;
    });
    const buff = [];
    for (const e of logs) {
      const fm = e.file.frontmatter;
      Assert.True(
        !Helper.nilCheck(fm.parent_id),
        `Missing field "parent_id" from log: "${fm.uuid}"`
      );
      const parent = this.dv.pages(`"${Paths.Tasks}/${fm.parent_id}"`).array();
      if (parent.length !== 1) {
        continue;
      }
      fm.project = Helper.getProject(parent[0].file.frontmatter);
      fm.area = Helper.getArea(parent[0].file.frontmatter, true);
      if (fm.project !== `project/${project.name === "adhoc" ? "none" : project.name}`) {
        continue;
      }
      if (Helper.nilCheck(fm.done_at)) {
        continue;
      }
      buff.push(e);
    }
    return buff;
  }
  projectLogsSheet(dv) {
    const project = this.frontmatter.projectParseMeta(dv);
    const fml = this.frontmatter.getCurrentFrontmatter();
    if (fml === void 0) {
      throw new Error(`Invalid frontmatter, cannot proceed`);
    }
    const before = Helper.nilCheck(fml.before) ? new Date(0) : new Date(fml.before);
    const after = Helper.nilCheck(fml.after) ? new Date() : new Date(fml.after);
    const filterBy = this.frontmatter.parseListFilterBy(fml);
    const rs = [];
    let totalTime = 0;
    rs.push(["header", 1, project.name]);
    const logs = this.dv.pages(`"${Paths.Logs}"`).where((page) => {
      if (page.type !== Types.Log) {
        return false;
      }
      return true;
    });
    const buff = {};
    for (const e of logs) {
      const fm = e.file.frontmatter;
      if (filterBy.length > 0 && !this.nameInNamespace(fm, filterBy)) {
        continue;
      }
      fm.createdAt = this.frontmatter.getCreatedAt(e.file);
      Assert.True(
        !Helper.nilCheck(fm.parent_id),
        `Missing field "parent_id" from log: "${fm.uuid}"`
      );
      const parent = this.dv.pages(`"${Paths.Tasks}/${fm.parent_id}"`).array();
      if (parent.length !== 1) {
        continue;
      }
      fm.project = Helper.getProject(parent[0].file.frontmatter);
      fm.area = Helper.getArea(parent[0].file.frontmatter, true);
      if (fm.project !== `project/${project.name === "adhoc" ? "none" : project.name}`) {
        continue;
      }
      if (Helper.nilCheck(fm.done_at)) {
        continue;
      }
      const date = fm.done_at.slice(0, 10);
      const createdAt = new Date(fm.created_at);
      const doneAt = new Date(fm.done_at);
      if (createdAt > before) {
        continue;
      }
      if (createdAt < after) {
        continue;
      }
      if (buff[date] === void 0) {
        buff[date] = [e];
      } else {
        buff[date].push(e);
      }
      const delta = doneAt.getTime() - createdAt.getTime();
      totalTime += delta;
    }
    dv.paragraph(
      `_totalTime (h):_ ${Math.round(totalTime / (1e3 * 60 * 60) * 10) / 10}`
    );
    const keys = Object.keys(buff);
    keys.sort();
    for (const date of keys) {
      buff[date].sort(
        (a, b) => b.file.frontmatter.createdAt.getTime() - a.file.frontmatter.createdAt.getTime()
      );
    }
    for (const date of keys.reverse()) {
      rs.push(["header", 3, date]);
      rs.push(["array", Renderer.projectLogs, buff[date]]);
    }
    return rs;
  }
  logs() {
    const [groupBy, filterBy, before, after] = this.frontmatter.parseAllProgressedTasks();
    const tasks = this.dv.pages(`"${Paths.Tasks}"`).where((page) => page.file.frontmatter.status !== "doing");
    const buff = [];
    for (const task of tasks) {
      const fm = task.file.frontmatter;
      if (filterBy.length > 0 && !this.nameInNamespace(fm, filterBy)) {
        continue;
      }
      const timeEstimate = Helper.durationStringToSec(fm.time_estimate);
      if (timeEstimate === void 0 && fm.time_estimate !== void 0) {
        throw new Error(
          `Invalid value: "${fm.time_estimate}" for entry: "${fm.uuid}"`
        );
      } else {
        fm.timeEstimate = timeEstimate;
      }
      const logs = this.dv.pages(`"${Paths.Logs}/${fm.uuid}"`).where((page) => page.type === Types.Log).sort((k) => k.created_at, "asc");
      if (logs.length < 1) {
        continue;
      }
      fm.took = 0;
      const project = Helper.getField(Helper.getProject(fm, true), "");
      const area = Helper.getField(Helper.getArea(fm, true), "");
      for (const log of logs) {
        const fml = log.file.frontmatter;
        const entry = {
          alias: fm.alias,
          uuid: fm.uuid,
          logId: fml.uuid,
          estimate: fm.timeEstimate,
          project,
          area,
          domain: Helper.getField(Helper.getDomain(fm, true), ""),
          path: task.file.path,
          logPath: log.file.path,
          createdAt: void 0,
          doneAt: void 0,
          took: void 0,
          tookAcc: void 0,
          deltaAcc: void 0
        };
        if (fml.created_at === void 0) {
          console.error(log);
          throw new Error(
            `task: ${fm.uuid} last entry is missing 'created_at' field`
          );
        }
        if (fml.done_at === void 0) {
          console.error(log);
          throw new Error(
            `task: ${fm.uuid} last entry is missing 'done_at' field`
          );
        }
        entry.createdAt = new Date(fml.created_at);
        entry.doneAt = new Date(fml.done_at);
        if (!this.filterByDate(entry.doneAt, before, after)) {
          continue;
        }
        const took = (entry.doneAt.getTime() - entry.createdAt.getTime()) / 1e3;
        fm.took += took;
        entry.took = took;
        entry.tookAcc = fm.took;
        entry.deltaAcc = timeEstimate - fm.took;
        buff.push(entry);
      }
    }
    const keyGetter = Helper.getKey(groupBy);
    const bins = {};
    for (const entry of buff) {
      let d = void 0;
      try {
        d = keyGetter(entry);
      } catch (e) {
        throw new Error(entry);
      }
      if (bins[d] === void 0) {
        bins[d] = [entry];
      } else {
        bins[d].push(entry);
      }
    }
    const keys = Object.keys(bins);
    keys.sort();
    const rs = [];
    for (const key of keys.reverse()) {
      rs.push(["header", 2, key]);
      const arr = [];
      let totalTime = 0;
      for (const e of bins[key]) {
        const buff2 = [];
        buff2.push(
          Renderer.makeLinkShortUUID(
            this.dv,
            { path: e.path, frontmatter: { uuid: e.uuid } },
            "Task"
          )
        );
        buff2.push(
          Renderer.makeLinkShortUUID(
            this.dv,
            { path: e.logPath, frontmatter: { uuid: e.logId } },
            "Content"
          )
        );
        const convertSecondsToHours = (t) => {
          return Math.round(t / 3600 * 10) / 10;
        };
        buff2.push(`${convertSecondsToHours(e.took)}`);
        buff2.push(`${e.project}`);
        arr.push(buff2);
        totalTime += e.took;
      }
      totalTime = Math.round(totalTime / 3600 * 10) / 10;
      rs.push(["stats", "totalTime", "h", totalTime]);
      rs.push(["array", Renderer.basicProgressedTaskWithLog, arr]);
    }
    return rs;
  }
  inbox(dv) {
    const rs = [];
    const buff = [];
    const filterBy = [];
    const minSize = 0;
    const maxSize = 4294967295;
    const fleetings = this.dv.pages(`"${Paths.Inbox}"`).array();
    for (const e of fleetings) {
      const fm = e.file.frontmatter;
      e.file.frontmatter.createdAt = this.frontmatter.getCreatedAt(
        e.file
      );
      let fmjs = null;
      try {
        fmjs = new FrontmatterJS(e);
      } catch (ValidationError2) {
        console.log(e);
        dv.paragraph(Renderer.makeLink(dv, e.file));
        break;
      }
      fm.project = Helper.getProject(fm, true);
      fm.domain = `domain/${fmjs.getDomain()}`;
      fm.components = Helper.getComponents(fm);
      if (e.file.size < minSize) {
        continue;
      }
      if (e.file.size > maxSize) {
        continue;
      }
      buff.push(e);
    }
    const logs = [];
    for (const e of logs) {
      const fm = e.file.frontmatter;
      fm.createdAt = this.frontmatter.getCreatedAt(e.file);
      Assert.True(
        !Helper.nilCheck(fm.parent_id),
        `Missing field "parent_id" from log: "${fm.uuid}"`
      );
      const parent = this.dv.pages(`"${Paths.Tasks}/${fm.parent_id}"`).array();
      Assert.True(
        parent.length === 1,
        `Parent: ${fm.parent_id} not found for log: "${fm.uuid}"`
      );
      fm.project = Helper.getProject(parent[0].file.frontmatter, true);
      fm.domain = void 0;
      fm.components = [];
      if (e.file.size < minSize) {
        continue;
      }
      if (e.file.size > maxSize) {
        continue;
      }
      buff.push(e);
    }
    const sortBySizeThenDate = function(a, b) {
      const fA = a.file;
      const fB = b.file;
      if (fA.size !== fB.size) {
        return fB.size - fA.size;
      } else {
        return fA.frontmatter.createdAt.getTime() - fB.frontmatter.createdAt.getTime();
      }
    };
    const sortByAge = (a, b) => a.file.frontmatter.createdAt.getTime() - b.file.frontmatter.createdAt.getTime();
    buff.sort(sortByAge);
    rs.push(["array", Renderer.inboxEntry, buff]);
    return rs;
  }
  projects() {
    const rs = [];
    const bins = {
      active: [],
      inactive: []
    };
    const pages = this.dv.pages(`"Projects"`).sort((k) => k.name, "asc");
    for (const project of pages) {
      const fmProject = new FrontmatterJS(project);
      if (fmProject.fm.active === false) {
        bins.inactive.push(project);
        continue;
      } else if (fmProject.getName() === "adhoc") {
        bins.active.push(project);
        continue;
      } else if (["yearly", "monthly", "weekly", "daily"].contains(
        fmProject.getName()
      )) {
        continue;
      }
      const tasks = this.dv.pages(`#project/${fmProject.getName()}`).where((page) => {
        if (page.file.folder !== `${Paths.Tasks}`) {
          return false;
        }
        const fmTask = new FrontmatterJS(page);
        if (fmTask.fm.priority === 0) {
          return false;
        }
        if (["todo", "doing", "waiting"].contains(fmTask.fm.status)) {
          return true;
        }
        return false;
      });
      if (tasks.length > 0) {
        bins.active.push(project);
      } else {
        bins.inactive.push(project);
      }
    }
    rs.push(["header", 2, "Active"]);
    rs.push(["array", Renderer.projects, bins.active]);
    rs.push(["header", 2, "Inactive"]);
    rs.push(["array", Renderer.projects, bins.inactive]);
    return rs;
  }
  praxis() {
    const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      if (page.file.frontmatter.type !== Types.Praxis) {
        return false;
      }
      if (page.file.frontmatter.status !== Status.Todo) {
        return false;
      }
      return true;
    }).array();
    const rs = [];
    rs.push(["header", 1, "Praxis"]);
    rs.push(["array", Renderer.basicTask, pages]);
    return rs;
  }
  planning(lastWeek = 2) {
    const rs = [];
    const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (fm.at === void 0) {
        return false;
      }
      if (fm.getProject() !== "daily") {
        return false;
      }
      return true;
    }).sort((page) => page.file.frontmatter.at, "desc");
    const now = new Date();
    const bins = {};
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      let at = void 0;
      try {
        at = fm.at.toISOString().slice(0, 10);
      } catch (e) {
        throw new Error(`Invalid date: '${fm.fm.uuid}'`);
      }
      const weekNumber = this.getWeekNumber5(fm.at);
      if (fm.at.getFullYear() < now.getFullYear()) {
        if (weekNumber > 1) {
          continue;
        }
      }
      if (bins[weekNumber] === void 0) {
        bins[weekNumber] = [fm];
      } else {
        bins[weekNumber].push(fm);
      }
    }
    const currentWeekNumber = this.getWeekNumber5(now);
    for (const key of Object.keys(bins)) {
      const weekNumber = Number(key);
      if (weekNumber + lastWeek < currentWeekNumber) {
        continue;
      }
      if (weekNumber < currentWeekNumber) {
        rs.push(["header", 2, `~~week ${key}~~`]);
      } else if (weekNumber === currentWeekNumber) {
        rs.push(["header", 2, `*week ${key}*`]);
      } else {
        rs.push(["header", 2, `week ${key}`]);
      }
      bins[key].sort((a, b) => {
        return a.at.getTime() - b.at.getTime();
      });
      for (const task of bins[key]) {
        const day = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"][task.at.getDay()];
        const text = Renderer.makeLink(
          this.dv,
          task.f,
          `${task.at.toISOString().slice(0, 10)}, ${day}`,
          "Task"
        );
        if (weekNumber < currentWeekNumber) {
          rs.push(["paragraph", `~~${text}~~`]);
        } else if (weekNumber === currentWeekNumber) {
          if (this.dayOfYear(task.at) < this.dayOfYear(now)) {
            rs.push(["paragraph", `~~${text}~~`]);
          } else {
            rs.push(["paragraph", `${text}`]);
          }
        } else {
          rs.push(["paragraph", `${text}`]);
        }
      }
    }
    return rs;
  }
  dayOfYear(dt) {
    const year = dt.getFullYear();
    const month = dt.getMonth() + 1;
    const day = dt.getDate();
    const N1 = Math.floor(275 * month / 9);
    const N2 = Math.floor((month + 9) / 12);
    const N3 = 1 + Math.floor((year - 4 * Math.floor(year / 4) + 2) / 3);
    return N1 - N2 * N3 + day - 30;
  }
  getWeekNumber(d) {
    d = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));
    d.setUTCDate(d.getUTCDate() + 4 - (d.getUTCDay() || 7));
    const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));
    return Math.ceil(((d - yearStart) / 864e5 + 1) / 7);
  }
  // https://codepen.io/ldijkman/pen/LYdNJvM
  getWeekNumber5(dt) {
    const tdt = new Date(dt.valueOf());
    const dayn = dt.getDay();
    tdt.setDate(tdt.getDate() - dayn + 3);
    const firstThursday = tdt.valueOf();
    tdt.setMonth(0, 1);
    if (tdt.getDay() !== 4) {
      tdt.setMonth(0, 1 + (4 - tdt.getDay() + 7) % 7);
    }
    return 1 + Math.ceil((firstThursday - tdt) / 6048e5);
  }
  getWeekNumber4(d) {
    d = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));
    const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));
    const firstSunday = yearStart.getUTCDay() === 0 ? yearStart : new Date(
      Date.UTC(
        d.getUTCFullYear(),
        0,
        1 + (7 - yearStart.getUTCDay())
      )
    );
    const daysSinceFirstSunday = (d - firstSunday + 864e5) / 864e5;
    return Math.ceil(daysSinceFirstSunday / 7);
  }
  getMonth(year, weekNumber) {
    const firstDayOfYear = new Date(year, 0, 1);
    const firstDayOfWeek = firstDayOfYear.getDay();
    const daysToAdd = (weekNumber - 1) * 7 - firstDayOfWeek + (firstDayOfWeek === 0 ? 1 : 0);
    const weekStartDate = new Date(
      firstDayOfYear.setDate(firstDayOfYear.getDate() + daysToAdd)
    );
    if (weekStartDate.getDate() > 24) {
      weekStartDate.setDate(weekStartDate.getDate() + 7);
    }
    const monthNumber = weekStartDate.getMonth();
    return monthNumber + 1;
  }
  getMonthName(monthNumber) {
    const date = new Date(2e3, monthNumber - 1);
    return date.toLocaleString("default", { month: "long" });
  }
  energy(dv) {
    const current = dv.current();
    if (current.energy === void 0) {
      current.energy = 0;
    }
    let comp = void 0;
    switch (current.op) {
      case ">":
        comp = (a, b) => a > b;
        break;
      case ">=":
        comp = (a, b) => a >= b;
        break;
      case "<":
        comp = (a, b) => a < b;
        break;
      case "<=":
        comp = (a, b) => a <= b;
        break;
      default:
        comp = (a, b) => a === b;
        break;
    }
    const rs = [];
    const pages = dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (fm.getProject() === "daily") {
        return false;
      }
      if (fm.fm.status !== "todo") {
        return false;
      }
      return comp(fm.energy, current.energy);
    });
    rs.push([
      "array",
      (dv2, data) => {
        for (const entry of data) {
          console.log(entry);
          dv2.paragraph(
            Renderer.makeLinkAlias(dv2, entry.file, "## Task")
          );
        }
      },
      pages
    ]);
    return rs;
  }
  mandala(dv) {
    let mandalaLo = -1;
    let mandalaHi = -1;
    const now = new Date();
    {
      const weekNumber = this.getWeekNumber4(now);
      mandalaLo = weekNumber - 6;
      mandalaHi = weekNumber - 5;
      if (mandalaLo < 0 || mandalaHi < 0) {
        dv.paragraph(`weekNumber: ${weekNumber}`);
        dv.paragraph(`mandalaLo: ${mandalaLo}`);
        dv.paragraph(`mandalaHi: ${mandalaHi}`);
        return;
      }
      dv.paragraph(`weekNumber: ${weekNumber}`);
      dv.paragraph(`mandalaLo: ${mandalaLo}`);
      dv.paragraph(`mandalaHi: ${mandalaHi}`);
    }
    const rs = [];
    const bins = {};
    const suiviWeekly = {};
    const suiviMonthly = {};
    const suiviYearly = {};
    const pages = this.dv.pages(`"Journal"`).where((page) => {
      const fm = new FrontmatterJS(page);
      const weekNumber = this.getWeekNumber4(fm.createdAt);
      console.log(weekNumber);
      if (weekNumber >= mandalaLo && weekNumber <= mandalaHi && fm.createdAt.getFullYear() === now.getFullYear()) {
        return true;
      }
      return false;
    }).sort((page) => page.file.frontmatter.created_at, "desc");
    console.log(pages.length);
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      const weekNumber = this.getWeekNumber4(fm.createdAt);
      const year = fm.createdAt.getFullYear();
      const month = fm.createdAt.getMonth() + 1;
      let msg = "";
      msg += `createdAt: ${fm.createdAt.toISOString().slice(0, 10)}
`;
      msg += `weekNumber: ${weekNumber}
`;
      msg += `year: ${year}
`;
      msg += `month: ${month}
`;
      msg += `day: ${fm.createdAt.getDay()}
`;
      const day = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"][fm.createdAt.getDay()];
      msg += `day: ${day}
`;
      console.log(msg);
      if (bins[year] === void 0) {
        bins[year] = {};
      }
      if (bins[year][weekNumber.toString()] === void 0) {
        bins[year][weekNumber.toString()] = {};
      }
      if (suiviMonthly[year] === void 0) {
        suiviMonthly[year] = {};
      }
      if (suiviWeekly[year] === void 0) {
        suiviWeekly[year] = {};
      }
      let tag = "";
      if (fm.getDomain() !== void 0) {
        tag = fm.getDomain();
      } else if (fm.getProject() !== void 0) {
        tag = fm.getProject();
      } else {
        tag = "adhoc";
      }
      if (tag == "weekly") {
        if (suiviWeekly[year][weekNumber] === void 0) {
          suiviWeekly[year][weekNumber] = [page];
        } else {
          suiviWeekly[year][weekNumber].push(page);
        }
        continue;
      } else if (tag === "monthly") {
        if (suiviMonthly[year][month] === void 0) {
          suiviMonthly[year][month] = [page];
        } else {
          suiviMonthly[year][month].push(page);
        }
        continue;
      } else if (tag === "yearly") {
        if (suiviYearly[year] === void 0) {
          suiviYearly[year] = [page];
        } else {
          suiviYearly[year].push(page);
        }
        continue;
      }
      if (bins[year][weekNumber][tag] === void 0) {
        bins[year][weekNumber][tag] = [page];
      } else {
        bins[year][weekNumber][tag].push(page);
      }
    }
    {
      const years = Object.keys(bins);
      let lastYear = 9999;
      let lastMonth = 13;
      years.sort().reverse();
      for (const year of years) {
        rs.push(["header", 2, year]);
        if (parseInt(year, 10) < lastYear) {
          lastMonth = 13;
          lastYear = parseInt(year, 10);
          if (suiviYearly[year] !== void 0) {
            for (const page of suiviYearly[year]) {
              const fm = new FrontmatterJS(page);
              rs.push([
                "paragraph",
                Renderer.makeLinkAlias(this.dv, fm.f)
              ]);
            }
          }
        }
        for (let week = 52; week > 0; week--) {
          const thisMonth = this.getMonth(year, week);
          if (suiviMonthly[year][thisMonth] !== void 0) {
            if (lastMonth !== thisMonth) {
              lastMonth = thisMonth;
              rs.push([
                "header",
                3,
                this.getMonthName(lastMonth)
              ]);
              if (suiviMonthly[year][thisMonth] !== void 0) {
                for (const page of suiviMonthly[year][thisMonth]) {
                  const fm = new FrontmatterJS(page);
                  rs.push([
                    "paragraph",
                    Renderer.makeLinkAlias(this.dv, fm.f)
                  ]);
                }
              }
            }
          }
          if (suiviWeekly[year][week] === void 0 && bins[year][week] === void 0) {
            continue;
          }
          rs.push(["header", 4, `week ${week.toString()}`]);
          if (suiviWeekly[year][week] !== void 0) {
            for (const page of suiviWeekly[year][week]) {
              const fm = new FrontmatterJS(page);
              rs.push([
                "paragraph",
                Renderer.makeLinkAlias(this.dv, fm.f)
              ]);
            }
          }
          if (bins[year][week] === void 0) {
            continue;
          }
          const tags = Object.keys(bins[year][week]);
          tags.sort();
          for (const tag of tags) {
            rs.push(["header", 5, tag]);
            bins[year][week][tag].sort((a, b) => {
              const fmA = new FrontmatterJS(a);
              const fmB = new FrontmatterJS(b);
              return fmB.createdAt.getTime() - fmA.createdAt.getTime();
            });
            for (const page of bins[year][week][tag]) {
              const fm = new FrontmatterJS(page);
              if (fm.type === 6) {
              } else {
                const d = fm.createdAt.toISOString().slice(0, 10);
                const day = [
                  "Sun",
                  "Mon",
                  "Tue",
                  "Wed",
                  "Thu",
                  "Fri",
                  "Sat"
                ][fm.createdAt.getDay()];
                const text = `${d}, ${day}`;
                rs.push([
                  "paragraph",
                  Renderer.makeLink(this.dv, fm.f, text)
                ]);
              }
            }
          }
        }
      }
    }
    return rs;
  }
  journal() {
    const rs = [];
    const bins = {};
    const suiviWeekly = {};
    const suiviMonthly = {};
    const suiviYearly = {};
    const pages = this.dv.pages(`"Journal"`).sort((page) => page.file.frontmatter.created_at, "desc");
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      const weekNumber = this.getWeekNumber4(fm.createdAt);
      const year = fm.createdAt.getFullYear();
      const month = fm.createdAt.getMonth() + 1;
      let msg = "";
      msg += `createdAt: ${fm.createdAt.toISOString().slice(0, 10)}
`;
      msg += `weekNumber: ${weekNumber}
`;
      msg += `year: ${year}
`;
      msg += `month: ${month}
`;
      msg += `day: ${fm.createdAt.getDay()}
`;
      const day = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"][fm.createdAt.getDay()];
      msg += `day: ${day}
`;
      if (bins[year] === void 0) {
        bins[year] = {};
      }
      if (bins[year][weekNumber.toString()] === void 0) {
        bins[year][weekNumber.toString()] = {};
      }
      if (suiviMonthly[year] === void 0) {
        suiviMonthly[year] = {};
      }
      if (suiviWeekly[year] === void 0) {
        suiviWeekly[year] = {};
      }
      let tag = "";
      if (fm.getDomain() !== void 0) {
        tag = fm.getDomain();
      } else if (fm.getProject() !== void 0) {
        tag = fm.getProject();
      } else {
        tag = "adhoc";
      }
      if (tag == "weekly") {
        if (suiviWeekly[year][weekNumber] === void 0) {
          suiviWeekly[year][weekNumber] = [page];
        } else {
          suiviWeekly[year][weekNumber].push(page);
        }
        continue;
      } else if (tag === "monthly") {
        if (suiviMonthly[year][month] === void 0) {
          suiviMonthly[year][month] = [page];
        } else {
          suiviMonthly[year][month].push(page);
        }
        continue;
      } else if (tag === "yearly") {
        if (suiviYearly[year] === void 0) {
          suiviYearly[year] = [page];
        } else {
          suiviYearly[year].push(page);
        }
        continue;
      }
      if (bins[year][weekNumber][tag] === void 0) {
        bins[year][weekNumber][tag] = [page];
      } else {
        bins[year][weekNumber][tag].push(page);
      }
    }
    {
      const years = Object.keys(bins);
      let lastYear = 9999;
      let lastMonth = 13;
      years.sort().reverse();
      for (const year of years) {
        rs.push(["header", 2, year]);
        if (parseInt(year, 10) < lastYear) {
          lastMonth = 13;
          lastYear = parseInt(year, 10);
          if (suiviYearly[year] !== void 0) {
            for (const page of suiviYearly[year]) {
              const fm = new FrontmatterJS(page);
              rs.push([
                "paragraph",
                Renderer.makeLinkAlias(this.dv, fm.f)
              ]);
            }
          }
        }
        for (let week = 52; week > 0; week--) {
          const thisMonth = this.getMonth(year, week);
          if (suiviMonthly[year][thisMonth] !== void 0) {
            if (lastMonth !== thisMonth) {
              lastMonth = thisMonth;
              rs.push([
                "header",
                3,
                this.getMonthName(lastMonth)
              ]);
              if (suiviMonthly[year][thisMonth] !== void 0) {
                for (const page of suiviMonthly[year][thisMonth]) {
                  const fm = new FrontmatterJS(page);
                  rs.push([
                    "paragraph",
                    Renderer.makeLinkAlias(this.dv, fm.f)
                  ]);
                }
              }
            }
          }
          if (suiviWeekly[year][week] === void 0 && bins[year][week] === void 0) {
            continue;
          }
          rs.push(["header", 4, `week ${week.toString()}`]);
          if (suiviWeekly[year][week] !== void 0) {
            for (const page of suiviWeekly[year][week]) {
              const fm = new FrontmatterJS(page);
              rs.push([
                "paragraph",
                Renderer.makeLinkAlias(this.dv, fm.f)
              ]);
            }
          }
          if (bins[year][week] === void 0) {
            continue;
          }
          const tags = Object.keys(bins[year][week]);
          tags.sort();
          for (const tag of tags) {
            rs.push(["header", 5, tag]);
            bins[year][week][tag].sort((a, b) => {
              const fmA = new FrontmatterJS(a);
              const fmB = new FrontmatterJS(b);
              return fmB.createdAt.getTime() - fmA.createdAt.getTime();
            });
            for (const page of bins[year][week][tag]) {
              const fm = new FrontmatterJS(page);
              if (fm.type === 6) {
              } else {
                const d = fm.createdAt.toISOString().slice(0, 10);
                const day = [
                  "Sun",
                  "Mon",
                  "Tue",
                  "Wed",
                  "Thu",
                  "Fri",
                  "Sat"
                ][fm.createdAt.getDay()];
                const text = `${d}, ${day}`;
                rs.push([
                  "paragraph",
                  Renderer.makeLink(this.dv, fm.f, text)
                ]);
              }
            }
          }
        }
      }
    }
    return rs;
  }
  calendar() {
    const rs = [];
    const bins = {};
    const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (fm.fm.at === void 0 && fm.fm.before === void 0 && fm.fm.after === void 0) {
        return false;
      }
      if (fm.fm.status !== "todo") {
        return false;
      }
      if (fm.getProject() === "daily") {
        return false;
      }
      return true;
    });
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      let year = 0;
      let month = 0;
      let day = 0;
      if (fm.fm.before !== void 0) {
        year = fm.before.getFullYear();
        month = fm.before.getMonth();
        day = fm.before.getUTCDate();
      } else if (fm.fm.at !== void 0) {
        year = fm.at.getFullYear();
        month = fm.at.getMonth();
        day = fm.at.getUTCDate();
      } else if (fm.after !== void 0) {
        year = fm.after.getFullYear();
        month = fm.after.getMonth();
        day = fm.after.getUTCDate();
      } else {
        throw new Error();
      }
      if (bins[year] === void 0) {
        bins[year] = {};
      }
      if (bins[year][month] === void 0) {
        bins[year][month] = {};
      }
      if (bins[year][month][day] === void 0) {
        bins[year][month][day] = {};
      }
      if (bins[year][month][day]["at"] === void 0) {
        bins[year][month][day]["at"] = [];
      }
      if (bins[year][month][day]["before"] === void 0) {
        bins[year][month][day]["before"] = [];
      }
      if (bins[year][month][day]["after"] === void 0) {
        bins[year][month][day]["after"] = [];
      }
      if (fm.fm.before !== void 0) {
        bins[year][month][day]["before"].push(page);
      } else if (fm.fm.at !== void 0) {
        bins[year][month][day]["at"].push(page);
      } else {
        bins[year][month][day]["after"].push(page);
      }
    }
    {
      const years = Object.keys(bins);
      years.sort((a, b) => parseInt(a) - parseInt(b));
      for (const year of years) {
        rs.push(["header", 2, year]);
        const months = Object.keys(bins[year]);
        months.sort((a, b) => parseInt(a) - parseInt(b));
        for (const month of months) {
          rs.push([
            "header",
            3,
            `${["January", "Febuary", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"][month]}`
          ]);
          const days = Object.keys(bins[year][month]);
          days.sort((a, b) => parseInt(a) - parseInt(b));
          for (const day of days) {
            const weeks = [
              "Sun",
              "Mon",
              "Tue",
              "Wed",
              "Thu",
              "Fri",
              "Sat"
            ];
            const before = bins[year][month][day]["before"];
            const at = bins[year][month][day]["at"];
            const after = bins[year][month][day]["after"];
            console.log(
              `year: ${year}
month: ${month}
day: ${day}`
            );
            if (before.length > 0) {
              for (const page of before) {
                console.log("--- before ---");
                console.log(page);
                console.log("------");
                const fm = new FrontmatterJS(page);
                const text = `before: ${weeks[fm.before.getDay()]} ${day} ${fm.at.toISOString().slice(11, 16)} | ${fm.getProject()}`;
                rs.push([
                  "paragraph",
                  Renderer.makeLink(
                    this.dv,
                    fm.f,
                    text,
                    "Task"
                  )
                ]);
              }
            }
            if (at.length > 0) {
              at.sort((a, b) => {
                const fmA = new FrontmatterJS(a);
                const fmB = new FrontmatterJS(b);
                return fmB.at.getTime() - fmA.at.getTime();
              });
              for (const page of at) {
                console.log("--- at ---");
                console.log(page);
                console.log("------");
                const fm = new FrontmatterJS(page);
                const text = `at: ${weeks[fm.at.getDay()]} ${day} ${fm.at.toISOString().slice(11, 16)} | ${fm.getProject()}`;
                rs.push([
                  "paragraph",
                  Renderer.makeLink(
                    this.dv,
                    fm.f,
                    text,
                    "Task"
                  )
                ]);
              }
            }
            if (after.length > 0) {
              for (const page of after) {
                console.log("--- after ---");
                console.log(page);
                console.log("------");
                const fm = new FrontmatterJS(page);
                const text = ` after: ${weeks[fm.after.getDay()]} ${day} ${fm.at.toISOString().slice(11, 16)} | ${fm.getProject()}`;
                rs.push([
                  "paragraph",
                  Renderer.makeLink(
                    this.dv,
                    fm.f,
                    text,
                    "Task"
                  )
                ]);
              }
            }
          }
        }
      }
    }
    return rs;
  }
  globalTaskList(pages) {
    const rs = [];
    const bins = {};
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      if (fm.getProject() === void 0) {
        fm.projects = ["adhoc"];
      }
      if (bins[fm.getProject()] === void 0) {
        bins[fm.getProject()] = [page];
      } else {
        bins[fm.getProject()].push(page);
      }
    }
    const projects = Object.keys(bins);
    projects.sort();
    for (const project of projects) {
      const tasks = bins[project];
      tasks.sort(Helper.sortByPriorityAndDurationAndAge);
      rs.push(["header", 2, `${project}`]);
      rs.push(["array", Renderer.basicTaskJournal, tasks]);
    }
    return rs;
  }
  nextActions(dv) {
    const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (["daily", "weekly", "monthly", "yearly"].contains(
        fm.getProject()
      )) {
        return false;
      }
      if (!this.projectIsActive(fm.getProject())) {
        return false;
      }
      if (!this.noteHelper.isDoable(page)) {
        return false;
      }
      if (fm.fm.priority === 0) {
        return false;
      }
      return true;
    });
    return this.globalTaskList(pages);
  }
  waitingFor(dv) {
    const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (["daily", "weekly", "monthly", "yearly"].contains(
        fm.getProject()
      )) {
        return false;
      }
      if (!["todo", "waiting"].contains(fm.fm.status)) {
        return false;
      }
      if (!this.projectIsActive(fm.getProject())) {
        return false;
      }
      if (this.noteHelper.isDoable(page) || fm.fm.priority === 0) {
        return false;
      }
      return true;
    });
    return this.globalTaskList(pages);
  }
  projectIsActive(name) {
    const project = this.dv.pages(`"Projects"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (fm.getName() !== name) {
        return false;
      }
      if (fm.fm.active === false) {
        return false;
      }
      return true;
    });
    return project.length > 0;
  }
  somedayMaybe(dv) {
    const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (["daily", "weekly", "monthly", "yearly"].contains(
        fm.getProject()
      )) {
        return false;
      }
      if (!this.projectIsActive(fm.getProject())) {
        return false;
      }
      if (!this.noteHelper.isDoable(page) || fm.fm.priority > 0) {
        return false;
      }
      return true;
    });
    return this.globalTaskList(pages);
  }
};
var DvLib = class {
  constructor() {
    this.taskDir = "813 Tasks";
    this.inboxDir = "800 Inbox";
    this.refDir = "802 Refs";
    this.logDir = "600 Log";
    this.Task = {
      BASE: 3,
      DAILY: 4
    };
    this.Type = {
      TASK: 3,
      DAILY: 4,
      LOG: 6
    };
    this.Status = {
      TODO: "todo",
      DONE: "done",
      DOING: "doing",
      TRASH: "trash",
      MAYBE: "maybe",
      STANDBY: "standby"
    };
    this.Namespace = {
      AREA: "area",
      CONTEXT: "context",
      LAYER: "layer",
      ORG: "org",
      PROJECT: "project"
    };
    this.Default = {
      AREA: "none",
      CONTEXT: "any",
      LAYER: "none",
      ORG: "none",
      PROJECT: "none"
    };
    this._dv = "";
  }
  set dv(mod) {
    this._dv = mod;
  }
  get dv() {
    return this._dv;
  }
  isChildTag(parent, child) {
    if (child.length <= parent.length + 1) {
      return false;
    } else if (child.slice(0, parent.length + 1) != `${parent}/`) {
      return false;
    }
    return true;
  }
  stripTag(tag) {
    let t = "";
    if (tag.slice(-1) === "/") {
      t = tag.slice(0, -1);
    } else {
      t = tag;
    }
    if (t.slice(0, 1) === "#") {
      t = t.slice(1, t.length);
    }
    return t;
  }
  getTaskFromUUID(dv, uuid) {
    const n = dv.pages(`"${this.taskDir}/${uuid}"`);
    if (n.length === 0) {
      console.warn(`"${this.taskDir}/${uuid}" task does not exists`);
      return void 0;
    }
    return n[0];
  }
  hasValidFormat(task) {
    const fm = task.file.frontmatter;
    if (fm === void 0) {
      console.warn(
        `"${this.taskDir}/${task.uuid}" task does not have a frontmatter`
      );
      return false;
    }
    if (fm.type === void 0) {
      console.warn(
        `"${this.taskDir}/${task.uuid}" task does not have a \`type\` field`
      );
      return false;
    }
    if (fm.status === void 0) {
      console.warn(
        `"${this.taskDir}/${task.uuid}" task does not have a \`status\` field`
      );
      return false;
    }
    return true;
  }
  hasPendingDependencies(dv, deps) {
    for (const dep of deps) {
      const task = this.getTaskFromUUID(dv, dep);
      if (task === void 0) {
        continue;
      }
      if (!this.hasValidFormat(task)) {
        continue;
      }
      const fm = task.file.frontmatter;
      if (fm.type !== this.Task.BASE && fm.type !== this.Task.DAILY) {
        continue;
      }
      if (fm.status === this.Status.TODO) {
        return true;
      }
    }
    return false;
  }
  isDoable(dv, task) {
    const fm = task.file.frontmatter;
    if (fm.status !== this.Status.TODO) {
      return false;
    }
    if (fm.after !== void 0) {
      const after = new Date(fm.after);
      if (Date.now() <= after.getTime()) {
        return false;
      }
    }
    const deps = fm.needs;
    if (deps === void 0 || deps.length === 0) {
      return true;
    }
    if (this.hasPendingDependencies(dv, deps)) {
      return false;
    }
    return true;
  }
  getNamespaceContent(dv, ns) {
    const children = [];
    const resp = dv.pages(`#${ns}`);
    for (const f of resp) {
      const tags = f.tags;
      if (tags === void 0) {
        continue;
      }
      for (const tag of tags) {
        if (this.isChildTag(ns, tag)) {
          const t = tag.slice(ns.length + 1);
          if (!children.includes(t)) {
            children.push(t);
          }
        }
      }
    }
    return children;
  }
  isDone(dv, dep) {
    const task = this.getTaskFromUUID(dv, dep);
    if (task === void 0) {
      return false;
    }
    if (!this.hasValidFormat(task)) {
      return false;
    }
    const fm = task.file.frontmatter;
    if (fm.status === this.Status.DONE) {
      return true;
    }
    return false;
  }
  getTasks(dv, tag, taskType = [this.Task.BASE, this.Task.DAILY], status = this.Status.TODO) {
    const buff = [];
    const tasks = dv.pages(tag);
    for (const task of tasks) {
      const fm = task.file.frontmatter;
      if (fm === void 0) {
        continue;
      }
      if (fm.status === void 0 || fm.status !== status) {
        continue;
      }
      if (fm.type === void 0 || !taskType.contains(fm.type)) {
        continue;
      }
      buff.push(task);
    }
    return buff;
  }
  formatTask(dv, task) {
    return dv.fileLink(task.file.path);
  }
  formatTaskBis(dv, task) {
    const f = task.file;
    let ctx = "";
    for (const tag of f.tags) {
      if (tag.slice(0, 9) == "#context/") {
        ctx = tag.slice(9);
      }
    }
    return [
      dv.fileLink(f.path),
      dv.markdownTaskList(f.tasks),
      f.frontmatter.time_estimate,
      ctx
    ];
  }
  formatTaskBase(dv, task) {
    const f = task.file;
    const fm = f.frontmatter;
    const tags = fm.tags;
    const area = this.getArea(tags);
    return [
      dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
      dv.markdownTaskList(f.tasks),
      fm.time_estimate,
      area
    ];
  }
  formatTaskWaiting(dv, task) {
    const f = task.file;
    const fm = f.frontmatter;
    const deps = [];
    if (fm.needs !== void 0) {
      for (const dep of fm.needs) {
        deps.push(dv.fileLink(`${this.taskDir}/${dep}`));
      }
    }
  }
  formatTaskMaybe(dv, task) {
    const f = task.file;
    const fm = f.frontmatter;
    const deps = [];
    return [dv.fileLink(f.path)];
  }
  makeAsyncRequest(dv, uuid) {
    return dv.query(`LIST WHERE needs AND contains(needs, "${uuid}")`).then((value) => {
      return value;
    });
  }
  getDependantTasks(dv, task) {
    const buff = [];
    const uuid = task.file.name;
    if (task.file.frontmatter === void 0) {
      return buff;
    }
    const tasks = dv.pages(`"${this.taskDir}"`).where((p) => p.needs !== void 0 && p.needs.contains(uuid));
    for (const tk of tasks) {
      const t = dv.pages(`"${tk.file.path}"`);
      buff.push(t[0]);
    }
    return buff;
  }
  byDependencyAndPriorityAndCreatedAt(dv, a, b) {
    const ftA = a.file.frontmatter;
    const ftB = b.file.frontmatter;
    const prioA = ftA.priority;
    const prioB = ftB.priority;
    const depsA = this.getDependantTasks(dv, a);
    const depsB = this.getDependantTasks(dv, b);
    if (depsA.length - depsB.length !== 0) {
      return depsA.length - depsB.length;
    }
    if (prioA - prioB !== 0) {
      return prioA - prioB;
    }
    const dateA = new Date(ftA.created_at);
    const dateB = new Date(ftB.created_at);
    return (dateA.getTime() - dateB.getTime()) * -1;
  }
  formatTaskPlanningWaiting(dv, task) {
    const f = task.file;
    return [
      // ajouter alias sur le link
      dv.markdownTaskList(f.tasks),
      dv.fileLink(f.path, false, f.name.slice(0, 8)),
      f.frontmatter.time_estimate,
      f.frontmatter.cause
    ];
  }
  renderBaseAsArray(dv, tasks) {
    const arr = [];
    tasks.forEach((task) => {
      arr.push(this.formatTaskBase(dv, task));
    });
    dv.table(["uuid", "tasks", "estimate", "area"], arr);
  }
  renderPlanningWaiting(dv, tasks) {
    const arr = [];
    tasks.forEach((task) => {
      arr.push(this.formatTaskPlanningWaiting(dv, task));
    });
    dv.table(["tasks", "uuid", "estimate", "cause"], arr);
  }
  renderMaybeAsArray(dv, tasks) {
    const arr = [];
    tasks.forEach(({ ref, task }) => {
      if (task !== void 0) {
        arr.push(this.formatTaskMaybe(dv, task));
      }
    });
    dv.table(["uuid"], arr);
  }
  formatTaskDaily(dv, task) {
    const f = task.file;
    const fm = task.file.frontmatter;
    const tags = task.file.tags;
    const areas = [];
    for (const tag of tags) {
      if (tag.slice(0, 6) == "#area/") {
        areas.push(tag.slice(6));
      }
    }
    const links = [];
    for (const link of f.outlinks) {
      links.push(link);
    }
    const tasks = [];
    for (const t of f.tasks) {
      tasks.push(t);
    }
    return [
      dv.fileLink(f.path),
      links.length > 0 ? dv.markdownList(links) : dv.markdownTaskList(tasks),
      fm.time_allocated,
      areas.length > 0 ? dv.markdownList(areas) : ""
    ];
  }
  formatFleeting(dv, task) {
    const f = task.file;
    const fm = task.file.frontmatter;
    const tags = task.file.tags;
    const hours = 3600;
    const days = 86400;
    let dt = new Date();
    if (fm !== void 0 && fm.created_at !== void 0) {
      dt = new Date(fm.created_at);
    } else {
      dt = new Date(f.ctime.ts);
    }
    const now = new Date();
    const delta = (now.getTime() - dt.getTime()) / 1e3;
    let since = "";
    const toDt = (t) => {
      return String(Math.round(t * 10) / 10).padStart(2, "0");
    };
    if (delta >= days) {
      since = toDt(delta / days) + "d";
    } else {
      since = toDt(delta / hours) + "h";
    }
    if (fm.alias === void 0 || fm.alias === "") {
      return [dv.fileLink(`${f.path}`), since, f.size];
    } else {
      return [dv.fileLink(`${f.path}`, false, fm.alias), since, f.size];
    }
  }
  renderDailyAsArray(dv, tasks) {
    const arr = [];
    tasks.forEach((task) => {
      arr.push(this.formatTaskDaily(dv, task));
    });
    dv.table(["uuid", "content", "duration", "area"], arr);
  }
  renderFleetingAsArray(dv, tasks) {
    const arr = [];
    tasks.forEach((task) => {
      arr.push(this.formatFleeting(dv, task));
    });
    dv.table(["content", "age", "size"], arr);
  }
  autoFieldNeed(dv, fm) {
    if (fm.needs === void 0) {
      return;
    }
    const buff = [];
    for (const dep of fm.needs) {
      if (!this.isDone(dv, dep)) {
        buff.push(dv.fileLink(`${this.taskDir}/${dep}`));
      }
    }
    if (buff.length > 0) {
      dv.header(2, "Needs");
      dv.list(buff);
    }
  }
  autoFieldNeededBy(dv, current) {
    const tasks = this.getDependantTasks(dv, current);
    if (tasks.length === 0) {
      return;
    }
    const buff = [];
    for (const task of tasks) {
      if (!this.isDone(dv, task.uuid)) {
        buff.push(dv.fileLink(task.file.path));
      }
    }
    if (buff.length > 0) {
      dv.header(2, "NeededBy");
      dv.list(buff);
    }
  }
  autoFieldTags(dv, fm) {
    const tags = fm.tags;
    if (tags == void 0 || tags.length === 0) {
      return;
    }
    tags.sort();
    dv.header(2, "Tags");
    let s = "";
    for (const tag of tags) {
      s += ` #${tag}`;
    }
    dv.paragraph(s);
  }
  autoFieldTaskBase(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    if (fm === void 0) {
      console.warn("fm is required");
      return;
    }
    const projectName = Helper.getProject(fm);
    if (projectName !== void 0) {
      const projects = dv.pages(`"Projects"`).where((fmP) => {
        if (fmP.name === projectName.slice(8)) {
          return true;
        }
        return false;
      });
      if (projects.length) {
        dv.header(2, "Project");
        dv.paragraph(Renderer.makeLinkName(dv, projects[0].file));
      }
    }
    this.autoFieldNeed(dv, fm);
    this.autoFieldNeededBy(dv, current);
    const logEntries = dv.pages(`"${this.logDir}/${fm.uuid}"`).where((p) => p.type === 6).sort((k) => k.created_at, "desc");
    const buff = [];
    let totalTime = 0;
    for (const entry of logEntries) {
      const fme = entry.file.frontmatter;
      const e = [];
      let start = 0;
      let stop = 0;
      if (fme === void 0 || fme.created_at === void 0) {
        throw new Error(`Invalid frontmatter: ${fme.uuid}`);
      }
      start = new Date(fme.created_at);
      e.push(start.toISOString().slice(0, 10));
      if (fme.done_at === void 0) {
        stop = Date.now();
      } else {
        stop = new Date(fme.done_at);
      }
      totalTime += stop - start;
      e.push(
        dv.sectionLink(
          fme.uuid,
          "## Content",
          false,
          fme.uuid.slice(0, 8)
        )
      );
      e.push(Math.round((stop - start) / (1e3 * 60 * 60) * 10) / 10);
      if (fme.reviewed === void 0 || fme.reviewed === 0) {
        e.push(0);
      } else {
        e.push(fme.reviewed);
      }
      buff.push(e);
    }
    if (buff.length > 0) {
      dv.header(2, "Logs");
      dv.table(["created_at", "uuid", "session", "reviewed"], buff);
      if (totalTime > 0) {
        dv.paragraph(
          `_totalTime (h):_ ${Math.round(totalTime / (1e3 * 60 * 60) * 10) / 10}`
        );
      }
    }
  }
  autoFieldLog(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    if (fm === void 0) {
      return;
    }
    dv.header(2, "Parent");
    dv.paragraph(dv.fileLink(`${this.taskDir}/${fm.parent_id}`));
  }
  autoFieldAuthors(dv, fm) {
    const authors = fm.authors;
    if (authors === void 0 || authors.length === 0) {
      return;
    }
    dv.header(2, "Authors");
    dv.list(authors);
  }
  autoFieldTitle(dv, fm) {
    const title = fm.alias;
    if (title == void 0) {
      return;
    }
    dv.header(1, title);
  }
  autoFieldLiteratureNote(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    if (fm === void 0) {
      return;
    }
    this.autoFieldTitle(dv, fm);
    this.autoFieldAuthors(dv, fm);
    this.autoFieldTags(dv, fm);
  }
  autoFieldPermanent(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    if (fm === void 0) {
      return;
    }
    this.autoFieldTags(dv, fm);
  }
  autoFieldTask(dv) {
    return this.autoFieldTaskBase(dv);
  }
  autoFieldLiterature(dv) {
    return this.autoFieldLiteratureNote(dv);
  }
  autoFieldFleeting(dv) {
    return;
  }
  autoFieldSupply(dv) {
    return;
  }
  findTasksByProject(dv, name) {
    const buff = [];
    if (name !== "" && name !== "none") {
      const tasks = this.getTasks(dv, `${this.Namespace.PROJECT}/none`, [
        this.Task.BASE
      ]);
      for (const task of tasks) {
        const fm = task.file.frontmatter;
        if (this.isDoable(dv, task)) {
          buff.push(task);
        }
      }
    } else {
      const tasks = this.getTasks(dv, "", [this.Task.BASE]);
      for (const task of tasks) {
        const fm = task.file.frontmatter;
        const tags = fm.tags;
        if (fm.tags === void 0 && (name === "" || name === "none") || fm.tags.contains(`${this.Namespace.PROJECT}/none`)) {
          if (this.isDoable(dv, task)) {
            buff.push(task);
          }
        }
      }
    }
    buff.sort();
    return buff;
  }
  getTag(tags, type) {
    let name = "";
    let defaultValue = "";
    if (type === "area") {
      name = this.Namespace.AREA;
      defaultValue = this.Default.AREA;
    } else if (type === "context") {
      name = this.Namespace.CONTEXT;
      defaultValue = this.Default.CONTEXT;
    } else if (type === "layer") {
      name = this.Namespace.LAYER;
      defaultValue = this.Default.LAYER;
    } else if (type === "org") {
      name = this.Namespace.ORG;
      defaultValue = this.Default.ORG;
    } else if (type === "project") {
      name = this.Namespace.PROJECT;
      defaultValue = this.Default.PROJECT;
    } else {
      throw new Error(`getTag got unsuported type: ${type}`);
    }
    const len = name.length + 1;
    const defaultTag = `${name}/${defaultValue}`;
    if (tags === void 0) {
      return defaultTag;
    }
    for (const tag of tags) {
      if (tag.length > len && tag.slice(0, len) == `${name}/`) {
        return tag;
      }
    }
    return defaultTag;
  }
  getArea(tags) {
    return this.getTag(tags, "area");
  }
  getContext(tags) {
    return this.getTag(tags, "context");
  }
  getLayer(tags) {
    return this.getTag(tags, "layer");
  }
  getOrg(tags) {
    return this.getTag(tags, "org");
  }
  getProject(tags) {
    return this.getTag(tags, "project");
  }
  parseListFrontmatter(fm) {
    let minPriority = 0;
    if (fm.min_priority !== void 0) {
      minPriority = fm.min_priority;
    }
    let ignore = [];
    if (fm.ignore !== void 0) {
      ignore = fm.ignore;
    }
    let byAreas = [];
    if (fm.by_areas !== void 0) {
      byAreas = fm.by_areas;
    }
    let byProjects = [];
    if (fm.by_projects !== void 0) {
      byProjects = fm.by_projects;
    }
    return [minPriority, ignore, byAreas, byProjects];
  }
  renderNamespaceContent(dv) {
    const self = dv.current();
    const name = self.file.name.toLowerCase().slice(0, -1);
    dv.header(1, "Index");
    dv.header(2, `${self.file.name}`);
    const tags = this.getNamespaceContent(dv, name);
    tags.sort();
    for (const tag of tags) {
      dv.paragraph(`#${name}/${tag}`);
    }
  }
  renderUnprocessedLogs(dv) {
    const logs = dv.pages(`"${this.logDir}"`).where(
      (p) => p.type === this.Type.LOG && (p.reviewd === void 0 || p.reviewed < 1)
    ).sort((k) => k.created_at, "asc");
    const buff = [];
    const arr = [];
    logs.forEach((entry) => {
      const fm = entry.file.frontmatter;
      if (fm === void 0) {
        return;
      }
      const parentId = fm.parent_id;
      if (parentId === void 0) {
        throw new Error(`Invalid log entry: ${entry.file.path}`);
      }
      const parent = dv.pages(`"${this.taskDir}/${parentId}"`);
      const parentFm = parent.file.frontmatter;
      if (parentFm === void 0) {
        throw new Error(`Invalid task: ${parent.file.path}`);
      }
      let project = this.getProject(parentFm.tags);
      if (project === `${this.Namespace.PROJECT}/${this.Default.PROJECT}`) {
        project = "";
      }
      let area = this.getArea(parentFm.tags);
      if (area === `${this.Namespace.AREA}/${this.Default.AREA}`) {
        area = "";
      }
      const formated = [];
      formated.push(
        dv.sectionLink(
          entry.file.path,
          "Content",
          false,
          `${fm.uuid.slice(0, 8)}`
        )
      );
      const createdAt = new Date(fm.created_at);
      formated.push(createdAt.toISOString().slice(0, 10));
      formated.push(project);
      formated.push(area);
      arr.push(formated);
    });
    dv.table(["uuid", "created_at", "project", "area"], arr);
  }
  assertTaskDoneAt(dv, taskId) {
    const task = dv.pages(`"${this.taskDir}/${taskId}"`);
    if (task.length === 0) {
      throw new Error(`task: ${taskId} doest not exists`);
    }
    const fm = task.file.frontmatter;
    if (fm === void 0) {
      throw new Error(`task: ${taskId} does not have a frontmatter`);
    }
    const logs = dv.pages(`"${this.logDir}/${taskId}"`).sort((k) => k.created_at, "asc");
    if (logs.length < 1) {
      throw new Error(`task: ${taskId} has no Logs`);
    }
    const lastEntry = logs[logs.length - 1];
    if (lastEntry.file.frontmatter.done_at === void 0) {
      throw new Error(
        `task: ${taskId} last entry is missing 'done_at' field`
      );
    }
    const doneAt = new Date(lastEntry.file.frontmatter.done_at);
    return [
      dv.sectionLink(
        task.file.path,
        "Content",
        false,
        `${task.file.frontmatter.uuid.slice(0, 8)}`
      ),
      `${doneAt.toISOString().slice(0, 10)}`
    ];
  }
  getDoneTimeline(dv) {
    const tasks = dv.pages(`"${this.taskDir}"`).where((p) => p.status === "done");
    const buff = [];
    for (const task of tasks) {
      const fm = task.file.frontmatter;
      if (fm === void 0) {
        throw new Error(`task: ${fm.uuid} does not have a frontmatter`);
      }
      const logs = dv.pages(`"${this.logDir}/${fm.uuid}"`).sort((k) => k.created_at, "asc");
      if (logs.length < 1) {
        console.warn(`task: ${fm.uuid} has no Logs`);
      }
      const lastEntry = logs[logs.length - 1];
      if (lastEntry === void 0) {
        continue;
      }
      if (lastEntry.file.frontmatter.done_at === void 0) {
        throw new Error(
          `task: ${fm.uuid} last entry is missing 'done_at' field`
        );
      }
      fm.doneAt = new Date(lastEntry.file.frontmatter.done_at);
      buff.push(task);
    }
    buff.sort((a, b) => {
      const dateA = new Date(a.file.frontmatter.doneAt);
      const dateB = new Date(b.file.frontmatter.doneAt);
      return (dateA.getTime() - dateB.getTime()) * -1;
    });
    const arr = [];
    buff.forEach((e) => {
      arr.push([
        dv.sectionLink(
          e.file.path,
          "Content",
          false,
          `${e.file.frontmatter.uuid.slice(0, 8)}`
        ),
        `${e.file.frontmatter.doneAt.toISOString().slice(0, 16)}`
      ]);
    });
    dv.table(["uuid", "doneAt"], arr);
  }
  durationStringToSec(val) {
    const mult = val.slice(-1);
    let m = 0;
    if (mult === "h") {
      m = 60 * 60;
    } else if (mult === "m") {
      m = 60;
    } else if (mult === "d") {
      m = 24 * 60 * 60;
    } else {
      console.warn(`Unhandled case mult: ${mult}`);
    }
    return m * parseInt(val.slice(0, -1));
  }
  testDvFunc() {
    const dv = app.plugins.plugins.dataview.api;
    const tasks = dv.pages(`"${this.taskDir}"`).where((p) => p.status === "done");
    const buff = [];
    for (const task of tasks) {
      const fm = task.file.frontmatter;
      if (fm === void 0) {
        throw new Error(`task: ${fm.uuid} does not have a frontmatter`);
      }
      const logs = dv.pages(`"${this.logDir}/${fm.uuid}"`).sort((k) => k.created_at, "asc");
      if (logs.length < 1) {
        console.warn(`task: ${fm.uuid} has no Logs`);
      }
      const lastEntry = logs[logs.length - 1];
      if (lastEntry === void 0) {
        continue;
      }
      if (lastEntry.file.frontmatter.done_at === void 0) {
        throw new Error(
          `task: ${fm.uuid} last entry is missing 'done_at' field`
        );
      }
      fm.doneAt = new Date(lastEntry.file.frontmatter.done_at);
      buff.push(task);
    }
    buff.sort((a, b) => {
      const dateA = new Date(a.file.frontmatter.doneAt);
      const dateB = new Date(b.file.frontmatter.doneAt);
      return (dateA.getTime() - dateB.getTime()) * -1;
    });
    const arr = [];
    buff.forEach((e) => {
      arr.push([
        dv.sectionLink(
          e.file.path,
          "Content",
          false,
          `${e.file.frontmatter.uuid.slice(0, 8)}`
        ),
        `${e.file.frontmatter.doneAt.toISOString().slice(0, 16)}`
      ]);
    });
  }
};

// main.ts
var DEFAULT_SETTINGS = {
  mySetting: "default"
};
var MyPlugin = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.vaultContent = [];
    this.vaultContentDict = {};
  }
  openViewInNewTabIfNotOpened(name) {
    const f = app.vault.getAbstractFileByPath(name);
    if (f === void 0 || f === null) {
      console.warn(`file not found ${name}`);
      return;
    }
    const active = this.app.workspace.activeLeaf;
    const root = active.parent;
    let found = false;
    let node = void 0;
    const emptyTabs = [];
    for (const leaf of root.children) {
      const file = this.getFileFromLeaf(leaf);
      if (file === void 0 || file === null) {
        emptyTabs.push(leaf);
        continue;
      }
      if (file.name === f.name) {
        found = true;
        node = leaf;
      }
    }
    if (!found) {
      if (emptyTabs.length > 0) {
        node = emptyTabs[0];
      } else {
        this.app.workspace.createLeafInParent(
          root,
          root.children.length + 1
        );
        node = root.children[root.children.length - 1];
      }
    }
    node.openFile(f, {
      active: true
    });
  }
  openInNewTabIfNotOpened(page) {
    const active = this.app.workspace.activeLeaf;
    const root = active.parent;
    let found = false;
    let node = void 0;
    const emptyTabs = [];
    for (const leaf of root.children) {
      const file = this.getFileCacheFromLeaf(leaf);
      if (file === void 0 || file === null) {
        emptyTabs.push(leaf);
        continue;
      }
      if (file.frontmatter !== void 0 && file.frontmatter.uuid === page.file.frontmatter.uuid) {
        found = true;
        node = leaf;
        break;
      }
    }
    if (!found) {
      if (emptyTabs.length > 0) {
        node = emptyTabs[0];
      } else {
        this.app.workspace.createLeafInParent(
          root,
          root.children.length + 1
        );
        node = root.children[root.children.length - 1];
      }
    }
    node.openFile(this.app.vault.getAbstractFileByPath(page.file.path), {
      active: true
    });
  }
  getFileCacheFromLeaf(leaf) {
    let file = void 0;
    try {
      file = leaf.view.file;
    } catch (e) {
      return void 0;
    }
    if (file === void 0 || file === null) {
      return void 0;
    }
    const abstractPath = app.vault.getAbstractFileByPath(file);
    return app.metadataCache.getFileCache(abstractPath);
  }
  getFileFromLeaf(leaf) {
    let file = void 0;
    try {
      file = leaf.view.file;
    } catch (e) {
      return void 0;
    }
    return this.app.vault.getAbstractFileByPath(file);
  }
  extractUUIDFromLink(link) {
    Assert.True(
      link.length >= 36,
      `extractUUIDFromLink: Invalid parameter type: link: "${link}"`
    );
    Assert.True(
      Helper.isUUID(link.slice(0, 36)),
      `extractUUIDFromLink: Invalid parameter type: link: "${link}"`
    );
    if (link.length === 36) {
      return link;
    } else {
      return link.slice(0, 36);
    }
  }
  grugAlias(_id) {
    const cache = this.getFileCacheFromUUID(_id);
    if (cache === void 0) {
      console.error(`grugAlias: file not found in grug cache ${_id}`);
      return "";
    }
    const [start, end] = this.getContentBoundaries(cache);
    let targetName = void 0;
    const nameHeading = this.getResourceName(cache, start, end);
    const fm = cache.frontmatter;
    if (fm.alias !== void 0) {
      if (Array.isArray(fm.alias) && fm.alias.length > 0) {
        targetName = cache.frontmatter.alias[0];
      } else {
        targetName = cache.frontmatter.alias;
      }
    } else {
      targetName = nameHeading;
    }
    const file = this.getFileFromUUID(_id);
    if (file === void 0) {
      console.error(`grugAlias: Cannot grug this id: ${_id}`);
      return "";
    }
    const path = `${file.path.split("/").slice(0, -1)}/${_id}`;
    return `[[${path}#${nameHeading}|${targetName}]]`;
  }
  getFileFromUUID(_id) {
    return this.vaultContentDict[_id];
  }
  getFileCacheFromUUID(_id) {
    const f = this.vaultContentDict[_id];
    if (f === void 0) {
      return void 0;
    }
    return app.metadataCache.getFileCache(f);
  }
  async onload() {
    var _a, _b;
    console.log("gonext - onload()");
    await this.loadSettings();
    this.metadataCache = this.app.metadataCache;
    this.workspace = this.app.workspace;
    this.dv = this.app.plugins.plugins.dataview.api;
    this.frontmatter = new Frontmatter(this);
    this.listMaker = new ListMaker(this, this.dv, this.frontmatter);
    this.generate = new Generator(this.app);
    this.files = {};
    this.api = {
      getArea: Helper.getArea,
      getContext: Helper.getContext,
      getDomain: Helper.getDomain,
      getLayer: Helper.getLayer,
      getOrg: Helper.getOrg,
      getProject: Helper.getProject,
      durationStringToSec: Helper.durationStringToSec,
      paths: Paths,
      types: Types,
      status: Status,
      namespace: Namespace,
      default: Default,
      frontmatter: this.frontmatter,
      listMaker: this.listMaker,
      renderer: Renderer,
      autoField: AutoField,
      dvLib: new DvLib(),
      FrontmatterJS
    };
    window.gonext = {
      // @ts-ignore
      state: (_b = (_a = window.gonext) == null ? void 0 : _a.state) != null ? _b : {},
      // @ts-ignore
      app: this.app
    };
    (0, import_obsidian.addIcon)(
      "GoNextIcon",
      `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path fill="currentColor" d="M20 12V2h2v10zm4 0V2h2v10zm4 0V2h2v10zm-12 8a3.912 3.912 0 0 1-4-4a3.912 3.912 0 0 1 4-4v-2a6 6 0 1 0 6 6h-2a3.912 3.912 0 0 1-4 4"></path><path fill="currentColor" d="M28.893 18.454L26.098 16l-1.318 1.504l2.792 2.452l-2.36 4.088l-3.427-1.16a9.032 9.032 0 0 1-2.714 1.565L18.36 28h-4.72l-.71-3.55a9.095 9.095 0 0 1-2.695-1.572l-3.447 1.166l-2.36-4.088l2.725-2.395a8.926 8.926 0 0 1-.007-3.128l-2.718-2.39l2.36-4.087l3.427 1.16A9.03 9.03 0 0 1 12.93 7.55L13.64 4H16V2h-2.36a2 2 0 0 0-1.961 1.608l-.504 2.519a10.967 10.967 0 0 0-1.327.753l-2.42-.819a1.998 1.998 0 0 0-2.372.895l-2.36 4.088a2 2 0 0 0 .411 2.502l1.931 1.697C5.021 15.495 5 15.745 5 16c0 .258.01.513.028.766l-1.92 1.688a2 2 0 0 0-.413 2.502l2.36 4.088a1.998 1.998 0 0 0 2.374.895l2.434-.824a10.974 10.974 0 0 0 1.312.759l.503 2.518A2 2 0 0 0 13.64 30h4.72a2 2 0 0 0 1.961-1.608l.504-2.519a10.967 10.967 0 0 0 1.327-.753l2.419.818a1.998 1.998 0 0 0 2.373-.894l2.36-4.088a2 2 0 0 0-.411-2.502"></path></svg>`
    );
    this.addRibbonIcon("GoNextIcon", "[g]o[n]ext", async () => {
      this.generate.fleeting();
    });
    this.addCommand({
      id: "open-index",
      name: "Open Index",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("INDEX.md");
      }
    });
    this.addCommand({
      id: "open-inbox",
      name: "Open Inbox",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("INBOX.md");
      }
    });
    this.addCommand({
      id: "open-projects",
      name: "Open Projects",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened(
          "803 Slipbox/664dc855-eabe-40dc-90b8-006223457953.md"
        );
      }
    });
    this.addCommand({
      id: "open-planning",
      name: "Open Planning",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Planning.md");
      }
    });
    this.addCommand({
      id: "open-journal",
      name: "Open Journal",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened(
          "803 Slipbox/67fb49c2-05d1-48be-98ce-27b269660957.md"
        );
      }
    });
    this.addCommand({
      id: "open-next_actions",
      name: "Open Next Actions",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("NEXT ACTIONS.md");
      }
    });
    this.addCommand({
      id: "open-someday_maybe",
      name: "Open Someday Maybe",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("SOMEDAY MAYBE.md");
      }
    });
    this.addCommand({
      id: "open-waiting_for",
      name: "Open Waiting For",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("WAITING FOR.md");
      }
    });
    this.addCommand({
      id: "open-todays-log",
      name: "Open Today's Logs",
      // @ts-ignore
      callback: () => {
        const now = new Date();
        const nowIso = now.toISOString().slice(0, 10);
        const pages = this.dv.pages(`"${Paths.Slipbox}"`).where((page) => {
          const fm = new FrontmatterJS(page);
          const cache = this.getFileCacheFromUUID(fm.uuid);
          const [start, end] = this.getContentBoundaries(cache);
          if (start === 0 && end === 0) {
            return false;
          }
          const nameHeading = this.getResourceName(
            cache,
            start,
            end
          );
          if (nameHeading === void 0) {
            return false;
          }
          if (nameHeading !== nowIso) {
            return false;
          }
          return true;
        });
        if (pages.length === 0) {
          this.generate.permanent(nowIso);
          return;
        }
        this.openInNewTabIfNotOpened(pages[0]);
      }
    });
    this.addCommand({
      id: "open-yesterdays-logs",
      name: "Open Yesterday's Logs",
      // @ts-ignore
      callback: () => {
        const now = new Date();
        now.setDate(now.getDate() - 1);
        const nowIso = now.toISOString().slice(0, 10);
        const pages = this.dv.pages(`"${Paths.Slipbox}"`).where((page) => {
          const fm = new FrontmatterJS(page);
          const cache = this.getFileCacheFromUUID(fm.uuid);
          const [start, end] = this.getContentBoundaries(cache);
          if (start === 0 && end === 0) {
            return false;
          }
          const nameHeading = this.getResourceName(
            cache,
            start,
            end
          );
          if (nameHeading === void 0) {
            return false;
          }
          if (nameHeading !== nowIso) {
            return false;
          }
          return true;
        });
        if (pages.length === 0) {
          return;
        }
        this.openInNewTabIfNotOpened(pages[0]);
      }
    });
    this.addCommand({
      id: "list-index-content",
      name: "List Index Content",
      // @ts-ignore
      callback: () => {
        const abstractPath = this.app.vault.getAbstractFileByPath("INDEX.md");
        const cache = this.app.metadataCache.getFileCache(abstractPath);
        for (const link of cache.links) {
          console.log(link.displayText);
        }
      }
    });
    this.addCommand({
      id: "open-todays-daily",
      name: "Open Today's Daily",
      // @ts-ignore
      callback: () => {
        const now = new Date();
        const nowIso = now.toISOString().slice(0, 10);
        const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
          if (page.file.frontmatter.at === void 0) {
            return false;
          }
          const fm = new FrontmatterJS(page);
          if (fm.getProject() !== "daily") {
            return false;
          }
          let fmIso = void 0;
          try {
            fmIso = fm.at.toISOString().slice(0, 10);
          } catch (e) {
            console.warn(`possible invalid data in ${fm.uuid}`);
            return false;
          }
          if (fmIso === nowIso) {
            return true;
          }
          return false;
        });
        if (pages.length === 0) {
          return;
        }
        this.openInNewTabIfNotOpened(pages[0]);
      }
    });
    this.addCommand({
      id: "open-tomorrows-daily",
      name: "Open Tomorrow's Daily",
      // @ts-ignore
      callback: () => {
        const now = new Date();
        now.setDate(now.getDate() + 1);
        const nowIso = now.toISOString().slice(0, 10);
        const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
          if (page.file.frontmatter.at === void 0) {
            return false;
          }
          const fm = new FrontmatterJS(page);
          if (fm.getProject() !== "daily") {
            return false;
          }
          let fmIso = void 0;
          try {
            fmIso = fm.at.toISOString().slice(0, 10);
          } catch (e) {
            console.warn(`possible invalid data in ${fm.uuid}`);
            return false;
          }
          if (fmIso === nowIso) {
            return true;
          }
          return false;
        });
        if (pages.length === 0) {
          return;
        }
        this.openInNewTabIfNotOpened(pages[0]);
      }
    });
    this.addCommand({
      id: "open-yesterdays-daily",
      name: "Open Yesterday's Daily",
      // @ts-ignore
      callback: () => {
        const now = new Date();
        now.setDate(now.getDate() - 1);
        const nowIso = now.toISOString().slice(0, 10);
        const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
          if (page.file.frontmatter.at === void 0) {
            return false;
          }
          const fm = new FrontmatterJS(page);
          if (fm.getProject() !== "daily") {
            return false;
          }
          let fmIso = void 0;
          try {
            fmIso = fm.at.toISOString().slice(0, 10);
          } catch (e) {
            console.warn(`possible invalid data in ${fm.uuid}`);
            return false;
          }
          if (fmIso === nowIso) {
            return true;
          }
          return false;
        });
        if (pages.length === 0) {
          return;
        }
        this.openInNewTabIfNotOpened(pages[0]);
      }
    });
    this.addCommand({
      id: "generate-fleeting",
      name: "Generate fleeting note",
      // @ts-ignore
      callback: () => {
        this.generate.fleeting();
      }
    });
    this.addCommand({
      id: "clippy-the-clipper",
      name: "Clippy Clip",
      // @ts-ignore
      callback: () => {
        navigator.clipboard.readText().then((text) => {
          let _id = void 0;
          try {
            _id = this.extractUUIDFromLink(text);
          } catch (e) {
            return;
          }
          const file = this.getFileFromUUID(_id);
          Assert.True(
            file !== void 0,
            `getFileFromUUID: returned undefined for uuid: ${_id}`
          );
          const rootDir = file.path.split("/")[0];
          const authorized = [Paths.Slipbox, Paths.Refs];
          if (rootDir !== void 0 && authorized.contains(rootDir)) {
            const alias = this.grugAlias(_id);
            const activeLeaf = this.app.workspace.activeLeaf;
            if (activeLeaf) {
              const editor = activeLeaf.view.sourceMode.cmEditor;
              const cursor = editor.getCursor();
              editor.replaceRange(alias, cursor);
            }
          } else {
            console.log(
              `Does not work outside slibe-box, got ${file.path}`
            );
            return;
          }
        });
      }
    });
    this.addCommand({
      id: "safe-delete",
      name: "Safe Delete",
      // @ts-ignore
      callback: () => {
        const file = this.app.workspace.getActiveFile();
        if (file === void 0) {
          return;
        }
        const safeFromHarm = [
          "INBOX.md",
          "INDEX.md",
          "Logs.md",
          "NEXT ACTIONS.md",
          "SOMEDAY MAYBE.md",
          "WAITING FOR.md",
          "Planning.md"
        ];
        const fm = this.app.metadataCache.getFileCache(file).frontmatter;
        if (safeFromHarm.contains(file.path)) {
          console.log(
            "Oopsie, almost did an oopsie. Got your back bro"
          );
          return;
        }
        if (fm.tags !== void 0 && fm.tags.length >= 0) {
          for (const tag of fm.tags) {
            if (tag === "project/daily") {
              console.log(
                "Hey George What's up George, You cannot do that George"
              );
              return;
            }
          }
        }
        console.log(`deleted file: ${file.path}`);
        this.app.vault.delete(file);
      }
    });
    this.addCommand({
      id: "append-to-inbox",
      name: "Append to Inbox",
      // @ts-ignore
      callback: () => {
        const f = this.app.vault.getAbstractFileByPath("INBOX.md");
        if (f === void 0 || f === null) {
          console.warn(`file not found INBOX.md`);
          return;
        }
        const active = this.app.workspace.getLeaf();
        const root = active.parent;
        let found = false;
        let node = void 0;
        const emptyTabs = [];
        for (const leaf of root.children) {
          const file = this.getFileFromLeaf(leaf);
          if (file === void 0 || file === null) {
            emptyTabs.push(leaf);
            continue;
          }
          if (file.name === f.name) {
            found = true;
            node = leaf;
          }
        }
        if (!found) {
          if (emptyTabs.length > 0) {
            node = emptyTabs[0];
          } else {
            this.app.workspace.createLeafInParent(
              root,
              root.children.length + 1
            );
            node = root.children[root.children.length - 1];
          }
        }
        const editorAction = (node2) => {
          const editor = node2.view.sourceMode.cmEditor;
          editor.insertText("\n\n---\n\n", editor.lastLine());
          editor.setCursor(editor.lastLine(), 0);
        };
        if (this.app.workspace.getActiveFile() === null || this.app.workspace.getActiveFile().name !== "INBOX.md") {
          node.openFile(f, {
            active: true
          }).then((_) => editorAction(node));
        } else {
          editorAction(node);
        }
      }
    });
    this.app.workspace.onLayoutReady(() => {
      console.log("workspace - layout-ready");
      for (const f of this.app.vault.getFiles()) {
        if (!Helper.isUUID(f.basename)) {
          continue;
        }
        this.vaultContentDict[f.basename] = f;
      }
    });
    this.app.metadataCache.on(
      "changed",
      (file, data, cache) => {
        if (Helper.isUUID(file.basename)) {
          this.vaultContentDict[file.basename] = file;
        }
      }
    );
  }
  sneakyTabRenamer(app2) {
    const root = app2.workspace.activeLeaf.parent;
    for (const leaf of root.children) {
      let path = void 0;
      try {
        path = leaf.view.getSyncViewState().state.file;
      } catch (e) {
        continue;
      }
      const file = app2.vault.getAbstractFileByPath(path);
      const fm = (
        // @ts-ignore
        app2.metadataCache.getFileCache(file).frontmatter
      );
      if (fm === void 0) {
        continue;
      }
      let text = "";
      if (fm.type === 3 && Helper.getProject(fm) !== void 0) {
        if (Helper.getProject(fm) === "project/daily") {
          const at = new Date(fm.at);
          text = `(D) ${dayShort[at.getDay()]}. ${at.getDate()} ${monthShort[at.getMonth()]}`;
        } else {
          text = `(T) ${Helper.getProject(fm).slice(8)}`;
        }
      } else if (fm.type === 2) {
        if (!Helper.nilCheck(fm.alias)) {
          let buff = "";
          for (const alias of fm.alias) {
            if (buff.length === 0) {
              buff = alias;
            } else if (alias.length < buff.length) {
              buff = alias;
            }
          }
          const note = this.getFileCacheFromLeaf(leaf);
          text = `\u{1F4DC} ${buff}`;
          if (note.headings.length > 1) {
            for (const heading of note.headings) {
              if (heading.level === 3 && heading.heading === "index") {
                text = `(I) ${buff}`;
                break;
              }
            }
          }
        } else {
          const note = this.getFileCacheFromLeaf(leaf);
          if (note.headings.length < 1) {
            continue;
          }
          let found = false;
          for (const heading of note.headings) {
            if (heading.level === 3) {
              found = true;
              text = `\u{1F4DC} ${heading.heading}`;
              break;
            }
          }
          if (!found) {
            text = note.frontmatter.uuid;
          }
        }
      } else if (fm.type === 20) {
        const createdAt = new Date(fm.created_at);
        if (fm.alias !== void 0) {
          text = `(J) ${fm.alias}`;
        } else {
          text = `(J) ${dayShort[createdAt.getDay()]}. ${createdAt.getDate()} ${monthShort[createdAt.getMonth()]}`;
        }
      } else if (fm.type === 12) {
        if (fm.name !== void 0 && fm.name !== "") {
          text = `(P) ${fm.name}`;
        }
      } else if (fm.type === 13) {
        text = `(I) ${fm.uuid}`;
      } else {
        continue;
      }
      if (text !== "") {
        leaf.tabHeaderInnerTitleEl.innerText = text;
        leaf.tabHeaderInnerTitleEl.innerHTML = text;
      }
    }
  }
  getContentBoundaries(note) {
    let fm = void 0;
    try {
      fm = note.frontmatter;
    } catch (e) {
      return [0, 0];
    }
    let found = false;
    let start = 0;
    let end = 0;
    for (const heading of note.headings) {
      if (heading.level === 2 && heading.heading.toLowerCase() === "content") {
        found = true;
        start = heading.position.end.offset;
        continue;
      }
      if (found && heading.level === 2 && heading.heading.toLowerCase() !== "content") {
        end = heading.position.start.offset;
      }
    }
    Assert.True(found, `Resource does not declares content: ${fm.uuid}`);
    if (end === 0) {
      end = note.sections[note.sections.length - 1].position.end.offset;
    }
    return [start, end];
  }
  getResourceName(note, start, end) {
    let resourceName = "";
    for (const heading of note.headings) {
      if (heading.level === 3 && heading.position.start.offset > start && heading.position.end.offset < end) {
        resourceName = heading.heading;
        break;
      }
    }
    return resourceName;
  }
  onunload() {
    console.log("gonext - onunload()");
    delete window.gonext;
  }
  async loadSettings() {
    this.settings = Object.assign(
      {},
      DEFAULT_SETTINGS,
      await this.loadData()
    );
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJjb25zdGFudHMudHMiLCAibm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9zdHJpbmdpZnkuanMiLCAibm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9ybmcuanMiLCAibm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9uYXRpdmUuanMiLCAibm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92NC5qcyIsICJhcGkudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8vIEB0cy1pZ25vcmVcbmltcG9ydCB7XG4gIEFwcCxcbiAgTW9kYWwsXG4gIFBsdWdpbixcbiAgV29ya3NwYWNlLFxuICAvLyBAdHMtaWdub3JlXG4gIEhUTUxFbGVtZW50LFxuICBhZGRJY29uLFxuICBDYWNoZWRNZXRhZGF0YSxcbiAgVEZpbGUsXG4gIFRBYnN0cmFjdEZpbGUsXG59IGZyb20gXCJvYnNpZGlhblwiO1xuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IHtcbiAgSGVscGVyLFxuICBGcm9udG1hdHRlcixcbiAgTGlzdE1ha2VyLFxuICAvLyBAdHMtaWdub3JlXG4gIE5hbWVzcGFjZSxcbiAgLy8gQHRzLWlnbm9yZVxuICBSZW5kZXJlcixcbiAgLy8gQHRzLWlnbm9yZVxuICBBdXRvRmllbGQsXG4gIC8vIEB0cy1pZ25vcmVcbiAgRnJvbnRtYXR0ZXJKUyxcbiAgRHZMaWIsXG4gIC8vIEB0cy1pZ25vcmVcbiAgR2VuZXJhdG9yLFxuICAvLyBAdHMtaWdub3JlXG4gIEFzc2VydCxcbn0gZnJvbSBcIi4vYXBpXCI7XG4vLyBAdHMtaWdub3JlXG5pbXBvcnQgeyBQYXRocywgU3RhdHVzLCBUeXBlcywgTmFtZXNwYWNlLCBEZWZhdWx0IH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5cbi8vIFJlbWVtYmVyIHRvIHJlbmFtZSB0aGVzZSBjbGFzc2VzIGFuZCBpbnRlcmZhY2VzIVxuaW50ZXJmYWNlIE15UGx1Z2luU2V0dGluZ3Mge1xuICBteVNldHRpbmc6IHN0cmluZztcbn1cblxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogTXlQbHVnaW5TZXR0aW5ncyA9IHtcbiAgbXlTZXR0aW5nOiBcImRlZmF1bHRcIixcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE15UGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcbiAgc2V0dGluZ3M6IE15UGx1Z2luU2V0dGluZ3M7XG4gIHdvcmtzcGFjZTogV29ya3NwYWNlO1xuICBtZXRhZGF0YUNhY2hlOiBhbnk7XG4gIGR2OiBhbnk7XG4gIC8vIEB0cy1pZ25vcmVcbiAgcmVuZGVyOiBSZW5kZXI7XG4gIGRlYnVnOiBib29sZWFuO1xuICB0YXNrSW5TdGF0dXNCYXI6IEhUTUxFbGVtZW50O1xuICBhcGk6IGFueTtcbiAgbGlzdE1ha2VyOiBMaXN0TWFrZXI7XG4gIGZyb250bWF0dGVyOiBGcm9udG1hdHRlcjtcbiAgZ2VuZXJhdGU6IEdlbmVyYXRvcjtcbiAgdmF1bHRDb250ZW50OiBURmlsZVtdID0gW107XG4gIHZhdWx0Q29udGVudERpY3Q6IHsgW2lkOiBzdHJpbmddOiBURmlsZSB9ID0ge307XG5cbiAgb3BlblZpZXdJbk5ld1RhYklmTm90T3BlbmVkKG5hbWU6IHN0cmluZykge1xuICAgIGNvbnN0IGYgPSBhcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG5hbWUpO1xuICAgIGlmIChmID09PSB1bmRlZmluZWQgfHwgZiA9PT0gbnVsbCkge1xuICAgICAgY29uc29sZS53YXJuKGBmaWxlIG5vdCBmb3VuZCAke25hbWV9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgYWN0aXZlID0gdGhpcy5hcHAud29ya3NwYWNlLmFjdGl2ZUxlYWY7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IHJvb3QgPSBhY3RpdmUucGFyZW50O1xuICAgIC8vIHJlY2hlcmNoZXIgc2kgcGFzIGRcdTAwRTlqYSBvdXZlcnQgZGFucyBsZXMgb25nbGV0cyBhY3RpZnNcbiAgICAvLyBzaW5vbiBjclx1MDBFOWVyIHVuIG5vdXZlbCBvbmdsZXQsIG91dnJpciBsZSBmaWNoaWVyLCBldCBlbiBmYWlyZSBsJ29uZ2xldCBhY3RpZlxuICAgIGxldCBmb3VuZCA9IGZhbHNlO1xuICAgIGxldCBub2RlID0gdW5kZWZpbmVkO1xuICAgIGNvbnN0IGVtcHR5VGFicyA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBsZWFmIG9mIHJvb3QuY2hpbGRyZW4pIHtcbiAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLmdldEZpbGVGcm9tTGVhZihsZWFmKTtcbiAgICAgIGlmIChmaWxlID09PSB1bmRlZmluZWQgfHwgZmlsZSA9PT0gbnVsbCkge1xuICAgICAgICBlbXB0eVRhYnMucHVzaChsZWFmKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChmaWxlLm5hbWUgPT09IGYubmFtZSkge1xuICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgIG5vZGUgPSBsZWFmO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWZvdW5kKSB7XG4gICAgICBpZiAoZW1wdHlUYWJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbm9kZSA9IGVtcHR5VGFic1swXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5jcmVhdGVMZWFmSW5QYXJlbnQoXG4gICAgICAgICAgcm9vdCxcbiAgICAgICAgICByb290LmNoaWxkcmVuLmxlbmd0aCArIDEsXG4gICAgICAgICk7XG4gICAgICAgIG5vZGUgPSByb290LmNoaWxkcmVuW3Jvb3QuY2hpbGRyZW4ubGVuZ3RoIC0gMV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgbm9kZS5vcGVuRmlsZShmLCB7XG4gICAgICBhY3RpdmU6IHRydWUsXG4gICAgfSk7XG4gIH1cblxuICBvcGVuSW5OZXdUYWJJZk5vdE9wZW5lZChwYWdlKSB7XG4gICAgY29uc3QgYWN0aXZlID0gdGhpcy5hcHAud29ya3NwYWNlLmFjdGl2ZUxlYWY7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IHJvb3QgPSBhY3RpdmUucGFyZW50O1xuICAgIC8vIHJlY2hlcmNoZXIgc2kgcGFzIGRcdTAwRTlqYSBvdXZlcnQgZGFucyBsZXMgb25nbGV0cyBhY3RpZnNcbiAgICAvLyBzaW5vbiBjclx1MDBFOWVyIHVuIG5vdXZlbCBvbmdsZXQsIG91dnJpciBsZSBmaWNoaWVyLCBldCBlbiBmYWlyZSBsJ29uZ2xldCBhY3RpZlxuICAgIGxldCBmb3VuZCA9IGZhbHNlO1xuICAgIGxldCBub2RlID0gdW5kZWZpbmVkO1xuICAgIGNvbnN0IGVtcHR5VGFicyA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBsZWFmIG9mIHJvb3QuY2hpbGRyZW4pIHtcbiAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLmdldEZpbGVDYWNoZUZyb21MZWFmKGxlYWYpO1xuICAgICAgaWYgKGZpbGUgPT09IHVuZGVmaW5lZCB8fCBmaWxlID09PSBudWxsKSB7XG4gICAgICAgIGVtcHR5VGFicy5wdXNoKGxlYWYpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBmaWxlLmZyb250bWF0dGVyICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgZmlsZS5mcm9udG1hdHRlci51dWlkID09PSBwYWdlLmZpbGUuZnJvbnRtYXR0ZXIudXVpZFxuICAgICAgKSB7XG4gICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgbm9kZSA9IGxlYWY7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghZm91bmQpIHtcbiAgICAgIGlmIChlbXB0eVRhYnMubGVuZ3RoID4gMCkge1xuICAgICAgICBub2RlID0gZW1wdHlUYWJzWzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLmNyZWF0ZUxlYWZJblBhcmVudChcbiAgICAgICAgICByb290LFxuICAgICAgICAgIHJvb3QuY2hpbGRyZW4ubGVuZ3RoICsgMSxcbiAgICAgICAgKTtcbiAgICAgICAgbm9kZSA9IHJvb3QuY2hpbGRyZW5bcm9vdC5jaGlsZHJlbi5sZW5ndGggLSAxXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBub2RlLm9wZW5GaWxlKHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChwYWdlLmZpbGUucGF0aCksIHtcbiAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICB9KTtcbiAgfVxuXG4gIGdldEZpbGVDYWNoZUZyb21MZWFmKGxlYWYpOiBDYWNoZWRNZXRhZGF0YSB7XG4gICAgbGV0IGZpbGUgPSB1bmRlZmluZWQ7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGZpbGUgPSBsZWFmLnZpZXcuZmlsZTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChmaWxlID09PSB1bmRlZmluZWQgfHwgZmlsZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IGFic3RyYWN0UGF0aCA9IGFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZmlsZSk7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHJldHVybiBhcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoYWJzdHJhY3RQYXRoKTtcbiAgfVxuXG4gIGdldEZpbGVGcm9tTGVhZihsZWFmKTogVEFic3RyYWN0RmlsZSB7XG4gICAgbGV0IGZpbGUgPSB1bmRlZmluZWQ7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGZpbGUgPSBsZWFmLnZpZXcuZmlsZTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICByZXR1cm4gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZpbGUpO1xuICB9XG5cbiAgZXh0cmFjdFVVSURGcm9tTGluayhsaW5rOiBzdHJpbmcpIHtcbiAgICBBc3NlcnQuVHJ1ZShcbiAgICAgIGxpbmsubGVuZ3RoID49IDM2LFxuICAgICAgYGV4dHJhY3RVVUlERnJvbUxpbms6IEludmFsaWQgcGFyYW1ldGVyIHR5cGU6IGxpbms6IFwiJHtsaW5rfVwiYCxcbiAgICApO1xuXG4gICAgLy8gYXQgdGhpcyBwb2ludCBsaW5rIGlzIGVpdGhlciBmb3JtIHV1aWQjaGVhZGluZyB8fCBpbnZhbGlkXG4gICAgLy8gd2UgY2FuIHNhZmVseSBhc3N1bWUgMDozNiBpcyB0aGUgdXVpZFxuICAgIEFzc2VydC5UcnVlKFxuICAgICAgSGVscGVyLmlzVVVJRChsaW5rLnNsaWNlKDAsIDM2KSksXG4gICAgICBgZXh0cmFjdFVVSURGcm9tTGluazogSW52YWxpZCBwYXJhbWV0ZXIgdHlwZTogbGluazogXCIke2xpbmt9XCJgLFxuICAgICk7XG4gICAgaWYgKGxpbmsubGVuZ3RoID09PSAzNikge1xuICAgICAgcmV0dXJuIGxpbms7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBsaW5rLnNsaWNlKDAsIDM2KTtcbiAgICB9XG4gIH1cblxuICBncnVnQWxpYXMoX2lkOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IGNhY2hlID0gdGhpcy5nZXRGaWxlQ2FjaGVGcm9tVVVJRChfaWQpO1xuICAgIGlmIChjYWNoZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBncnVnQWxpYXM6IGZpbGUgbm90IGZvdW5kIGluIGdydWcgY2FjaGUgJHtfaWR9YCk7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG5cbiAgICBjb25zdCBbc3RhcnQsIGVuZF0gPSB0aGlzLmdldENvbnRlbnRCb3VuZGFyaWVzKGNhY2hlKTtcbiAgICAvLyB3aGF0IGlzIHRoZSBuYW1pbmcgcHJlZmVyZW5jZT9cbiAgICAvLyBhbGlhcyA+IG5hbWUgaGVhZGluZ1xuICAgIGxldCB0YXJnZXROYW1lID0gdW5kZWZpbmVkO1xuICAgIGNvbnN0IG5hbWVIZWFkaW5nID0gdGhpcy5nZXRSZXNvdXJjZU5hbWUoY2FjaGUsIHN0YXJ0LCBlbmQpO1xuXG4gICAgY29uc3QgZm0gPSBjYWNoZS5mcm9udG1hdHRlcjtcblxuICAgIGlmIChmbS5hbGlhcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShmbS5hbGlhcykgJiYgZm0uYWxpYXMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBwcm9ibGVtIGF0aGVpc3RzP1xuICAgICAgICB0YXJnZXROYW1lID0gY2FjaGUuZnJvbnRtYXR0ZXIuYWxpYXNbMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXROYW1lID0gY2FjaGUuZnJvbnRtYXR0ZXIuYWxpYXM7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldE5hbWUgPSBuYW1lSGVhZGluZztcbiAgICB9XG5cbiAgICBjb25zdCBmaWxlID0gdGhpcy5nZXRGaWxlRnJvbVVVSUQoX2lkKTtcbiAgICBpZiAoZmlsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBncnVnQWxpYXM6IENhbm5vdCBncnVnIHRoaXMgaWQ6ICR7X2lkfWApO1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIGNvbnN0IHBhdGggPSBgJHtmaWxlLnBhdGguc3BsaXQoXCIvXCIpLnNsaWNlKDAsIC0xKX0vJHtfaWR9YDtcblxuICAgIHJldHVybiBgW1ske3BhdGh9IyR7bmFtZUhlYWRpbmd9fCR7dGFyZ2V0TmFtZX1dXWA7XG4gIH1cblxuICBnZXRGaWxlRnJvbVVVSUQoX2lkOiBzdHJpbmcpOiBUQWJzdHJhY3RGaWxlIHtcbiAgICByZXR1cm4gdGhpcy52YXVsdENvbnRlbnREaWN0W19pZF07XG4gIH1cblxuICBnZXRGaWxlQ2FjaGVGcm9tVVVJRChfaWQ6IHN0cmluZyk6IENhY2hlZE1ldGFkYXRhIHtcbiAgICBjb25zdCBmID0gdGhpcy52YXVsdENvbnRlbnREaWN0W19pZF07XG4gICAgaWYgKGYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICByZXR1cm4gYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGYpO1xuICB9XG5cbiAgYXN5bmMgb25sb2FkKCkge1xuICAgIGNvbnNvbGUubG9nKFwiZ29uZXh0IC0gb25sb2FkKClcIik7XG4gICAgYXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcbiAgICB0aGlzLm1ldGFkYXRhQ2FjaGUgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlO1xuICAgIHRoaXMud29ya3NwYWNlID0gdGhpcy5hcHAud29ya3NwYWNlO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICB0aGlzLmR2ID0gdGhpcy5hcHAucGx1Z2lucy5wbHVnaW5zLmRhdGF2aWV3LmFwaTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdGhpcy5mcm9udG1hdHRlciA9IG5ldyBGcm9udG1hdHRlcih0aGlzKTtcbiAgICB0aGlzLmxpc3RNYWtlciA9IG5ldyBMaXN0TWFrZXIodGhpcywgdGhpcy5kdiwgdGhpcy5mcm9udG1hdHRlcik7XG4gICAgdGhpcy5nZW5lcmF0ZSA9IG5ldyBHZW5lcmF0b3IodGhpcy5hcHApO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICB0aGlzLmZpbGVzID0ge307XG5cbiAgICB0aGlzLmFwaSA9IHtcbiAgICAgIGdldEFyZWE6IEhlbHBlci5nZXRBcmVhLFxuICAgICAgZ2V0Q29udGV4dDogSGVscGVyLmdldENvbnRleHQsXG4gICAgICBnZXREb21haW46IEhlbHBlci5nZXREb21haW4sXG4gICAgICBnZXRMYXllcjogSGVscGVyLmdldExheWVyLFxuICAgICAgZ2V0T3JnOiBIZWxwZXIuZ2V0T3JnLFxuICAgICAgZ2V0UHJvamVjdDogSGVscGVyLmdldFByb2plY3QsXG4gICAgICBkdXJhdGlvblN0cmluZ1RvU2VjOiBIZWxwZXIuZHVyYXRpb25TdHJpbmdUb1NlYyxcbiAgICAgIHBhdGhzOiBQYXRocyxcbiAgICAgIHR5cGVzOiBUeXBlcyxcbiAgICAgIHN0YXR1czogU3RhdHVzLFxuICAgICAgbmFtZXNwYWNlOiBOYW1lc3BhY2UsXG4gICAgICBkZWZhdWx0OiBEZWZhdWx0LFxuICAgICAgZnJvbnRtYXR0ZXI6IHRoaXMuZnJvbnRtYXR0ZXIsXG4gICAgICBsaXN0TWFrZXI6IHRoaXMubGlzdE1ha2VyLFxuICAgICAgcmVuZGVyZXI6IFJlbmRlcmVyLFxuICAgICAgYXV0b0ZpZWxkOiBBdXRvRmllbGQsXG4gICAgICBkdkxpYjogbmV3IER2TGliKCksXG4gICAgICBGcm9udG1hdHRlckpTOiBGcm9udG1hdHRlckpTLFxuICAgIH07XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgd2luZG93LmdvbmV4dCA9IHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHN0YXRlOiB3aW5kb3cuZ29uZXh0Py5zdGF0ZSA/PyB7fSxcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGFwcDogdGhpcy5hcHAsXG4gICAgfTtcbiAgICBhZGRJY29uKFxuICAgICAgXCJHb05leHRJY29uXCIsXG4gICAgICBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIzMlwiIGhlaWdodD1cIjMyXCIgdmlld0JveD1cIjAgMCAzMiAzMlwiPjxwYXRoIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTIwIDEyVjJoMnYxMHptNCAwVjJoMnYxMHptNCAwVjJoMnYxMHptLTEyIDhhMy45MTIgMy45MTIgMCAwIDEtNC00YTMuOTEyIDMuOTEyIDAgMCAxIDQtNHYtMmE2IDYgMCAxIDAgNiA2aC0yYTMuOTEyIDMuOTEyIDAgMCAxLTQgNFwiPjwvcGF0aD48cGF0aCBmaWxsPVwiY3VycmVudENvbG9yXCIgZD1cIk0yOC44OTMgMTguNDU0TDI2LjA5OCAxNmwtMS4zMTggMS41MDRsMi43OTIgMi40NTJsLTIuMzYgNC4wODhsLTMuNDI3LTEuMTZhOS4wMzIgOS4wMzIgMCAwIDEtMi43MTQgMS41NjVMMTguMzYgMjhoLTQuNzJsLS43MS0zLjU1YTkuMDk1IDkuMDk1IDAgMCAxLTIuNjk1LTEuNTcybC0zLjQ0NyAxLjE2NmwtMi4zNi00LjA4OGwyLjcyNS0yLjM5NWE4LjkyNiA4LjkyNiAwIDAgMS0uMDA3LTMuMTI4bC0yLjcxOC0yLjM5bDIuMzYtNC4wODdsMy40MjcgMS4xNkE5LjAzIDkuMDMgMCAwIDEgMTIuOTMgNy41NUwxMy42NCA0SDE2VjJoLTIuMzZhMiAyIDAgMCAwLTEuOTYxIDEuNjA4bC0uNTA0IDIuNTE5YTEwLjk2NyAxMC45NjcgMCAwIDAtMS4zMjcuNzUzbC0yLjQyLS44MTlhMS45OTggMS45OTggMCAwIDAtMi4zNzIuODk1bC0yLjM2IDQuMDg4YTIgMiAwIDAgMCAuNDExIDIuNTAybDEuOTMxIDEuNjk3QzUuMDIxIDE1LjQ5NSA1IDE1Ljc0NSA1IDE2YzAgLjI1OC4wMS41MTMuMDI4Ljc2NmwtMS45MiAxLjY4OGEyIDIgMCAwIDAtLjQxMyAyLjUwMmwyLjM2IDQuMDg4YTEuOTk4IDEuOTk4IDAgMCAwIDIuMzc0Ljg5NWwyLjQzNC0uODI0YTEwLjk3NCAxMC45NzQgMCAwIDAgMS4zMTIuNzU5bC41MDMgMi41MThBMiAyIDAgMCAwIDEzLjY0IDMwaDQuNzJhMiAyIDAgMCAwIDEuOTYxLTEuNjA4bC41MDQtMi41MTlhMTAuOTY3IDEwLjk2NyAwIDAgMCAxLjMyNy0uNzUzbDIuNDE5LjgxOGExLjk5OCAxLjk5OCAwIDAgMCAyLjM3My0uODk0bDIuMzYtNC4wODhhMiAyIDAgMCAwLS40MTEtMi41MDJcIj48L3BhdGg+PC9zdmc+YCxcbiAgICApO1xuXG4gICAgdGhpcy5hZGRSaWJib25JY29uKFwiR29OZXh0SWNvblwiLCBcIltnXW9bbl1leHRcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgdGhpcy5nZW5lcmF0ZS5mbGVldGluZygpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBcIm9wZW4taW5kZXhcIixcbiAgICAgIG5hbWU6IFwiT3BlbiBJbmRleFwiLFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgdGhpcy5vcGVuVmlld0luTmV3VGFiSWZOb3RPcGVuZWQoXCJJTkRFWC5tZFwiKTtcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBcIm9wZW4taW5ib3hcIixcbiAgICAgIG5hbWU6IFwiT3BlbiBJbmJveFwiLFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgdGhpcy5vcGVuVmlld0luTmV3VGFiSWZOb3RPcGVuZWQoXCJJTkJPWC5tZFwiKTtcbiAgICAgICAgLy8gYXBwLmNvbW1hbmRzLmV4ZWN1dGVDb21tYW5kQnlJZCgnbWFya2Rvd246dG9nZ2xlLXByZXZpZXcnKTtcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBcIm9wZW4tcHJvamVjdHNcIixcbiAgICAgIG5hbWU6IFwiT3BlbiBQcm9qZWN0c1wiLFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgdGhpcy5vcGVuVmlld0luTmV3VGFiSWZOb3RPcGVuZWQoXG4gICAgICAgICAgXCI4MDMgU2xpcGJveC82NjRkYzg1NS1lYWJlLTQwZGMtOTBiOC0wMDYyMjM0NTc5NTMubWRcIixcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBcIm9wZW4tcGxhbm5pbmdcIixcbiAgICAgIG5hbWU6IFwiT3BlbiBQbGFubmluZ1wiLFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgdGhpcy5vcGVuVmlld0luTmV3VGFiSWZOb3RPcGVuZWQoXCJQbGFubmluZy5tZFwiKTtcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBcIm9wZW4tam91cm5hbFwiLFxuICAgICAgbmFtZTogXCJPcGVuIEpvdXJuYWxcIixcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgIHRoaXMub3BlblZpZXdJbk5ld1RhYklmTm90T3BlbmVkKFxuICAgICAgICAgIFwiODAzIFNsaXBib3gvNjdmYjQ5YzItMDVkMS00OGJlLTk4Y2UtMjdiMjY5NjYwOTU3Lm1kXCIsXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgIH0pO1xuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJvcGVuLW5leHRfYWN0aW9uc1wiLFxuICAgICAgbmFtZTogXCJPcGVuIE5leHQgQWN0aW9uc1wiLFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgdGhpcy5vcGVuVmlld0luTmV3VGFiSWZOb3RPcGVuZWQoXCJORVhUIEFDVElPTlMubWRcIik7XG4gICAgICB9LFxuICAgIH0pO1xuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJvcGVuLXNvbWVkYXlfbWF5YmVcIixcbiAgICAgIG5hbWU6IFwiT3BlbiBTb21lZGF5IE1heWJlXCIsXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICB0aGlzLm9wZW5WaWV3SW5OZXdUYWJJZk5vdE9wZW5lZChcIlNPTUVEQVkgTUFZQkUubWRcIik7XG4gICAgICB9LFxuICAgIH0pO1xuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJvcGVuLXdhaXRpbmdfZm9yXCIsXG4gICAgICBuYW1lOiBcIk9wZW4gV2FpdGluZyBGb3JcIixcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgIHRoaXMub3BlblZpZXdJbk5ld1RhYklmTm90T3BlbmVkKFwiV0FJVElORyBGT1IubWRcIik7XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBcIm9wZW4tdG9kYXlzLWxvZ1wiLFxuICAgICAgbmFtZTogXCJPcGVuIFRvZGF5J3MgTG9nc1wiLFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgY29uc3Qgbm93SXNvID0gbm93LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNvbnN0IHBhZ2VzID0gdGhpcy5kdlxuICAgICAgICAgIC5wYWdlcyhgXCIke1BhdGhzLlNsaXBib3h9XCJgKVxuICAgICAgICAgIC53aGVyZSgocGFnZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5nZXRGaWxlQ2FjaGVGcm9tVVVJRChmbS51dWlkKTtcbiAgICAgICAgICAgIGNvbnN0IFtzdGFydCwgZW5kXSA9IHRoaXMuZ2V0Q29udGVudEJvdW5kYXJpZXMoY2FjaGUpO1xuICAgICAgICAgICAgaWYgKHN0YXJ0ID09PSAwICYmIGVuZCA9PT0gMCkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBuYW1lSGVhZGluZyA9IHRoaXMuZ2V0UmVzb3VyY2VOYW1lKFxuICAgICAgICAgICAgICBjYWNoZSxcbiAgICAgICAgICAgICAgc3RhcnQsXG4gICAgICAgICAgICAgIGVuZCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgbmFtZUhlYWRpbmc6ICR7bmFtZUhlYWRpbmd9YCk7XG5cbiAgICAgICAgICAgIGlmIChuYW1lSGVhZGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuYW1lSGVhZGluZyAhPT0gbm93SXNvKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRoaXMuZ2V0UmVzb3VyY2VOYW1lXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICBpZiAocGFnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgLy8gY3JlYXRlIHBlcm1hbmVudFxuICAgICAgICAgIHRoaXMuZ2VuZXJhdGUucGVybWFuZW50KG5vd0lzbyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vcGVuSW5OZXdUYWJJZk5vdE9wZW5lZChwYWdlc1swXSk7XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBcIm9wZW4teWVzdGVyZGF5cy1sb2dzXCIsXG4gICAgICBuYW1lOiBcIk9wZW4gWWVzdGVyZGF5J3MgTG9nc1wiLFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgbm93LnNldERhdGUobm93LmdldERhdGUoKSAtIDEpO1xuICAgICAgICBjb25zdCBub3dJc28gPSBub3cudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3QgcGFnZXMgPSB0aGlzLmR2XG4gICAgICAgICAgLnBhZ2VzKGBcIiR7UGF0aHMuU2xpcGJveH1cImApXG4gICAgICAgICAgLndoZXJlKChwYWdlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuICAgICAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLmdldEZpbGVDYWNoZUZyb21VVUlEKGZtLnV1aWQpO1xuICAgICAgICAgICAgY29uc3QgW3N0YXJ0LCBlbmRdID0gdGhpcy5nZXRDb250ZW50Qm91bmRhcmllcyhjYWNoZSk7XG4gICAgICAgICAgICBpZiAoc3RhcnQgPT09IDAgJiYgZW5kID09PSAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5hbWVIZWFkaW5nID0gdGhpcy5nZXRSZXNvdXJjZU5hbWUoXG4gICAgICAgICAgICAgIGNhY2hlLFxuICAgICAgICAgICAgICBzdGFydCxcbiAgICAgICAgICAgICAgZW5kLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChuYW1lSGVhZGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuYW1lSGVhZGluZyAhPT0gbm93SXNvKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRoaXMuZ2V0UmVzb3VyY2VOYW1lXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICBpZiAocGFnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vcGVuSW5OZXdUYWJJZk5vdE9wZW5lZChwYWdlc1swXSk7XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBcImxpc3QtaW5kZXgtY29udGVudFwiLFxuICAgICAgbmFtZTogXCJMaXN0IEluZGV4IENvbnRlbnRcIixcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3QgYWJzdHJhY3RQYXRoID1cbiAgICAgICAgICB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoXCJJTkRFWC5tZFwiKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjb25zdCBjYWNoZSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGFic3RyYWN0UGF0aCk7XG4gICAgICAgIGZvciAoY29uc3QgbGluayBvZiBjYWNoZS5saW5rcykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGxpbmsuZGlzcGxheVRleHQpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBcIm9wZW4tdG9kYXlzLWRhaWx5XCIsXG4gICAgICBuYW1lOiBcIk9wZW4gVG9kYXkncyBEYWlseVwiLFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgY29uc3Qgbm93SXNvID0gbm93LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNvbnN0IHBhZ2VzID0gdGhpcy5kdlxuICAgICAgICAgIC5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfVwiYClcbiAgICAgICAgICAud2hlcmUoKHBhZ2UpID0+IHtcbiAgICAgICAgICAgIGlmIChwYWdlLmZpbGUuZnJvbnRtYXR0ZXIuYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGFzc2lnbiBub3cgc2kgYXQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgY29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcbiAgICAgICAgICAgIGlmIChmbS5nZXRQcm9qZWN0KCkgIT09IFwiZGFpbHlcIikge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBmbUlzbyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGZtSXNvID0gZm0uYXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG4gICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBwb3NzaWJsZSBpbnZhbGlkIGRhdGEgaW4gJHtmbS51dWlkfWApO1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmbUlzbyA9PT0gbm93SXNvKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHBhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub3BlbkluTmV3VGFiSWZOb3RPcGVuZWQocGFnZXNbMF0pO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJvcGVuLXRvbW9ycm93cy1kYWlseVwiLFxuICAgICAgbmFtZTogXCJPcGVuIFRvbW9ycm93J3MgRGFpbHlcIixcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIG5vdy5zZXREYXRlKG5vdy5nZXREYXRlKCkgKyAxKTtcbiAgICAgICAgY29uc3Qgbm93SXNvID0gbm93LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG5cbiAgICAgICAgY29uc3QgcGFnZXMgPSB0aGlzLmR2XG4gICAgICAgICAgLnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9XCJgKVxuICAgICAgICAgIC53aGVyZSgocGFnZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHBhZ2UuZmlsZS5mcm9udG1hdHRlci5hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYXNzaWduIG5vdyBzaSBhdCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICBjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuICAgICAgICAgICAgaWYgKGZtLmdldFByb2plY3QoKSAhPT0gXCJkYWlseVwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGZtSXNvID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZm1Jc28gPSBmbS5hdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTtcbiAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYHBvc3NpYmxlIGludmFsaWQgZGF0YSBpbiAke2ZtLnV1aWR9YCk7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZtSXNvID09PSBub3dJc28pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICBpZiAocGFnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vcGVuSW5OZXdUYWJJZk5vdE9wZW5lZChwYWdlc1swXSk7XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBcIm9wZW4teWVzdGVyZGF5cy1kYWlseVwiLFxuICAgICAgbmFtZTogXCJPcGVuIFllc3RlcmRheSdzIERhaWx5XCIsXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBub3cuc2V0RGF0ZShub3cuZ2V0RGF0ZSgpIC0gMSk7XG4gICAgICAgIGNvbnN0IG5vd0lzbyA9IG5vdy50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuXG4gICAgICAgIGNvbnN0IHBhZ2VzID0gdGhpcy5kdlxuICAgICAgICAgIC5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfVwiYClcbiAgICAgICAgICAud2hlcmUoKHBhZ2UpID0+IHtcbiAgICAgICAgICAgIGlmIChwYWdlLmZpbGUuZnJvbnRtYXR0ZXIuYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGFzc2lnbiBub3cgc2kgYXQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgY29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcbiAgICAgICAgICAgIGlmIChmbS5nZXRQcm9qZWN0KCkgIT09IFwiZGFpbHlcIikge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBmbUlzbyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGZtSXNvID0gZm0uYXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG4gICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBwb3NzaWJsZSBpbnZhbGlkIGRhdGEgaW4gJHtmbS51dWlkfWApO1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmbUlzbyA9PT0gbm93SXNvKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHBhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub3BlbkluTmV3VGFiSWZOb3RPcGVuZWQocGFnZXNbMF0pO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJnZW5lcmF0ZS1mbGVldGluZ1wiLFxuICAgICAgbmFtZTogXCJHZW5lcmF0ZSBmbGVldGluZyBub3RlXCIsXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICB0aGlzLmdlbmVyYXRlLmZsZWV0aW5nKCk7XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBcImNsaXBweS10aGUtY2xpcHBlclwiLFxuICAgICAgbmFtZTogXCJDbGlwcHkgQ2xpcFwiLFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgbmF2aWdhdG9yLmNsaXBib2FyZC5yZWFkVGV4dCgpLnRoZW4oKHRleHQpID0+IHtcbiAgICAgICAgICBsZXQgX2lkID0gdW5kZWZpbmVkO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBfaWQgPSB0aGlzLmV4dHJhY3RVVUlERnJvbUxpbmsodGV4dCk7XG4gICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLmdldEZpbGVGcm9tVVVJRChfaWQpO1xuICAgICAgICAgIEFzc2VydC5UcnVlKFxuICAgICAgICAgICAgZmlsZSAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgYGdldEZpbGVGcm9tVVVJRDogcmV0dXJuZWQgdW5kZWZpbmVkIGZvciB1dWlkOiAke19pZH1gLFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3Qgcm9vdERpciA9IGZpbGUucGF0aC5zcGxpdChcIi9cIilbMF07XG4gICAgICAgICAgY29uc3QgYXV0aG9yaXplZCA9IFtQYXRocy5TbGlwYm94LCBQYXRocy5SZWZzXTtcbiAgICAgICAgICBpZiAocm9vdERpciAhPT0gdW5kZWZpbmVkICYmIGF1dGhvcml6ZWQuY29udGFpbnMocm9vdERpcikpIHtcbiAgICAgICAgICAgIGNvbnN0IGFsaWFzID0gdGhpcy5ncnVnQWxpYXMoX2lkKTtcbiAgICAgICAgICAgIC8vIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KGFsaWFzKS50aGVuKCgpID0+IHtjb25zb2xlLmxvZyhcImNvdWNvdSwgZXRjIGV0Y1wiKX0pO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgY29uc3QgYWN0aXZlTGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVMZWFmO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgaWYgKGFjdGl2ZUxlYWYpIHtcbiAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICBjb25zdCBlZGl0b3IgPSBhY3RpdmVMZWFmLnZpZXcuc291cmNlTW9kZS5jbUVkaXRvcjtcbiAgICAgICAgICAgICAgY29uc3QgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvcigpO1xuICAgICAgICAgICAgICBlZGl0b3IucmVwbGFjZVJhbmdlKGFsaWFzLCBjdXJzb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgYERvZXMgbm90IHdvcmsgb3V0c2lkZSBzbGliZS1ib3gsIGdvdCAke2ZpbGUucGF0aH1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJzYWZlLWRlbGV0ZVwiLFxuICAgICAgbmFtZTogXCJTYWZlIERlbGV0ZVwiLFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgY29uc3QgZmlsZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XG4gICAgICAgIGlmIChmaWxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzYWZlRnJvbUhhcm0gPSBbXG4gICAgICAgICAgXCJJTkJPWC5tZFwiLFxuICAgICAgICAgIFwiSU5ERVgubWRcIixcbiAgICAgICAgICBcIkxvZ3MubWRcIixcbiAgICAgICAgICBcIk5FWFQgQUNUSU9OUy5tZFwiLFxuICAgICAgICAgIFwiU09NRURBWSBNQVlCRS5tZFwiLFxuICAgICAgICAgIFwiV0FJVElORyBGT1IubWRcIixcbiAgICAgICAgICBcIlBsYW5uaW5nLm1kXCIsXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IGZtID1cbiAgICAgICAgICB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShmaWxlKS5mcm9udG1hdHRlcjtcbiAgICAgICAgaWYgKHNhZmVGcm9tSGFybS5jb250YWlucyhmaWxlLnBhdGgpKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICBcIk9vcHNpZSwgYWxtb3N0IGRpZCBhbiBvb3BzaWUuIEdvdCB5b3VyIGJhY2sgYnJvXCIsXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZm0udGFncyAhPT0gdW5kZWZpbmVkICYmIGZtLnRhZ3MubGVuZ3RoID49IDApIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHRhZyBvZiBmbS50YWdzKSB7XG4gICAgICAgICAgICBpZiAodGFnID09PSBcInByb2plY3QvZGFpbHlcIikge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgICBcIkhleSBHZW9yZ2UgV2hhdCdzIHVwIEdlb3JnZSwgWW91IGNhbm5vdCBkbyB0aGF0IEdlb3JnZVwiLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coYGRlbGV0ZWQgZmlsZTogJHtmaWxlLnBhdGh9YCk7XG4gICAgICAgIHRoaXMuYXBwLnZhdWx0LmRlbGV0ZShmaWxlKTtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6IFwiYXBwZW5kLXRvLWluYm94XCIsXG4gICAgICBuYW1lOiBcIkFwcGVuZCB0byBJbmJveFwiLFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgLy8gb3V2ZXJ0dXJlIHBhcyBpbnN0YW50YW5cdTAwRTllXG4gICAgICAgIGNvbnN0IGYgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoXCJJTkJPWC5tZFwiKTtcbiAgICAgICAgaWYgKGYgPT09IHVuZGVmaW5lZCB8fCBmID09PSBudWxsKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGBmaWxlIG5vdCBmb3VuZCBJTkJPWC5tZGApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGFjdGl2ZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3Qgcm9vdCA9IGFjdGl2ZS5wYXJlbnQ7XG4gICAgICAgIC8vIHJlY2hlcmNoZXIgc2kgcGFzIGRcdTAwRTlqYSBvdXZlcnQgZGFucyBsZXMgb25nbGV0cyBhY3RpZnNcbiAgICAgICAgLy8gc2lub24gY3JcdTAwRTllciB1biBub3V2ZWwgb25nbGV0LCBvdXZyaXIgbGUgZmljaGllciwgZXQgZW4gZmFpcmUgbCdvbmdsZXQgYWN0aWZcbiAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XG4gICAgICAgIGxldCBub2RlID0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBlbXB0eVRhYnMgPSBbXTtcblxuICAgICAgICBmb3IgKGNvbnN0IGxlYWYgb2Ygcm9vdC5jaGlsZHJlbikge1xuICAgICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLmdldEZpbGVGcm9tTGVhZihsZWFmKTtcbiAgICAgICAgICBpZiAoZmlsZSA9PT0gdW5kZWZpbmVkIHx8IGZpbGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGVtcHR5VGFicy5wdXNoKGxlYWYpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGZpbGUubmFtZSA9PT0gZi5uYW1lKSB7XG4gICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICBub2RlID0gbGVhZjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgaWYgKGVtcHR5VGFicy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBub2RlID0gZW1wdHlUYWJzWzBdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFwcC53b3Jrc3BhY2UuY3JlYXRlTGVhZkluUGFyZW50KFxuICAgICAgICAgICAgICByb290LFxuICAgICAgICAgICAgICByb290LmNoaWxkcmVuLmxlbmd0aCArIDEsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbm9kZSA9IHJvb3QuY2hpbGRyZW5bcm9vdC5jaGlsZHJlbi5sZW5ndGggLSAxXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBlZGl0b3JBY3Rpb24gPSAobm9kZSkgPT4ge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgY29uc3QgZWRpdG9yID0gbm9kZS52aWV3LnNvdXJjZU1vZGUuY21FZGl0b3I7XG4gICAgICAgICAgICBlZGl0b3IuaW5zZXJ0VGV4dChcIlxcblxcbi0tLVxcblxcblwiLCBlZGl0b3IubGFzdExpbmUoKSk7XG4gICAgICAgICAgICBlZGl0b3Iuc2V0Q3Vyc29yKGVkaXRvci5sYXN0TGluZSgpLCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpID09PSBudWxsIHx8XG4gICAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKS5uYW1lICE9PSBcIklOQk9YLm1kXCJcbiAgICAgICAgKSB7XG4gICAgICAgICAgbm9kZS5vcGVuRmlsZShmLCB7XG4gICAgICAgICAgICBhY3RpdmU6IHRydWUsXG4gICAgICAgICAgfSkudGhlbigoXykgPT4gZWRpdG9yQWN0aW9uKG5vZGUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlZGl0b3JBY3Rpb24obm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLmFwcC53b3Jrc3BhY2Uub25MYXlvdXRSZWFkeSgoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcIndvcmtzcGFjZSAtIGxheW91dC1yZWFkeVwiKTtcbiAgICAgIGZvciAoY29uc3QgZiBvZiB0aGlzLmFwcC52YXVsdC5nZXRGaWxlcygpKSB7XG4gICAgICAgIGlmICghSGVscGVyLmlzVVVJRChmLmJhc2VuYW1lKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52YXVsdENvbnRlbnREaWN0W2YuYmFzZW5hbWVdID0gZjtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLm9uXG5cdFx0dGhpcy5hcHAubWV0YWRhdGFDYWNoZS5vbihcblx0XHRcdFwiY2hhbmdlZFwiLFxuXHRcdFx0KGZpbGU6IFRGaWxlLCBkYXRhOiBzdHJpbmcsIGNhY2hlOiBDYWNoZWRNZXRhZGF0YSkgPT4ge1xuXHRcdFx0XHRpZiAoSGVscGVyLmlzVVVJRChmaWxlLmJhc2VuYW1lKSkge1xuXHRcdFx0XHRcdHRoaXMudmF1bHRDb250ZW50RGljdFtmaWxlLmJhc2VuYW1lXSA9IGZpbGU7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0KTtcbiAgfVxuXG5cdHNuZWFreVRhYlJlbmFtZXIoYXBwKSB7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGNvbnN0IHJvb3QgPSBhcHAud29ya3NwYWNlLmFjdGl2ZUxlYWYucGFyZW50O1xuXG5cdFx0Zm9yIChjb25zdCBsZWFmIG9mIHJvb3QuY2hpbGRyZW4pIHtcblx0XHRcdGxldCBwYXRoID0gdW5kZWZpbmVkO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0cGF0aCA9IGxlYWYudmlldy5nZXRTeW5jVmlld1N0YXRlKCkuc3RhdGUuZmlsZTtcblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IGZpbGUgPSBhcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHBhdGgpO1xuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y29uc3QgZm0gPVxuXHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdGFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShmaWxlKS5mcm9udG1hdHRlcjtcblxuXHRcdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGxldCB0ZXh0ID0gXCJcIjtcblxuXHRcdFx0aWYgKGZtLnR5cGUgPT09IDMgJiYgSGVscGVyLmdldFByb2plY3QoZm0pICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0aWYgKEhlbHBlci5nZXRQcm9qZWN0KGZtKSA9PT0gXCJwcm9qZWN0L2RhaWx5XCIpIHtcblx0XHRcdFx0XHRjb25zdCBhdCA9IG5ldyBEYXRlKGZtLmF0KTtcblx0XHRcdFx0XHR0ZXh0ID0gYChEKSAke2RheVNob3J0W2F0LmdldERheSgpXX0uICR7YXQuZ2V0RGF0ZSgpfSAke21vbnRoU2hvcnRbYXQuZ2V0TW9udGgoKV19YDtcblx0XHRcdFx0XHQvLyB0ZXh0ID0gYFx1RDgzRFx1RENDNSAke2RheVNob3J0W2F0LmdldERheSgpXX0uICR7YXQuZ2V0RGF5KCl9ICR7bW9udGhTaG9ydFthdC5nZXRNb250aCgpXX1gO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRleHQgPSBgKFQpICR7SGVscGVyLmdldFByb2plY3QoZm0pLnNsaWNlKDgpfWA7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoZm0udHlwZSA9PT0gMikge1xuXHRcdFx0XHRpZiAoIUhlbHBlci5uaWxDaGVjayhmbS5hbGlhcykpIHtcblx0XHRcdFx0XHRsZXQgYnVmZiA9IFwiXCI7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBhbGlhcyBvZiBmbS5hbGlhcykge1xuXHRcdFx0XHRcdFx0aWYgKGJ1ZmYubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdFx0XHRcdGJ1ZmYgPSBhbGlhcztcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoYWxpYXMubGVuZ3RoIDwgYnVmZi5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdFx0YnVmZiA9IGFsaWFzO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnN0IG5vdGUgPSB0aGlzLmdldEZpbGVDYWNoZUZyb21MZWFmKGxlYWYpO1xuXHRcdFx0XHRcdHRleHQgPSBgXHVEODNEXHVEQ0RDICR7YnVmZn1gO1xuXG5cdFx0XHRcdFx0aWYgKG5vdGUuaGVhZGluZ3MubGVuZ3RoID4gMSkge1xuXHRcdFx0XHRcdFx0Zm9yIChjb25zdCBoZWFkaW5nIG9mIG5vdGUuaGVhZGluZ3MpIHtcblx0XHRcdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0XHRcdGhlYWRpbmcubGV2ZWwgPT09IDMgJiZcblx0XHRcdFx0XHRcdFx0XHRoZWFkaW5nLmhlYWRpbmcgPT09IFwiaW5kZXhcIlxuXHRcdFx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdFx0XHR0ZXh0ID0gYChJKSAke2J1ZmZ9YDtcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyByZWFkIGxldmVsIDMgaGVhZGluZ1xuXHRcdFx0XHRcdGNvbnN0IG5vdGUgPSB0aGlzLmdldEZpbGVDYWNoZUZyb21MZWFmKGxlYWYpO1xuXHRcdFx0XHRcdGlmIChub3RlLmhlYWRpbmdzLmxlbmd0aCA8IDEpIHtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGxldCBmb3VuZCA9IGZhbHNlO1xuXHRcdFx0XHRcdGZvciAoY29uc3QgaGVhZGluZyBvZiBub3RlLmhlYWRpbmdzKSB7XG5cdFx0XHRcdFx0XHRpZiAoaGVhZGluZy5sZXZlbCA9PT0gMykge1xuXHRcdFx0XHRcdFx0XHRmb3VuZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdHRleHQgPSBgXHVEODNEXHVEQ0RDICR7aGVhZGluZy5oZWFkaW5nfWA7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIWZvdW5kKSB7XG5cdFx0XHRcdFx0XHR0ZXh0ID0gbm90ZS5mcm9udG1hdHRlci51dWlkO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChmbS50eXBlID09PSAyMCkge1xuXHRcdFx0XHRjb25zdCBjcmVhdGVkQXQgPSBuZXcgRGF0ZShmbS5jcmVhdGVkX2F0KTtcblx0XHRcdFx0Ly8gdGV4dCA9IGBcdUQ4M0RcdURDRDMgJHtkYXlTaG9ydFthdC5nZXREYXkoKV19LiAke2F0LmdldERheSgpfSAke21vbnRoU2hvcnRbYXQuZ2V0TW9udGgoKV19YDtcblx0XHRcdFx0aWYgKGZtLmFsaWFzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHR0ZXh0ID0gYChKKSAke2ZtLmFsaWFzfWA7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGV4dCA9IGAoSikgJHtkYXlTaG9ydFtjcmVhdGVkQXQuZ2V0RGF5KCldfS4gJHtjcmVhdGVkQXQuZ2V0RGF0ZSgpfSAke21vbnRoU2hvcnRbY3JlYXRlZEF0LmdldE1vbnRoKCldfWA7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoZm0udHlwZSA9PT0gMTIpIHtcblx0XHRcdFx0aWYgKGZtLm5hbWUgIT09IHVuZGVmaW5lZCAmJiBmbS5uYW1lICE9PSBcIlwiKSB7XG5cdFx0XHRcdFx0dGV4dCA9IGAoUCkgJHtmbS5uYW1lfWA7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoZm0udHlwZSA9PT0gMTMpIHtcblx0XHRcdFx0dGV4dCA9IGAoSSkgJHtmbS51dWlkfWA7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGlmICh0ZXh0ICE9PSBcIlwiKSB7XG5cdFx0XHRcdC8vIFx1RDgzRFx1RENEM1xuXHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdGxlYWYudGFiSGVhZGVySW5uZXJUaXRsZUVsLmlubmVyVGV4dCA9IHRleHQ7XG5cdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0bGVhZi50YWJIZWFkZXJJbm5lclRpdGxlRWwuaW5uZXJIVE1MID0gdGV4dDtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuICBnZXRDb250ZW50Qm91bmRhcmllcyhub3RlOiBDYWNoZWRNZXRhZGF0YSkge1xuICAgIC8vIGxvY2F0ZSBjb250ZW50IG9mZnNldFxuICAgIGxldCBmbSA9IHVuZGVmaW5lZDtcbiAgICB0cnkge1xuICAgICAgZm0gPSBub3RlLmZyb250bWF0dGVyO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIFswLCAwXTtcbiAgICB9XG4gICAgbGV0IGZvdW5kID0gZmFsc2U7XG4gICAgbGV0IHN0YXJ0ID0gMDtcbiAgICBsZXQgZW5kID0gMDtcblxuICAgIGZvciAoY29uc3QgaGVhZGluZyBvZiBub3RlLmhlYWRpbmdzKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGhlYWRpbmcubGV2ZWwgPT09IDIgJiZcbiAgICAgICAgaGVhZGluZy5oZWFkaW5nLnRvTG93ZXJDYXNlKCkgPT09IFwiY29udGVudFwiXG4gICAgICApIHtcbiAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICBzdGFydCA9IGhlYWRpbmcucG9zaXRpb24uZW5kLm9mZnNldDtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICAvLyBzJ2lsIHkgYSB1biBhdXRyZSBoZWFkaW5nIGxldmVsIDIgYXByZXMsIGVuZCA9IHN0YXJ0Lm9mZnNldFxuICAgICAgaWYgKFxuICAgICAgICBmb3VuZCAmJlxuICAgICAgICBoZWFkaW5nLmxldmVsID09PSAyICYmXG4gICAgICAgIGhlYWRpbmcuaGVhZGluZy50b0xvd2VyQ2FzZSgpICE9PSBcImNvbnRlbnRcIlxuICAgICAgKSB7XG4gICAgICAgIGVuZCA9IGhlYWRpbmcucG9zaXRpb24uc3RhcnQub2Zmc2V0O1xuICAgICAgfVxuICAgIH1cbiAgICBBc3NlcnQuVHJ1ZShmb3VuZCwgYFJlc291cmNlIGRvZXMgbm90IGRlY2xhcmVzIGNvbnRlbnQ6ICR7Zm0udXVpZH1gKTtcbiAgICAvLyBzaW5vbiBlbmQgPSBlbmQgZG9jdW1lbnRcbiAgICBpZiAoZW5kID09PSAwKSB7XG4gICAgICBlbmQgPSBub3RlLnNlY3Rpb25zW25vdGUuc2VjdGlvbnMubGVuZ3RoIC0gMV0ucG9zaXRpb24uZW5kLm9mZnNldDtcbiAgICB9XG5cbiAgICByZXR1cm4gW3N0YXJ0LCBlbmRdO1xuICB9XG5cbiAgZ2V0UmVzb3VyY2VOYW1lKG5vdGU6IENhY2hlZE1ldGFkYXRhLCBzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlcik6IHN0cmluZyB7XG4gICAgbGV0IHJlc291cmNlTmFtZSA9IFwiXCI7XG5cbiAgICBmb3IgKGNvbnN0IGhlYWRpbmcgb2Ygbm90ZS5oZWFkaW5ncykge1xuICAgICAgLy8gaGVhZGluZyBsdmwgMyBpbiBib3VuZCBvZiBgY29udGVudGBcbiAgICAgIGlmIChcbiAgICAgICAgaGVhZGluZy5sZXZlbCA9PT0gMyAmJlxuICAgICAgICBoZWFkaW5nLnBvc2l0aW9uLnN0YXJ0Lm9mZnNldCA+IHN0YXJ0ICYmXG4gICAgICAgIGhlYWRpbmcucG9zaXRpb24uZW5kLm9mZnNldCA8IGVuZFxuICAgICAgKSB7XG4gICAgICAgIHJlc291cmNlTmFtZSA9IGhlYWRpbmcuaGVhZGluZztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gZGFucyAjIyBDb250ZW50XG4gICAgLy8gdW4gc2V1bCBoZWFkaW5nIG5pdmVhdSAzXG4gICAgLy8gQXNzZXJ0LkZhbHNlKFxuICAgIC8vICAgbHZsM0hlYWRpbmdDb3VudCA9PT0gMCxcbiAgICAvLyAgIGBSZXNvdXJjZSBkb2VzIG5vdCBkZWNsYXJlcyBhIG5hbWU6ICR7Zm0udXVpZH1gLFxuICAgIC8vICk7XG4gICAgLy8gQXNzZXJ0LkZhbHNlKFxuICAgIC8vICAgbHZsM0hlYWRpbmdDb3VudCA+IDEsXG4gICAgLy8gICBgUmVzb3VyY2UgaGFzIG11bHRpcGxlIG5hbWVzOiAke2ZtLnV1aWR9YCxcbiAgICAvLyApO1xuXG4gICAgcmV0dXJuIHJlc291cmNlTmFtZTtcbiAgfVxuXG4gIG9udW5sb2FkKCkge1xuICAgIGNvbnNvbGUubG9nKFwiZ29uZXh0IC0gb251bmxvYWQoKVwiKTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgZGVsZXRlIHdpbmRvdy5nb25leHQ7XG4gIH1cblxuICBhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG4gICAgdGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oXG4gICAgICB7fSxcbiAgICAgIERFRkFVTFRfU0VUVElOR1MsXG4gICAgICBhd2FpdCB0aGlzLmxvYWREYXRhKCksXG4gICAgKTtcbiAgfVxuXG4gIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcbiAgICBhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuICB9XG59XG4iLCAiZXhwb3J0IGNvbnN0IFBhdGhzID0ge1xuXHRUYXNrczogXCI4MTMgVGFza3NcIixcblx0Q29tcG9uZW50czogXCJDb21wb25lbnRzXCIsXG5cdEdvYWxzOiBcIkdvYWxzXCIsXG5cdFNsaXBib3g6IFwiODAzIFNsaXBib3hcIixcblx0SW5ib3g6IFwiODAwIEluYm94XCIsXG5cdFJlZnM6IFwiODAyIFJlZnNcIixcblx0QXJjaGl2ZXM6IFwiNDAwIEFyY2hpdmVzXCIsXG5cdExvZ3M6IFwiNjAwIExvZ1wiLFxuXHRBdHRhY2htZW50czogXCIwMDAgQXR0YWNobWVudHNcIixcblx0Sm91cm5hbDogXCJKb3VybmFsXCIsXG5cdFJlc291cmNlczogXCJSZXNvdXJjZXNcIixcblx0UHJvamVjdHM6IFwiMTAwIFByb2plY3RzXCIsXG5cdERvbWFpbnM6IFwiRG9tYWluc1wiLFxuXHROYW1lczogXCJOYW1lc1wiLFxufTtcblxuZXhwb3J0IGNvbnN0IFN0YXR1cyA9IHtcblx0VG9kbzogXCJ0b2RvXCIsXG5cdERvaW5nOiBcImRvaW5nXCIsXG5cdERvbmU6IFwiZG9uZVwiLFxuXHRNYXliZTogXCJtYXliZVwiLFxuXHRTdGFuZGJ5OiBcInN0YW5kYnlcIixcblx0VHJhc2g6IFwidHJhc2hcIixcbn07XG5leHBvcnQgY29uc3QgR29hbFN0YXR1cyA9IHtcblx0UmVmcmFtZTogXCJyZWZyYW1lXCIsXG5cdFJlc2VhcmNoOiBcInJlc2VhcmNoXCIsXG5cdE9wZXJhdGlvbmFsaXplOiBcIm9wZXJhdGlvbmFsaXplXCIsXG5cdFBsYW5pZnk6IFwicGxhbmlmeVwiLFxuXHREZXBlbmRhbnQ6IFwiZGVwZW5kYW50XCIsXG5cdEFjdGl2ZTogXCJhY3RpdmVcIixcblx0RmFpbGVkOiBcImZhaWxlZFwiLFxuXHRTdWNjZXNzOiBcInN1Y2Nlc3NcIixcbn07XG5cbmV4cG9ydCBjb25zdCBUeXBlcyA9IHtcblx0RmxlZXRpbmc6IDEzLFxuXHRMaXRlcmF0dXJlOiAxLFxuXHRQZXJtYW5lbnQ6IDIsXG5cdFRhc2s6IDMsXG5cdFByYXhpczogNCxcblx0UHJvdmlzaW9uOiA1LFxuXHRMb2c6IDYsXG5cdFJlc291cmNlOiA3LFxuXHRNZWRpYTogOCxcblx0UHJvamVjdDogMTIsXG5cdE9yZzogOSxcblx0RG9tYWluOiAxMCxcblx0Q29tcG9uZW50OiAxMSxcbn07XG5cbmV4cG9ydCBjb25zdCBOYW1lc3BhY2UgPSB7XG5cdEFyZWE6IFwiYXJlYVwiLFxuXHRDb250ZXh0OiBcImNvbnRleHRcIixcblx0TGF5ZXI6IFwibGF5ZXJcIixcblx0T3JnOiBcIm9yZ1wiLFxuXHRQcm9qZWN0OiBcInByb2plY3RcIixcbn07XG5cbmV4cG9ydCBjb25zdCBEZWZhdWx0ID0ge1xuXHRBcmVhOiBcIm5vbmVcIixcblx0Q29udGV4dDogXCJhbnlcIixcblx0TGF5ZXI6IFwibm9uZVwiLFxuXHRPcmc6IFwibm9uZVwiLFxuXHRQcm9qZWN0OiBcIm5vbmVcIixcbn07XG4iLCAiaW1wb3J0IHZhbGlkYXRlIGZyb20gJy4vdmFsaWRhdGUuanMnO1xuXG4vKipcbiAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWFhYWFhYWFhYXG4gKi9cbnZhciBieXRlVG9IZXggPSBbXTtcbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4LnB1c2goKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnNsaWNlKDEpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1bnNhZmVTdHJpbmdpZnkoYXJyLCBvZmZzZXQgPSAwKSB7XG4gIC8vIE5vdGU6IEJlIGNhcmVmdWwgZWRpdGluZyB0aGlzIGNvZGUhICBJdCdzIGJlZW4gdHVuZWQgZm9yIHBlcmZvcm1hbmNlXG4gIC8vIGFuZCB3b3JrcyBpbiB3YXlzIHlvdSBtYXkgbm90IGV4cGVjdC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZC9wdWxsLzQzNFxuICAvL1xuICAvLyBOb3RlIHRvIGZ1dHVyZS1zZWxmOiBObywgeW91IGNhbid0IHJlbW92ZSB0aGUgYHRvTG93ZXJDYXNlKClgIGNhbGwuXG4gIC8vIFJFRjogaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkL3B1bGwvNjc3I2lzc3VlY29tbWVudC0xNzU3MzUxMzUxXG4gIHJldHVybiAoYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAzXV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA2XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDddXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA5XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDExXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEzXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE1XV0pLnRvTG93ZXJDYXNlKCk7XG59XG5mdW5jdGlvbiBzdHJpbmdpZnkoYXJyLCBvZmZzZXQgPSAwKSB7XG4gIHZhciB1dWlkID0gdW5zYWZlU3RyaW5naWZ5KGFyciwgb2Zmc2V0KTtcbiAgLy8gQ29uc2lzdGVuY3kgY2hlY2sgZm9yIHZhbGlkIFVVSUQuICBJZiB0aGlzIHRocm93cywgaXQncyBsaWtlbHkgZHVlIHRvIG9uZVxuICAvLyBvZiB0aGUgZm9sbG93aW5nOlxuICAvLyAtIE9uZSBvciBtb3JlIGlucHV0IGFycmF5IHZhbHVlcyBkb24ndCBtYXAgdG8gYSBoZXggb2N0ZXQgKGxlYWRpbmcgdG9cbiAgLy8gXCJ1bmRlZmluZWRcIiBpbiB0aGUgdXVpZClcbiAgLy8gLSBJbnZhbGlkIGlucHV0IHZhbHVlcyBmb3IgdGhlIFJGQyBgdmVyc2lvbmAgb3IgYHZhcmlhbnRgIGZpZWxkc1xuICBpZiAoIXZhbGlkYXRlKHV1aWQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKCdTdHJpbmdpZmllZCBVVUlEIGlzIGludmFsaWQnKTtcbiAgfVxuICByZXR1cm4gdXVpZDtcbn1cbmV4cG9ydCBkZWZhdWx0IHN0cmluZ2lmeTsiLCAiLy8gVW5pcXVlIElEIGNyZWF0aW9uIHJlcXVpcmVzIGEgaGlnaCBxdWFsaXR5IHJhbmRvbSAjIGdlbmVyYXRvci4gSW4gdGhlIGJyb3dzZXIgd2UgdGhlcmVmb3JlXG4vLyByZXF1aXJlIHRoZSBjcnlwdG8gQVBJIGFuZCBkbyBub3Qgc3VwcG9ydCBidWlsdC1pbiBmYWxsYmFjayB0byBsb3dlciBxdWFsaXR5IHJhbmRvbSBudW1iZXJcbi8vIGdlbmVyYXRvcnMgKGxpa2UgTWF0aC5yYW5kb20oKSkuXG5cbnZhciBnZXRSYW5kb21WYWx1ZXM7XG52YXIgcm5kczggPSBuZXcgVWludDhBcnJheSgxNik7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBybmcoKSB7XG4gIC8vIGxhenkgbG9hZCBzbyB0aGF0IGVudmlyb25tZW50cyB0aGF0IG5lZWQgdG8gcG9seWZpbGwgaGF2ZSBhIGNoYW5jZSB0byBkbyBzb1xuICBpZiAoIWdldFJhbmRvbVZhbHVlcykge1xuICAgIC8vIGdldFJhbmRvbVZhbHVlcyBuZWVkcyB0byBiZSBpbnZva2VkIGluIGEgY29udGV4dCB3aGVyZSBcInRoaXNcIiBpcyBhIENyeXB0byBpbXBsZW1lbnRhdGlvbi5cbiAgICBnZXRSYW5kb21WYWx1ZXMgPSB0eXBlb2YgY3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pO1xuICAgIGlmICghZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NyeXB0by5nZXRSYW5kb21WYWx1ZXMoKSBub3Qgc3VwcG9ydGVkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkI2dldHJhbmRvbXZhbHVlcy1ub3Qtc3VwcG9ydGVkJyk7XG4gICAgfVxuICB9XG4gIHJldHVybiBnZXRSYW5kb21WYWx1ZXMocm5kczgpO1xufSIsICJ2YXIgcmFuZG9tVVVJRCA9IHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5yYW5kb21VVUlEICYmIGNyeXB0by5yYW5kb21VVUlELmJpbmQoY3J5cHRvKTtcbmV4cG9ydCBkZWZhdWx0IHtcbiAgcmFuZG9tVVVJRFxufTsiLCAiaW1wb3J0IG5hdGl2ZSBmcm9tICcuL25hdGl2ZS5qcyc7XG5pbXBvcnQgcm5nIGZyb20gJy4vcm5nLmpzJztcbmltcG9ydCB7IHVuc2FmZVN0cmluZ2lmeSB9IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcbmZ1bmN0aW9uIHY0KG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIGlmIChuYXRpdmUucmFuZG9tVVVJRCAmJiAhYnVmICYmICFvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5hdGl2ZS5yYW5kb21VVUlEKCk7XG4gIH1cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBybmRzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTtcblxuICAvLyBQZXIgNC40LCBzZXQgYml0cyBmb3IgdmVyc2lvbiBhbmQgYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgXG4gIHJuZHNbNl0gPSBybmRzWzZdICYgMHgwZiB8IDB4NDA7XG4gIHJuZHNbOF0gPSBybmRzWzhdICYgMHgzZiB8IDB4ODA7XG5cbiAgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG4gIGlmIChidWYpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHJuZHNbaV07XG4gICAgfVxuICAgIHJldHVybiBidWY7XG4gIH1cbiAgcmV0dXJuIHVuc2FmZVN0cmluZ2lmeShybmRzKTtcbn1cbmV4cG9ydCBkZWZhdWx0IHY0OyIsICJpbXBvcnQge1xuXHRQYXRocyxcblx0U3RhdHVzLFxuXHRUeXBlcyxcblx0TmFtZXNwYWNlLFxuXHREZWZhdWx0LFxuXHRHb2FsU3RhdHVzLFxufSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gXCJ1dWlkXCI7XG5cbmV4cG9ydCBjbGFzcyBGcm9udG1hdHRlckpTIHtcblx0cHVibGljIHV1aWQ6IHN0cmluZztcblx0cHVibGljIHZlcnNpb246IHN0cmluZztcblx0cHVibGljIHR5cGU6IG51bWJlcjtcblx0cHVibGljIGNyZWF0ZWRBdDogRGF0ZTtcblx0cHVibGljIGF0OiBEYXRlO1xuXHRwdWJsaWMgYmVmb3JlOiBEYXRlO1xuXHRwdWJsaWMgYWZ0ZXI6IERhdGU7XG5cdHB1YmxpYyBjb21wb25lbnRzOiBzdHJpbmdbXTtcblx0cHVibGljIGRvbWFpbnM6IHN0cmluZ1tdO1xuXHRwdWJsaWMgbmFtZXM6IHN0cmluZ1tdO1xuXHRwdWJsaWMgcHJvamVjdHM6IHN0cmluZ1tdO1xuXHRwdWJsaWMgZm07XG5cdHB1YmxpYyBjb250ZW50czogc3RyaW5nW107XG5cdHB1YmxpYyB0cmFpdHM6IHN0cmluZ1tdO1xuXHRwdWJsaWMgY29udGV4dHM6IHN0cmluZ1tdO1xuXHRwdWJsaWMgc3RhdHVzOiBzdHJpbmc7XG5cdHB1YmxpYyBmO1xuXHRwdWJsaWMgZW5lcmd5OiBudW1iZXI7XG5cblx0c2luZ3VsYXIodmFsdWVzOiBzdHJpbmdbXSwgZmllbGQ6IHN0cmluZykge1xuXHRcdGlmICghSGVscGVyLm5pbENoZWNrKHRoaXMuZm1bZmllbGRdKSkge1xuXHRcdFx0Y29uc3QgdmFsdWUgPSB0aGlzLmZtW2ZpZWxkXTtcblx0XHRcdGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0aWYgKCF2YWx1ZXMuY29udGFpbnModmFsdWUpKSB7XG5cdFx0XHRcdFx0dmFsdWVzLnB1c2godmFsdWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcdFx0YCcke2ZpZWxkfScgaXMgaWdub3JlZCwgaW52YWxpZCBkYXRhLXR5cGU6ICcke3R5cGVvZiB0aGlzLmZtW2ZpZWxkXX0nYCxcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRwbHVyYWwodmFsdWVzOiBzdHJpbmdbXSwgZmllbGQ6IHN0cmluZykge1xuXHRcdGlmICghSGVscGVyLm5pbENoZWNrKHRoaXMuZm1bZmllbGRdKSkge1xuXHRcdFx0aWYgKCFBcnJheS5pc0FycmF5KHRoaXMuZm1bZmllbGRdKSkge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcdFx0YCcke2ZpZWxkfScgaXMgaWdub3JlZCwgaW52YWxpZCBkYXRhLXR5cGU6ICcke2ZpZWxkfSdgLFxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9yIChjb25zdCB2YWx1ZSBvZiB0aGlzLmZtW2ZpZWxkXSkge1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0XHRcdGlmICghdmFsdWVzLmNvbnRhaW5zKHZhbHVlKSkge1xuXHRcdFx0XHRcdFx0XHR2YWx1ZXMucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUud2Fybihcblx0XHRcdFx0XHRcdFx0YCcke3ZhbHVlfXMuJHt2YWx1ZX0nIGlzIGlnbm9yZWQsIGludmFsaWQgZGF0YS10eXBlOiAnJHt0eXBlb2YgdmFsdWV9J2AsXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGNvbnN0cnVjdG9yKHBhZ2UpIHtcblx0XHRBc3NlcnQuVHJ1ZShwYWdlICE9PSB1bmRlZmluZWQsIFwiJ3BhZ2UnIGlzIHVuZGVmaW5lZFwiKTtcblx0XHR0aGlzLmYgPSBwYWdlLmZpbGU7XG5cdFx0Y29uc3QgZiA9IHRoaXMuZjtcblx0XHRBc3NlcnQuVHJ1ZShmICE9PSB1bmRlZmluZWQsIFwiJ2YnIGlzIHVuZGVmaW5lZFwiKTtcblx0XHR0aGlzLmZtID0gZi5mcm9udG1hdHRlcjtcblx0XHRBc3NlcnQuVHJ1ZSh0aGlzLmZtICE9PSB1bmRlZmluZWQsIFwiJ2ZtJyBpcyB1bmRlZmluZWRcIik7XG5cdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHR0aGlzLmZtLnV1aWQgIT09IHVuZGVmaW5lZCxcblx0XHRcdGAndXVpZCcgaXMgdW5kZWZpbmVkIGZvciAnJHt0aGlzLmYucGF0aH0nYCxcblx0XHQpO1xuXHRcdC8vIEFzc2VydC5UcnVlKHRoaXMuZm0udmVyc2lvbiAhPT0gdW5kZWZpbmVkLCBcIid2ZXJzaW9uJyBpcyB1bmRlZmluZWRcIik7XG5cdFx0Ly8gQXNzZXJ0LlRydWUoZm0uY3JlYXRlZF9hdCAhPT0gdW5kZWZpbmVkLCBcIidjcmVhdGVkX2F0JyBpcyB1bmRlZmluZWRcIik7XG5cblx0XHR0aGlzLnV1aWQgPSB0aGlzLmZtLnV1aWQ7XG5cdFx0dGhpcy52ZXJzaW9uID0gdGhpcy5mbS52ZXJzaW9uO1xuXHRcdHRoaXMudHlwZSA9IHRoaXMuZm0udHlwZTtcblx0XHR0aGlzLmNyZWF0ZWRBdCA9IG5ldyBEYXRlKHRoaXMuZm0uY3JlYXRlZF9hdCk7XG5cdFx0dGhpcy5hdCA9IHRoaXMuZm0uYXQgIT09IHVuZGVmaW5lZCA/IG5ldyBEYXRlKHRoaXMuZm0uYXQpIDogbmV3IERhdGUoKTtcblx0XHR0aGlzLmJlZm9yZSA9XG5cdFx0XHR0aGlzLmZtLmJlZm9yZSAhPT0gdW5kZWZpbmVkXG5cdFx0XHRcdD8gbmV3IERhdGUodGhpcy5mbS5iZWZvcmUpXG5cdFx0XHRcdDogbmV3IERhdGUoKTtcblx0XHR0aGlzLmFmdGVyID1cblx0XHRcdHRoaXMuZm0uYWZ0ZXIgIT09IHVuZGVmaW5lZCA/IG5ldyBEYXRlKHRoaXMuZm0uYWZ0ZXIpIDogbmV3IERhdGUoKTtcblx0XHR0aGlzLmNvbXBvbmVudHMgPSBbXTtcblx0XHR0aGlzLmRvbWFpbnMgPSBbXTtcblx0XHR0aGlzLnByb2plY3RzID0gW107XG5cdFx0dGhpcy5jb250ZXh0cyA9IFtdO1xuXHRcdHRoaXMudHJhaXRzID0gW107XG5cdFx0dGhpcy5lbmVyZ3kgPSB0aGlzLmZtLmVuZXJneSAhPT0gdW5kZWZpbmVkID8gdGhpcy5mbS5lbmVyZ3kgOiA5O1xuXG5cdFx0Y29uc3QgZG9tYWlucyA9IFtdO1xuXHRcdGNvbnN0IGNvbXBvbmVudHMgPSBbXTtcblx0XHRjb25zdCBwcm9qZWN0cyA9IFtdO1xuXHRcdGNvbnN0IG5hbWVzID0gW107XG5cdFx0Y29uc3QgY29udGV4dHMgPSBbXTtcblx0XHRjb25zdCBjb250ZW50cyA9IFtdO1xuXHRcdGNvbnN0IHRyYWl0cyA9IFtdO1xuXG5cdFx0aWYgKCFIZWxwZXIubmlsQ2hlY2sodGhpcy5mbS50YWdzKSkge1xuXHRcdFx0aWYgKCFBcnJheS5pc0FycmF5KHRoaXMuZm0udGFncykpIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKFwiJ3RhZ3MnIGlzIGlnbm9yZWQsIGludmFsaWQgZGF0YS10eXBlXCIpO1xuXHRcdFx0XHR0aGlzLmZtLnRhZ3MgPSBbXTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yIChjb25zdCB0YWcgb2YgdGhpcy5mbS50YWdzKSB7XG5cdFx0XHRcdGlmICh0YWcuc2xpY2UoMCwgNykgPT09IFwiZG9tYWluL1wiKSB7XG5cdFx0XHRcdFx0ZG9tYWlucy5wdXNoKHRhZy5zbGljZSg3KSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAodGFnLnNsaWNlKDAsIDEwKSA9PT0gXCJjb21wb25lbnQvXCIpIHtcblx0XHRcdFx0XHRjb21wb25lbnRzLnB1c2godGFnLnNsaWNlKDEwKSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAodGFnLnNsaWNlKDAsIDgpID09PSBcInByb2plY3QvXCIpIHtcblx0XHRcdFx0XHRwcm9qZWN0cy5wdXNoKHRhZy5zbGljZSg4KSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAodGFnLnNsaWNlKDAsIDUpID09PSBcIm5hbWUvXCIpIHtcblx0XHRcdFx0XHRuYW1lcy5wdXNoKHRhZy5zbGljZSg1KSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAodGFnLnNsaWNlKDAsIDgpID09IFwiY29udGV4dC9cIikge1xuXHRcdFx0XHRcdGNvbnRleHRzLnB1c2godGFnLnNsaWNlKDgpKTtcblx0XHRcdFx0fSBlbHNlIGlmICh0YWcuc2xpY2UoMCwgOCkgPT0gXCJjb250ZW50L1wiKSB7XG5cdFx0XHRcdFx0Y29udGVudHMucHVzaCh0YWcuc2xpY2UoOCkpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHRhZy5zbGljZSgwLCA2KSA9PSBcInRyYWl0L1wiKSB7XG5cdFx0XHRcdFx0dHJhaXRzLnB1c2godGFnLnNsaWNlKDYpKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuc2luZ3VsYXIoZG9tYWlucywgXCJkb21haW5cIik7XG5cdFx0dGhpcy5wbHVyYWwoZG9tYWlucywgXCJkb21haW5zXCIpO1xuXHRcdHRoaXMuc2luZ3VsYXIoY29tcG9uZW50cywgXCJjb21wb25lbnRzXCIpO1xuXHRcdHRoaXMucGx1cmFsKGNvbXBvbmVudHMsIFwiY29tcG9uZW50c1wiKTtcblx0XHR0aGlzLnNpbmd1bGFyKHByb2plY3RzLCBcInByb2plY3RcIik7XG5cdFx0dGhpcy5wbHVyYWwocHJvamVjdHMsIFwicHJvamVjdHNcIik7XG5cdFx0dGhpcy5zaW5ndWxhcihjb250ZW50cywgXCJjb250ZW50c1wiKTtcblx0XHR0aGlzLnBsdXJhbChjb250ZW50cywgXCJjb250ZW50c1wiKTtcblx0XHR0aGlzLnNpbmd1bGFyKG5hbWVzLCBcIm5hbWVcIik7XG5cdFx0dGhpcy5wbHVyYWwobmFtZXMsIFwibmFtZXNcIik7XG5cdFx0dGhpcy5wbHVyYWwobmFtZXMsIFwiYWxpYXNcIik7XG5cdFx0dGhpcy5zaW5ndWxhcih0cmFpdHMsIFwidHJhaXRcIik7XG5cdFx0dGhpcy5wbHVyYWwodHJhaXRzLCBcInRyYWl0c1wiKTtcblxuXHRcdHRoaXMuZG9tYWlucyA9IGRvbWFpbnM7XG5cdFx0dGhpcy5jb21wb25lbnRzID0gY29tcG9uZW50cztcblx0XHR0aGlzLnByb2plY3RzID0gcHJvamVjdHM7XG5cdFx0dGhpcy5uYW1lcyA9IG5hbWVzO1xuXHRcdHRoaXMuY29udGV4dHMgPSBjb250ZXh0cztcblx0XHR0aGlzLmNvbnRlbnRzID0gY29udGVudHM7XG5cdFx0dGhpcy50cmFpdHMgPSB0cmFpdHM7XG5cdH1cblxuXHRnZXREb21haW4oZW1wdHlEZWZhdWx0ID0gdHJ1ZSk6IHN0cmluZyB7XG5cdFx0aWYgKGVtcHR5RGVmYXVsdCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZG9tYWluc1swXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHRoaXMuZG9tYWluc1swXSA9PT0gdW5kZWZpbmVkID8gXCJ1bmtub3duXCIgOiB0aGlzLmRvbWFpbnNbMF07XG5cdFx0fVxuXHR9XG5cblx0Z2V0RG9tYWlucygpOiBzdHJpbmdbXSB7XG5cdFx0cmV0dXJuIHRoaXMuZG9tYWlucztcblx0fVxuXG5cdGdldFRyYWl0cygpOiBzdHJpbmdbXSB7XG5cdFx0cmV0dXJuIHRoaXMudHJhaXRzO1xuXHR9XG5cblx0Z2V0Q29tcG9uZW50cygpOiBzdHJpbmdbXSB7XG5cdFx0cmV0dXJuIHRoaXMuY29tcG9uZW50cztcblx0fVxuXG5cdGdldFByb2plY3QoZW1wdHlEZWZhdWx0ID0gdHJ1ZSk6IHN0cmluZyB7XG5cdFx0aWYgKGVtcHR5RGVmYXVsdCkge1xuXHRcdFx0cmV0dXJuIHRoaXMucHJvamVjdHNbMF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB0aGlzLnByb2plY3RzWzBdID09PSB1bmRlZmluZWQgPyBcIlwiIDogdGhpcy5wcm9qZWN0c1swXTtcblx0XHR9XG5cdH1cblxuXHRnZXRQcm9qZWN0cygpOiBzdHJpbmdbXSB7XG5cdFx0cmV0dXJuIHRoaXMucHJvamVjdHM7XG5cdH1cblxuXHRnZXROYW1lKGVtcHR5RGVmYXVsdCA9IHRydWUpOiBzdHJpbmcge1xuXHRcdGlmIChlbXB0eURlZmF1bHQpIHtcblx0XHRcdHJldHVybiB0aGlzLm5hbWVzWzBdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5uYW1lc1swXSA9PT0gdW5kZWZpbmVkID8gXCJcIiA6IHRoaXMubmFtZXNbMF07XG5cdFx0fVxuXHR9XG5cblx0Z2V0Q29udGVudChlbXB0eURlZmF1bHQgPSB0cnVlKTogc3RyaW5nIHtcblx0XHRpZiAoZW1wdHlEZWZhdWx0KSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jb250ZW50c1swXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHRoaXMuY29udGVudHNbMF0gPT09IHVuZGVmaW5lZCA/IFwiXCIgOiB0aGlzLmNvbnRlbnRzWzBdO1xuXHRcdH1cblx0fVxuXG5cdGdldE5hbWVzKCk6IHN0cmluZ1tdIHtcblx0XHRyZXR1cm4gdGhpcy5uYW1lcztcblx0fVxuXG5cdGdldENvbnRleHQoZW1wdHlEZWZhdWx0ID0gdHJ1ZSk6IHN0cmluZyB7XG5cdFx0aWYgKGVtcHR5RGVmYXVsdCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuY29udGV4dHNbMF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB0aGlzLmNvbnRleHRzWzBdID09PSB1bmRlZmluZWQgPyBcIlwiIDogdGhpcy5jb250ZXh0c1swXTtcblx0XHR9XG5cdH1cblxuXHRyZXNvbHZlKGR2KSB7XG5cdFx0Y29uc3QgZG9tYWlucyA9IFtdO1xuXHRcdGZvciAoY29uc3QgZG9tYWluIG9mIHRoaXMuZG9tYWlucykge1xuXHRcdFx0aWYgKEhlbHBlci5pc1VVSUQoZG9tYWluKSkge1xuXHRcdFx0XHRjb25zdCBwYWdlcyA9IGR2XG5cdFx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuRG9tYWluc31cImApXG5cdFx0XHRcdFx0LndoZXJlKChwYWdlKSA9PiBwYWdlLmZpbGUuZnJvbnRtYXR0ZXIudXVpZCA9PT0gZG9tYWluKTtcblx0XHRcdFx0aWYgKHBhZ2VzLmxlbmd0aCA+IDEpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoKTtcblx0XHRcdFx0fSBlbHNlIGlmIChwYWdlcy5sZW5ndGggPT09IDEpIHtcblx0XHRcdFx0XHRjb25zdCBwYWdlID0gcGFnZXNbMF07XG5cdFx0XHRcdFx0ZG9tYWlucy5wdXNoKHBhZ2UuZmlsZS5mcm9udG1hdHRlci5uYW1lKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc3QgcGFnZXMgPSBkdlxuXHRcdFx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLkRvbWFpbnN9XCJgKVxuXHRcdFx0XHRcdC53aGVyZSgocGFnZSkgPT4gcGFnZS5maWxlLmZyb250bWF0dGVyLm5hbWUgPT09IGRvbWFpbik7XG5cdFx0XHRcdGlmIChwYWdlcy5sZW5ndGggPiAxKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCk7XG5cdFx0XHRcdH0gZWxzZSBpZiAocGFnZXMubGVuZ3RoID09PSAxKSB7XG5cdFx0XHRcdFx0Y29uc3QgcGFnZSA9IHBhZ2VzWzBdO1xuXHRcdFx0XHRcdGRvbWFpbnMucHVzaChwYWdlLmZpbGUuZnJvbnRtYXR0ZXIubmFtZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKGRvbWFpbnMubGVuZ3RoICE9PSB0aGlzLmRvbWFpbnMubGVuZ3RoKSB7XG5cdFx0XHRjb25zb2xlLndhcm4oYERvbWFpbiByZXNvbHV0aW9uIGZhaWxlZCBmb3I6ICR7dGhpcy5kb21haW5zfWApO1xuXHRcdH1cblxuXHRcdHRoaXMuZG9tYWlucyA9IGRvbWFpbnM7XG5cdH1cbn1cblxuY2xhc3MgVmFsaWRhdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuXHRjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG5cdFx0c3VwZXIobWVzc2FnZSk7IC8vICgxKVxuXHRcdHRoaXMubmFtZSA9IFwiVmFsaWRhdGlvbkVycm9yXCI7IC8vICgyKVxuXHR9XG59XG5cbmV4cG9ydCBjb25zdCBBc3NlcnQgPSB7XG5cdFRydWUocHJlZGljYXRlOiBib29sZWFuLCBtZXNzYWdlOiBzdHJpbmcsIHN0cmljdCA9IHRydWUpIHtcblx0XHRpZiAoIXByZWRpY2F0ZSkge1xuXHRcdFx0aWYgKHN0cmljdCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKG1lc3NhZ2UpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihtZXNzYWdlKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cdEZhbHNlKHByZWRpY2F0ZTogYm9vbGVhbiwgbWVzc2FnZTogc3RyaW5nLCBzdHJpY3QgPSBmYWxzZSkge1xuXHRcdGlmIChwcmVkaWNhdGUpIHtcblx0XHRcdGlmIChzdHJpY3QpIHtcblx0XHRcdFx0dGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihtZXNzYWdlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxufTtcblxuZXhwb3J0IGNvbnN0IEhlbHBlciA9IHtcblx0bmlsQ2hlY2sodmFsOiBhbnkpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdmFsID09PSB1bmRlZmluZWQgfHwgdmFsID09PSBudWxsO1xuXHR9LFxuXG5cdGdldEtleUZ1Y2soZ3JvdXBCeSkge1xuXHRcdHN3aXRjaCAoZ3JvdXBCeSkge1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdGNhc2UgXCJkb25lQXRcIjpcblx0XHRcdFx0cmV0dXJuIChlbnRyeSkgPT5cblx0XHRcdFx0XHRlbnRyeS5maWxlLmZyb250bWF0dGVyLmRvbmVBdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwiY3JlYXRlZEF0XCI6XG5cdFx0XHRcdHJldHVybiAoZW50cnkpID0+XG5cdFx0XHRcdFx0ZW50cnkuZmlsZS5mcm9udG1hdHRlci5jcmVhdGVkQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcInByb2plY3RcIjpcblx0XHRcdFx0cmV0dXJuIChlbnRyeSkgPT4gZW50cnkuZmlsZS5mcm9udG1hdHRlci5wcm9qZWN0O1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgXCJhcmVhXCI6XG5cdFx0XHRcdHJldHVybiAoZW50cnkpID0+IGVudHJ5LmZpbGUuZnJvbnRtYXR0ZXIuYXJlYTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9LFxuXG5cdGdldEtleShncm91cEJ5KSB7XG5cdFx0c3dpdGNoIChncm91cEJ5KSB7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0Y2FzZSBcImRvbmVBdFwiOlxuXHRcdFx0XHRyZXR1cm4gKGVudHJ5KSA9PiBlbnRyeS5kb25lQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcImNyZWF0ZWRBdFwiOlxuXHRcdFx0XHRyZXR1cm4gKGVudHJ5KSA9PiBlbnRyeS5jcmVhdGVkQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcInByb2plY3RcIjpcblx0XHRcdFx0cmV0dXJuIChlbnRyeSkgPT4gZW50cnkucHJvamVjdDtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwiYXJlYVwiOlxuXHRcdFx0XHRyZXR1cm4gKGVudHJ5KSA9PiBlbnRyeS5hcmVhO1xuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cdH0sXG5cblx0bnVtYmVyVHlwZVRvU3RyaW5nKHZhbCk6IHN0cmluZyB7XG5cdFx0c3dpdGNoICh2YWwudHlwZSkge1xuXHRcdFx0Y2FzZSBUeXBlcy5GbGVldGluZzpcblx0XHRcdFx0cmV0dXJuIFwiZmxlZXRpbmdcIjtcblx0XHRcdGNhc2UgVHlwZXMuTG9nOlxuXHRcdFx0XHRyZXR1cm4gXCJsb2dcIjtcblx0XHRcdGNhc2UgVHlwZXMuUHJvamVjdDpcblx0XHRcdFx0cmV0dXJuIFwicHJvamVjdFwiO1xuXHRcdFx0Y2FzZSBUeXBlcy5Pcmc6XG5cdFx0XHRcdHJldHVybiBcIm9yZ1wiO1xuXHRcdFx0Y2FzZSBUeXBlcy5Eb21haW46XG5cdFx0XHRcdHJldHVybiBcImRvbWFpblwiO1xuXHRcdFx0Y2FzZSBUeXBlcy5Db21wb25lbnQ6XG5cdFx0XHRcdHJldHVybiBcImNvbXBvbmVudFwiO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdGBudW1iZXJUeXBlVG9TdHJpbmc6IHR5cGU6IFwiJHt2YWwudHlwZX1cIiBub3QgaW1wbGVtZW50ZWQgXCIke3ZhbC51dWlkfVwiYCxcblx0XHRcdFx0KTtcblx0XHR9XG5cdH0sXG5cblx0cm91bmRUb09uZURlY2ltYWwodmFsOiBudW1iZXIpOiBudW1iZXIge1xuXHRcdHJldHVybiBNYXRoLnJvdW5kKHZhbCAqIDEwKSAvIDEwO1xuXHR9LFxuXG5cdGlzQ2hpbGRUYWcocGFyZW50LCBjaGlsZCkge1xuXHRcdGlmIChjaGlsZC5sZW5ndGggPD0gcGFyZW50Lmxlbmd0aCArIDEpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9IGVsc2UgaWYgKGNoaWxkLnNsaWNlKDAsIHBhcmVudC5sZW5ndGggKyAxKSAhPSBgJHtwYXJlbnR9L2ApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0Z2V0RmllbGQoZmllbGQsIGRlZmF1bHRWYWx1ZSkge1xuXHRcdGlmIChmaWVsZCA9PT0gdW5kZWZpbmVkIHx8IGZpZWxkID09PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gZGVmYXVsdFZhbHVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gZmllbGQ7XG5cdFx0fVxuXHR9LFxuXG5cdGdldERhdGUoZHQpIHtcblx0XHRpZiAoZHQgPT09IFwiXCIgfHwgZHQgPT09IG51bGwpIHtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fSBlbHNlIGlmIChkdCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRkdCA9IG5ldyBEYXRlKGR0KTtcblx0XHRcdGlmIChpc05hTihkdCkpIHtcblx0XHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBkdDtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cdH0sXG5cblx0Z2V0VGFnKGZtLCB0eXBlLCBlbXB0eURlZmF1bHQgPSB1bmRlZmluZWQpIHtcblx0XHRsZXQgbmFtZSA9IFwiXCI7XG5cdFx0bGV0IGRlZmF1bHRWYWx1ZSA9IFwiXCI7XG5cblx0XHRpZiAodHlwZSA9PT0gXCJhcmVhXCIpIHtcblx0XHRcdG5hbWUgPSBOYW1lc3BhY2UuQXJlYTtcblx0XHRcdGRlZmF1bHRWYWx1ZSA9IERlZmF1bHQuQXJlYTtcblx0XHR9IGVsc2UgaWYgKHR5cGUgPT09IFwiY29udGV4dFwiKSB7XG5cdFx0XHRuYW1lID0gTmFtZXNwYWNlLkNvbnRleHQ7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSBEZWZhdWx0LkNvbnRleHQ7XG5cdFx0fSBlbHNlIGlmICh0eXBlID09PSBcImxheWVyXCIpIHtcblx0XHRcdG5hbWUgPSBOYW1lc3BhY2UuTGF5ZXI7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSBEZWZhdWx0LkxheWVyO1xuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gXCJvcmdcIikge1xuXHRcdFx0bmFtZSA9IE5hbWVzcGFjZS5Pcmc7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSBEZWZhdWx0Lk9yZztcblx0XHR9IGVsc2UgaWYgKHR5cGUgPT09IFwicHJvamVjdFwiKSB7XG5cdFx0XHRuYW1lID0gTmFtZXNwYWNlLlByb2plY3Q7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSBEZWZhdWx0LlByb2plY3Q7XG5cdFx0fSBlbHNlIGlmICh0eXBlID09IFwiZG9tYWluXCIpIHtcblx0XHRcdG5hbWUgPSBcImRvbWFpblwiO1xuXHRcdFx0ZGVmYXVsdFZhbHVlID0gXCJub25lXCI7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgZ2V0VGFnIGdvdCB1bnN1cG9ydGVkIHR5cGU6ICcke3R5cGV9J2ApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGxlbiA9IG5hbWUubGVuZ3RoICsgMTtcblx0XHRjb25zdCBkZWZhdWx0VGFnID0gYCR7bmFtZX0vJHtkZWZhdWx0VmFsdWV9YDtcblxuXHRcdGxldCBkZWZhdWx0UmV0VmFsID0gZGVmYXVsdFRhZztcblx0XHRpZiAoZW1wdHlEZWZhdWx0KSB7XG5cdFx0XHRkZWZhdWx0UmV0VmFsID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gZGVmYXVsdFJldFZhbDtcblx0XHR9XG5cblx0XHRjb25zdCB0YWdzID0gZm0udGFncztcblx0XHRpZiAodGFncyA9PT0gdW5kZWZpbmVkIHx8IHRhZ3MubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gZGVmYXVsdFJldFZhbDtcblx0XHR9XG5cdFx0Ly8gLT4gdGFnIG4nZXhpc3RlIHBhcyAtPiB2YWxldXIgcGFyIGRlZmF1dFxuXHRcdC8vIC0+IHRhZyBleGlzdGUgbWFpcyBpbCBhIHVuZSB2YWxldXIgcGFyIGRlZmF1dCAtPiB2YWxldXIgcGFyIGRlZmF1dFxuXHRcdGZvciAoY29uc3QgdGFnIG9mIHRhZ3MpIHtcblx0XHRcdGlmICh0YWcgPT0gZGVmYXVsdFRhZykge1xuXHRcdFx0XHRyZXR1cm4gZGVmYXVsdFJldFZhbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRhZy5sZW5ndGggPiBsZW4gJiYgdGFnLnNsaWNlKDAsIGxlbikgPT0gYCR7bmFtZX0vYCkge1xuXHRcdFx0XHRyZXR1cm4gdGFnO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBkZWZhdWx0UmV0VmFsO1xuXHR9LFxuXG5cdGdldE5hbWUoZm0pOiBzdHJpbmcge1xuXHRcdGNvbnN0IGNvbXBvbmVudHMgPSBIZWxwZXIuZ2V0Q29tcG9uZW50cyhmbSk7XG5cdFx0aWYgKGNvbXBvbmVudHMubGVuZ3RoIDwgMSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBIZWxwZXIuZ2V0TmFtZSgpICR7Zm19YCk7XG5cdFx0fVxuXG5cdFx0bGV0IG5hbWUgPSB1bmRlZmluZWQ7XG5cdFx0bGV0IG9jY3VyZW5jZXMgPSAwO1xuXHRcdGZvciAoY29uc3QgY29tcG9uZW50IG9mIGNvbXBvbmVudHMpIHtcblx0XHRcdGlmIChjb21wb25lbnQuc2xpY2UoMCwgMTUpID09PSBcImNvbXBvbmVudC9uYW1lL1wiKSB7XG5cdFx0XHRcdG5hbWUgPSBjb21wb25lbnQuc2xpY2UoMTUpO1xuXHRcdFx0XHRvY2N1cmVuY2VzICs9IDE7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKG9jY3VyZW5jZXMgPiAxKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdGBIZWxwZXIuZ2V0TmFtZSgpICR7Zm19IG11bHRpcGxlIG9jY3VyZW5jZXMgb2YgJ2NvbXBvbmVudC9uYW1lJ2AsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGlmIChuYW1lID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0YEhlbHBlci5nZXROYW1lKCkgJHtmbX0gJ2NvbXBvbmVudC9uYW1lJyB1bmRlZmluZWRgLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbmFtZTtcblx0fSxcblxuXHRnZXRDb21wb25lbnRzKGZtKSB7XG5cdFx0Y29uc3QgY29tcG9uZW50cyA9IFtdO1xuXHRcdGlmIChIZWxwZXIubmlsQ2hlY2soZm0udGFncykpIHtcblx0XHRcdHJldHVybiBbXTtcblx0XHR9XG5cdFx0Zm9yIChjb25zdCB0YWcgb2YgZm0udGFncykge1xuXHRcdFx0aWYgKHRhZy5sZW5ndGggPiAxMCAmJiB0YWcuc2xpY2UoMCwgMTApID09PSBcImNvbXBvbmVudC9cIikge1xuXHRcdFx0XHRjb21wb25lbnRzLnB1c2godGFnKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGNvbXBvbmVudHM7XG5cdH0sXG5cblx0Z2V0QXJlYShmbSwgZW1wdHlEZWZhdWx0ID0gZmFsc2UpIHtcblx0XHRyZXR1cm4gSGVscGVyLmdldFRhZyhmbSwgXCJhcmVhXCIsIGVtcHR5RGVmYXVsdCk7XG5cdH0sXG5cblx0Z2V0Q29udGV4dChmbSwgZW1wdHlEZWZhdWx0ID0gZmFsc2UpIHtcblx0XHRyZXR1cm4gSGVscGVyLmdldFRhZyhmbSwgXCJjb250ZXh0XCIsIGVtcHR5RGVmYXVsdCk7XG5cdH0sXG5cblx0Z2V0RG9tYWluKGZtLCBlbXB0eURlZmF1bHQgPSBmYWxzZSkge1xuXHRcdHJldHVybiBIZWxwZXIuZ2V0VGFnKGZtLCBcImRvbWFpblwiLCBlbXB0eURlZmF1bHQpO1xuXHR9LFxuXG5cdGdldExheWVyKGZtLCBlbXB0eURlZmF1bHQgPSBmYWxzZSkge1xuXHRcdHJldHVybiBIZWxwZXIuZ2V0VGFnKGZtLCBcImxheWVyXCIsIGVtcHR5RGVmYXVsdCk7XG5cdH0sXG5cblx0Z2V0T3JnKGZtLCBlbXB0eURlZmF1bHQgPSBmYWxzZSkge1xuXHRcdHJldHVybiBIZWxwZXIuZ2V0VGFnKGZtLCBcIm9yZ1wiLCBlbXB0eURlZmF1bHQpO1xuXHR9LFxuXG5cdGdldFByb2plY3QoZm0sIGVtcHR5RGVmYXVsdCA9IGZhbHNlKSB7XG5cdFx0cmV0dXJuIEhlbHBlci5nZXRUYWcoZm0sIFwicHJvamVjdFwiLCBlbXB0eURlZmF1bHQpO1xuXHR9LFxuXG5cdGR1cmF0aW9uU3RyaW5nVG9TZWModmFsKSB7XG5cdFx0aWYgKHZhbCA9PT0gdW5kZWZpbmVkIHx8IHZhbC5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblx0XHRjb25zdCBtdWx0ID0gdmFsLnNsaWNlKC0xKTtcblx0XHRsZXQgbSA9IDA7XG5cdFx0aWYgKG11bHQgPT09IFwiaFwiKSB7XG5cdFx0XHRtID0gNjAgKiA2MDtcblx0XHR9IGVsc2UgaWYgKG11bHQgPT09IFwibVwiKSB7XG5cdFx0XHRtID0gNjA7XG5cdFx0fSBlbHNlIGlmIChtdWx0ID09PSBcImRcIikge1xuXHRcdFx0bSA9IDI0ICogNjAgKiA2MDtcblx0XHR9IGVsc2UgaWYgKG11bHQgPT0gXCJ3XCIpIHtcblx0XHRcdG0gPSAyNCAqIDYwICogNjAgKiA3O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLndhcm4oYFVuaGFuZGxlZCBjYXNlIHZhbDogJHt2YWx9YCk7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdHJldHVybiBtICogcGFyc2VJbnQodmFsLnNsaWNlKDAsIC0xKSk7XG5cdH0sXG5cblx0bXNlY1RvU3RyaW5nRHVyYXRpb24odmFsOiBudW1iZXIpIHtcblx0XHRjb25zdCBvbmVIb3VySW5Nc2VjID0gMzYwMDAwMDsgLy8gMSBob3VyIGluIG1zZWNcblx0XHRjb25zdCBvbmVEYXlJbk1zZWMgPSA4NjQwMDAwMDsgLy8gMSBkYXkgaW4gbXNlY1xuXHRcdGlmICh2YWwgPj0gMjQgKiBvbmVIb3VySW5Nc2VjKSB7XG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRTdHJpbmcoSGVscGVyLnJvdW5kVG9PbmVEZWNpbWFsKHZhbCAvIG9uZURheUluTXNlYykpLnBhZFN0YXJ0KFxuXHRcdFx0XHRcdDIsXG5cdFx0XHRcdFx0XCIwXCIsXG5cdFx0XHRcdCkgKyBcIiBkXCJcblx0XHRcdCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFN0cmluZyhIZWxwZXIucm91bmRUb09uZURlY2ltYWwodmFsIC8gb25lSG91ckluTXNlYykpLnBhZFN0YXJ0KFxuXHRcdFx0XHRcdDIsXG5cdFx0XHRcdFx0XCIwXCIsXG5cdFx0XHRcdCkgKyBcIiBoXCJcblx0XHRcdCk7XG5cdFx0fVxuXHR9LFxuXG5cdGlzVVVJRCh2YWw6IHN0cmluZyk6IGJvb2xlYW4ge1xuXHRcdGlmICh0eXBlb2YgdmFsICE9PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiB2YWwubGVuZ3RoID09PSAzNjtcblx0fSxcblxuXHRzb3J0QnlBZ2UoYSwgYikge1xuXHRcdGNvbnN0IGZtQSA9IG5ldyBGcm9udG1hdHRlckpTKGEpO1xuXHRcdGNvbnN0IGZtQiA9IG5ldyBGcm9udG1hdHRlckpTKGIpO1xuXG5cdFx0cmV0dXJuIGZtQS5jcmVhdGVkQXQuZ2V0VGltZSgpIC0gZm1CLmNyZWF0ZWRBdC5nZXRUaW1lKCk7XG5cdH0sXG5cblx0c29ydEJ5UHJpb3JpdHkoYSwgYikge1xuXHRcdGNvbnN0IGZtQSA9IG5ldyBGcm9udG1hdHRlckpTKGEpO1xuXHRcdGNvbnN0IGZtQiA9IG5ldyBGcm9udG1hdHRlckpTKGIpO1xuXG5cdFx0cmV0dXJuIGZtQi5mbS5wcmlvcml0eSAtIGZtQS5mbS5wcmlvcml0eTtcblx0fSxcblxuXHRzb3J0QnlQcmlvcml0eUFuZEFnZShhLCBiKSB7XG5cdFx0Y29uc3QgZm1BID0gbmV3IEZyb250bWF0dGVySlMoYSk7XG5cdFx0Y29uc3QgZm1CID0gbmV3IEZyb250bWF0dGVySlMoYik7XG5cblx0XHRpZiAoZm1BLmZtLnByaW9yaXR5ICE9PSBmbUIuZm0ucHJpb3JpdHkucHJpb3JpdHkpIHtcblx0XHRcdHJldHVybiBIZWxwZXIuc29ydEJ5UHJpb3JpdHkoYSwgYik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBIZWxwZXIuc29ydEJ5QWdlKGEsIGIpO1xuXHRcdH1cblx0fSxcblxuXHRzb3J0QnlEdXJhdGlvbihhLCBiKSB7XG5cdFx0Y29uc3QgZm1BID0gbmV3IEZyb250bWF0dGVySlMoYSk7XG5cdFx0Y29uc3QgZm1CID0gbmV3IEZyb250bWF0dGVySlMoYik7XG5cdFx0cmV0dXJuIChcblx0XHRcdEhlbHBlci5kdXJhdGlvblN0cmluZ1RvU2VjKGZtQS5mbS50aW1lX2VzdGltYXRlKSAtXG5cdFx0XHRIZWxwZXIuZHVyYXRpb25TdHJpbmdUb1NlYyhmbUIuZm0udGltZV9lc3RpbWF0ZSlcblx0XHQpO1xuXHR9LFxuXG5cdHNvcnRCeVByaW9yaXR5QW5kRHVyYXRpb24oYSwgYikge1xuXHRcdGNvbnN0IGZtQSA9IG5ldyBGcm9udG1hdHRlckpTKGEpO1xuXHRcdGNvbnN0IGZtQiA9IG5ldyBGcm9udG1hdHRlckpTKGIpO1xuXG5cdFx0aWYgKGZtQS5mbS5wcmlvcml0eSAhPT0gZm1CLmZtLnByaW9yaXR5KSB7XG5cdFx0XHRyZXR1cm4gSGVscGVyLnNvcnRCeVByaW9yaXR5KGEsIGIpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gSGVscGVyLnNvcnRCeUR1cmF0aW9uKGEsIGIpO1xuXHRcdH1cblx0fSxcblxuXHRzb3J0QnlQcmlvcml0eUFuZER1cmF0aW9uQW5kQWdlKGEsIGIpIHtcblx0XHRjb25zdCBmbUEgPSBuZXcgRnJvbnRtYXR0ZXJKUyhhKTtcblx0XHRjb25zdCBmbUIgPSBuZXcgRnJvbnRtYXR0ZXJKUyhiKTtcblxuXHRcdGlmIChmbUEuZm0ucHJpb3JpdHkgIT09IGZtQi5mbS5wcmlvcml0eSkge1xuXHRcdFx0cmV0dXJuIEhlbHBlci5zb3J0QnlQcmlvcml0eShhLCBiKTtcblx0XHR9IGVsc2UgaWYgKGZtQS5mbS50aW1lX2VzdGltYXRlICE9PSBmbUIuZm0udGltZV9lc3RpbWF0ZSkge1xuXHRcdFx0cmV0dXJuIEhlbHBlci5zb3J0QnlEdXJhdGlvbihhLCBiKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIEhlbHBlci5zb3J0QnlBZ2UoYSwgYik7XG5cdFx0fVxuXHR9LFxufTtcblxuZXhwb3J0IGNvbnN0IEF1dG9GaWVsZCA9IHtcblx0dGFncyhkdiwgZm0sIGxldmVsID0gMikge1xuXHRcdGNvbnN0IHRhZ3MgPSBmbS50YWdzO1xuXHRcdGlmICh0YWdzID09IHVuZGVmaW5lZCB8fCB0YWdzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRhZ3Muc29ydCgpO1xuXHRcdGR2LmhlYWRlcihsZXZlbCwgXCJUYWdzXCIpO1xuXHRcdGxldCBzID0gXCJcIjtcblx0XHRmb3IgKGNvbnN0IHRhZyBvZiB0YWdzKSB7XG5cdFx0XHRzICs9IGAgIyR7dGFnfWA7XG5cdFx0fVxuXHRcdGR2LnBhcmFncmFwaChzKTtcblx0fSxcblxuXHRoZWFsbW9uKGR2KSB7XG5cdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhkdi5jdXJyZW50KCkpO1xuXHRcdGNvbnN0IGN1cnJlbnQgPSBmbS5jcmVhdGVkQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cblx0XHRjb25zdCBwYWdlcyA9IGR2LnBhZ2VzKGBcIiR7UGF0aHMuSm91cm5hbH1cImApLndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRjb25zdCBqRm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdGlmIChqRm0uZ2V0UHJvamVjdCgpICE9PSBcImhvbWVjb29rXCIpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgakN1cnJlbnQgPSBudWxsO1xuXHRcdFx0Ly8gbGEgZmljaGUgaG9tZWNvb2sgc2UgdHJvdXZlIHRvdWpvdXJzIFx1MDBFMCBsYSBkYXRlIGotMVxuXHRcdFx0Y29uc3QgY3VycmVudE1pbnVzT25lID0gbmV3IERhdGUoXG5cdFx0XHRcdGZtLmNyZWF0ZWRBdC5nZXRUaW1lKCkgLSAyNCAqIDYwICogNjAgKiAxMDAwLFxuXHRcdFx0KTtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdC8vIG9uIHMnaW50XHUwMEU5cmVzc2UgYXUgcmVwYXMgZGUgbGEgdmVpbGxlIGRhbnMgaGVhbG1vblxuXHRcdFx0XHQvLyBuZSBjb3V2cmUgcGFzIG91IGxlIHJlcGFzIGVzdCBwcmlzIGFwcmVzIDAwaCBsZSBqb3VyIGVuIGNvdXJzXG5cdFx0XHRcdC8vIHNlcmEgZ1x1MDBFOXJcdTAwRTkgYXZlYyBsYSBmaWNoZSBkaXJlY3RlbWVudCBwb3VyIGxlIG1vbWVudFxuXHRcdFx0XHRqQ3VycmVudCA9IGpGbS5jcmVhdGVkQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0ZHYucGFyYWdyYXBoKFxuXHRcdFx0XHRcdGBJbnZhbGlkIGRhdGU6ICR7UmVuZGVyZXIubWFrZUxpbmtTaG9ydFVVSUQoZHYsIHBhZ2UuZmlsZSl9YCxcblx0XHRcdFx0KTtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihqRm0pO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY3VycmVudE1pbnVzT25lLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApICE9PSBqQ3VycmVudCkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0pO1xuXG5cdFx0ZHYuaGVhZGVyKDQsIFwicmVwYXMgKHZlaWxsZSlcIik7XG5cdFx0aWYgKHBhZ2VzLmxlbmd0aCkge1xuXHRcdFx0Zm9yIChjb25zdCBwYWdlIG9mIHBhZ2VzKSB7XG5cdFx0XHRcdGR2LnBhcmFncmFwaChSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRChkdiwgcGFnZS5maWxlKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdGF1dGhvcnMoZHYsIGZtKSB7XG5cdFx0Y29uc3QgYXV0aG9ycyA9IGZtLmF1dGhvcnM7XG5cdFx0aWYgKGF1dGhvcnMgPT09IHVuZGVmaW5lZCB8fCBhdXRob3JzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGR2LmhlYWRlcigzLCBcIkF1dGhvcnNcIik7XG5cdFx0ZHYubGlzdChhdXRob3JzKTtcblx0fSxcblxuXHR0aXRsZShkdiwgZm0pIHtcblx0XHRjb25zdCB0aXRsZSA9IGZtLmFsaWFzO1xuXHRcdGlmICh0aXRsZSA9PT0gdW5kZWZpbmVkIHx8IHRpdGxlLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGR2LmhlYWRlcigzLCB0aXRsZSk7XG5cdH0sXG5cblx0bG9ncyhkdiwgZW50cmllcykge1xuXHRcdGNvbnNvbGUubG9nKFwiY291Y291LCB0dSB2ZXV4IHZvaXIgbWEgYml0ZT9cIik7XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGxldCB0b3RhbFRpbWUgPSAwO1xuXG5cdFx0Zm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKSB7XG5cdFx0XHRjb25zdCBmbWUgPSBlbnRyeS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0Y29uc3QgZSA9IFtdO1xuXHRcdFx0bGV0IHN0YXJ0OiBhbnkgPSAwO1xuXHRcdFx0bGV0IHN0b3A6IGFueSA9IDA7XG5cdFx0XHRpZiAoZm1lID09PSB1bmRlZmluZWQgfHwgZm1lLmNyZWF0ZWRfYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZnJvbnRtYXR0ZXI6ICR7Zm1lLnV1aWR9YCk7XG5cdFx0XHR9XG5cblx0XHRcdHN0YXJ0ID0gbmV3IERhdGUoZm1lLmNyZWF0ZWRfYXQpO1xuXHRcdFx0ZS5wdXNoKHN0YXJ0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApKTtcblx0XHRcdGlmIChmbWUuZG9uZV9hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHN0b3AgPSBEYXRlLm5vdygpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c3RvcCA9IG5ldyBEYXRlKGZtZS5kb25lX2F0KTtcblx0XHRcdH1cblx0XHRcdHRvdGFsVGltZSArPSBzdG9wIC0gc3RhcnQ7XG5cdFx0XHRlLnB1c2goXG5cdFx0XHRcdGR2LnNlY3Rpb25MaW5rKFxuXHRcdFx0XHRcdGZtZS51dWlkLFxuXHRcdFx0XHRcdFwiIyMgQ29udGVudFwiLFxuXHRcdFx0XHRcdGZhbHNlLFxuXHRcdFx0XHRcdGZtZS51dWlkLnNsaWNlKDAsIDgpLFxuXHRcdFx0XHQpLFxuXHRcdFx0KTtcblx0XHRcdGUucHVzaChNYXRoLnJvdW5kKCgoc3RvcCAtIHN0YXJ0KSAvICgxMDAwICogNjAgKiA2MCkpICogMTApIC8gMTApO1xuXHRcdFx0aWYgKGZtZS5yZXZpZXdlZCA9PT0gdW5kZWZpbmVkIHx8IGZtZS5yZXZpZXdlZCA9PT0gMCkge1xuXHRcdFx0XHRlLnB1c2goMCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlLnB1c2goZm1lLnJldmlld2VkKTtcblx0XHRcdH1cblx0XHRcdGJ1ZmYucHVzaChlKTtcblx0XHR9XG5cblx0XHRpZiAoYnVmZi5sZW5ndGggPiAwKSB7XG5cdFx0XHRkdi5oZWFkZXIoMiwgXCJMb2dzXCIpO1xuXHRcdFx0ZHYudGFibGUoW1wiY3JlYXRlZF9hdFwiLCBcInV1aWRcIiwgXCJzZXNzaW9uXCIsIFwicmV2aWV3ZWRcIl0sIGJ1ZmYpO1xuXHRcdFx0aWYgKHRvdGFsVGltZSA+IDApIHtcblx0XHRcdFx0ZHYucGFyYWdyYXBoKFxuXHRcdFx0XHRcdGBfdG90YWxUaW1lIChoKTpfICR7TWF0aC5yb3VuZCgodG90YWxUaW1lIC8gKDEwMDAgKiA2MCAqIDYwKSkgKiAxMCkgLyAxMFxuXHRcdFx0XHRcdH1gLFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRtZWRpYShkdikge1xuXHRcdGNvbnN0IGN1cnJlbnQgPSBkdi5jdXJyZW50KCk7XG5cdFx0Y29uc3QgZm0gPSBjdXJyZW50LmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0Y29uc3QgcGFnZXMgPSBkdi5wYWdlcyhgXCIke1BhdGhzLlJlZnN9LyR7Zm0ucmVmX2lkfVwiYCkuYXJyYXkoKTtcblx0XHRpZiAocGFnZXMubGVuZ3RoICE9PSAxKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbnN0IG1lZGlhID0gcGFnZXNbMF07XG5cdFx0Y29uc3QgbWVkaWFGbSA9IG1lZGlhLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0QXV0b0ZpZWxkLnRpdGxlKGR2LCBtZWRpYUZtKTtcblx0XHRkdi5wYXJhZ3JhcGgoUmVuZGVyZXIubWFrZUxpbmtBbGlhcyhkdiwgbWVkaWEuZmlsZSkpO1xuXHRcdEF1dG9GaWVsZC5hdXRob3JzKGR2LCBtZWRpYUZtKTtcblx0XHRBdXRvRmllbGQudGFncyhkdiwgbWVkaWFGbSwgMyk7XG5cblx0XHRjb25zdCBsb2dFbnRyaWVzID0gZHZcblx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLkxvZ3N9LyR7Zm0udXVpZH1cImApXG5cdFx0XHQud2hlcmUoKHApID0+IHAudHlwZSA9PT0gNilcblx0XHRcdC5zb3J0KChrKSA9PiBrLmNyZWF0ZWRfYXQsIFwiZGVzY1wiKTtcblx0XHRBdXRvRmllbGQubG9ncyhkdiwgbG9nRW50cmllcyk7XG5cdH0sXG5cblx0YXV0b0ZpZWxkVGl0bGUoZHYsIGZtKSB7XG5cdFx0Y29uc3QgdGl0bGUgPSBmbS5hbGlhcztcblx0XHRpZiAodGl0bGUgPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0ZHYuaGVhZGVyKDEsIHRpdGxlKTtcblx0fSxcblxuXHRhdXRvRmllbGRBdXRob3JzKGR2LCBmbSkge1xuXHRcdGNvbnN0IGF1dGhvcnMgPSBmbS5hdXRob3JzO1xuXHRcdGlmIChhdXRob3JzID09PSB1bmRlZmluZWQgfHwgYXV0aG9ycy5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0ZHYuaGVhZGVyKDIsIFwiQXV0aG9yc1wiKTtcblx0XHRkdi5saXN0KGF1dGhvcnMpO1xuXHR9LFxuXG5cdGF1dG9GaWVsZFRhZ3MoZHYsIGZtKSB7XG5cdFx0Y29uc3QgdGFncyA9IGZtLnRhZ3M7XG5cdFx0aWYgKHRhZ3MgPT0gdW5kZWZpbmVkIHx8IHRhZ3MubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGFncy5zb3J0KCk7XG5cdFx0ZHYuaGVhZGVyKDIsIFwiVGFnc1wiKTtcblx0XHRsZXQgcyA9IFwiXCI7XG5cdFx0Zm9yIChjb25zdCB0YWcgb2YgdGFncykge1xuXHRcdFx0cyArPSBgICMke3RhZ31gO1xuXHRcdH1cblx0XHRkdi5wYXJhZ3JhcGgocyk7XG5cdH0sXG5cblx0bGl0ZXJhdHVyZShkdikge1xuXHRcdGNvbnN0IGN1cnJlbnQgPSBkdi5jdXJyZW50KCk7XG5cdFx0Y29uc3QgZm0gPSBjdXJyZW50LmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKEhlbHBlci5uaWxDaGVjayhmbS5hdXRob3JzKSkge1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmF1dG9GaWVsZFRpdGxlKGR2LCBmbSk7XG5cdFx0XHR0aGlzLmF1dG9GaWVsZEF1dGhvcnMoZHYsIGZtKTtcblx0XHRcdHRoaXMuYXV0b0ZpZWxkVGFncyhkdiwgZm0pO1xuXHRcdH1cblx0fSxcblxuXHRnb2FsKGR2KSB7XG5cdFx0Y29uc3QgY3VycmVudCA9IGR2LmN1cnJlbnQoKTtcblx0XHRjb25zdCBmbSA9IGN1cnJlbnQuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Y29uc29sZS53YXJuKFwiZm0gaXMgcmVxdWlyZWRcIik7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gdGhpcy5hdXRvRmllbGROZWVkKGR2LCBmbSk7XG5cdFx0Ly8gdGhpcy5hdXRvRmllbGROZWVkZWRCeShkdiwgY3VycmVudCk7XG5cdFx0Ly8gdGhpcy5hdXRvRmllbGRUYWdzKGR2LCBmbSk7XG5cdFx0Ly9cblx0XHRjb25zdCBjcmVhdGVkX2F0ID0gbmV3IERhdGUoZm0uY3JlYXRlZF9hdCk7XG5cdFx0Y29uc3QgbG9nRW50cmllcyA9IGR2XG5cdFx0XHQucGFnZXMoYFwiJHtQYXRocy5Mb2dzfS8ke2ZtLnV1aWR9XCJgKVxuXHRcdFx0LndoZXJlKChwKSA9PiBwLnR5cGUgPT09IDYpXG5cdFx0XHQuc29ydCgoaykgPT4gay5jcmVhdGVkX2F0LCBcImRlc2NcIik7XG5cblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Zm9yIChjb25zdCBlbnRyeSBvZiBsb2dFbnRyaWVzKSB7XG5cdFx0XHRjb25zdCBmbWUgPSBlbnRyeS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0Y29uc3QgZSA9IFtdO1xuXG5cdFx0XHRpZiAoZm1lID09PSB1bmRlZmluZWQgfHwgZm1lLmNyZWF0ZWRfYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZnJvbnRtYXR0ZXI6ICR7Zm1lLnV1aWR9YCk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoZm1lLmNyZWF0ZWRfYXQpO1xuXHRcdFx0ZS5wdXNoKHN0YXJ0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApKTtcblxuXHRcdFx0ZS5wdXNoKFxuXHRcdFx0XHRkdi5zZWN0aW9uTGluayhcblx0XHRcdFx0XHRmbWUudXVpZCxcblx0XHRcdFx0XHRcIiMjIENvbnRlbnRcIixcblx0XHRcdFx0XHRmYWxzZSxcblx0XHRcdFx0XHRmbWUudXVpZC5zbGljZSgwLCA4KSxcblx0XHRcdFx0KSxcblx0XHRcdCk7XG5cblx0XHRcdGJ1ZmYucHVzaChlKTtcblx0XHR9XG5cblx0XHRjb25zdCBiZWZvcmUgPSBuZXcgRGF0ZShmbS5iZWZvcmUpO1xuXHRcdC8vIGRheXNcblx0XHRjb25zdCB0aW1lZnJhbWUgPVxuXHRcdFx0KGJlZm9yZS5nZXRUaW1lKCkgLSBjcmVhdGVkX2F0LmdldFRpbWUoKSkgLyAoMTAwMCAqIDM2MDAgKiAyNCk7XG5cdFx0bGV0IHRpbWVmcmFtZVRleHQgPSBcIlwiO1xuXHRcdC8vIDEgam91clxuXHRcdC8vIDEgc2VtYWluZVxuXHRcdC8vIDIgc2VtYWluZVxuXHRcdC8vIDEgbW9pc1xuXHRcdC8vIDIgbW9pc1xuXHRcdC8vIDYgbW9pc1xuXHRcdC8vIDEgYW5cblx0XHQvLyAyIGFuc1xuXHRcdC8vIDUgYW5zXG5cdFx0ZHYuaGVhZGVyKDMsIFwiVGltZWZyYW1lXCIpO1xuXHRcdGlmICh0aW1lZnJhbWUgPiAwICYmIHRpbWVmcmFtZSA8IDMwKSB7XG5cdFx0XHR0aW1lZnJhbWVUZXh0ID0gXCJydW5hd2F5XCI7XG5cdFx0fSBlbHNlIGlmICh0aW1lZnJhbWUgPCA2MCkge1xuXHRcdFx0dGltZWZyYW1lVGV4dCA9IFwiMTAsMDAwIGZlZXRcIjtcblx0XHR9IGVsc2UgaWYgKHRpbWVmcmFtZSA8IDM2MCkge1xuXHRcdFx0dGltZWZyYW1lVGV4dCA9IFwiMjAsMDAwIGZlZXRcIjtcblx0XHR9IGVsc2UgaWYgKHRpbWVmcmFtZSA8IDcyMCkge1xuXHRcdFx0dGltZWZyYW1lVGV4dCA9IFwiMzAsMDAwIGZlZXRcIjtcblx0XHR9IGVsc2UgaWYgKHRpbWVmcmFtZSA8IDEwODApIHtcblx0XHRcdHRpbWVmcmFtZVRleHQgPSBcIjQwLDAwMCBmZWV0XCI7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRpbWVmcmFtZVRleHQgPSBcIjUwLDAwMCBmZWV0XCI7XG5cdFx0fVxuXG5cdFx0ZHYucGFyYWdyYXBoKHRpbWVmcmFtZVRleHQpO1xuXG5cdFx0aWYgKGJ1ZmYubGVuZ3RoID4gMCkge1xuXHRcdFx0ZHYuaGVhZGVyKDIsIFwiUmV2aWV3c1wiKTtcblx0XHRcdGR2LnRhYmxlKFtcInJldmlld2VkX2F0XCIsIFwidXVpZFwiXSwgYnVmZik7XG5cdFx0fVxuXHR9LFxuXG5cdGRhaWx5KGR2KSB7XG5cdFx0Y29uc3QgY3VycmVudCA9IGR2LmN1cnJlbnQoKS5maWxlLmZyb250bWF0dGVyO1xuXHRcdGNvbnN0IGN1cnJlbnRBdCA9IG5ldyBEYXRlKGN1cnJlbnQuYXQpO1xuXHRcdGNvbnN0IGN1cnJlbnRBdFNob3J0ID0gY3VycmVudEF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgNyk7XG5cblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0Y29uc3QgZ29uZXh0ID0gYXBwLnBsdWdpbnMucGx1Z2lucy5vYnNpZGlhbl9nb25leHQ7XG5cdFx0Y29uc3Qgbm90ZUhlbHBlciA9IG5ldyBOb3RlSGVscGVyKGdvbmV4dCwgZHYsIG5ldyBGcm9udG1hdHRlcihnb25leHQpKTtcblxuXHRcdGNvbnN0IHBhZ2VzID0gZHZcblx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfVwiYClcblx0XHRcdC53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0XHQvLyBpZiAocGFnZS5maWxlLmZyb250bWF0dGVyLmF0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ly8gXHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdC8vIH1cblxuXHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRpZiAoY3VycmVudC51dWlkID09PSBmbS51dWlkKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGZtLmZtLnN0YXR1cyAhPT0gXCJ0b2RvXCIgfHwgZm0uZ2V0UHJvamVjdCgpID09PSBcImRhaWx5XCIpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRjb25zdCBub3cgPSBjdXJyZW50QXQ7XG5cdFx0XHRcdGxldCBmbUF0U2hvcnQgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Zm1BdFNob3J0ID0gZm0uYXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cdFx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihgJHtmbS51dWlkfWApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCFub3RlSGVscGVyLmlzRG9hYmxlKHBhZ2UsIGN1cnJlbnRBdCkpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBpZiAoZm0udXVpZCA9PT0gXCIyYTk3ZGUzNS1jYTg3LTQyNjctOTE1OS02YzA5NmQ0MTYzZjFcIikge1xuXHRcdFx0XHQvLyBcdGNvbnNvbGUubG9nKGB1dWlkOiAke2ZtLnV1aWR9YCk7XG5cdFx0XHRcdC8vIFx0Y29uc29sZS5sb2coYG5vdzogJHtub3d9YCk7XG5cdFx0XHRcdC8vIFx0Y29uc29sZS5sb2coYGZtLmF0OiAke2ZtLmF0fWApO1xuXHRcdFx0XHQvLyBcdGNvbnNvbGUubG9nKGBmbUF0U2hvcnQ6ICR7Zm1BdFNob3J0fWApO1xuXHRcdFx0XHQvLyBcdGNvbnNvbGUubG9nKGBjdXJyZW50QXRTaG9ydDogJHtjdXJyZW50QXRTaG9ydH1gKTtcblx0XHRcdFx0Ly8gXHRjb25zb2xlLmxvZyhgY29uZGl0aW9uOiAke2ZtLmF0ICE9PSB1bmRlZmluZWQgJiYgZm1BdFNob3J0ID09PSBjdXJyZW50QXRTaG9ydH1gKTtcblx0XHRcdFx0Ly8gfVxuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRwYWdlLmZpbGUuZnJvbnRtYXR0ZXIuYXQgIT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0XHRcdGZtQXRTaG9ydCA9PT0gY3VycmVudEF0U2hvcnRcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0cGFnZS5maWxlLmZyb250bWF0dGVyLmF0ICE9PSB1bmRlZmluZWQgJiZcblx0XHRcdFx0XHRmbS5hdC5nZXRUaW1lKCkgPCBub3cuZ2V0VGltZSgpXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHBhZ2UuZmlsZS5mcm9udG1hdHRlci5iZWZvcmUgIT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0XHRcdGZtLmJlZm9yZS5nZXRUaW1lKCkgPiBub3cuZ2V0VGltZSgpXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHBhZ2UuZmlsZS5mcm9udG1hdHRlci5hZnRlciAhPT0gdW5kZWZpbmVkICYmXG5cdFx0XHRcdFx0Zm0uYWZ0ZXIuZ2V0VGltZSgpIDwgbm93LmdldFRpbWUoKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0pXG5cdFx0XHQuc29ydCgoaykgPT4gay5hdCwgXCJhc2NcIik7XG5cblx0XHRpZiAocGFnZXMubGVuZ3RoID4gMCkge1xuXHRcdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdFx0Zm9yIChjb25zdCBwYWdlIG9mIHBhZ2VzKSB7XG5cdFx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRcdGNvbnN0IGggPSBTdHJpbmcoZm0uYXQuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0XHRjb25zdCBtID0gU3RyaW5nKGZtLmF0LmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0XHRpZiAocGFnZS5maWxlLmZyb250bWF0dGVyLnN0YXR1cyA9PT0gXCJkb25lXCIpIHtcblx0XHRcdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRcdFx0YH5+JHtSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRChkdiwgcGFnZS5maWxlLCBcIlRhc2tcIil9fn5gLFxuXHRcdFx0XHRcdFx0YH5+JHtofToke219fn5gLFxuXHRcdFx0XHRcdF0pO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGJ1ZmYucHVzaChbXG5cdFx0XHRcdFx0XHRgJHtSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRChkdiwgcGFnZS5maWxlLCBcIlRhc2tcIil9YCxcblx0XHRcdFx0XHRcdGAke2h9OiR7bX1gLFxuXHRcdFx0XHRcdF0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRkdi50YWJsZShbXCJ1dWlkXCIsIFwiYXRcIl0sIGJ1ZmYpO1xuXG5cdFx0fVxuXG5cdFx0QXV0b0ZpZWxkLmRhaWx5Sm91cmFsKGR2KTtcblx0XHQvLyBBdXRvRmllbGQubW9udGhseUpvdXJhbChkdik7XG5cblx0fSxcblxuXHRtb250aGx5Sm91cmFsKGR2KSB7XG5cdFx0Y29uc3QgY3VycmVudCA9IG5ldyBGcm9udG1hdHRlckpTKGR2LmN1cnJlbnQoKSk7XG5cdFx0Y29uc3QgY3VycmVudEF0U2hvcnQgPSBjdXJyZW50LmF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgNyk7XG5cblx0XHRjb25zdCBwYWdlcyA9IGR2XG5cdFx0XHQucGFnZXMoYFwiSm91cm5hbFwiYClcblx0XHRcdC53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRjb25zdCBhdFNob3J0ID0gZm0uY3JlYXRlZEF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgNyk7XG5cdFx0XHRcdGlmIChhdFNob3J0ID09PSBjdXJyZW50QXRTaG9ydCAmJiBmbS5nZXRQcm9qZWN0KCkgPT09IFwibW9udGhseVwiKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9KVxuXHRcdFx0LnNvcnQoKGspID0+IGsuY3JlYXRlZF9hdCwgXCJhc2NcIik7XG5cblx0XHRkdi5oZWFkZXIoMiwgXCJKb3VybmFsXCIpO1xuXHRcdGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuXHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdGlmIChwYWdlLmZpbGUuZnJvbnRtYXR0ZXIuYWxpYXMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRwYWdlLmZpbGUuZnJvbnRtYXR0ZXIubmFtZSA9IHBhZ2UuZmlsZS5mcm9udG1hdHRlci5hbGlhcztcblx0XHRcdH0gZWxzZSBpZiAoZm0uZ2V0UHJvamVjdCgpICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0cGFnZS5maWxlLmZyb250bWF0dGVyLm5hbWUgPSBmbS5nZXRQcm9qZWN0KCk7XG5cdFx0XHR9IGVsc2UgaWYgKGZtLmdldERvbWFpbigpICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0cGFnZS5maWxlLmZyb250bWF0dGVyLm5hbWUgPSBmbS5nZXREb21haW4oKTtcblx0XHRcdH1cblxuXHRcdFx0ZHYucGFyYWdyYXBoKFJlbmRlcmVyLm1ha2VMaW5rTmFtZShkdiwgcGFnZS5maWxlKSk7XG5cdFx0fVxuXHR9LFxuXG5cdGRhaWx5Sm91cmFsKGR2KSB7XG5cdFx0Y29uc3QgY3VycmVudCA9IG5ldyBGcm9udG1hdHRlckpTKGR2LmN1cnJlbnQoKSk7XG5cdFx0Y29uc3QgY3VycmVudEF0U2hvcnQgPSBjdXJyZW50LmF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xuXHRcdGNvbnNvbGUubG9nKGN1cnJlbnRBdFNob3J0KTtcblx0XHRjb25zdCBwYWdlcyA9IGR2XG5cdFx0XHQucGFnZXMoYFwiSm91cm5hbFwiYClcblx0XHRcdC53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRjb25zdCBhdFNob3J0ID0gZm0uY3JlYXRlZEF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xuXHRcdFx0XHRpZiAoYXRTaG9ydCA9PT0gY3VycmVudEF0U2hvcnQpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0pXG5cdFx0XHQuc29ydCgoaykgPT4gay5jcmVhdGVkX2F0LCBcImFzY1wiKTtcblxuXHRcdGR2LmhlYWRlcigyLCBcIkpvdXJuYWxcIik7XG5cdFx0Zm9yIChjb25zdCBwYWdlIG9mIHBhZ2VzKSB7XG5cdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0aWYgKHBhZ2UuZmlsZS5mcm9udG1hdHRlci5hbGlhcyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHBhZ2UuZmlsZS5mcm9udG1hdHRlci5uYW1lID0gcGFnZS5maWxlLmZyb250bWF0dGVyLmFsaWFzO1xuXHRcdFx0fSBlbHNlIGlmIChmbS5nZXRQcm9qZWN0KCkgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRwYWdlLmZpbGUuZnJvbnRtYXR0ZXIubmFtZSA9IGZtLmdldFByb2plY3QoKTtcblx0XHRcdH0gZWxzZSBpZiAoZm0uZ2V0RG9tYWluKCkgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRwYWdlLmZpbGUuZnJvbnRtYXR0ZXIubmFtZSA9IGZtLmdldERvbWFpbigpO1xuXHRcdFx0fVxuXG5cdFx0XHRkdi5wYXJhZ3JhcGgoUmVuZGVyZXIubWFrZUxpbmtOYW1lKGR2LCBwYWdlLmZpbGUpKTtcblx0XHRcdC8vIGR2LnBhcmFncmFwaChSZW5kZXJlci5tYWtlTGlua0FsaWFzKGR2LCBwYWdlLmZpbGUpKTtcblx0XHR9XG5cdH0sXG5cblx0ZGFpbHlHb2Fscyhkdikge1xuXHRcdGNvbnN0IGN1cnJlbnQgPSBkdi5jdXJyZW50KCkuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRjb25zdCBjdXJyZW50QXQgPSBuZXcgRGF0ZShjdXJyZW50LmF0KTtcblxuXHRcdGNvbnN0IHBhZ2VzID0gZHZcblx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLkdvYWxzfVwiYClcblx0XHRcdC53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0XHRpZiAocGFnZS5maWxlLmZyb250bWF0dGVyLnN0YXR1cyAhPT0gXCJhY3RpdmVcIikge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHRcdC5zb3J0KChrKSA9PiBrLmF0LCBcImFzY1wiKTtcblxuXHRcdGlmIChwYWdlcy5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRmb3IgKGNvbnN0IHBhZ2Ugb2YgcGFnZXMpIHtcblx0XHRcdGR2LnBhcmFncmFwaChSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRChkdiwgcGFnZS5maWxlKSk7XG5cdFx0fVxuXHR9LFxuXG5cdHRhc2soZHYpIHtcblx0XHRjb25zdCBkdkxpYiA9IG5ldyBEdkxpYigpO1xuXHRcdGR2TGliLmF1dG9GaWVsZFRhc2soZHYpO1xuXHR9LFxuXG5cdGxvZyhkdikge1xuXHRcdGNvbnN0IGN1cnJlbnQgPSBkdi5jdXJyZW50KCk7XG5cdFx0Y29uc3QgY3VyRm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhjdXJyZW50KTtcblx0XHRjb25zdCBjdXJyZW50SWQgPSBjdXJGbS51dWlkO1xuXHRcdGNvbnN0IGN1cnJlbnRQYXJlbnRJZCA9IGN1cnJlbnQuZmlsZS5wYXRoLnNwbGl0KFwiL1wiKVsxXTtcblx0XHRBc3NlcnQuVHJ1ZShcblx0XHRcdGN1cnJlbnRQYXJlbnRJZCAhPT0gdW5kZWZpbmVkLFxuXHRcdFx0YGN1cnJlbnRQYXJlbnRJZCB1bmRlZmluZWQgZm9yICR7Y3VyRm0udXVpZH1gLFxuXHRcdCk7XG5cblx0XHRjb25zdCBwYWdlcyA9IGR2XG5cdFx0XHQucGFnZXMoYFwiJHtQYXRocy5Mb2dzfVwiYClcblx0XHRcdC53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRjb25zdCBwYXJlbnRJZCA9IHBhZ2UuZmlsZS5wYXRoLnNwbGl0KFwiL1wiKVsxXTtcblx0XHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdFx0cGFyZW50SWQgIT09IHVuZGVmaW5lZCxcblx0XHRcdFx0XHRgcGFyZW50SWQgdW5kZWZpbmVkIGZvciAke2ZtLnV1aWR9YCxcblx0XHRcdFx0KTtcblx0XHRcdFx0aWYgKHBhcmVudElkICE9PSBjdXJyZW50UGFyZW50SWQpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH0pXG5cdFx0XHQuc29ydCgoaykgPT4gay5jcmVhdGVkX2F0LCBcImFzY1wiKTtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcGFnZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IHBhZ2UgPSBwYWdlc1tpXTtcblx0XHRcdEFzc2VydC5UcnVlKHBhZ2UgIT09IHVuZGVmaW5lZCwgXCJhc3MgZXJ0IGZhaWxlZFwiKTtcblx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRpZiAoZm0udXVpZCA9PT0gY3VycmVudElkKSB7XG5cdFx0XHRcdC8vIGdvdGNoYVxuXHRcdFx0XHRpZiAoaSA9PT0gMCkge1xuXHRcdFx0XHRcdGNvbnN0IGR2TGliID0gbmV3IER2TGliKCk7XG5cdFx0XHRcdFx0ZHZMaWIuYXV0b0ZpZWxkTG9nKGR2KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRkdi5wYXJhZ3JhcGgoUmVuZGVyZXIubWFrZUxpbmtTaG9ydFVVSUQoZHYsIHBhZ2VzW2kgLSAxXS5maWxlKSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0sXG59O1xuXG4vLyB0aGlzIG11c3QgYmUgY2FsbGVkIGZyb20gYGRhdGF2aWV3anNgIGNvZGVibG9ja3NcbmV4cG9ydCBjb25zdCBSZW5kZXJlciA9IHtcblx0bWFrZUxpbmtOYW1lKGR2LCBmLCBhbmNob3IgPSBcIkNvbnRlbnRcIikge1xuXHRcdGlmIChIZWxwZXIubmlsQ2hlY2soZi5mcm9udG1hdHRlci5uYW1lKSkge1xuXHRcdFx0cmV0dXJuIFJlbmRlcmVyLm1ha2VMaW5rU2hvcnRVVUlEKGR2LCBmLCBhbmNob3IpO1xuXHRcdH1cblxuXHRcdHJldHVybiBkdi5zZWN0aW9uTGluayhmLnBhdGgsIGFuY2hvciwgZmFsc2UsIGAke2YuZnJvbnRtYXR0ZXIubmFtZX1gKTtcblx0fSxcblxuXHRtYWtlTGlua0FsaWFzKGR2LCBmLCBhbmNob3IgPSBcIkNvbnRlbnRcIikge1xuXHRcdGlmIChIZWxwZXIubmlsQ2hlY2soZi5mcm9udG1hdHRlci5hbGlhcykpIHtcblx0XHRcdHJldHVybiBSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRChkdiwgZiwgYW5jaG9yKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZHYuc2VjdGlvbkxpbmsoZi5wYXRoLCBhbmNob3IsIGZhbHNlLCBgJHtmLmZyb250bWF0dGVyLmFsaWFzfWApO1xuXHR9LFxuXG5cdG1ha2VMaW5rU2hvcnRVVUlEKGR2LCBmLCBhbmNob3IgPSBcIkNvbnRlbnRcIikge1xuXHRcdHJldHVybiBkdi5zZWN0aW9uTGluayhcblx0XHRcdGYucGF0aCxcblx0XHRcdGFuY2hvcixcblx0XHRcdGZhbHNlLFxuXHRcdFx0YCR7Zi5mcm9udG1hdHRlci51dWlkLnNsaWNlKDAsIDgpfWAsXG5cdFx0KTtcblx0fSxcblxuXHRtYWtlTGluayhkdiwgZiwgbmFtZSA9IHVuZGVmaW5lZCwgYW5jaG9yID0gXCJDb250ZW50XCIpIHtcblx0XHRyZXR1cm4gZHYuc2VjdGlvbkxpbmsoZi5wYXRoLCBhbmNob3IsIGZhbHNlLCBuYW1lKTtcblx0fSxcblxuXHRwcm9qZWN0TG9ncyhkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGNvbHMgPSBbXCJ0eXBlXCIsIFwidGFza19pZFwiLCBcImxvZ19pZFwiLCBcInRvb2tcIiwgXCJyZXZpZXdlZFwiXTtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0bGV0IHRvdGFsVGltZSA9IDA7XG5cblx0XHRmb3IgKGNvbnN0IGQgb2YgZGF0YSkge1xuXHRcdFx0Y29uc3QgZiA9IGQuZmlsZTtcblx0XHRcdGNvbnN0IGZtID0gZC5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdCFIZWxwZXIubmlsQ2hlY2soZm0udXVpZCksXG5cdFx0XHRcdGBcInV1aWRcIiBpZCBub3QgZGVmaW5lZCBmb3I6ICR7Zi5wYXRofWAsXG5cdFx0XHQpO1xuXHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdCFIZWxwZXIubmlsQ2hlY2soZm0udHlwZSksXG5cdFx0XHRcdGBcInR5cGVcIiBpZCBub3QgZGVmaW5lZCBmb3I6ICR7Zi5wYXRofWAsXG5cdFx0XHQpO1xuXG5cdFx0XHRjb25zdCBjcmVhdGVkQXQgPSBuZXcgRGF0ZShmbS5jcmVhdGVkX2F0KTtcblx0XHRcdGNvbnN0IGRvbmVBdCA9IG5ldyBEYXRlKGZtLmRvbmVfYXQpO1xuXHRcdFx0Y29uc3QgZGVsdGEgPSBkb25lQXQuZ2V0VGltZSgpIC0gY3JlYXRlZEF0LmdldFRpbWUoKTtcblxuXHRcdFx0dG90YWxUaW1lICs9IGRlbHRhO1xuXHRcdFx0Y29uc3QgcmVjb3JkID0ge1xuXHRcdFx0XHR0YXNrSWQ6IFwiXCIsXG5cdFx0XHRcdGxvZ0lkOiBSZW5kZXJlci5tYWtlTGlua0FsaWFzKGR2LCBmKSxcblx0XHRcdFx0dG9vazogTWF0aC5yb3VuZCgoZGVsdGEgLyAoMTAwMCAqIDYwICogNjApKSAqIDEwKSAvIDEwLFxuXHRcdFx0XHRyZXZpZXdlZDogSGVscGVyLm5pbENoZWNrKGZtLnJldmlld2VkKSA/IDAgOiBmbS5yZXZpZXdlZCxcblx0XHRcdFx0dHlwZTogdW5kZWZpbmVkLFxuXHRcdFx0fTtcblx0XHRcdGNvbnN0IHBhZ2VzID0gZHYucGFnZXMoYFwiJHtQYXRocy5UYXNrc30vJHtmbS5wYXJlbnRfaWR9XCJgKS5hcnJheSgpO1xuXHRcdFx0aWYgKHBhZ2VzLmxlbmd0aCAhPT0gMSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0YHBhcmVudCB0YXNrIHdpdGggaWQ6IFwiJHtmbS5wYXJlbnRfaWR9XCIgZG9lcyBub3QgZXhpc3RzYCxcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IHBhcmVudCA9IHBhZ2VzWzBdO1xuXHRcdFx0c3dpdGNoIChwYXJlbnQuZmlsZS5mcm9udG1hdHRlci50eXBlKSB7XG5cdFx0XHRcdGNhc2UgVHlwZXMuVGFzazpcblx0XHRcdFx0XHRyZWNvcmQudHlwZSA9IGA8Zm9udCBjb2xvcj04QjAwMDA+dGFzazwvZm9udD5gO1xuXHRcdFx0XHRcdHJlY29yZC50YXNrSWQgPSBSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRChcblx0XHRcdFx0XHRcdGR2LFxuXHRcdFx0XHRcdFx0cGFyZW50LmZpbGUsXG5cdFx0XHRcdFx0XHRcIlRhc2tcIixcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFR5cGVzLk1lZGlhOlxuXHRcdFx0XHRcdHJlY29yZC50eXBlID0gYDxmb250IGNvbG9yPTAwMDA4Qj5tZWRpYTwvZm9udD5gO1xuXHRcdFx0XHRcdHJlY29yZC50YXNrSWQgPSBSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRChcblx0XHRcdFx0XHRcdGR2LFxuXHRcdFx0XHRcdFx0cGFyZW50LmZpbGUsXG5cdFx0XHRcdFx0XHRcIkNvbnRlbnRcIixcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFR5cGVzLlByYXhpczpcblx0XHRcdFx0XHRyZWNvcmQudHlwZSA9IGA8Zm9udCBjb2xvcj1GRjhDMDA+cHJheGlzPC9mb250PmA7XG5cdFx0XHRcdFx0cmVjb3JkLnRhc2tJZCA9IFJlbmRlcmVyLm1ha2VMaW5rU2hvcnRVVUlEKFxuXHRcdFx0XHRcdFx0ZHYsXG5cdFx0XHRcdFx0XHRwYXJlbnQuZmlsZSxcblx0XHRcdFx0XHRcdFwiQ29udGVudFwiLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgVHlwZXMuUHJvdmlzaW9uOlxuXHRcdFx0XHRcdHJlY29yZC50eXBlID0gYDxmb250IGNvbG9yPURDMTQzQz5wcm92aXNpb248L2ZvbnQ+YDtcblx0XHRcdFx0XHRyZWNvcmQudGFza0lkID0gUmVuZGVyZXIubWFrZUxpbmtTaG9ydFVVSUQoXG5cdFx0XHRcdFx0XHRkdixcblx0XHRcdFx0XHRcdHBhcmVudC5maWxlLFxuXHRcdFx0XHRcdFx0XCJDb250ZW50XCIsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0XHRgUmVuZGVyZXIucHJvamVjdExvZ3M6IHR5cGUgXCIke3BhcmVudC5maWxlLmZyb250bWF0dGVyLnR5cGV9XCIgbm90IGltcGxlbWVudGVkYCxcblx0XHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0YnVmZi5wdXNoKFtcblx0XHRcdFx0cmVjb3JkLnR5cGUsXG5cdFx0XHRcdHJlY29yZC50YXNrSWQsXG5cdFx0XHRcdHJlY29yZC5sb2dJZCxcblx0XHRcdFx0cmVjb3JkLnRvb2ssXG5cdFx0XHRcdHJlY29yZC5yZXZpZXdlZCxcblx0XHRcdF0pO1xuXHRcdH1cblxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHRcdC8vIE1hdGgucm91bmQoKHRvdGFsVGltZSAvICgxMDAwICogNjAgKiA2MCkpICogMTApIC8gMTAsXG5cdH0sXG5cblx0Z29hbChkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRmb3IgKGNvbnN0IGZtIG9mIGRhdGEpIHtcblx0XHRcdGNvbnN0IGNyZWF0ZWRfYXQgPSBmbS5jcmVhdGVkQXQ7XG5cdFx0XHRjb25zdCBsb2dFbnRyaWVzID0gZHZcblx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuTG9nc30vJHtmbS51dWlkfVwiYClcblx0XHRcdFx0LndoZXJlKChwKSA9PiBwLnR5cGUgPT09IDYpXG5cdFx0XHRcdC5zb3J0KChrKSA9PiBrLmNyZWF0ZWRfYXQsIFwiZGVzY1wiKTtcblx0XHRcdGNvbnN0IGJlZm9yZSA9IG5ldyBEYXRlKGZtLmZtLmJlZm9yZSk7XG5cblx0XHRcdGNvbnN0IHRpbWVmcmFtZSA9XG5cdFx0XHRcdChiZWZvcmUuZ2V0VGltZSgpIC0gY3JlYXRlZF9hdC5nZXRUaW1lKCkpIC8gKDEwMDAgKiAzNjAwICogMjQpO1xuXHRcdFx0bGV0IHRpbWVmcmFtZVRleHQgPSBcIlwiO1xuXHRcdFx0aWYgKHRpbWVmcmFtZSA+IDAgJiYgdGltZWZyYW1lIDwgMzApIHtcblx0XHRcdFx0dGltZWZyYW1lVGV4dCA9IFwicnVuYXdheVwiO1xuXHRcdFx0fSBlbHNlIGlmICh0aW1lZnJhbWUgPCA2MCkge1xuXHRcdFx0XHR0aW1lZnJhbWVUZXh0ID0gXCIxMCwwMDAgZmVldFwiO1xuXHRcdFx0fSBlbHNlIGlmICh0aW1lZnJhbWUgPCAzNjApIHtcblx0XHRcdFx0dGltZWZyYW1lVGV4dCA9IFwiMjAsMDAwIGZlZXRcIjtcblx0XHRcdH0gZWxzZSBpZiAodGltZWZyYW1lIDwgNzIwKSB7XG5cdFx0XHRcdHRpbWVmcmFtZVRleHQgPSBcIjMwLDAwMCBmZWV0XCI7XG5cdFx0XHR9IGVsc2UgaWYgKHRpbWVmcmFtZSA8IDEwODApIHtcblx0XHRcdFx0dGltZWZyYW1lVGV4dCA9IFwiNDAsMDAwIGZlZXRcIjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRpbWVmcmFtZVRleHQgPSBcIjUwLDAwMCBmZWV0XCI7XG5cdFx0XHR9XG5cblx0XHRcdGJ1ZmYucHVzaChbXG5cdFx0XHRcdGJlZm9yZS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKSxcblx0XHRcdFx0ZHYuc2VjdGlvbkxpbmsoXG5cdFx0XHRcdFx0Zm0udXVpZCxcblx0XHRcdFx0XHRcIiMjIENvbnRlbnRcIixcblx0XHRcdFx0XHRmYWxzZSxcblx0XHRcdFx0XHRmbS51dWlkLnNsaWNlKDAsIDgpLFxuXHRcdFx0XHQpLFxuXHRcdFx0XHRmbS5nZXREb21haW4oKSxcblx0XHRcdFx0dGltZWZyYW1lVGV4dCxcblx0XHRcdF0pO1xuXHRcdH1cblxuXHRcdGR2LnRhYmxlKFtcImRlYWRsaW5lXCIsIFwidXVpZFwiLCBcImRvbWFpblwiLCBcInRpbWVmcmFtZVwiXSwgYnVmZik7XG5cdH0sXG5cblx0aW5ib3hFbnRyeShkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGNvbHMgPSBbXG5cdFx0XHRcInV1aWRcIixcblx0XHRcdC8vIFwidHlwZVwiLFxuXHRcdFx0Ly8gXCJhZ2VcIixcblx0XHRcdC8vIFwic2l6ZVwiLFxuXHRcdFx0XCJuYW1lXCIsXG5cdFx0XHQvLyBcInByb2plY3RcIixcblx0XHRcdC8vIFwiZG9tYWluXCIsXG5cdFx0XHQvLyBcImNvbXBvbmVudHNcIixcblx0XHRdO1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRmb3IgKGNvbnN0IGQgb2YgZGF0YSkge1xuXHRcdFx0Y29uc3QgZiA9IGQuZmlsZTtcblx0XHRcdGNvbnN0IGZtID0gZC5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdCFIZWxwZXIubmlsQ2hlY2soZm0udXVpZCksXG5cdFx0XHRcdGBcInV1aWRcIiBpZCBub3QgZGVmaW5lZCBmb3I6ICR7Zi5wYXRofWAsXG5cdFx0XHQpO1xuXHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdCFIZWxwZXIubmlsQ2hlY2soZm0udHlwZSksXG5cdFx0XHRcdGBcInR5cGVcIiBpZCBub3QgZGVmaW5lZCBmb3I6ICR7Zi5wYXRofWAsXG5cdFx0XHQpO1xuXG5cdFx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0Y29uc3QgZGVsdGEgPSBub3cuZ2V0VGltZSgpIC0gZm0uY3JlYXRlZEF0LmdldFRpbWUoKTtcblx0XHRcdGNvbnN0IHNpbmNlID0gSGVscGVyLm1zZWNUb1N0cmluZ0R1cmF0aW9uKGRlbHRhKTtcblx0XHRcdGxldCBuYW1lID0gXCJcIjtcblxuXHRcdFx0aWYgKGZtLmRvbWFpbiAhPT0gXCJkb21haW4vdW5kZWZpbmVkXCIpIHtcblx0XHRcdFx0bmFtZSA9IGZtLmRvbWFpbjtcblx0XHRcdH0gZWxzZSBpZiAoZm0ucHJvamVjdCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG5hbWUgPSBmbS5wcm9qZWN0O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bmFtZSA9IFwiXFxcXC1cIjtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgcmVjb3JkID0ge1xuXHRcdFx0XHR1dWlkOlxuXHRcdFx0XHRcdEhlbHBlci5udW1iZXJUeXBlVG9TdHJpbmcoZm0pID09PSBcImZsZWV0aW5nXCJcblx0XHRcdFx0XHRcdD8gYCYjMTI4MTk2ICR7UmVuZGVyZXIubWFrZUxpbmtBbGlhcyhkdiwgZil9YFxuXHRcdFx0XHRcdFx0OiBSZW5kZXJlci5tYWtlTGlua0FsaWFzKGR2LCBmKSxcblx0XHRcdFx0Ly8gdXVpZDogYCYjOTcyOCAke1JlbmRlcmVyLm1ha2VMaW5rQWxpYXMoZHYsIGYpfWAsXG5cdFx0XHRcdHR5cGU6IEhlbHBlci5udW1iZXJUeXBlVG9TdHJpbmcoZm0pLFxuXHRcdFx0XHRzaW5jZTogYCR7c2luY2V9YCxcblx0XHRcdFx0c2l6ZTogZi5zaXplLFxuXHRcdFx0XHRwcm9qZWN0OiBmbS5wcm9qZWN0ID09PSB1bmRlZmluZWQgPyBcIlxcXFwtXCIgOiBmbS5wcm9qZWN0LnNsaWNlKDgpLFxuXHRcdFx0XHRkb21haW46IGZtLmRvbWFpbiA9PT0gdW5kZWZpbmVkID8gXCJcXFxcLVwiIDogZm0uZG9tYWluLnNsaWNlKDcpLCAvL1JlbmRlcmVyLmRvbWFpbkJhc2UoZHYsIGZtLmRvbWFpbiksXG5cdFx0XHRcdG5hbWU6IG5hbWUsXG5cdFx0XHR9O1xuXG5cdFx0XHRpZiAocmVjb3JkLnR5cGUgPT09IFwibG9nXCIpIHtcblx0XHRcdFx0Y29uc3QgcGFnZXMgPSBkdlxuXHRcdFx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfS8ke2ZtLnBhcmVudF9pZH1cImApXG5cdFx0XHRcdFx0LmFycmF5KCk7XG5cdFx0XHRcdGlmIChwYWdlcy5sZW5ndGggIT09IDEpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYCR7Zm0ucGFyZW50X2lkfSAke2ZtLmlkfWApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnN0IHBhcmVudCA9IHBhZ2VzWzBdO1xuXHRcdFx0XHRzd2l0Y2ggKHBhcmVudC50eXBlKSB7XG5cdFx0XHRcdFx0Y2FzZSBUeXBlcy5UYXNrOlxuXHRcdFx0XHRcdFx0cmVjb3JkLnV1aWQgPSBgJiMxMjgyMTEgJHtyZWNvcmQudXVpZH1gO1xuXHRcdFx0XHRcdFx0cmVjb3JkLnR5cGUgPSBgPGZvbnQgY29sb3I9OEIwMDAwPnRhc2s8L2ZvbnQ+YDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgVHlwZXMuUHJheGlzOlxuXHRcdFx0XHRcdFx0cmVjb3JkLnV1aWQgPSBgJiMxMjgxODggJHtyZWNvcmQudXVpZH1gO1xuXHRcdFx0XHRcdFx0cmVjb3JkLnR5cGUgPSBgPGZvbnQgY29sb3I9RkY4QzAwPnByYXhpczwvZm9udD5gO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBUeXBlcy5NZWRpYTpcblx0XHRcdFx0XHRcdHJlY29yZC51dWlkID0gYCYjMTI4MTkxICR7cmVjb3JkLnV1aWR9YDtcblx0XHRcdFx0XHRcdHJlY29yZC50eXBlID0gYDxmb250IGNvbG9yPTAwMDA4Qj5tZWRpYTwvZm9udD5gO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBUeXBlcy5Qcm92aXNpb246XG5cdFx0XHRcdFx0XHRyZWNvcmQudHlwZSA9IGA8Zm9udCBjb2xvcj1EQzE0M0M+cHJvdmlzaW9uPC9mb250PmA7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0YnVmZi5wdXNoKFtcblx0XHRcdFx0cmVjb3JkLnV1aWQsXG5cdFx0XHRcdC8vIHJlY29yZC50eXBlLFxuXHRcdFx0XHQvLyByZWNvcmQuc2luY2UsXG5cdFx0XHRcdC8vIHJlY29yZC5zaXplLFxuXHRcdFx0XHRyZWNvcmQubmFtZSxcblx0XHRcdFx0Ly8gcmVjb3JkLnByb2plY3QsXG5cdFx0XHRcdC8vIHJlY29yZC5kb21haW4sXG5cdFx0XHRdKTtcblx0XHR9XG5cblx0XHRkdi50YWJsZShjb2xzLCBidWZmKTtcblx0fSxcblxuXHRyZXNvdXJjZUJhc2UoZHYsIGRhdGEpIHtcblx0XHRjb25zdCBjb2xzID0gW1widXVpZFwiXTtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Zm9yIChjb25zdCBkIG9mIGRhdGEpIHtcblx0XHRcdGNvbnN0IGYgPSBkLmZpbGU7XG5cdFx0XHRjb25zdCBmbSA9IGQuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdEFzc2VydC5UcnVlKFxuXHRcdFx0XHQhSGVscGVyLm5pbENoZWNrKGZtLnV1aWQpLFxuXHRcdFx0XHRgXCJ1dWlkXCIgaWQgbm90IGRlZmluZWQgZm9yOiAke2YucGF0aH1gLFxuXHRcdFx0KTtcblx0XHRcdGJ1ZmYucHVzaChbUmVuZGVyZXIubWFrZUxpbmtBbGlhcyhkdiwgZildKTtcblx0XHR9XG5cblx0XHRkdi50YWJsZShjb2xzLCBidWZmKTtcblx0fSxcblxuXHRiYXNpY1JlbGF0aW9uKGR2LCBkYXRhKSB7XG5cdFx0Y29uc3QgY29scyA9IFtcInV1aWRcIiwgXCJuYW1lXCJdO1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRmb3IgKGNvbnN0IGQgb2YgZGF0YSkge1xuXHRcdFx0Y29uc3QgZiA9IGQuZmlsZTtcblx0XHRcdGNvbnN0IGZtID0gZC5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdCFIZWxwZXIubmlsQ2hlY2soZm0udXVpZCksXG5cdFx0XHRcdGBcInV1aWRcIiBpZCBub3QgZGVmaW5lZCBmb3I6ICR7Zi5wYXRofWAsXG5cdFx0XHQpO1xuXHRcdFx0YnVmZi5wdXNoKFtSZW5kZXJlci5tYWtlTGlua0FsaWFzKGR2LCBmKSwgZm0ubmFtZV0pO1xuXHRcdH1cblxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHR9LFxuXG5cdHByYXhpc0Jhc2UoZHYsIGRhdGEpIHtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Y29uc3QgY29scyA9IFtcInRhc2tzXCIsIFwidXVpZFwiLCBcImVzdGltYXRlXCJdO1xuXHRcdGZvciAoY29uc3QgZCBvZiBkYXRhKSB7XG5cdFx0XHRjb25zdCBmID0gZC5maWxlO1xuXHRcdFx0Y29uc3QgZm0gPSBmLmZyb250bWF0dGVyO1xuXHRcdFx0YnVmZi5wdXNoKFtcblx0XHRcdFx0ZHYubWFya2Rvd25UYXNrTGlzdChmLnRhc2tzKSxcblx0XHRcdFx0ZHYuZmlsZUxpbmsoZi5wYXRoLCBmYWxzZSwgZi5uYW1lLnNsaWNlKDAsIDgpKSxcblx0XHRcdFx0Zm0udGltZV9lc3RpbWF0ZSxcblx0XHRcdF0pO1xuXHRcdH1cblxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHR9LFxuXG5cdHdhaXRpbmdUYXNrKGR2LCBkYXRhKSB7XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGNvbnN0IGNvbHMgPSBbXCJ0YXNrc1wiLCBcInV1aWRcIiwgXCJlc3RpbWF0ZVwiLCBcImNhdXNlXCJdO1xuXHRcdGZvciAoY29uc3QgZCBvZiBkYXRhKSB7XG5cdFx0XHRjb25zdCBmID0gZC5maWxlO1xuXHRcdFx0Y29uc3QgZm0gPSBmLmZyb250bWF0dGVyO1xuXHRcdFx0YnVmZi5wdXNoKFtcblx0XHRcdFx0ZHYubWFya2Rvd25UYXNrTGlzdChmLnRhc2tzKSxcblx0XHRcdFx0ZHYuZmlsZUxpbmsoZi5wYXRoLCBmYWxzZSwgZi5uYW1lLnNsaWNlKDAsIDgpKSxcblx0XHRcdFx0Zm0udGltZV9lc3RpbWF0ZSxcblx0XHRcdFx0Zm0uY2F1c2UsXG5cdFx0XHRdKTtcblx0XHR9XG5cblx0XHRkdi50YWJsZShjb2xzLCBidWZmKTtcblx0fSxcblxuXHRyZWFkeVRhc2soZHYsIGRhdGEpIHtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Y29uc3QgY29scyA9IFtcInV1aWRcIiwgXCJ0YXNrXCIsIFwiZXN0aW1hdGVcIiwgXCJhcmVhXCJdO1xuXHRcdGZvciAoY29uc3QgZCBvZiBkYXRhKSB7XG5cdFx0XHRjb25zdCBmID0gZC5maWxlO1xuXHRcdFx0Y29uc3QgZm0gPSBmLmZyb250bWF0dGVyO1xuXG5cdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRSZW5kZXJlci5tYWtlTGlua0FsaWFzKGR2LCBmLCBcIlRhc2tcIiksXG5cdFx0XHRcdGR2Lm1hcmtkb3duVGFza0xpc3QoZi50YXNrcyksXG5cdFx0XHRcdGZtLnRpbWVfZXN0aW1hdGUsXG5cdFx0XHRcdEhlbHBlci5nZXRGaWVsZChIZWxwZXIuZ2V0QXJlYShmbSwgdHJ1ZSksIFwiXFxcXC1cIiksXG5cdFx0XHRdKTtcblx0XHR9XG5cdFx0ZHYudGFibGUoY29scywgYnVmZik7XG5cdH0sXG5cblx0cHJvdmlzaW9uQmFzZShkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRjb25zdCBjb2xzID0gW1widXVpZFwiLCBcInN1cHBsaWVyXCIsIFwiY29udGVudFwiLCBcImVzdGltYXRlXCJdO1xuXHRcdGZvciAoY29uc3QgZCBvZiBkYXRhKSB7XG5cdFx0XHRjb25zdCBmID0gZC5maWxlO1xuXHRcdFx0Y29uc3QgZm0gPSBmLmZyb250bWF0dGVyO1xuXHRcdFx0YnVmZi5wdXNoKFtcblx0XHRcdFx0ZHYuZmlsZUxpbmsoZi5wYXRoLCBmYWxzZSwgZm0udXVpZC5zbGljZSgwLCA4KSksXG5cdFx0XHRcdGZtLnN1cHBsaWVyLFxuXHRcdFx0XHRkdi5tYXJrZG93blRhc2tMaXN0KGYudGFza3MpLFxuXHRcdFx0XHRmbS50aW1lX2VzdGltYXRlLFxuXHRcdFx0XSk7XG5cdFx0fVxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHR9LFxuXG5cdGJhc2ljVGFza0pvdXJuYWxOZXh0QWN0aW9uKGR2LCBkYXRhKSB7XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdC8vIGNvbnN0IGNvbHMgPSBbXCJqb3VybmFsXCIsIFwidXVpZFwiLCBcInRhc2tzXCIsIFwiZXN0aW1hdGVcIl07XG5cdFx0Y29uc3QgY29scyA9IFtcInV1aWRcIiwgXCJwcmlvcml0eVwiLCBcImVzdGltYXRlXCIsIFwidGFza3NcIl07XG5cdFx0Ly8gY29uc3Qgam91cm5hbCA9IGR2LnBhZ2VzKGBcIiR7UGF0aHMuSm91cm5hbH1cImApLmFycmF5KClbMF0uZmlsZVxuXHRcdC8vIFx0LmZyb250bWF0dGVyLnRhc2tzO1xuXG5cdFx0Zm9yIChjb25zdCBkIG9mIGRhdGEpIHtcblx0XHRcdGNvbnN0IGYgPSBkLmZpbGU7XG5cdFx0XHRjb25zdCBmbSA9IGYuZnJvbnRtYXR0ZXI7XG5cdFx0XHRjb25zdCBkb21haW4gPVxuXHRcdFx0XHRIZWxwZXIuZ2V0RG9tYWluKGZtLCB0cnVlKSA9PT0gdW5kZWZpbmVkXG5cdFx0XHRcdFx0PyBcIlxcXFwtXCJcblx0XHRcdFx0XHQ6IEhlbHBlci5nZXREb21haW4oZm0pO1xuXG5cdFx0XHRpZiAoZm0ucmVmX2lkID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coYG5hbWU6ICR7ZC5maWxlLnBhdGh9YClcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coYHRhc2tzOiAke2QuZmlsZS50YXNrcy5sZW5ndGh9YClcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coYHRhc2tzQjogJHtmLnRhc2tzLmxlbmd0aH1gKVxuXHRcdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRcdC8vIGpvdXJuYWwuY29udGFpbnMoZm0udXVpZCkgPyBcIi0+XCIgOiBcIlxcXFwtXCIsXG5cdFx0XHRcdFx0ZHYuZmlsZUxpbmsoZi5wYXRoLCBmYWxzZSwgZm0udXVpZC5zbGljZSgwLCA4KSksXG5cdFx0XHRcdFx0Zm0ucHJpb3JpdHksXG5cdFx0XHRcdFx0Zm0udGltZV9lc3RpbWF0ZSxcblx0XHRcdFx0XHRkdi5tYXJrZG93blRhc2tMaXN0KGYudGFza3MpLFxuXHRcdFx0XHRdKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IHJlZiA9IGR2LnBhZ2VzKGBcIiR7UGF0aHMuUmVmc30vJHtmbS5yZWZfaWR9XCJgKS5hcnJheSgpO1xuXHRcdFx0XHRpZiAocmVmLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHRcdGB0YXNrOiAnJHtmbS51dWlkfScgaGFzIGFuIHVuZGVmaW5lZCByZWZfaWQ6ICcke2ZtLnJlZl9pZH0nYCxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGJ1ZmYucHVzaChbXG5cdFx0XHRcdFx0XHRkdi5maWxlTGluayhmLnBhdGgsIGZhbHNlLCBmbS51dWlkLnNsaWNlKDAsIDgpKSxcblx0XHRcdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rQWxpYXMoZHYsIHJlZlswXS5maWxlKSxcblx0XHRcdFx0XHRcdGZtLnRpbWVfZXN0aW1hdGUsXG5cdFx0XHRcdFx0XHRkb21haW4sXG5cdFx0XHRcdFx0XSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0ZHYudGFibGUoY29scywgYnVmZik7XG5cdH0sXG5cblx0YmFzaWNUYXNrSm91cm5hbFdhaXRpbmcoZHYsIGRhdGEpIHtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Y29uc3QgY29scyA9IFtcInV1aWRcIiwgXCJjYXVzZVwiLCBcInRhc2tzXCJdO1xuXG5cdFx0Zm9yIChjb25zdCBkIG9mIGRhdGEpIHtcblx0XHRcdGNvbnN0IGYgPSBkLmZpbGU7XG5cdFx0XHRjb25zdCBmbSA9IGYuZnJvbnRtYXR0ZXI7XG5cdFx0XHRjb25zdCBkb21haW4gPVxuXHRcdFx0XHRIZWxwZXIuZ2V0RG9tYWluKGZtLCB0cnVlKSA9PT0gdW5kZWZpbmVkXG5cdFx0XHRcdFx0PyBcIlxcXFwtXCJcblx0XHRcdFx0XHQ6IEhlbHBlci5nZXREb21haW4oZm0pO1xuXG5cdFx0XHRpZiAoZm0ucmVmX2lkID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coYG5hbWU6ICR7ZC5maWxlLnBhdGh9YClcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coYHRhc2tzOiAke2QuZmlsZS50YXNrcy5sZW5ndGh9YClcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coYHRhc2tzQjogJHtmLnRhc2tzLmxlbmd0aH1gKVxuXHRcdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRcdC8vIGpvdXJuYWwuY29udGFpbnMoZm0udXVpZCkgPyBcIi0+XCIgOiBcIlxcXFwtXCIsXG5cdFx0XHRcdFx0ZHYuZmlsZUxpbmsoZi5wYXRoLCBmYWxzZSwgZm0udXVpZC5zbGljZSgwLCA4KSksXG5cdFx0XHRcdFx0ZC5jYXVzZSxcblx0XHRcdFx0XHRkdi5tYXJrZG93blRhc2tMaXN0KGYudGFza3MpLFxuXHRcdFx0XHRdKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IHJlZiA9IGR2LnBhZ2VzKGBcIiR7UGF0aHMuUmVmc30vJHtmbS5yZWZfaWR9XCJgKS5hcnJheSgpO1xuXHRcdFx0XHRpZiAocmVmLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHRcdGB0YXNrOiAnJHtmbS51dWlkfScgaGFzIGFuIHVuZGVmaW5lZCByZWZfaWQ6ICcke2ZtLnJlZl9pZH0nYCxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGJ1ZmYucHVzaChbXG5cdFx0XHRcdFx0XHRkdi5maWxlTGluayhmLnBhdGgsIGZhbHNlLCBmbS51dWlkLnNsaWNlKDAsIDgpKSxcblx0XHRcdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rQWxpYXMoZHYsIHJlZlswXS5maWxlKSxcblx0XHRcdFx0XHRcdGZtLnRpbWVfZXN0aW1hdGUsXG5cdFx0XHRcdFx0XHRkb21haW4sXG5cdFx0XHRcdFx0XSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0ZHYudGFibGUoY29scywgYnVmZik7XG5cdH0sXG5cdGJhc2ljVGFza0pvdXJuYWwoZHYsIGRhdGEpIHtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Ly8gY29uc3QgY29scyA9IFtcImpvdXJuYWxcIiwgXCJ1dWlkXCIsIFwidGFza3NcIiwgXCJlc3RpbWF0ZVwiXTtcblx0XHRjb25zdCBjb2xzID0gW1widXVpZFwiLCBcInRhc2tzXCIsIFwiZXN0aW1hdGVcIl07XG5cdFx0Ly8gY29uc3Qgam91cm5hbCA9IGR2LnBhZ2VzKGBcIiR7UGF0aHMuSm91cm5hbH1cImApLmFycmF5KClbMF0uZmlsZVxuXHRcdC8vIFx0LmZyb250bWF0dGVyLnRhc2tzO1xuXG5cdFx0Zm9yIChjb25zdCBkIG9mIGRhdGEpIHtcblx0XHRcdGNvbnN0IGYgPSBkLmZpbGU7XG5cdFx0XHRjb25zdCBmbSA9IGYuZnJvbnRtYXR0ZXI7XG5cdFx0XHRjb25zdCBkb21haW4gPVxuXHRcdFx0XHRIZWxwZXIuZ2V0RG9tYWluKGZtLCB0cnVlKSA9PT0gdW5kZWZpbmVkXG5cdFx0XHRcdFx0PyBcIlxcXFwtXCJcblx0XHRcdFx0XHQ6IEhlbHBlci5nZXREb21haW4oZm0pO1xuXG5cdFx0XHRpZiAoZm0ucmVmX2lkID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coYG5hbWU6ICR7ZC5maWxlLnBhdGh9YClcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coYHRhc2tzOiAke2QuZmlsZS50YXNrcy5sZW5ndGh9YClcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coYHRhc2tzQjogJHtmLnRhc2tzLmxlbmd0aH1gKVxuXHRcdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRcdC8vIGpvdXJuYWwuY29udGFpbnMoZm0udXVpZCkgPyBcIi0+XCIgOiBcIlxcXFwtXCIsXG5cdFx0XHRcdFx0ZHYuZmlsZUxpbmsoZi5wYXRoLCBmYWxzZSwgZm0udXVpZC5zbGljZSgwLCA4KSksXG5cdFx0XHRcdFx0ZHYubWFya2Rvd25UYXNrTGlzdChmLnRhc2tzKSxcblx0XHRcdFx0XHRmbS50aW1lX2VzdGltYXRlLFxuXHRcdFx0XHRdKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IHJlZiA9IGR2LnBhZ2VzKGBcIiR7UGF0aHMuUmVmc30vJHtmbS5yZWZfaWR9XCJgKS5hcnJheSgpO1xuXHRcdFx0XHRpZiAocmVmLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHRcdGB0YXNrOiAnJHtmbS51dWlkfScgaGFzIGFuIHVuZGVmaW5lZCByZWZfaWQ6ICcke2ZtLnJlZl9pZH0nYCxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGJ1ZmYucHVzaChbXG5cdFx0XHRcdFx0XHRkdi5maWxlTGluayhmLnBhdGgsIGZhbHNlLCBmbS51dWlkLnNsaWNlKDAsIDgpKSxcblx0XHRcdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rQWxpYXMoZHYsIHJlZlswXS5maWxlKSxcblx0XHRcdFx0XHRcdGZtLnRpbWVfZXN0aW1hdGUsXG5cdFx0XHRcdFx0XHRkb21haW4sXG5cdFx0XHRcdFx0XSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0ZHYudGFibGUoY29scywgYnVmZik7XG5cdH0sXG5cdGFjdGl2ZVRhc2soZHYsIGRhdGEpIHtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Y29uc3QgY29scyA9IFtcInV1aWRcIiwgXCJ0YXNrc1wiLCBcInNlc3Npb25cIl07XG5cdFx0Zm9yIChjb25zdCBkIG9mIGRhdGEpIHtcblx0XHRcdGNvbnN0IGYgPSBkLmZpbGU7XG5cdFx0XHRjb25zdCBmbSA9IGYuZnJvbnRtYXR0ZXI7XG5cdFx0XHRjb25zdCBsb2dzID0gZHZcblx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuTG9nc30vJHtmbS51dWlkfVwiYClcblx0XHRcdFx0LndoZXJlKChwKSA9PiBwLnR5cGUgPT09IDYpXG5cdFx0XHRcdC5zb3J0KChrKSA9PiBrLmNyZWF0ZWRfYXQsIFwiZGVzY1wiKTtcblx0XHRcdGNvbnN0IGxhc3QgPSBsb2dzWzBdO1xuXHRcdFx0Y29uc3QgY3JlYXRlZEF0ID0gbmV3IERhdGUobGFzdC5jcmVhdGVkX2F0KTtcblx0XHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG5cdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRkdi5maWxlTGluayhmLnBhdGgsIGZhbHNlLCBmbS51dWlkLnNsaWNlKDAsIDgpKSxcblx0XHRcdFx0ZHYubWFya2Rvd25UYXNrTGlzdChmLnRhc2tzKSxcblx0XHRcdFx0KCh0KSA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIE1hdGgucm91bmQoKHQgLyAoMzYwMCAqIDEwMDApKSAqIDEwKSAvIDEwO1xuXHRcdFx0XHR9KShub3cuZ2V0VGltZSgpIC0gY3JlYXRlZEF0LmdldFRpbWUoKSksXG5cdFx0XHRdKTtcblx0XHR9XG5cdFx0ZHYudGFibGUoY29scywgYnVmZik7XG5cdH0sXG5cblx0YmFzaWNUYXNrKGR2LCBkYXRhKSB7XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGNvbnN0IGNvbHMgPSBbXCJ1dWlkXCIsIFwidGFza3NcIiwgXCJlc3RpbWF0ZVwiLCBcImRvbWFpblwiXTtcblx0XHRmb3IgKGNvbnN0IGQgb2YgZGF0YSkge1xuXHRcdFx0Y29uc3QgZiA9IGQuZmlsZTtcblx0XHRcdGNvbnN0IGZtID0gZi5mcm9udG1hdHRlcjtcblx0XHRcdGNvbnN0IGRvbWFpbiA9XG5cdFx0XHRcdEhlbHBlci5nZXREb21haW4oZm0sIHRydWUpID09PSB1bmRlZmluZWRcblx0XHRcdFx0XHQ/IFwiXFxcXC1cIlxuXHRcdFx0XHRcdDogSGVscGVyLmdldERvbWFpbihmbSk7XG5cblx0XHRcdGlmIChmbS5yZWZfaWQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHQvLyBjb25zb2xlLmxvZyhgbmFtZTogJHtkLmZpbGUucGF0aH1gKVxuXHRcdFx0XHQvLyBjb25zb2xlLmxvZyhgdGFza3M6ICR7ZC5maWxlLnRhc2tzLmxlbmd0aH1gKVxuXHRcdFx0XHQvLyBjb25zb2xlLmxvZyhgdGFza3NCOiAke2YudGFza3MubGVuZ3RofWApXG5cdFx0XHRcdGJ1ZmYucHVzaChbXG5cdFx0XHRcdFx0ZHYuZmlsZUxpbmsoZi5wYXRoLCBmYWxzZSwgZm0udXVpZC5zbGljZSgwLCA4KSksXG5cdFx0XHRcdFx0ZHYubWFya2Rvd25UYXNrTGlzdChmLnRhc2tzKSxcblx0XHRcdFx0XHRmbS50aW1lX2VzdGltYXRlLFxuXHRcdFx0XHRcdGRvbWFpbixcblx0XHRcdFx0XSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zdCByZWYgPSBkdi5wYWdlcyhgXCIke1BhdGhzLlJlZnN9LyR7Zm0ucmVmX2lkfVwiYCkuYXJyYXkoKTtcblx0XHRcdFx0aWYgKHJlZi5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0XHRgdGFzazogJyR7Zm0udXVpZH0nIGhhcyBhbiB1bmRlZmluZWQgcmVmX2lkOiAnJHtmbS5yZWZfaWR9J2AsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRcdFx0ZHYuZmlsZUxpbmsoZi5wYXRoLCBmYWxzZSwgZm0udXVpZC5zbGljZSgwLCA4KSksXG5cdFx0XHRcdFx0XHRSZW5kZXJlci5tYWtlTGlua0FsaWFzKGR2LCByZWZbMF0uZmlsZSksXG5cdFx0XHRcdFx0XHRmbS50aW1lX2VzdGltYXRlLFxuXHRcdFx0XHRcdFx0ZG9tYWluLFxuXHRcdFx0XHRcdF0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHR9LFxuXG5cdGxvZ3MoZHYsIGVudHJpZXMpIHtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0bGV0IHRvdGFsVGltZSA9IDA7XG5cblx0XHRmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcblx0XHRcdGNvbnN0IGZtZSA9IGVudHJ5LmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRjb25zdCBlID0gW107XG5cdFx0XHRsZXQgc3RhcnQ6IGFueSA9IDA7XG5cdFx0XHRsZXQgc3RvcDogYW55ID0gMDtcblx0XHRcdGlmIChmbWUgPT09IHVuZGVmaW5lZCB8fCBmbWUuY3JlYXRlZF9hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBmcm9udG1hdHRlcjogJHtmbWUudXVpZH1gKTtcblx0XHRcdH1cblxuXHRcdFx0c3RhcnQgPSBuZXcgRGF0ZShmbWUuY3JlYXRlZF9hdCk7XG5cdFx0XHRlLnB1c2goc3RhcnQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCkpO1xuXHRcdFx0aWYgKGZtZS5kb25lX2F0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0c3RvcCA9IERhdGUubm93KCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzdG9wID0gbmV3IERhdGUoZm1lLmRvbmVfYXQpO1xuXHRcdFx0fVxuXHRcdFx0dG90YWxUaW1lICs9IHN0b3AgLSBzdGFydDtcblx0XHRcdGUucHVzaChcblx0XHRcdFx0ZHYuc2VjdGlvbkxpbmsoXG5cdFx0XHRcdFx0Zm1lLnV1aWQsXG5cdFx0XHRcdFx0XCIjIyBDb250ZW50XCIsXG5cdFx0XHRcdFx0ZmFsc2UsXG5cdFx0XHRcdFx0Zm1lLnV1aWQuc2xpY2UoMCwgOCksXG5cdFx0XHRcdCksXG5cdFx0XHQpO1xuXHRcdFx0ZS5wdXNoKE1hdGgucm91bmQoKChzdG9wIC0gc3RhcnQpIC8gKDEwMDAgKiA2MCAqIDYwKSkgKiAxMCkgLyAxMCk7XG5cdFx0XHRpZiAoZm1lLnJldmlld2VkID09PSB1bmRlZmluZWQgfHwgZm1lLnJldmlld2VkID09PSAwKSB7XG5cdFx0XHRcdGUucHVzaCgwKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGUucHVzaChmbWUucmV2aWV3ZWQpO1xuXHRcdFx0fVxuXHRcdFx0YnVmZi5wdXNoKGUpO1xuXHRcdH1cblxuXHRcdGlmIChidWZmLmxlbmd0aCA+IDApIHtcblx0XHRcdGR2LmhlYWRlcigyLCBcIkxvZ3NcIik7XG5cdFx0XHRkdi50YWJsZShbXCJjcmVhdGVkX2F0XCIsIFwidXVpZFwiLCBcInNlc3Npb25cIiwgXCJyZXZpZXdlZFwiXSwgYnVmZik7XG5cdFx0XHRpZiAodG90YWxUaW1lID4gMCkge1xuXHRcdFx0XHRkdi5wYXJhZ3JhcGgoXG5cdFx0XHRcdFx0YF90b3RhbFRpbWUgKGgpOl8gJHtNYXRoLnJvdW5kKCh0b3RhbFRpbWUgLyAoMTAwMCAqIDYwICogNjApKSAqIDEwKSAvIDEwXG5cdFx0XHRcdFx0fWAsXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdG1lZGlhV2l0aExvZ3MoZHYsIGRhdGEpIHtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Y29uc3QgY29scyA9IFtcInV1aWRcIiwgXCJ0YXNrc1wiLCBcImVzdGltYXRlXCIsIFwiY3VycmVudFwiLCBcImRvbWFpblwiXTtcblxuXHRcdGZvciAoY29uc3QgZCBvZiBkYXRhKSB7XG5cdFx0XHRjb25zdCBmID0gZC5maWxlO1xuXHRcdFx0Y29uc3QgZm0gPSBmLmZyb250bWF0dGVyO1xuXHRcdFx0Y29uc3QgcmVmID0gZHYucGFnZXMoYFwiJHtQYXRocy5SZWZzfS8ke2ZtLnJlZl9pZH1cImApLmFycmF5KCk7XG5cdFx0XHRpZiAocmVmLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0YHRhc2s6ICcke2ZtLnV1aWR9JyBoYXMgYW4gdW5kZWZpbmVkIHJlZl9pZDogJyR7Zm0ucmVmX2lkfSdgLFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgZG9tYWluID1cblx0XHRcdFx0SGVscGVyLmdldERvbWFpbihmbSwgdHJ1ZSkgPT09IHVuZGVmaW5lZFxuXHRcdFx0XHRcdD8gXCJcXFxcLVwiXG5cdFx0XHRcdFx0OiBIZWxwZXIuZ2V0RG9tYWluKGZtKTtcblx0XHRcdGNvbnN0IGxvZ0VudHJpZXMgPSBkdlxuXHRcdFx0XHQucGFnZXMoYFwiJHtQYXRocy5Mb2dzfS8ke2ZtLnV1aWR9XCJgKVxuXHRcdFx0XHQud2hlcmUoKHApID0+IHAudHlwZSA9PT0gVHlwZXMuTG9nKVxuXHRcdFx0XHQuc29ydCgoaykgPT4gay5jcmVhdGVkX2F0LCBcImRlc2NcIik7XG5cdFx0XHRsZXQgdG90YWxUaW1lID0gMDtcblx0XHRcdGZvciAoY29uc3QgZW50cnkgb2YgbG9nRW50cmllcykge1xuXHRcdFx0XHRjb25zdCBmbWUgPSBlbnRyeS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0XHRjb25zdCBlID0gW107XG5cdFx0XHRcdGxldCBzdGFydDogYW55ID0gMDtcblx0XHRcdFx0bGV0IHN0b3A6IGFueSA9IDA7XG5cdFx0XHRcdGlmIChmbWUgPT09IHVuZGVmaW5lZCB8fCBmbWUuY3JlYXRlZF9hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGZyb250bWF0dGVyOiAke2ZtZS51dWlkfWApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0c3RhcnQgPSBuZXcgRGF0ZShmbWUuY3JlYXRlZF9hdCk7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0ZS5wdXNoKHN0YXJ0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApKTtcblx0XHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvcihlbnRyeS51dWlkKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoZm1lLmRvbmVfYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHN0b3AgPSBEYXRlLm5vdygpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHN0b3AgPSBuZXcgRGF0ZShmbWUuZG9uZV9hdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dG90YWxUaW1lICs9IHN0b3AgLSBzdGFydDtcblx0XHRcdH1cblxuXHRcdFx0YnVmZi5wdXNoKFtcblx0XHRcdFx0ZHYuZmlsZUxpbmsoZi5wYXRoLCBmYWxzZSwgZm0udXVpZC5zbGljZSgwLCA4KSksXG5cdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rQWxpYXMoZHYsIHJlZlswXS5maWxlKSxcblx0XHRcdFx0Zm0udGltZV9lc3RpbWF0ZSxcblx0XHRcdFx0YCR7TWF0aC5yb3VuZCgodG90YWxUaW1lIC8gKDEwMDAgKiA2MCAqIDYwKSkgKiAxMCkgLyAxMH1oYCxcblx0XHRcdFx0ZG9tYWluLFxuXHRcdFx0XSk7XG5cdFx0fVxuXG5cdFx0ZHYudGFibGUoY29scywgYnVmZik7XG5cdH0sXG5cblx0dGFza0RvbmVXaXRoTG9ncyhkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRjb25zdCBjb2xzID0gW1xuXHRcdFx0XCJ0YXNrSWRcIixcblx0XHRcdFwibG9nSWRcIixcblx0XHRcdFwiY3JlYXRlZEF0XCIsXG5cdFx0XHRcImRvbmVBdFwiLFxuXHRcdFx0XCJ0aW1lRXN0aW1hdGVcIixcblx0XHRcdFwidG9va1wiLFxuXHRcdFx0XCJwcm9qZWN0XCIsXG5cdFx0XTtcblx0XHRmb3IgKGNvbnN0IGQgb2YgZGF0YSkge1xuXHRcdFx0Y29uc3QgZiA9IGQuZmlsZTtcblx0XHRcdGNvbnN0IGZtID0gZC5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0Y29uc3QgY3JlYXRlZEF0OiBhbnkgPSBuZXcgRGF0ZShmbS5jcmVhdGVkX2F0KTtcblx0XHRcdGNvbnN0IGRvbmVBdDogYW55ID0gbmV3IERhdGUoZm0uZG9uZV9hdCk7XG5cdFx0XHRjb25zdCB0aW1lRXN0aW1hdGUgPSBcIlwiO1xuXHRcdFx0Y29uc3QgdG9vayA9IChkb25lQXQgLSBjcmVhdGVkQXQpIC8gKDEwMDAgKiAzNjAwKTtcblx0XHRcdGNvbnN0IHBhZ2VzID0gZHZcblx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9XCJgKVxuXHRcdFx0XHQud2hlcmUoKHBhZ2UpID0+IHBhZ2UuZmlsZS5mcm9udG1hdHRlci51dWlkID09PSBmbS5wYXJlbnRfaWQpO1xuXHRcdFx0aWYgKHBhZ2VzLmxlbmd0aCAhPT0gMSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoKTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IHBhcmVudCA9IHBhZ2VzWzBdO1xuXHRcdFx0Y29uc3QgcGFyZW50Rm0gPSBwYXJlbnQuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGNvbnN0IHBhcmVudEYgPSBwYXJlbnQuZmlsZTtcblx0XHRcdGJ1ZmYucHVzaChbXG5cdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rU2hvcnRVVUlEKGR2LCBwYXJlbnQuZmlsZSwgXCJUYXNrXCIpLFxuXHRcdFx0XHRSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRChkdiwgZiksXG5cdFx0XHRcdGNyZWF0ZWRBdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKSxcblx0XHRcdFx0ZG9uZUF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApLFxuXHRcdFx0XHR0aW1lRXN0aW1hdGUsXG5cdFx0XHRcdCgodCkgPT4ge1xuXHRcdFx0XHRcdHJldHVybiBNYXRoLnJvdW5kKHQgKiAxMCkgLyAxMDtcblx0XHRcdFx0fSkodG9vayksXG5cdFx0XHRcdEhlbHBlci5nZXRQcm9qZWN0KHBhcmVudEZtKSxcblx0XHRcdF0pO1xuXHRcdH1cblxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHR9LFxuXG5cdHByb2plY3RzKGR2LCBwYWdlcykge1xuXHRcdGNvbnN0IGNvbHMgPSBbXCJuYW1lXCJdO1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblxuXHRcdGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuXHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdGJ1ZmYucHVzaChbUmVuZGVyZXIubWFrZUxpbmsoZHYsIHBhZ2UuZmlsZSwgZm0uZ2V0TmFtZSgpKV0pO1xuXHRcdH1cblxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHR9LFxuXG5cdGJhc2ljRG9uZVRhc2tXaXRoTG9ncyhkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGNvbHMgPSBbXG5cdFx0XHRcInV1aWRcIixcblx0XHRcdFwiY3JlYXRlZEF0XCIsXG5cdFx0XHRcImRvbmVBdFwiLFxuXHRcdFx0XCJ0aW1lRXN0aW1hdGVcIixcblx0XHRcdFwidG9va1wiLFxuXHRcdFx0XCJkZWx0YVwiLFxuXHRcdFx0XCJwcm9qZWN0XCIsXG5cdFx0XHRcImFyZWFcIixcblx0XHRdO1xuXHRcdGR2LnRhYmxlKGNvbHMsIGRhdGEpO1xuXHR9LFxuXG5cdGJhc2ljRG9uZVRhc2tXaXRob3V0TG9ncyhkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGNvbHMgPSBbXCJ0YXNrSWRcIiwgXCJjcmVhdGVkQXRcIiwgXCJwcm9qZWN0XCIsIFwiYXJlYVwiXTtcblx0XHRkdi50YWJsZShjb2xzLCBkYXRhKTtcblx0fSxcblxuXHRiYXNpY1Byb2dyZXNzZWRUYXNrV2l0aExvZyhkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGNvbHMgPSBbXG5cdFx0XHRcInRhc2tJZFwiLFxuXHRcdFx0XCJsb2dJZFwiLFxuXHRcdFx0Ly8gXCJjcmVhdGVkQXRcIixcblx0XHRcdC8vIFwiZG9uZUF0XCIsXG5cdFx0XHRcInRvb2tcIixcblx0XHRcdC8vIFwidG9va0FjY1wiLFxuXHRcdFx0XCJwcm9qZWN0XCIsXG5cdFx0XHQvLyBcImRvbWFpblwiLFxuXHRcdF07XG5cdFx0ZHYudGFibGUoY29scywgZGF0YSk7XG5cdH0sXG5cblx0Ly8gZGFpbHlUYXNrKGR2LCBkYXRhKSB7XG5cdC8vIFx0UmVuZGVyZXIubWFrZUxpbmtTaG9ydFVVSUQodGhpcy5kdiwgcGFnZS5maWxlKSxcblx0Ly8gXHRkdi5cblx0Ly8gXHRcdFx0XHRycy5wdXNoKFtcblx0Ly8gXHRcdFx0XHRcdFwicGFyYWdyYXBoXCIsXG5cdC8vIFx0XHRcdFx0XHRSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRCh0aGlzLmR2LCBwYWdlLmZpbGUpLFxuXHQvLyBcdFx0XHRcdF0pO1xuXHQvLyB9XG5cblx0ZG8oZHYsIHJzKSB7XG5cdFx0Zm9yIChjb25zdCByb3cgb2YgcnMpIHtcblx0XHRcdHN3aXRjaCAocm93WzBdKSB7XG5cdFx0XHRcdGNhc2UgXCJoZWFkZXJcIjpcblx0XHRcdFx0XHRjb25zdCBbLCBsZXZlbCwgaGVhZGluZ10gPSByb3c7XG5cdFx0XHRcdFx0ZHYuaGVhZGVyKGxldmVsLCBoZWFkaW5nKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcInBhcmFncmFwaFwiOlxuXHRcdFx0XHRcdGNvbnN0IFssIHRleHRdID0gcm93O1xuXHRcdFx0XHRcdGR2LnBhcmFncmFwaCh0ZXh0KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcImFycmF5XCI6XG5cdFx0XHRcdFx0Y29uc3QgWywgcmVuZGVyZXIsIGRhdGFdID0gcm93O1xuXHRcdFx0XHRcdHJlbmRlcmVyKGR2LCBkYXRhKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcInN0YXRzXCI6XG5cdFx0XHRcdFx0Y29uc3QgWywgbmFtZSwgdW5pdCwgdmFsdWVdID0gcm93O1xuXHRcdFx0XHRcdGR2LnBhcmFncmFwaChgJHtuYW1lfSAoJHt1bml0fSk6ICR7dmFsdWV9YCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBVbnN1cG9ydGVkIG9wY29kZTogXCJmdWNrb2ZmXCJgKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG59O1xuXG5leHBvcnQgY2xhc3MgRnJvbnRtYXR0ZXIge1xuXHRnb25leHQ6IGFueTtcblxuXHRjb25zdHJ1Y3Rvcihnb25leHQpIHtcblx0XHR0aGlzLmdvbmV4dCA9IGdvbmV4dDtcblx0fVxuXG5cdHByb2plY3RQYXJzZU1ldGEoZHYpIHtcblx0XHQvLyBmYXV0ZSBkZSBtaWV1eCBwb3VyIGxlIG1vbWVudFxuXHRcdGNvbnN0IGN1cnJlbnQgPSBkdi5jdXJyZW50KCk7XG5cdFx0Y29uc3QgcHJvamVjdE5hbWUgPSBjdXJyZW50LmZpbGUuZm9sZGVyLnNsaWNlKFxuXHRcdFx0UGF0aHMuUHJvamVjdHMubGVuZ3RoICsgMSxcblx0XHQpO1xuXHRcdGNvbnN0IHByb2plY3REaXIgPSBjdXJyZW50LmZpbGUuZm9sZGVyO1xuXHRcdGlmIChwcm9qZWN0TmFtZS5jb250YWlucyhcIi9cIikpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0YHByb2plY3REaXI6ICR7cHJvamVjdERpcn0gZm9sZGVyOiAke2N1cnJlbnQuZmlsZS5mb2xkZXJ9YCxcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgcGFnZXMgPSBkdi5wYWdlcyhgXCIke3Byb2plY3REaXJ9L21ldGFcImApLmFycmF5KCk7XG5cdFx0aWYgKHBhZ2VzLmxlbmd0aCAhPT0gMSkge1xuXHRcdFx0Ly8gY29uc29sZS5sb2cocGFnZXMpO1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBsZW46ICR7cGFnZXMubGVuZ3RofWApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGZtID0gcGFnZXNbMF0uZmlsZS5mcm9udG1hdHRlcjtcblx0XHRjb25zdCB1dWlkID0gZm0udXVpZDtcblx0XHRpZiAoSGVscGVyLm5pbENoZWNrKHV1aWQpKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYHByb2plY3QgJ3V1aWQnIGlzIG5vdCBkZWZpbmVkYCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgbmFtZSA9IGZtLm5hbWU7XG5cdFx0aWYgKEhlbHBlci5uaWxDaGVjayhuYW1lKSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGAnbmFtZScgaXMgbm90IGRlZmluZWRgKTtcblx0XHR9XG5cblx0XHRjb25zdCBkb21haW5zID0gZm0uZG9tYWlucztcblx0XHRpZiAoIUFycmF5LmlzQXJyYXkoZG9tYWlucykpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgJ2RvbWFpbnMnIG11c3QgYmUgb2YgYXJyYXkgdHlwZWApO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHR1dWlkOiB1dWlkLFxuXHRcdFx0bmFtZTogbmFtZSxcblx0XHRcdGRvbWFpbnM6IGRvbWFpbnMsXG5cdFx0fTtcblx0fVxuXG5cdGdldENyZWF0ZWRBdChmKTogRGF0ZSB7XG5cdFx0cmV0dXJuIEhlbHBlci5uaWxDaGVjayhmLmZyb250bWF0dGVyLmNyZWF0ZWRfYXQpXG5cdFx0XHQ/IG5ldyBEYXRlKGYuY3RpbWUudHMpXG5cdFx0XHQ6IG5ldyBEYXRlKGYuZnJvbnRtYXR0ZXIuY3JlYXRlZF9hdCk7XG5cdH1cblxuXHRnZXRDdXJyZW50RnJvbnRtYXR0ZXIoKSB7XG5cdFx0Y29uc3QgZmlsZSA9IHRoaXMuZ29uZXh0LndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XG5cdFx0Y29uc3QgZmlsZUNvbnRlbnQgPSB0aGlzLmdvbmV4dC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShmaWxlKTtcblx0XHRpZiAoZmlsZUNvbnRlbnQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Ly8gY29uc29sZS53YXJuKFwiJ2ZpbGVDb250ZW50JyBpcyB1bmRlZmluZWRcIik7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdGNvbnN0IGZtID0gZmlsZUNvbnRlbnQuZnJvbnRtYXR0ZXI7XG5cdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdC8vIGNvbnNvbGUud2FybihcIidmbScgaXMgdW5kZWZpbmVkXCIpO1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHRyZXR1cm4gZm07XG5cdH1cblxuXHRwYXJzZUxpc3RCeU5hbWVzcGFjZShmbSkge1xuXHRcdGNvbnN0IGJ5QXJlYXMgPSBmbS5ieV9hcmVhcyA9PT0gdW5kZWZpbmVkID8gW10gOiBmbS5ieV9hcmVhcztcblx0XHRjb25zdCBieUNvbnRleHRzID0gZm0uYnlfY29udGV4dHMgPT09IHVuZGVmaW5lZCA/IFtdIDogZm0uYnlfY29udGV4dHM7XG5cdFx0Y29uc3QgYnlMYXllcnMgPSBmbS5ieV9sYXllcnMgPT09IHVuZGVmaW5lZCA/IFtdIDogZm0uYnlfbGF5ZXJzO1xuXHRcdGNvbnN0IGJ5T3JncyA9IGZtLmJ5X29yZ3MgPT09IHVuZGVmaW5lZCA/IFtdIDogZm0uYnlfb3Jncztcblx0XHRjb25zdCBieVByb2plY3RzID0gZm0uYnlfcHJvamVjdHMgPT09IHVuZGVmaW5lZCA/IFtdIDogZm0uYnlfcHJvamVjdHM7XG5cblx0XHRyZXR1cm4gW2J5QXJlYXMsIGJ5Q29udGV4dHMsIGJ5TGF5ZXJzLCBieU9yZ3MsIGJ5UHJvamVjdHNdO1xuXHR9XG5cblx0cGFyc2VMaXN0QmVmb3JlQWZ0ZXIoZm0pIHtcblx0XHRjb25zdCBiZWZvcmUgPSBIZWxwZXIuZ2V0RGF0ZShmbS5iZWZvcmUpO1xuXHRcdGNvbnN0IGFmdGVyID0gSGVscGVyLmdldERhdGUoZm0uYWZ0ZXIpO1xuXHRcdHJldHVybiBbYmVmb3JlLCBhZnRlcl07XG5cdH1cblxuXHRwYXJzZUxpc3RGaWx0ZXJCeShmbSkge1xuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gW107XG5cdFx0fVxuXG5cdFx0Y29uc3QgZmlsdGVyQnkgPSBmbS5maWx0ZXJfYnk7XG5cdFx0aWYgKCFBcnJheS5pc0FycmF5KGZpbHRlckJ5KSkge1xuXHRcdFx0cmV0dXJuIFtdO1xuXHRcdH1cblxuXHRcdHJldHVybiBmaWx0ZXJCeTtcblx0fVxuXG5cdHBhcnNlTGlzdEdyb3VwQnkoZm0pIHtcblx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIFwiXCI7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZ3JvdXBCeSA9IGZtLmdyb3VwX2J5O1xuXHRcdGlmIChcblx0XHRcdCEodHlwZW9mIGdyb3VwQnkgPT09IFwidW5kZWZpbmVkXCIpICYmXG5cdFx0XHQhKHR5cGVvZiBncm91cEJ5ID09PSBcInN0cmluZ1wiKVxuXHRcdCkge1xuXHRcdFx0cmV0dXJuIFwiXCI7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGdyb3VwQnk7XG5cdH1cblxuXHRwYXJzZUFsbFByb2dyZXNzZWRUYXNrcygpIHtcblx0XHRjb25zdCBmbSA9IHRoaXMuZ2V0Q3VycmVudEZyb250bWF0dGVyKCk7XG5cdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBmcm9udG1hdHRlciwgY2Fubm90IHByb2NlZWRgKTtcblx0XHR9XG5cblx0XHRjb25zdCBncm91cEJ5ID0gdGhpcy5wYXJzZUxpc3RHcm91cEJ5KGZtKTtcblx0XHRjb25zdCBmaWx0ZXJCeSA9IHRoaXMucGFyc2VMaXN0RmlsdGVyQnkoZm0pO1xuXHRcdGNvbnN0IFtiZWZvcmUsIGFmdGVyXSA9IHRoaXMucGFyc2VMaXN0QmVmb3JlQWZ0ZXIoZm0pO1xuXG5cdFx0cmV0dXJuIFtncm91cEJ5LCBmaWx0ZXJCeSwgYmVmb3JlLCBhZnRlcl07XG5cdH1cblxuXHRwYXJzZUFsbERvbmVUYXNrcygpIHtcblx0XHRyZXR1cm4gdGhpcy5wYXJzZUFsbFByb2dyZXNzZWRUYXNrcygpO1xuXHR9XG5cblx0cGFyc2VBbGxEb25lVGFza1dpdGhvdXRMb2coKSB7XG5cdFx0cmV0dXJuIHRoaXMucGFyc2VBbGxQcm9ncmVzc2VkVGFza3MoKTtcblx0fVxuXG5cdHBhcnNlQWxsVG9kb0FkSG9jKCkge1xuXHRcdGNvbnN0IGZtID0gdGhpcy5nZXRDdXJyZW50RnJvbnRtYXR0ZXIoKTtcblx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGZyb250bWF0dGVyLCBjYW5ub3QgcHJvY2VlZGApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGdyb3VwQnkgPSB0aGlzLnBhcnNlTGlzdEdyb3VwQnkoZm0pO1xuXHRcdGNvbnN0IGZpbHRlckJ5ID0gdGhpcy5wYXJzZUxpc3RGaWx0ZXJCeShmbSk7XG5cdFx0Y29uc3QgW2JlZm9yZSwgYWZ0ZXJdID0gdGhpcy5wYXJzZUxpc3RCZWZvcmVBZnRlcihmbSk7XG5cdFx0Y29uc3QgbWluUHJpb3JpdHkgPSBIZWxwZXIuZ2V0RmllbGQoZm0ubWluX3ByaW9yaXR5LCAwKTtcblxuXHRcdHJldHVybiBbZ3JvdXBCeSwgZmlsdGVyQnksIGJlZm9yZSwgYWZ0ZXIsIG1pblByaW9yaXR5XTtcblx0fVxuXG5cdHBhcnNlSW5ib3goKSB7XG5cdFx0Y29uc3QgZm0gPSB0aGlzLmdldEN1cnJlbnRGcm9udG1hdHRlcigpO1xuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gW1tdLCBbXSwgMCwgMHhmZmZmZmZmZl07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgc291cmNlID0gSGVscGVyLm5pbENoZWNrKGZtLnNvdXJjZSlcblx0XHRcdD8gW1wibG9nc1wiLCBcImZsZWV0aW5nXCJdXG5cdFx0XHQ6IGZtLnNvdXJjZTtcblx0XHRjb25zdCBncm91cEJ5ID0gSGVscGVyLm5pbENoZWNrKGZtLmdyb3VwX2J5KSA/IFwibm9uZVwiIDogZm0uZ3JvdXBfYnk7XG5cdFx0Y29uc3QgZmlsdGVyQnkgPSB0aGlzLnBhcnNlTGlzdEZpbHRlckJ5KGZtKTtcblx0XHRjb25zdCBtaW5TaXplID0gSGVscGVyLm5pbENoZWNrKGZtLm1pbl9zaXplKSA/IDAgOiBmbS5taW5fc2l6ZTtcblx0XHRjb25zdCBtYXhTaXplID0gSGVscGVyLm5pbENoZWNrKGZtLm1heF9zaXplKSA/IDB4ZmZmZmZmZmYgOiBmbS5tYXhfc2l6ZTtcblxuXHRcdHJldHVybiBbc291cmNlLCBncm91cEJ5LCBmaWx0ZXJCeSwgbWluU2l6ZSwgbWF4U2l6ZV07XG5cdH1cblxuXHRwYXJzZVRvZG9MaXN0KCkge1xuXHRcdGNvbnN0IGZtID0gdGhpcy5nZXRDdXJyZW50RnJvbnRtYXR0ZXIoKTtcblx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIFtbXSwgW10sIFtdLCBbXSwgW10sIDBdO1xuXHRcdH1cblxuXHRcdGNvbnN0IFtieUFyZWFzLCBieUNvbnRleHRzLCBieUxheWVycywgYnlPcmdzLCBieVByb2plY3RzXSA9XG5cdFx0XHR0aGlzLnBhcnNlTGlzdEJ5TmFtZXNwYWNlKGZtKTtcblx0XHRjb25zdCBtaW5Qcmlvcml0eSA9IEhlbHBlci5nZXRGaWVsZChmbS5taW5fcHJpb3JpdHksIDApO1xuXG5cdFx0cmV0dXJuIFtieUFyZWFzLCBieUNvbnRleHRzLCBieUxheWVycywgYnlPcmdzLCBieVByb2plY3RzLCBtaW5Qcmlvcml0eV07XG5cdH1cblxuXHRwYXJzZURvbmVMaXN0KCkge1xuXHRcdGNvbnN0IGZtID0gdGhpcy5nZXRDdXJyZW50RnJvbnRtYXR0ZXIoKTtcblx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIFtbXSwgW10sIFtdLCBbXSwgW10sIFtdLCBbXV07XG5cdFx0fVxuXG5cdFx0Y29uc3QgW2J5QXJlYXMsIGJ5Q29udGV4dHMsIGJ5TGF5ZXJzLCBieU9yZ3MsIGJ5UHJvamVjdHNdID1cblx0XHRcdHRoaXMucGFyc2VMaXN0QnlOYW1lc3BhY2UoZm0pO1xuXHRcdGNvbnN0IFtiZWZvcmUsIGFmdGVyXSA9IHRoaXMucGFyc2VMaXN0QmVmb3JlQWZ0ZXIoZm0pO1xuXHRcdGNvbnN0IGZpZWxkcyA9IEhlbHBlci5nZXRGaWVsZChmbS5maWVsZHMsIFtdKTtcblx0XHRjb25zdCBzdGF0cyA9IEhlbHBlci5nZXRGaWVsZChmbS5zdGF0cywgW10pO1xuXG5cdFx0cmV0dXJuIFtcblx0XHRcdGJ5QXJlYXMsXG5cdFx0XHRieUNvbnRleHRzLFxuXHRcdFx0YnlMYXllcnMsXG5cdFx0XHRieU9yZ3MsXG5cdFx0XHRieVByb2plY3RzLFxuXHRcdFx0ZmllbGRzLFxuXHRcdFx0c3RhdHMsXG5cdFx0XHRiZWZvcmUsXG5cdFx0XHRhZnRlcixcblx0XHRdO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBOb3RlSGVscGVyIHtcblx0ZHY6IGFueTtcblx0Z29uZXh0OiBhbnk7XG5cdGZyb250bWF0dGVyOiBGcm9udG1hdHRlcjtcblxuXHRjb25zdHJ1Y3Rvcihnb25leHQsIGR2LCBmcm9udG1hdHRlcikge1xuXHRcdHRoaXMuZ29uZXh0ID0gZ29uZXh0O1xuXHRcdHRoaXMuZHYgPSBkdjtcblx0XHR0aGlzLmZyb250bWF0dGVyID0gZnJvbnRtYXR0ZXI7XG5cdH1cblxuXHRpc0RvYWJsZSh0YXNrLCBhdCA9IHVuZGVmaW5lZCkge1xuXHRcdGNvbnN0IGZtID0gdGFzay5maWxlLmZyb250bWF0dGVyO1xuXHRcdGlmIChmbS5zdGF0dXMgIT09IFN0YXR1cy5Ub2RvKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKGZtLmFmdGVyICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGNvbnN0IGFmdGVyID0gbmV3IERhdGUoZm0uYWZ0ZXIpO1xuXHRcdFx0aWYgKERhdGUubm93KCkgPD0gYWZ0ZXIuZ2V0VGltZSgpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoYXQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Y29uc3QgZm1BdCA9IG5ldyBEYXRlKGZtLmF0KTtcblx0XHRcdGZtQXQuc2V0SG91cnMoMCk7XG5cdFx0XHRmbUF0LnNldE1pbnV0ZXMoMCk7XG5cdFx0XHRmbUF0LnNldFNlY29uZHMoMCk7XG5cblx0XHRcdC8vIGlmIChmbS51dWlkID09PSBcIjJhOTdkZTM1LWNhODctNDI2Ny05MTU5LTZjMDk2ZDQxNjNmMVwiKSB7XG5cdFx0XHQvLyBcdGNvbnNvbGUubG9nKGB1dWlkOiAke2ZtLnV1aWR9YCk7XG5cdFx0XHQvLyBcdGNvbnNvbGUubG9nKGBhdDogJHthdC5nZXRUaW1lKCl9YCk7XG5cdFx0XHQvLyBcdGNvbnNvbGUubG9nKGBmbUF0OiAke2ZtQXQuZ2V0VGltZSgpfWApO1xuXHRcdFx0Ly8gXHRjb25zb2xlLmxvZyhgaWY6ICR7YXQuZ2V0VGltZSgpIDwgZm1BdC5nZXRUaW1lKCl9YCk7XG5cdFx0XHQvLyB9XG5cblx0XHRcdGlmIChhdC5nZXRUaW1lKCkgPCBmbUF0LmdldFRpbWUoKSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmIChmbS5hdCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGNvbnN0IGF0ID0gbmV3IERhdGUoZm0uYXQpO1xuXHRcdFx0XHRpZiAoRGF0ZS5ub3coKSA8PSBhdC5nZXRUaW1lKCkpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCBkZXBzID0gZm0ubmVlZHM7XG5cdFx0aWYgKGRlcHMgPT09IHVuZGVmaW5lZCB8fCBkZXBzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuaGFzUGVuZGluZ0RlcGVuZGVuY2llcyhkZXBzKSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0aGFzUGVuZGluZ0RlcGVuZGVuY2llcyhkZXBzKSB7XG5cdFx0Zm9yIChjb25zdCBkZXAgb2YgZGVwcykge1xuXHRcdFx0Y29uc3QgdGFzayA9IHRoaXMuZHYucGFnZXMoYFwiJHtQYXRocy5UYXNrc30vJHtkZXB9XCJgKS5hcnJheSgpO1xuXHRcdFx0aWYgKHRhc2subGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdGNvbnNvbGUud2Fybihcblx0XHRcdFx0XHRgaGFzUGVuZGluZ0RlcGVuZGVuY2llczogXCIke1BhdGhzLlRhc2tzfS8ke2RlcH1cIiB0YXNrIGRvZXMgbm90IGV4aXN0c2AsXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBmbSA9IHRhc2tbMF0uZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGlmIChcblx0XHRcdFx0Zm0udHlwZSAhPT0gVHlwZXMuVGFzayAmJlxuXHRcdFx0XHRmbS50eXBlICE9PSBUeXBlcy5Qcm92aXNpb24gJiZcblx0XHRcdFx0Zm0udHlwZSAhPT0gVHlwZXMuUHJheGlzXG5cdFx0XHQpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChmbS5zdGF0dXMgPT09IFN0YXR1cy5Ub2RvKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGlzQ2hpbGRUYWcocGFyZW50LCBjaGlsZCkge1xuXHRcdGlmIChjaGlsZC5sZW5ndGggPD0gcGFyZW50Lmxlbmd0aCArIDEpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9IGVsc2UgaWYgKGNoaWxkLnNsaWNlKDAsIHBhcmVudC5sZW5ndGggKyAxKSAhPSBgJHtwYXJlbnR9L2ApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRnZXROYW1lc3BhY2VDb250ZW50KG5zOiBzdHJpbmcpIHtcblx0XHRjb25zdCBjaGlsZHJlbiA9IFtdO1xuXHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdi5wYWdlcyhgIyR7bnN9YCk7XG5cdFx0Zm9yIChjb25zdCBwIG9mIHBhZ2VzKSB7XG5cdFx0XHRjb25zdCB0YWdzID0gcC5maWxlLmZyb250bWF0dGVyLnRhZ3M7XG5cblx0XHRcdGlmICh0YWdzID09PSB1bmRlZmluZWQgfHwgdGFncy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGZvciAoY29uc3QgdGFnIG9mIHRhZ3MpIHtcblx0XHRcdFx0aWYgKHRoaXMuaXNDaGlsZFRhZyhucywgdGFnKSkge1xuXHRcdFx0XHRcdGNvbnN0IHQgPSB0YWcuc2xpY2UobnMubGVuZ3RoICsgMSk7XG5cdFx0XHRcdFx0aWYgKCFjaGlsZHJlbi5jb250YWlucyh0KSkge1xuXHRcdFx0XHRcdFx0Y2hpbGRyZW4ucHVzaCh0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY2hpbGRyZW47XG5cdH1cblxuXHRpc0xhc3RSZXZpc2lvbihwYWdlKTogYm9vbGVhbiB7XG5cdFx0Y29uc3QgcmV2aXNpb25MaXN0ID0gKGR2LCByb290OiBzdHJpbmcsIGN1cnJlbnQpID0+IHtcblx0XHRcdGxldCBoZWFkID0gY3VycmVudDtcblx0XHRcdHdoaWxlICh0cnVlKSB7XG5cdFx0XHRcdGNvbnN0IHBhZ2VzID0gZHZcblx0XHRcdFx0XHQucGFnZXMoYFwiJHtyb290fVwiYClcblx0XHRcdFx0XHQud2hlcmUoXG5cdFx0XHRcdFx0XHQocGFnZSkgPT5cblx0XHRcdFx0XHRcdFx0cGFnZS5maWxlLmZyb250bWF0dGVyLm5leHQgPT09XG5cdFx0XHRcdFx0XHRcdGhlYWQuZmlsZS5mcm9udG1hdHRlci51dWlkLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdGlmIChwYWdlcy5sZW5ndGggPiAxKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCk7XG5cdFx0XHRcdH0gZWxzZSBpZiAocGFnZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdFx0aGVhZCA9IHBhZ2VzWzBdO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBidWZmID0gW107XG5cdFx0XHRsZXQgY3VyID0gaGVhZDtcblx0XHRcdHdoaWxlICh0cnVlKSB7XG5cdFx0XHRcdGJ1ZmYucHVzaChjdXIpO1xuXHRcdFx0XHRjb25zdCBmbSA9IGN1ci5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0XHRpZiAoZm0ubmV4dCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29uc3QgcGFnZXMgPSBkdi5wYWdlcyhgXCIke3Jvb3R9LyR7Zm0ubmV4dH1cImApO1xuXHRcdFx0XHRpZiAocGFnZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y3VyID0gcGFnZXNbMF07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBidWZmO1xuXHRcdH07XG5cblx0XHRjb25zdCBub3RlID0gcGFnZTtcblx0XHRjb25zdCBmbSA9IG5vdGUuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRsZXQgcmV2aXNpb25zID0gW107XG5cdFx0c3dpdGNoIChmbS50eXBlKSB7XG5cdFx0XHRjYXNlIFR5cGVzLlBlcm1hbmVudDpcblx0XHRcdFx0cmV2aXNpb25zID0gcmV2aXNpb25MaXN0KHRoaXMuZHYsIFBhdGhzLlNsaXBib3gsIG5vdGUpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgVHlwZXMuUmVzb3VyY2U6XG5cdFx0XHRcdHJldmlzaW9ucyA9IHJldmlzaW9uTGlzdCh0aGlzLmR2LCBQYXRocy5SZXNvdXJjZXMsIG5vdGUpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcigpO1xuXHRcdH1cblxuXHRcdGlmIChyZXZpc2lvbnMubGVuZ3RoIDw9IDEpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdHJldHVybiByZXZpc2lvbnNbMF0uZmlsZS5mcm9udG1hdHRlci51dWlkID09PSBmbS51dWlkO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBHZW5lcmF0b3Ige1xuXHRhcHA6IGFueTtcblx0ZHY6IGFueTtcblx0Z29uZXh0OiBhbnk7XG5cblx0Y29uc3RydWN0b3IoYXBwKSB7XG5cdFx0dGhpcy5hcHAgPSBhcHA7XG5cdFx0dGhpcy5kdiA9IGFwcC5kdjtcblx0XHR0aGlzLmdvbmV4dCA9IGFwcC5nb25leHQ7XG5cdH1cblxuXHRqb3VybmFsRGFpbHkoKSB7XG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKTtcblx0XHRjb25zdCBub3dEYXRlID0gbm93LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xuXHRcdC8vIGRvaXQgXHUwMEVBdHJlIGV4ZWN1dFx1MDBFOSBkZXB1aXMgbGEgdGFzayByYXRhY2hcdTAwRTkgXHUwMEUwIGxhIGRhaWx5LCByYXBwZWwgZGFpbHkgPSBsb2cgZW50cnkgcG91ciB0YXNrIHByb2plY3QvZGFpbHlcblx0XHQvLyBUYXNrcy9cblx0XHQvL1x0XHQ4YWM0N2Q1MC00YjczLTQxYWMtYTE4My0wYzNhNWY0MWZmMTkubWRcblx0XHQvL1x0XHQ4YWM0N2Q1MC00YjczLTQxYWMtYTE4My0wYzNhNWY0MWZmMTkvXG5cdFx0Ly9cdFx0XHQzZTQzY2E3MS1kZmMxLTQ4NTYtYjFjMy0xMGMwN2FlNmYzZWYubWRcblx0XHRjb25zdCBwYWdlcyA9IHRoaXMuZHYucGFnZXMoYFwiJHtQYXRocy5Kb3VybmFsfVwiYCkud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdGNvbnN0IGZtcCA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0aWYgKGZtcC5nZXRQcm9qZWN0KCkgIT09IFwiZGFpbHlcIikge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChmbXAuY3JlYXRlZEF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApICE9PSBub3dEYXRlKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSk7XG5cblx0XHRmb3IgKGNvbnN0IHBhZ2Ugb2YgcGFnZXMpIHtcblx0XHRcdGNvbnNvbGUubG9nKHBhZ2UpO1xuXHRcdH1cblx0fVxuXG5cdGZsZWV0aW5nKCkge1xuXHRcdGNvbnN0IGR0ID0gbmV3IERhdGUoKTtcblx0XHRjb25zdCBub3RlID0ge1xuXHRcdFx0dXVpZDogdXVpZHY0KCksXG5cdFx0XHR0eXBlOiAxMyxcblx0XHRcdHZlcnNpb246IFwiMC4wLjRcIixcblx0XHRcdGNyZWF0ZWRfYXQ6IGR0LnRvSVNPU3RyaW5nKCksXG5cdFx0XHRwYXRoOiBcIlwiLFxuXHRcdFx0ZGF0YTogXCJcIixcblx0XHR9O1xuXG5cdFx0bm90ZS5wYXRoID0gYDgwMCBJbmJveC8ke25vdGUudXVpZH0ubWRgO1xuXHRcdG5vdGUuZGF0YSA9IGAtLS1cXG50eXBlOiAxM1xcbnV1aWQ6IFwiJHtub3RlLnV1aWR9XCJcXG5jcmVhdGVkX2F0OiBcIiR7bm90ZS5jcmVhdGVkX2F0fVwiXFxudmVyc2lvbjogXCIwLjAuNFwiXFxuLS0tXFxuIyMgQ29udGVudFxcbmA7XG5cblx0XHRjb25zdCBmID0gdGhpcy5hcHAudmF1bHQuY3JlYXRlKG5vdGUucGF0aCwgbm90ZS5kYXRhKS50aGVuKChmKSA9PiB7XG5cdFx0XHRyZXR1cm4gZjtcblx0XHR9KTtcblx0XHRjb25zdCBhY3RpdmUgPSB0aGlzLmFwcC53b3Jrc3BhY2UuYWN0aXZlTGVhZjtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0Y29uc3Qgcm9vdCA9IGFjdGl2ZS5wYXJlbnQ7XG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLmNyZWF0ZUxlYWZJblBhcmVudChyb290LCByb290LmNoaWxkcmVuLmxlbmd0aCArIDEpO1xuXHRcdGNvbnN0IGxlYWYgPSByb290LmNoaWxkcmVuW3Jvb3QuY2hpbGRyZW4ubGVuZ3RoIC0gMV07XG5cdFx0Zi50aGVuKChmaWxlKSA9PiB7XG5cdFx0XHRsZWFmLm9wZW5GaWxlKGZpbGUsIHsgYWN0aXZlOiB0cnVlIH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0cGVybWFuZW50KG5hbWU6IHN0cmluZykge1xuXHRcdGNvbnN0IGR0ID0gbmV3IERhdGUoKTtcblx0XHRjb25zdCBub3RlID0ge1xuXHRcdFx0dXVpZDogdXVpZHY0KCksXG5cdFx0XHR0eXBlOiAyLFxuXHRcdFx0dmVyc2lvbjogXCIwLjAuM1wiLFxuXHRcdFx0Y3JlYXRlZF9hdDogZHQudG9JU09TdHJpbmcoKSxcblx0XHRcdHBhdGg6IFwiXCIsXG5cdFx0XHRkYXRhOiBcIlwiLFxuXHRcdH07XG5cblx0XHRub3RlLnBhdGggPSBgJHtQYXRocy5TbGlwYm94fS8ke25vdGUudXVpZH0ubWRgO1xuXHRcdGlmIChuYW1lID09PSB1bmRlZmluZWQpIHtcblx0XHRcdG5vdGUuZGF0YSA9IGAtLS1cXG50eXBlOiAyXFxudXVpZDogXCIke25vdGUudXVpZH1cIlxcbmNyZWF0ZWRfYXQ6IFwiJHtub3RlLmNyZWF0ZWRfYXR9XCJcXG52ZXJzaW9uOiBcIjAuMC4zXCJcXG4tLS1cXG4jIyBDb250ZW50XFxuYDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bm90ZS5kYXRhID0gYC0tLVxcbnR5cGU6IDJcXG51dWlkOiBcIiR7bm90ZS51dWlkfVwiXFxuY3JlYXRlZF9hdDogXCIke25vdGUuY3JlYXRlZF9hdH1cIlxcbnZlcnNpb246IFwiMC4wLjNcIlxcbi0tLVxcbiMjIENvbnRlbnRcXG4jIyMgJHtuYW1lfVxcbmA7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZiA9IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZShub3RlLnBhdGgsIG5vdGUuZGF0YSkudGhlbigoZikgPT4ge1xuXHRcdFx0cmV0dXJuIGY7XG5cdFx0fSk7XG5cdFx0Y29uc3QgYWN0aXZlID0gdGhpcy5hcHAud29ya3NwYWNlLmFjdGl2ZUxlYWY7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGNvbnN0IHJvb3QgPSBhY3RpdmUucGFyZW50O1xuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5jcmVhdGVMZWFmSW5QYXJlbnQocm9vdCwgcm9vdC5jaGlsZHJlbi5sZW5ndGggKyAxKTtcblx0XHRjb25zdCBsZWFmID0gcm9vdC5jaGlsZHJlbltyb290LmNoaWxkcmVuLmxlbmd0aCAtIDFdO1xuXHRcdGYudGhlbigoZmlsZSkgPT4ge1xuXHRcdFx0bGVhZi5vcGVuRmlsZShmaWxlLCB7IGFjdGl2ZTogdHJ1ZSB9KTtcblx0XHR9KTtcblx0fVxuXHQvLyBAdHMtaWdub3JlXG5cdGpvdXJuYWxFbnRyeShkdCkge1xuXHRcdGlmIChkdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRkdCA9IG5ldyBEYXRlKCk7XG5cdFx0fVxuXG5cdFx0Y29uc3Qgbm90ZSA9IHtcblx0XHRcdHV1aWQ6IHV1aWR2NCgpLFxuXHRcdFx0dHlwZTogMjAsXG5cdFx0XHR2ZXJzaW9uOiBcIjAuMC40XCIsXG5cdFx0XHRjcmVhdGVkX2F0OiBkdC50b0lTT1N0cmluZygpLFxuXHRcdFx0cGF0aDogXCJcIixcblx0XHRcdGRhdGE6IFwiXCIsXG5cdFx0fTtcblxuXHRcdG5vdGUucGF0aCA9IGBKb3VybmFsLyR7bm90ZS51dWlkfS5tZGA7XG5cdFx0bm90ZS5kYXRhID0gYC0tLVxcbnR5cGU6IDIwXFxudXVpZDogXCIke25vdGUudXVpZH1cIlxcbmNyZWF0ZWRfYXQ6IFwiJHtub3RlLmNyZWF0ZWRfYXR9XCJcXG52ZXJzaW9uOiBcIjAuMC40XCJcXG50YWdzOlxcbiAgICAtIHByb2plY3QvZGFpbHlcXG4tLS1cXG4jIyBDb250ZW50XFxuIyMjIGVudHJ5XFxuYDtcblxuXHRcdHJldHVybiB0aGlzLmFwcC52YXVsdC5jcmVhdGUobm90ZS5wYXRoLCBub3RlLmRhdGEpLnRoZW4oKGYpID0+IHtcblx0XHRcdHJldHVybiBmO1xuXHRcdH0pO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBMaXN0TWFrZXIge1xuXHRkdjogYW55O1xuXHRnb25leHQ6IGFueTtcblx0ZnJvbnRtYXR0ZXI6IEZyb250bWF0dGVyO1xuXHRub3RlSGVscGVyOiBOb3RlSGVscGVyO1xuXG5cdGNvbnN0cnVjdG9yKGdvbmV4dCwgZHYsIGZyb250bWF0dGVyKSB7XG5cdFx0dGhpcy5nb25leHQgPSBnb25leHQ7XG5cdFx0dGhpcy5kdiA9IGR2O1xuXHRcdHRoaXMuZnJvbnRtYXR0ZXIgPSBmcm9udG1hdHRlcjtcblx0XHR0aGlzLm5vdGVIZWxwZXIgPSBuZXcgTm90ZUhlbHBlcihnb25leHQsIGR2LCBmcm9udG1hdHRlcik7XG5cdH1cblxuXHRuYW1lSW5OYW1lc3BhY2UoZm06IGFueSwgbnM6IHN0cmluZ1tdKSB7XG5cdFx0bGV0IGZvdW5kID0gZmFsc2U7XG5cdFx0aWYgKG5zLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Zm9yIChjb25zdCBhIG9mIG5zKSB7XG5cdFx0XHRjb25zdCByb290ID0gYS5zcGxpdChcIi9cIik7XG5cdFx0XHRBc3NlcnQuVHJ1ZShyb290Lmxlbmd0aCA9PT0gMiwgYEludmFsaWQgdGFnOiAnJHthfSdgKTtcblx0XHRcdGNvbnN0IHBhcmVudCA9XG5cdFx0XHRcdHJvb3RbMF0uc2xpY2UoMCwgMSkgPT09IFwiIVwiID8gcm9vdFswXS5zbGljZSgxKSA6IHJvb3RbMF07XG5cdFx0XHQvLyBjb25zb2xlLmxvZyhwYXJlbnQpXG5cdFx0XHRjb25zdCBuYW1lID0gSGVscGVyLmdldFRhZyhmbSwgcGFyZW50KTtcblxuXHRcdFx0aWYgKGEuc2xpY2UoMCwgMSkgPT09IFwiIVwiKSB7XG5cdFx0XHRcdC8vIG5lZ2F0aXZlIG1hdGNoLCBkaXNjYXJkIGVudHJ5XG5cdFx0XHRcdGlmIChuYW1lID09PSBhLnNsaWNlKDEpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdC8vIG5vIG1hdGNoLCByZWluaXRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRmb3VuZCA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIHBvc2l0aXZlIG1hdGNoLCBrZWVwIGVudHJ5XG5cdFx0XHRcdGlmIChuYW1lID09PSBhKSB7XG5cdFx0XHRcdFx0Zm91bmQgPSB0cnVlO1xuXHRcdFx0XHRcdC8vIG5vIG1hdGNoLCByZWluaXRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRmb3VuZCA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZvdW5kO1xuXHR9XG5cblx0bXlOYW1lSW5OYW1lc3BhY2UobmFtZTogc3RyaW5nLCBuczogc3RyaW5nW10pIHtcblx0XHRsZXQgZm91bmQgPSBmYWxzZTtcblx0XHRpZiAobnMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRmb3IgKGNvbnN0IGEgb2YgbnMpIHtcblx0XHRcdGlmIChhLnNsaWNlKDAsIDEpID09PSBcIiFcIikge1xuXHRcdFx0XHQvLyBuZWdhdGl2ZSBtYXRjaCwgZGlzY2FyZCBlbnRyeVxuXHRcdFx0XHRpZiAobmFtZSA9PT0gYS5zbGljZSgxKSkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHQvLyBubyBtYXRjaCwgcmVpbml0XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Zm91bmQgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBwb3NpdGl2ZSBtYXRjaCwga2VlcCBlbnRyeVxuXHRcdFx0XHRpZiAobmFtZSA9PT0gYSkge1xuXHRcdFx0XHRcdGZvdW5kID0gdHJ1ZTtcblx0XHRcdFx0XHQvLyBubyBtYXRjaCwgcmVpbml0XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Zm91bmQgPSBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmb3VuZDtcblx0fVxuXG5cdGZpbHRlckJ5TmFtZXNwYWNlKFxuXHRcdGZtOiBhbnksXG5cdFx0YnlBcmVhczogc3RyaW5nW10sXG5cdFx0YnlDb250ZXh0czogc3RyaW5nW10sXG5cdFx0YnlMYXllcnM6IHN0cmluZ1tdLFxuXHRcdGJ5T3Jnczogc3RyaW5nW10sXG5cdFx0YnlQcm9qZWN0czogc3RyaW5nW10sXG5cdCk6IGJvb2xlYW4ge1xuXHRcdC8vIGlmIChieUFyZWFzLmxlbmd0aCA+IDAgJiYgIWJ5QXJlYXMuY29udGFpbnMoSGVscGVyLmdldEFyZWEoZm0pKSkge1xuXHRcdC8vIFx0cmV0dXJuIGZhbHNlO1xuXHRcdC8vIH1cblxuXHRcdGlmICghdGhpcy5teU5hbWVJbk5hbWVzcGFjZShIZWxwZXIuZ2V0QXJlYShmbSksIGJ5QXJlYXMpKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gY29uc3QgYXJlYSA9IEhlbHBlci5nZXRBcmVhKGZtKTtcblx0XHQvLyBsZXQgZm91bmQgPSBmYWxzZTtcblx0XHQvLyBmb3IgKGNvbnN0IGEgb2YgYnlBcmVhcykge1xuXHRcdC8vIFx0aWYgKGEuc2xpY2UoMCwgMSkgPT09IFwiIVwiKSB7XG5cdFx0Ly8gXHRcdC8vIG5lZ2F0aXZlIG1hdGNoLCBkaXNjYXJkIGVudHJ5XG5cdFx0Ly8gXHRcdGlmIChhcmVhID09PSBhLnNsaWNlKDEpKSB7XG5cdFx0Ly8gXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdC8vIFx0XHRcdC8vIG5vIG1hdGNoLCByZWluaXRcblx0XHQvLyBcdFx0fSBlbHNlIHtcblx0XHQvLyBcdFx0XHRmb3VuZCA9IHRydWU7XG5cdFx0Ly8gXHRcdH1cblx0XHQvLyBcdH0gZWxzZSB7XG5cdFx0Ly8gXHRcdC8vIHBvc2l0aXZlIG1hdGNoLCBrZWVwIGVudHJ5XG5cdFx0Ly8gXHRcdGlmIChhcmVhID09PSBhKSB7XG5cdFx0Ly8gXHRcdFx0Zm91bmQgPSB0cnVlO1xuXHRcdC8vIFx0XHRcdC8vIG5vIG1hdGNoLCByZWluaXRcblx0XHQvLyBcdFx0fSBlbHNlIHtcblx0XHQvLyBcdFx0XHRmb3VuZCA9IGZhbHNlO1xuXHRcdC8vIFx0XHR9XG5cdFx0Ly8gXHR9XG5cdFx0Ly8gfVxuXHRcdC8vXG5cdFx0Ly8gaWYgKCFmb3VuZCkge1xuXHRcdC8vIFx0cmV0dXJuIGZhbHNlO1xuXHRcdC8vIH1cblxuXHRcdC8vIGlmIChcblx0XHQvLyBcdGJ5Q29udGV4dHMubGVuZ3RoID4gMCAmJlxuXHRcdC8vIFx0IWJ5Q29udGV4dHMuY29udGFpbnMoSGVscGVyLmdldENvbnRleHQoZm0pKVxuXHRcdC8vICkge1xuXHRcdC8vIFx0cmV0dXJuIGZhbHNlO1xuXHRcdC8vIH1cblx0XHRpZiAoIXRoaXMubXlOYW1lSW5OYW1lc3BhY2UoSGVscGVyLmdldENvbnRleHQoZm0pLCBieUNvbnRleHRzKSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGlmIChieUxheWVycy5sZW5ndGggPiAwICYmICFieUxheWVycy5jb250YWlucyhIZWxwZXIuZ2V0TGF5ZXIoZm0pKSkge1xuXHRcdC8vIFx0cmV0dXJuIGZhbHNlO1xuXHRcdC8vIH1cblx0XHRpZiAoIXRoaXMubXlOYW1lSW5OYW1lc3BhY2UoSGVscGVyLmdldExheWVyKGZtKSwgYnlMYXllcnMpKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaWYgKGJ5T3Jncy5sZW5ndGggPiAwICYmICFieU9yZ3MuY29udGFpbnMoSGVscGVyLmdldE9yZyhmbSkpKSB7XG5cdFx0Ly8gXHRyZXR1cm4gZmFsc2U7XG5cdFx0Ly8gfVxuXHRcdGlmICghdGhpcy5teU5hbWVJbk5hbWVzcGFjZShIZWxwZXIuZ2V0T3JnKGZtKSwgYnlPcmdzKSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGlmIChcblx0XHQvLyBcdGJ5UHJvamVjdHMubGVuZ3RoID4gMCAmJlxuXHRcdC8vIFx0IWJ5UHJvamVjdHMuY29udGFpbnMoSGVscGVyLmdldFByb2plY3QoZm0pKVxuXHRcdC8vICkge1xuXHRcdC8vIFx0cmV0dXJuIGZhbHNlO1xuXHRcdC8vIH1cblx0XHRpZiAoIXRoaXMubXlOYW1lSW5OYW1lc3BhY2UoSGVscGVyLmdldFByb2plY3QoZm0pLCBieVByb2plY3RzKSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0ZmlsdGVyQnlEYXRlKGR0OiBEYXRlLCBiZWZvcmU6IERhdGUsIGFmdGVyOiBEYXRlKTogYm9vbGVhbiB7XG5cdFx0aWYgKGJlZm9yZSAhPT0gdW5kZWZpbmVkICYmIGR0LmdldFRpbWUoKSA+IGJlZm9yZS5nZXRUaW1lKCkpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRpZiAoYWZ0ZXIgIT09IHVuZGVmaW5lZCAmJiBkdC5nZXRUaW1lKCkgPCBhZnRlci5nZXRUaW1lKCkpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGdvYWxzKCkge1xuXHRcdC8vIGNvbnN0IGZtID0gdGhpcy5mcm9udG1hdHRlci5nZXRDdXJyZW50RnJvbnRtYXR0ZXIoKTtcblx0XHRjb25zdCBycyA9IFtdO1xuXHRcdGNvbnN0IGJpbnMgPSB7fTtcblx0XHRiaW5zW0dvYWxTdGF0dXMuUmVmcmFtZV0gPSBbXTtcblx0XHRiaW5zW0dvYWxTdGF0dXMuUmVzZWFyY2hdID0gW107XG5cdFx0Ymluc1tHb2FsU3RhdHVzLk9wZXJhdGlvbmFsaXplXSA9IFtdO1xuXHRcdGJpbnNbR29hbFN0YXR1cy5QbGFuaWZ5XSA9IFtdO1xuXHRcdGJpbnNbR29hbFN0YXR1cy5EZXBlbmRhbnRdID0gW107XG5cdFx0Ymluc1tHb2FsU3RhdHVzLkFjdGl2ZV0gPSBbXTtcblx0XHRiaW5zW0dvYWxTdGF0dXMuU3VjY2Vzc10gPSBbXTtcblx0XHRiaW5zW0dvYWxTdGF0dXMuRmFpbGVkXSA9IFtdO1xuXG5cdFx0Y29uc3QgcGFnZXMgPSB0aGlzLmR2LnBhZ2VzKGBcIiR7UGF0aHMuR29hbHN9XCJgKS53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0Y29uc3QgZm1wID0gcGFnZS5maWxlLmZyb250bWF0dGVyO1xuXG5cdFx0XHRpZiAoYmluc1tmbXAuc3RhdHVzXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdC8vIGNvbnNvbGUuZXJyb3IoYEludmFsaWQgc3RhdHVzIGZvciBnb2FsOiBcIiR7Zm1wLnV1aWR9XCJgKTtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRiaW5zW2ZtcC5zdGF0dXNdLnB1c2goZm0pO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoYmlucyk7XG5cdFx0a2V5cy5zb3J0KCk7XG5cdFx0Zm9yIChjb25zdCBrIG9mIGtleXMpIHtcblx0XHRcdGNvbnN0IGJ1ZmYgPSBiaW5zW2tdO1xuXHRcdFx0YnVmZi5zb3J0KChhLCBiKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGR0YSA9IG5ldyBEYXRlKGEuZm0uYmVmb3JlKTtcblx0XHRcdFx0Y29uc3QgZHRiID0gbmV3IERhdGUoYi5mbS5iZWZvcmUpO1xuXHRcdFx0XHRyZXR1cm4gZHRhLmdldFRpbWUoKSAtIGR0Yi5nZXRUaW1lKCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRjb25zdCBkaXNwbGF5R29hbHMgPSAoaywgcnMpID0+IHtcblx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDMsIGtdKTtcblx0XHRcdGNvbnN0IGJ1ZmYgPSBiaW5zW2tdO1xuXHRcdFx0cnMucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci5nb2FsLCBidWZmXSk7XG5cdFx0fTtcblxuXHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIFwib3BlcmF0aW9uYWxcIl0pO1xuXHRcdGRpc3BsYXlHb2FscyhcImFjdGl2ZVwiLCBycyk7XG5cdFx0ZGlzcGxheUdvYWxzKFwicGxhbmlmeVwiLCBycyk7XG5cblx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBcIm5vbi1vcGVyYXRpb25hbFwiXSk7XG5cdFx0ZGlzcGxheUdvYWxzKFwicmVmcmFtZVwiLCBycyk7XG5cdFx0ZGlzcGxheUdvYWxzKFwicmVzZWFyY2hcIiwgcnMpO1xuXHRcdGRpc3BsYXlHb2FscyhcIm9wZXJhdGlvbmFsaXplXCIsIHJzKTtcblx0XHQvLyBkaXNwbGF5R29hbHMoXCJkZXBlbmRhbnRcIiwgcnMpO1xuXG5cdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMiwgXCJkb25lXCJdKTtcblx0XHRkaXNwbGF5R29hbHMoXCJzdWNjZXNzXCIsIHJzKTtcblx0XHRkaXNwbGF5R29hbHMoXCJmYWlsZWRcIiwgcnMpO1xuXG5cdFx0cmV0dXJuIHJzO1xuXHR9XG5cblx0cHJvamVjdFRhc2tzU2hlZXRSZWxhdGlvbkZyb250bWF0dGVyKGR2KSB7XG5cdFx0Y29uc3QgY3VycmVudCA9IGR2LmN1cnJlbnQoKTtcblx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKGN1cnJlbnQpO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdG5hbWU6IGZtLmdldE5hbWUoKSxcblx0XHRcdHV1aWQ6IGZtLnV1aWQsXG5cdFx0XHRhY3RpdmU6XG5cdFx0XHRcdGZtLmZtLmFjdGl2ZSA9PT0gdW5kZWZpbmVkIHx8IGZtLmZtLmFjdGl2ZSA9PT0gdHJ1ZVxuXHRcdFx0XHRcdD8gdHJ1ZVxuXHRcdFx0XHRcdDogZmFsc2UsXG5cdFx0fTtcblx0fVxuXG5cdHByb2plY3RUYXNrc1NoZWV0UmVsYXRpb24oZHYpIHtcblx0XHRjb25zdCBwcm9qZWN0ID0gdGhpcy5wcm9qZWN0VGFza3NTaGVldFJlbGF0aW9uRnJvbnRtYXR0ZXIoZHYpO1xuXG5cdFx0Y29uc3QgcnMgPSBbXTtcblx0XHRjb25zdCBiaW5zID0ge1xuXHRcdFx0bmV4dEFjdGlvbjogW10sXG5cdFx0XHR3YWl0aW5nRm9yOiBbXSxcblx0XHRcdHNvbWVkYXlNYXliZTogW10sXG5cdFx0fTtcblxuXHRcdHtcblx0XHRcdGNvbnN0IHBhZ2VzID0gZHZcblx0XHRcdFx0LnBhZ2VzKGBcIkpvdXJuYWxcImApXG5cdFx0XHRcdC53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRcdFx0cmV0dXJuIGZtLmdldFByb2plY3QoKSA9PT0gcHJvamVjdC5uYW1lO1xuXHRcdFx0XHR9KVxuXHRcdFx0XHQuc29ydCgoaykgPT4gay5jcmVhdGVkX2F0LCBcImRlc2NcIik7XG5cblx0XHRcdGlmIChwYWdlcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIGBKb3VybmFsICgke3BhZ2VzLmxlbmd0aH0pYF0pO1xuXHRcdFx0XHRmb3IgKGNvbnN0IHBhZ2Ugb2YgcGFnZXMpIHtcblx0XHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRcdGNvbnN0IHRleHQgPSBSZW5kZXJlci5tYWtlTGluayhcblx0XHRcdFx0XHRcdGR2LFxuXHRcdFx0XHRcdFx0Zm0uZixcblx0XHRcdFx0XHRcdGAke2ZtLmNyZWF0ZWRBdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKX1gLFxuXHRcdFx0XHRcdFx0XCJlbnRyeVwiLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0cnMucHVzaChbXCJwYXJhZ3JhcGhcIiwgdGV4dF0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3QgcGFnZXMgPSBkdi5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfVwiYCkud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRpZiAoZm0uZm0uc3RhdHVzID09PSBcImRvbmVcIikge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChbXCJkYWlseVwiLCBcIndlZWtseVwiLCBcIm1vbnRobHlcIl0uY29udGFpbnMocHJvamVjdC5uYW1lKSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0XHRwcm9qZWN0Lm5hbWUgPT09IFwiYWRob2NcIiAmJlxuXHRcdFx0XHRmbS5nZXRQcm9qZWN0KCkgPT09IHVuZGVmaW5lZFxuXHRcdFx0KSB7XG5cdFx0XHRcdHBhZ2UuZmlsZS5mcm9udG1hdHRlci5wcm9qZWN0ID0gXCJhZGhvY1wiO1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH0gZWxzZSBpZiAocHJvamVjdC5uYW1lID09PSBmbS5nZXRQcm9qZWN0KCkpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRmb3IgKGNvbnN0IHBhZ2Ugb2YgcGFnZXMpIHtcblx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cblx0XHRcdGlmICh0aGlzLm5vdGVIZWxwZXIuaXNEb2FibGUocGFnZSkpIHtcblx0XHRcdFx0aWYgKGZtLmZtLnByaW9yaXR5ID4gMCkge1xuXHRcdFx0XHRcdGJpbnMubmV4dEFjdGlvbi5wdXNoKHBhZ2UpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGJpbnMuc29tZWRheU1heWJlLnB1c2gocGFnZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRmbS5mbS5uZWVkcyAhPT0gdW5kZWZpbmVkICYmXG5cdFx0XHRcdFx0dGhpcy5ub3RlSGVscGVyLmhhc1BlbmRpbmdEZXBlbmRlbmNpZXMoZm0uZm0ubmVlZHMpXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHBhZ2UuY2F1c2UgPSBcImRlcGVuZGVuY2llc1wiO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnN0IGZtQXQgPSBmbS5hdDtcblx0XHRcdFx0XHRjb25zdCBjdXJyZW50QXQgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRcdGNvbnN0IGZtQWZ0ZXIgPSBmbS5hZnRlcjtcblxuXHRcdFx0XHRcdGlmIChmbS5mbS5hdCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRmbUF0LnNldEhvdXJzKDApO1xuXHRcdFx0XHRcdFx0Zm1BdC5zZXRNaW51dGVzKDApO1xuXHRcdFx0XHRcdFx0Zm1BdC5zZXRTZWNvbmRzKDApO1xuXHRcdFx0XHRcdFx0Zm1BdC5zZXRNaWxsaXNlY29uZHMoMCk7XG5cdFx0XHRcdFx0XHRjdXJyZW50QXQuc2V0SG91cnMoMCk7XG5cdFx0XHRcdFx0XHRjdXJyZW50QXQuc2V0TWludXRlcygwKTtcblx0XHRcdFx0XHRcdGN1cnJlbnRBdC5zZXRTZWNvbmRzKDApO1xuXHRcdFx0XHRcdFx0Y3VycmVudEF0LnNldE1pbGxpc2Vjb25kcygwKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKGZtLmFmdGVyICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdGZtQWZ0ZXIuc2V0SG91cnMoMCk7XG5cdFx0XHRcdFx0XHRmbUFmdGVyLnNldE1pbnV0ZXMoMCk7XG5cdFx0XHRcdFx0XHRmbUFmdGVyLnNldFNlY29uZHMoMCk7XG5cdFx0XHRcdFx0XHRmbUFmdGVyLnNldE1pbGxpc2Vjb25kcygwKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb25zb2xlLmxvZyhgY3VycmVudDogJHtjdXJyZW50QXQuZ2V0VGltZSgpfWApO1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGBhdDogJHtmbS5hdC5nZXRUaW1lKCl9YCk7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coYGFmdGVyOiAke2ZtLmFmdGVyLmdldFRpbWUoKX1gKTtcblxuXHRcdFx0XHRcdGlmIChcblx0XHRcdFx0XHRcdGZtLmZtLmF0ICE9PSB1bmRlZmluZWQgJiZcblx0XHRcdFx0XHRcdGZtQXQuZ2V0VGltZSgpID4gY3VycmVudEF0LmdldFRpbWUoKVxuXHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0cGFnZS5jYXVzZSA9IFwiYXRcIjtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0XHRcdFx0Zm0uZm0uYWZ0ZXIgIT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0XHRcdFx0Zm1BZnRlci5nZXRUaW1lKCkgPCBjdXJyZW50QXQuZ2V0VGltZSgpXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRwYWdlLmNhdXNlID0gXCJhZnRlclwiO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRwYWdlLmNhdXNlID0gXCJ1bmtub3duXCI7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ymlucy53YWl0aW5nRm9yLnB1c2gocGFnZSk7XG5cdFx0XHRcdC8vIGF0XG5cdFx0XHRcdC8vIGFmdGVyXG5cdFx0XHRcdC8vIG5lZWRzXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGJpbnMubmV4dEFjdGlvbi5sZW5ndGggPiAwKSB7XG5cdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBgTmV4dCBBY3Rpb25zICgke2JpbnMubmV4dEFjdGlvbi5sZW5ndGh9KWBdKTtcblx0XHRcdGJpbnMubmV4dEFjdGlvbi5zb3J0KEhlbHBlci5zb3J0QnlQcmlvcml0eUFuZER1cmF0aW9uQW5kQWdlKTtcblx0XHRcdHJzLnB1c2goW1xuXHRcdFx0XHRcImFycmF5XCIsXG5cdFx0XHRcdFJlbmRlcmVyLmJhc2ljVGFza0pvdXJuYWxOZXh0QWN0aW9uLFxuXHRcdFx0XHRiaW5zLm5leHRBY3Rpb24sXG5cdFx0XHRdKTtcblx0XHR9XG5cblx0XHRpZiAoYmlucy53YWl0aW5nRm9yLmxlbmd0aCA+IDApIHtcblx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIGBXYWl0aW5nICgke2JpbnMud2FpdGluZ0Zvci5sZW5ndGh9KWBdKTtcblx0XHRcdGJpbnMud2FpdGluZ0Zvci5zb3J0KEhlbHBlci5zb3J0QnlQcmlvcml0eUFuZER1cmF0aW9uQW5kQWdlKTtcblx0XHRcdHJzLnB1c2goW1xuXHRcdFx0XHRcImFycmF5XCIsXG5cdFx0XHRcdFJlbmRlcmVyLmJhc2ljVGFza0pvdXJuYWxXYWl0aW5nLFxuXHRcdFx0XHRiaW5zLndhaXRpbmdGb3IsXG5cdFx0XHRdKTtcblx0XHR9XG5cblx0XHRpZiAoYmlucy5zb21lZGF5TWF5YmUubGVuZ3RoID4gMCkge1xuXHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMiwgYE1heWJlICgke2JpbnMuc29tZWRheU1heWJlLmxlbmd0aH0pYF0pO1xuXHRcdFx0Ymlucy5zb21lZGF5TWF5YmUuc29ydChIZWxwZXIuc29ydEJ5UHJpb3JpdHlBbmREdXJhdGlvbkFuZEFnZSk7XG5cdFx0XHRycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLmJhc2ljVGFza0pvdXJuYWwsIGJpbnMuc29tZWRheU1heWJlXSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJzO1xuXHR9XG5cblx0cHJvamVjdExvZ3NTaGVldFJlbGF0aW9uKGR2KSB7XG5cdFx0Y29uc3QgcHJvamVjdCA9IHRoaXMucHJvamVjdFRhc2tzU2hlZXRSZWxhdGlvbkZyb250bWF0dGVyKGR2KTtcblxuXHRcdGNvbnN0IGZpbHRlckJ5ID0gW107XG5cdFx0Y29uc3QgcnMgPSBbXTtcblxuXHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIFwiTG9nc1wiXSk7XG5cblx0XHRjb25zdCBsb2dzID0gdGhpcy5kdi5wYWdlcyhgXCIke1BhdGhzLkxvZ3N9XCJgKS53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0aWYgKHBhZ2UudHlwZSAhPT0gVHlwZXMuTG9nKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdGlmIChwYWdlLmZpbGUuZnJvbnRtYXR0ZXIucmV2aWV3ZWQgPiAwKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0pO1xuXG5cdFx0Y29uc3QgYnVmZiA9IHt9O1xuXHRcdGZvciAoY29uc3QgZSBvZiBsb2dzKSB7XG5cdFx0XHRjb25zdCBmbSA9IGUuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGlmIChmaWx0ZXJCeS5sZW5ndGggPiAwICYmICF0aGlzLm5hbWVJbk5hbWVzcGFjZShmbSwgZmlsdGVyQnkpKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRmbS5jcmVhdGVkQXQgPSB0aGlzLmZyb250bWF0dGVyLmdldENyZWF0ZWRBdChlLmZpbGUpO1xuXHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdCFIZWxwZXIubmlsQ2hlY2soZm0ucGFyZW50X2lkKSxcblx0XHRcdFx0YE1pc3NpbmcgZmllbGQgXCJwYXJlbnRfaWRcIiBmcm9tIGxvZzogXCIke2ZtLnV1aWR9XCJgLFxuXHRcdFx0KTtcblx0XHRcdGNvbnN0IHBhcmVudCA9IHRoaXMuZHZcblx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9LyR7Zm0ucGFyZW50X2lkfVwiYClcblx0XHRcdFx0LmFycmF5KCk7XG5cdFx0XHRpZiAocGFyZW50Lmxlbmd0aCAhPT0gMSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdEFzc2VydC5UcnVlKFxuXHRcdFx0XHRwYXJlbnQubGVuZ3RoID09PSAxLFxuXHRcdFx0XHRgUGFyZW50OiAke2ZtLnBhcmVudF9pZH0gbm90IGZvdW5kIGZvciBsb2c6IFwiJHtmbS51dWlkfVwiYCxcblx0XHRcdCk7XG5cdFx0XHRmbS5wcm9qZWN0ID0gSGVscGVyLmdldFByb2plY3QocGFyZW50WzBdLmZpbGUuZnJvbnRtYXR0ZXIpO1xuXHRcdFx0Zm0uYXJlYSA9IEhlbHBlci5nZXRBcmVhKHBhcmVudFswXS5maWxlLmZyb250bWF0dGVyLCB0cnVlKTtcblx0XHRcdGlmIChcblx0XHRcdFx0Zm0ucHJvamVjdCAhPT1cblx0XHRcdFx0YHByb2plY3QvJHtwcm9qZWN0Lm5hbWUgPT09IFwiYWRob2NcIiA/IFwibm9uZVwiIDogcHJvamVjdC5uYW1lfWBcblx0XHRcdCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKEhlbHBlci5uaWxDaGVjayhmbS5kb25lX2F0KSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IGRhdGUgPSBmbS5kb25lX2F0LnNsaWNlKDAsIDEwKTtcblxuXHRcdFx0aWYgKGJ1ZmZbZGF0ZV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRidWZmW2RhdGVdID0gW2VdO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YnVmZltkYXRlXS5wdXNoKGUpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhidWZmKTtcblx0XHRrZXlzLnNvcnQoKTtcblx0XHRmb3IgKGNvbnN0IGRhdGUgb2Yga2V5cykge1xuXHRcdFx0YnVmZltkYXRlXS5zb3J0KFxuXHRcdFx0XHQoYSwgYikgPT5cblx0XHRcdFx0XHRiLmZpbGUuZnJvbnRtYXR0ZXIuY3JlYXRlZEF0LmdldFRpbWUoKSAtXG5cdFx0XHRcdFx0YS5maWxlLmZyb250bWF0dGVyLmNyZWF0ZWRBdC5nZXRUaW1lKCksXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGZvciAoY29uc3QgZGF0ZSBvZiBrZXlzLnJldmVyc2UoKSkge1xuXHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMywgZGF0ZV0pO1xuXHRcdFx0cnMucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci5wcm9qZWN0TG9ncywgYnVmZltkYXRlXV0pO1xuXHRcdH1cblxuXHRcdHJldHVybiBycztcblx0fVxuXG5cdGdldFByb2plY3RMb2dzKGR2LCBwcm9qZWN0KSB7XG5cdFx0Y29uc3QgbG9ncyA9IHRoaXMuZHYucGFnZXMoYFwiJHtQYXRocy5Mb2dzfVwiYCkud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdGlmIChwYWdlLnR5cGUgIT09IFR5cGVzLkxvZykge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9KTtcblxuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRmb3IgKGNvbnN0IGUgb2YgbG9ncykge1xuXHRcdFx0Y29uc3QgZm0gPSBlLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRBc3NlcnQuVHJ1ZShcblx0XHRcdFx0IUhlbHBlci5uaWxDaGVjayhmbS5wYXJlbnRfaWQpLFxuXHRcdFx0XHRgTWlzc2luZyBmaWVsZCBcInBhcmVudF9pZFwiIGZyb20gbG9nOiBcIiR7Zm0udXVpZH1cImAsXG5cdFx0XHQpO1xuXHRcdFx0Y29uc3QgcGFyZW50ID0gdGhpcy5kdlxuXHRcdFx0XHQucGFnZXMoYFwiJHtQYXRocy5UYXNrc30vJHtmbS5wYXJlbnRfaWR9XCJgKVxuXHRcdFx0XHQuYXJyYXkoKTtcblx0XHRcdGlmIChwYXJlbnQubGVuZ3RoICE9PSAxKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0Ly8gQXNzZXJ0LlRydWUoXG5cdFx0XHQvLyBcdHBhcmVudC5sZW5ndGggPT09IDEsXG5cdFx0XHQvLyBcdGBQYXJlbnQ6ICR7Zm0ucGFyZW50X2lkfSBub3QgZm91bmQgZm9yIGxvZzogXCIke2ZtLnV1aWR9XCJgLFxuXHRcdFx0Ly8gKTtcblx0XHRcdGZtLnByb2plY3QgPSBIZWxwZXIuZ2V0UHJvamVjdChwYXJlbnRbMF0uZmlsZS5mcm9udG1hdHRlcik7XG5cdFx0XHRmbS5hcmVhID0gSGVscGVyLmdldEFyZWEocGFyZW50WzBdLmZpbGUuZnJvbnRtYXR0ZXIsIHRydWUpO1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRmbS5wcm9qZWN0ICE9PVxuXHRcdFx0XHRgcHJvamVjdC8ke3Byb2plY3QubmFtZSA9PT0gXCJhZGhvY1wiID8gXCJub25lXCIgOiBwcm9qZWN0Lm5hbWV9YFxuXHRcdFx0KSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoSGVscGVyLm5pbENoZWNrKGZtLmRvbmVfYXQpKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0YnVmZi5wdXNoKGUpO1xuXHRcdH1cblx0XHRyZXR1cm4gYnVmZjtcblx0fVxuXG5cdHByb2plY3RMb2dzU2hlZXQoZHYpIHtcblx0XHRjb25zdCBwcm9qZWN0ID0gdGhpcy5mcm9udG1hdHRlci5wcm9qZWN0UGFyc2VNZXRhKGR2KTtcblx0XHRjb25zdCBmbWwgPSB0aGlzLmZyb250bWF0dGVyLmdldEN1cnJlbnRGcm9udG1hdHRlcigpO1xuXHRcdGlmIChmbWwgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGZyb250bWF0dGVyLCBjYW5ub3QgcHJvY2VlZGApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGJlZm9yZSA9IEhlbHBlci5uaWxDaGVjayhmbWwuYmVmb3JlKVxuXHRcdFx0PyBuZXcgRGF0ZSgwKVxuXHRcdFx0OiBuZXcgRGF0ZShmbWwuYmVmb3JlKTtcblx0XHRjb25zdCBhZnRlciA9IEhlbHBlci5uaWxDaGVjayhmbWwuYWZ0ZXIpXG5cdFx0XHQ/IG5ldyBEYXRlKClcblx0XHRcdDogbmV3IERhdGUoZm1sLmFmdGVyKTtcblxuXHRcdC8vIGNvbnNvbGUubG9nKGBiZWZvcmU6ICcke2JlZm9yZX0nYCk7XG5cdFx0Ly8gY29uc29sZS5sb2coYGFmdGVyOiAnJHthZnRlcn0nYCk7XG5cdFx0Y29uc3QgZmlsdGVyQnkgPSB0aGlzLmZyb250bWF0dGVyLnBhcnNlTGlzdEZpbHRlckJ5KGZtbCk7XG5cdFx0Y29uc3QgcnMgPSBbXTtcblx0XHRsZXQgdG90YWxUaW1lID0gMDtcblx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAxLCBwcm9qZWN0Lm5hbWVdKTtcblxuXHRcdGNvbnN0IGxvZ3MgPSB0aGlzLmR2LnBhZ2VzKGBcIiR7UGF0aHMuTG9nc31cImApLndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRpZiAocGFnZS50eXBlICE9PSBUeXBlcy5Mb2cpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSk7XG5cblx0XHRjb25zdCBidWZmID0ge307XG5cdFx0Zm9yIChjb25zdCBlIG9mIGxvZ3MpIHtcblx0XHRcdGNvbnN0IGZtID0gZS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0aWYgKGZpbHRlckJ5Lmxlbmd0aCA+IDAgJiYgIXRoaXMubmFtZUluTmFtZXNwYWNlKGZtLCBmaWx0ZXJCeSkpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGZtLmNyZWF0ZWRBdCA9IHRoaXMuZnJvbnRtYXR0ZXIuZ2V0Q3JlYXRlZEF0KGUuZmlsZSk7XG5cdFx0XHRBc3NlcnQuVHJ1ZShcblx0XHRcdFx0IUhlbHBlci5uaWxDaGVjayhmbS5wYXJlbnRfaWQpLFxuXHRcdFx0XHRgTWlzc2luZyBmaWVsZCBcInBhcmVudF9pZFwiIGZyb20gbG9nOiBcIiR7Zm0udXVpZH1cImAsXG5cdFx0XHQpO1xuXHRcdFx0Y29uc3QgcGFyZW50ID0gdGhpcy5kdlxuXHRcdFx0XHQucGFnZXMoYFwiJHtQYXRocy5UYXNrc30vJHtmbS5wYXJlbnRfaWR9XCJgKVxuXHRcdFx0XHQuYXJyYXkoKTtcblx0XHRcdGlmIChwYXJlbnQubGVuZ3RoICE9PSAxKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0Ly8gQXNzZXJ0LlRydWUoXG5cdFx0XHQvLyBcdHBhcmVudC5sZW5ndGggPT09IDEsXG5cdFx0XHQvLyBcdGBQYXJlbnQ6ICR7Zm0ucGFyZW50X2lkfSBub3QgZm91bmQgZm9yIGxvZzogXCIke2ZtLnV1aWR9XCJgLFxuXHRcdFx0Ly8gKTtcblx0XHRcdGZtLnByb2plY3QgPSBIZWxwZXIuZ2V0UHJvamVjdChwYXJlbnRbMF0uZmlsZS5mcm9udG1hdHRlcik7XG5cdFx0XHRmbS5hcmVhID0gSGVscGVyLmdldEFyZWEocGFyZW50WzBdLmZpbGUuZnJvbnRtYXR0ZXIsIHRydWUpO1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRmbS5wcm9qZWN0ICE9PVxuXHRcdFx0XHRgcHJvamVjdC8ke3Byb2plY3QubmFtZSA9PT0gXCJhZGhvY1wiID8gXCJub25lXCIgOiBwcm9qZWN0Lm5hbWV9YFxuXHRcdFx0KSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoSGVscGVyLm5pbENoZWNrKGZtLmRvbmVfYXQpKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBkYXRlID0gZm0uZG9uZV9hdC5zbGljZSgwLCAxMCk7XG5cdFx0XHRjb25zdCBjcmVhdGVkQXQgPSBuZXcgRGF0ZShmbS5jcmVhdGVkX2F0KTtcblx0XHRcdGNvbnN0IGRvbmVBdCA9IG5ldyBEYXRlKGZtLmRvbmVfYXQpO1xuXG5cdFx0XHRpZiAoY3JlYXRlZEF0ID4gYmVmb3JlKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY3JlYXRlZEF0IDwgYWZ0ZXIpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChidWZmW2RhdGVdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0YnVmZltkYXRlXSA9IFtlXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJ1ZmZbZGF0ZV0ucHVzaChlKTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgZGVsdGEgPSBkb25lQXQuZ2V0VGltZSgpIC0gY3JlYXRlZEF0LmdldFRpbWUoKTtcblxuXHRcdFx0dG90YWxUaW1lICs9IGRlbHRhO1xuXHRcdH1cblxuXHRcdGR2LnBhcmFncmFwaChcblx0XHRcdGBfdG90YWxUaW1lIChoKTpfICR7TWF0aC5yb3VuZCgodG90YWxUaW1lIC8gKDEwMDAgKiA2MCAqIDYwKSkgKiAxMCkgLyAxMH1gLFxuXHRcdCk7XG5cblx0XHRjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoYnVmZik7XG5cdFx0a2V5cy5zb3J0KCk7XG5cdFx0Zm9yIChjb25zdCBkYXRlIG9mIGtleXMpIHtcblx0XHRcdGJ1ZmZbZGF0ZV0uc29ydChcblx0XHRcdFx0KGEsIGIpID0+XG5cdFx0XHRcdFx0Yi5maWxlLmZyb250bWF0dGVyLmNyZWF0ZWRBdC5nZXRUaW1lKCkgLVxuXHRcdFx0XHRcdGEuZmlsZS5mcm9udG1hdHRlci5jcmVhdGVkQXQuZ2V0VGltZSgpLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRmb3IgKGNvbnN0IGRhdGUgb2Yga2V5cy5yZXZlcnNlKCkpIHtcblx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDMsIGRhdGVdKTtcblx0XHRcdHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIucHJvamVjdExvZ3MsIGJ1ZmZbZGF0ZV1dKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcnM7XG5cdH1cblxuXHRsb2dzKCkge1xuXHRcdGNvbnN0IFtncm91cEJ5LCBmaWx0ZXJCeSwgYmVmb3JlLCBhZnRlcl0gPVxuXHRcdFx0dGhpcy5mcm9udG1hdHRlci5wYXJzZUFsbFByb2dyZXNzZWRUYXNrcygpO1xuXG5cdFx0Y29uc3QgdGFza3MgPSB0aGlzLmR2XG5cdFx0XHQucGFnZXMoYFwiJHtQYXRocy5UYXNrc31cImApXG5cdFx0XHQud2hlcmUoKHBhZ2UpID0+IHBhZ2UuZmlsZS5mcm9udG1hdHRlci5zdGF0dXMgIT09IFwiZG9pbmdcIik7XG5cblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Zm9yIChjb25zdCB0YXNrIG9mIHRhc2tzKSB7XG5cdFx0XHRjb25zdCBmbSA9IHRhc2suZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGlmIChmaWx0ZXJCeS5sZW5ndGggPiAwICYmICF0aGlzLm5hbWVJbk5hbWVzcGFjZShmbSwgZmlsdGVyQnkpKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCB0aW1lRXN0aW1hdGUgPSBIZWxwZXIuZHVyYXRpb25TdHJpbmdUb1NlYyhmbS50aW1lX2VzdGltYXRlKTtcblx0XHRcdGlmICh0aW1lRXN0aW1hdGUgPT09IHVuZGVmaW5lZCAmJiBmbS50aW1lX2VzdGltYXRlICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdGBJbnZhbGlkIHZhbHVlOiBcIiR7Zm0udGltZV9lc3RpbWF0ZX1cIiBmb3IgZW50cnk6IFwiJHtmbS51dWlkfVwiYCxcblx0XHRcdFx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZtLnRpbWVFc3RpbWF0ZSA9IHRpbWVFc3RpbWF0ZTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgbG9ncyA9IHRoaXMuZHZcblx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuTG9nc30vJHtmbS51dWlkfVwiYClcblx0XHRcdFx0LndoZXJlKChwYWdlKSA9PiBwYWdlLnR5cGUgPT09IFR5cGVzLkxvZylcblx0XHRcdFx0LnNvcnQoKGspID0+IGsuY3JlYXRlZF9hdCwgXCJhc2NcIik7XG5cblx0XHRcdC8vIGRpc2NhcmQgdGFza3Mgd2l0aG91dCBsb2cgZW50cnlcblx0XHRcdGlmIChsb2dzLmxlbmd0aCA8IDEpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGZtLnRvb2sgPSAwO1xuXHRcdFx0Y29uc3QgcHJvamVjdCA9IEhlbHBlci5nZXRGaWVsZChIZWxwZXIuZ2V0UHJvamVjdChmbSwgdHJ1ZSksIFwiXCIpO1xuXHRcdFx0Y29uc3QgYXJlYSA9IEhlbHBlci5nZXRGaWVsZChIZWxwZXIuZ2V0QXJlYShmbSwgdHJ1ZSksIFwiXCIpO1xuXG5cdFx0XHRmb3IgKGNvbnN0IGxvZyBvZiBsb2dzKSB7XG5cdFx0XHRcdGNvbnN0IGZtbCA9IGxvZy5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0XHRjb25zdCBlbnRyeSA9IHtcblx0XHRcdFx0XHRhbGlhczogZm0uYWxpYXMsXG5cdFx0XHRcdFx0dXVpZDogZm0udXVpZCxcblx0XHRcdFx0XHRsb2dJZDogZm1sLnV1aWQsXG5cdFx0XHRcdFx0ZXN0aW1hdGU6IGZtLnRpbWVFc3RpbWF0ZSxcblx0XHRcdFx0XHRwcm9qZWN0OiBwcm9qZWN0LFxuXHRcdFx0XHRcdGFyZWE6IGFyZWEsXG5cdFx0XHRcdFx0ZG9tYWluOiBIZWxwZXIuZ2V0RmllbGQoSGVscGVyLmdldERvbWFpbihmbSwgdHJ1ZSksIFwiXCIpLFxuXHRcdFx0XHRcdHBhdGg6IHRhc2suZmlsZS5wYXRoLFxuXHRcdFx0XHRcdGxvZ1BhdGg6IGxvZy5maWxlLnBhdGgsXG5cdFx0XHRcdFx0Y3JlYXRlZEF0OiB1bmRlZmluZWQsXG5cdFx0XHRcdFx0ZG9uZUF0OiB1bmRlZmluZWQsXG5cdFx0XHRcdFx0dG9vazogdW5kZWZpbmVkLFxuXHRcdFx0XHRcdHRvb2tBY2M6IHVuZGVmaW5lZCxcblx0XHRcdFx0XHRkZWx0YUFjYzogdW5kZWZpbmVkLFxuXHRcdFx0XHR9O1xuXHRcdFx0XHRpZiAoZm1sLmNyZWF0ZWRfYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IobG9nKTtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0XHRgdGFzazogJHtmbS51dWlkfSBsYXN0IGVudHJ5IGlzIG1pc3NpbmcgJ2NyZWF0ZWRfYXQnIGZpZWxkYCxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGZtbC5kb25lX2F0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGxvZyk7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdFx0YHRhc2s6ICR7Zm0udXVpZH0gbGFzdCBlbnRyeSBpcyBtaXNzaW5nICdkb25lX2F0JyBmaWVsZGAsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGVudHJ5LmNyZWF0ZWRBdCA9IG5ldyBEYXRlKGZtbC5jcmVhdGVkX2F0KTtcblx0XHRcdFx0ZW50cnkuZG9uZUF0ID0gbmV3IERhdGUoZm1sLmRvbmVfYXQpO1xuXHRcdFx0XHRpZiAoIXRoaXMuZmlsdGVyQnlEYXRlKGVudHJ5LmRvbmVBdCwgYmVmb3JlLCBhZnRlcikpIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnN0IHRvb2sgPVxuXHRcdFx0XHRcdChlbnRyeS5kb25lQXQuZ2V0VGltZSgpIC0gZW50cnkuY3JlYXRlZEF0LmdldFRpbWUoKSkgLyAxMDAwO1xuXHRcdFx0XHRmbS50b29rICs9IHRvb2s7XG5cdFx0XHRcdGVudHJ5LnRvb2sgPSB0b29rO1xuXHRcdFx0XHRlbnRyeS50b29rQWNjID0gZm0udG9vaztcblx0XHRcdFx0ZW50cnkuZGVsdGFBY2MgPSB0aW1lRXN0aW1hdGUgLSBmbS50b29rO1xuXHRcdFx0XHRidWZmLnB1c2goZW50cnkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IGtleUdldHRlciA9IEhlbHBlci5nZXRLZXkoZ3JvdXBCeSk7XG5cdFx0Y29uc3QgYmlucyA9IHt9O1xuXHRcdGZvciAoY29uc3QgZW50cnkgb2YgYnVmZikge1xuXHRcdFx0bGV0IGQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGQgPSBrZXlHZXR0ZXIoZW50cnkpO1xuXHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihlbnRyeSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChiaW5zW2RdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ymluc1tkXSA9IFtlbnRyeV07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRiaW5zW2RdLnB1c2goZW50cnkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhiaW5zKTtcblx0XHRrZXlzLnNvcnQoKTtcblxuXHRcdC8vIGJ1aWxkcyByZW5kZXJpbmcgYXJyYXlcblx0XHRjb25zdCBycyA9IFtdO1xuXHRcdGZvciAoY29uc3Qga2V5IG9mIGtleXMucmV2ZXJzZSgpKSB7XG5cdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBrZXldKTtcblx0XHRcdGNvbnN0IGFyciA9IFtdO1xuXHRcdFx0bGV0IHRvdGFsVGltZSA9IDA7XG5cblx0XHRcdC8vIGRheSBsb29wXG5cdFx0XHRmb3IgKGNvbnN0IGUgb2YgYmluc1trZXldKSB7XG5cdFx0XHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRcdFx0YnVmZi5wdXNoKFxuXHRcdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rU2hvcnRVVUlEKFxuXHRcdFx0XHRcdFx0dGhpcy5kdixcblx0XHRcdFx0XHRcdHsgcGF0aDogZS5wYXRoLCBmcm9udG1hdHRlcjogeyB1dWlkOiBlLnV1aWQgfSB9LFxuXHRcdFx0XHRcdFx0XCJUYXNrXCIsXG5cdFx0XHRcdFx0KSxcblx0XHRcdFx0KTtcblxuXHRcdFx0XHQvLyBidWZmLnB1c2goXG5cdFx0XHRcdC8vIFx0dGhpcy5kdi5zZWN0aW9uTGluayhcblx0XHRcdFx0Ly8gXHRcdGUucGF0aCxcblx0XHRcdFx0Ly8gXHRcdFwiVGFza1wiLFxuXHRcdFx0XHQvLyBcdFx0ZmFsc2UsXG5cdFx0XHRcdC8vIFx0XHRgJHtlLnV1aWQuc2xpY2UoMCwgOCl9YCxcblx0XHRcdFx0Ly8gXHQpLFxuXHRcdFx0XHQvLyApO1xuXG5cdFx0XHRcdGJ1ZmYucHVzaChcblx0XHRcdFx0XHRSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRChcblx0XHRcdFx0XHRcdHRoaXMuZHYsXG5cdFx0XHRcdFx0XHR7IHBhdGg6IGUubG9nUGF0aCwgZnJvbnRtYXR0ZXI6IHsgdXVpZDogZS5sb2dJZCB9IH0sXG5cdFx0XHRcdFx0XHRcIkNvbnRlbnRcIixcblx0XHRcdFx0XHQpLFxuXHRcdFx0XHQpO1xuXHRcdFx0XHQvLyBidWZmLnB1c2goXG5cdFx0XHRcdC8vIFx0dGhpcy5kdi5zZWN0aW9uTGluayhcblx0XHRcdFx0Ly8gXHRcdGUubG9nUGF0aCxcblx0XHRcdFx0Ly8gXHRcdFwiQ29udGVudFwiLFxuXHRcdFx0XHQvLyBcdFx0ZmFsc2UsXG5cdFx0XHRcdC8vIFx0XHRgJHtlLmxvZ0lkLnNsaWNlKDAsIDgpfWAsXG5cdFx0XHRcdC8vIFx0KSxcblx0XHRcdFx0Ly8gKTtcblxuXHRcdFx0XHQvLyBidWZmLnB1c2goYCR7ZS5jcmVhdGVkQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxNil9YCk7XG5cdFx0XHRcdC8vIGJ1ZmYucHVzaChgJHtlLmRvbmVBdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDE2KX1gKTtcblxuXHRcdFx0XHRjb25zdCBjb252ZXJ0U2Vjb25kc1RvSG91cnMgPSAodCkgPT4ge1xuXHRcdFx0XHRcdHJldHVybiBNYXRoLnJvdW5kKCh0IC8gMzYwMCkgKiAxMCkgLyAxMDtcblx0XHRcdFx0fTtcblx0XHRcdFx0YnVmZi5wdXNoKGAke2NvbnZlcnRTZWNvbmRzVG9Ib3VycyhlLnRvb2spfWApO1xuXHRcdFx0XHRidWZmLnB1c2goYCR7ZS5wcm9qZWN0fWApO1xuXG5cdFx0XHRcdGFyci5wdXNoKGJ1ZmYpO1xuXHRcdFx0XHR0b3RhbFRpbWUgKz0gZS50b29rO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyB0YXNrXG5cdFx0XHR0b3RhbFRpbWUgPSBNYXRoLnJvdW5kKCh0b3RhbFRpbWUgLyAzNjAwKSAqIDEwKSAvIDEwO1xuXHRcdFx0cnMucHVzaChbXCJzdGF0c1wiLCBcInRvdGFsVGltZVwiLCBcImhcIiwgdG90YWxUaW1lXSk7XG5cdFx0XHRycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLmJhc2ljUHJvZ3Jlc3NlZFRhc2tXaXRoTG9nLCBhcnJdKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcnM7XG5cdH1cblxuXHRpbmJveChkdikge1xuXHRcdGNvbnN0IHJzID0gW107XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdC8vIGZvbmN0aW9uIGQnZXh0cmFjdGlvbiBldCBkJ2luaXRpYWxpc2F0aW9uIGRlcyBwYXJhbXJ0cmVzIGR1IGZyb250bWF0dGVyXG5cdFx0Ly8gZm9uY3Rpb24gZmlsdGVyLCAodGFzaykgLT4gYm9vbFxuXG5cdFx0Y29uc3QgZmlsdGVyQnkgPSBbXTtcblx0XHRjb25zdCBtaW5TaXplID0gMDtcblx0XHRjb25zdCBtYXhTaXplID0gNDI5NDk2NzI5NTtcblxuXHRcdGNvbnN0IGZsZWV0aW5ncyA9IHRoaXMuZHYucGFnZXMoYFwiJHtQYXRocy5JbmJveH1cImApLmFycmF5KCk7XG5cdFx0Zm9yIChjb25zdCBlIG9mIGZsZWV0aW5ncykge1xuXHRcdFx0Y29uc3QgZm0gPSBlLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRlLmZpbGUuZnJvbnRtYXR0ZXIuY3JlYXRlZEF0ID0gdGhpcy5mcm9udG1hdHRlci5nZXRDcmVhdGVkQXQoXG5cdFx0XHRcdGUuZmlsZSxcblx0XHRcdCk7XG5cdFx0XHRsZXQgZm1qcyA9IG51bGw7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRmbWpzID0gbmV3IEZyb250bWF0dGVySlMoZSk7XG5cdFx0XHR9IGNhdGNoIChWYWxpZGF0aW9uRXJyb3IpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coZSk7XG5cdFx0XHRcdGR2LnBhcmFncmFwaChSZW5kZXJlci5tYWtlTGluayhkdiwgZS5maWxlKSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXG5cdFx0XHRmbS5wcm9qZWN0ID0gSGVscGVyLmdldFByb2plY3QoZm0sIHRydWUpO1xuXHRcdFx0Zm0uZG9tYWluID0gYGRvbWFpbi8ke2ZtanMuZ2V0RG9tYWluKCl9YDtcblx0XHRcdGZtLmNvbXBvbmVudHMgPSBIZWxwZXIuZ2V0Q29tcG9uZW50cyhmbSk7XG5cblx0XHRcdGlmIChlLmZpbGUuc2l6ZSA8IG1pblNpemUpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRpZiAoZS5maWxlLnNpemUgPiBtYXhTaXplKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRidWZmLnB1c2goZSk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgbG9ncyA9IFtdO1xuXG5cdFx0Zm9yIChjb25zdCBlIG9mIGxvZ3MpIHtcblx0XHRcdGNvbnN0IGZtID0gZS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0Zm0uY3JlYXRlZEF0ID0gdGhpcy5mcm9udG1hdHRlci5nZXRDcmVhdGVkQXQoZS5maWxlKTtcblx0XHRcdEFzc2VydC5UcnVlKFxuXHRcdFx0XHQhSGVscGVyLm5pbENoZWNrKGZtLnBhcmVudF9pZCksXG5cdFx0XHRcdGBNaXNzaW5nIGZpZWxkIFwicGFyZW50X2lkXCIgZnJvbSBsb2c6IFwiJHtmbS51dWlkfVwiYCxcblx0XHRcdCk7XG5cdFx0XHRjb25zdCBwYXJlbnQgPSB0aGlzLmR2XG5cdFx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfS8ke2ZtLnBhcmVudF9pZH1cImApXG5cdFx0XHRcdC5hcnJheSgpO1xuXHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdHBhcmVudC5sZW5ndGggPT09IDEsXG5cdFx0XHRcdGBQYXJlbnQ6ICR7Zm0ucGFyZW50X2lkfSBub3QgZm91bmQgZm9yIGxvZzogXCIke2ZtLnV1aWR9XCJgLFxuXHRcdFx0KTtcblx0XHRcdGZtLnByb2plY3QgPSBIZWxwZXIuZ2V0UHJvamVjdChwYXJlbnRbMF0uZmlsZS5mcm9udG1hdHRlciwgdHJ1ZSk7XG5cdFx0XHRmbS5kb21haW4gPSB1bmRlZmluZWQ7XG5cdFx0XHRmbS5jb21wb25lbnRzID0gW107XG5cblx0XHRcdGlmIChlLmZpbGUuc2l6ZSA8IG1pblNpemUpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRpZiAoZS5maWxlLnNpemUgPiBtYXhTaXplKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRidWZmLnB1c2goZSk7XG5cdFx0fVxuXG5cdFx0Y29uc3Qgc29ydEJ5U2l6ZVRoZW5EYXRlID0gZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0Y29uc3QgZkEgPSBhLmZpbGU7XG5cdFx0XHRjb25zdCBmQiA9IGIuZmlsZTtcblx0XHRcdGlmIChmQS5zaXplICE9PSBmQi5zaXplKSB7XG5cdFx0XHRcdHJldHVybiBmQi5zaXplIC0gZkEuc2l6ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0ZkEuZnJvbnRtYXR0ZXIuY3JlYXRlZEF0LmdldFRpbWUoKSAtXG5cdFx0XHRcdFx0ZkIuZnJvbnRtYXR0ZXIuY3JlYXRlZEF0LmdldFRpbWUoKVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRjb25zdCBzb3J0QnlBZ2UgPSAoYSwgYikgPT5cblx0XHRcdGEuZmlsZS5mcm9udG1hdHRlci5jcmVhdGVkQXQuZ2V0VGltZSgpIC1cblx0XHRcdGIuZmlsZS5mcm9udG1hdHRlci5jcmVhdGVkQXQuZ2V0VGltZSgpO1xuXG5cdFx0YnVmZi5zb3J0KHNvcnRCeUFnZSk7XG5cdFx0cnMucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci5pbmJveEVudHJ5LCBidWZmXSk7XG5cblx0XHRyZXR1cm4gcnM7XG5cdH1cblxuXHRwcm9qZWN0cygpIHtcblx0XHRjb25zdCBycyA9IFtdO1xuXHRcdGNvbnN0IGJpbnMgPSB7XG5cdFx0XHRhY3RpdmU6IFtdLFxuXHRcdFx0aW5hY3RpdmU6IFtdLFxuXHRcdH07XG5cblx0XHRjb25zdCBwYWdlcyA9IHRoaXMuZHYucGFnZXMoYFwiUHJvamVjdHNcImApLnNvcnQoKGspID0+IGsubmFtZSwgXCJhc2NcIik7XG5cdFx0Zm9yIChjb25zdCBwcm9qZWN0IG9mIHBhZ2VzKSB7XG5cdFx0XHRjb25zdCBmbVByb2plY3QgPSBuZXcgRnJvbnRtYXR0ZXJKUyhwcm9qZWN0KTtcblx0XHRcdGlmIChmbVByb2plY3QuZm0uYWN0aXZlID09PSBmYWxzZSkge1xuXHRcdFx0XHRiaW5zLmluYWN0aXZlLnB1c2gocHJvamVjdCk7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChmbVByb2plY3QuZ2V0TmFtZSgpID09PSBcImFkaG9jXCIpIHtcblx0XHRcdFx0Ymlucy5hY3RpdmUucHVzaChwcm9qZWN0KTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0XHRbXCJ5ZWFybHlcIiwgXCJtb250aGx5XCIsIFwid2Vla2x5XCIsIFwiZGFpbHlcIl0uY29udGFpbnMoXG5cdFx0XHRcdFx0Zm1Qcm9qZWN0LmdldE5hbWUoKSxcblx0XHRcdFx0KVxuXHRcdFx0KSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCB0YXNrcyA9IHRoaXMuZHZcblx0XHRcdFx0LnBhZ2VzKGAjcHJvamVjdC8ke2ZtUHJvamVjdC5nZXROYW1lKCl9YClcblx0XHRcdFx0LndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRcdFx0aWYgKHBhZ2UuZmlsZS5mb2xkZXIgIT09IGAke1BhdGhzLlRhc2tzfWApIHtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb25zdCBmbVRhc2sgPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdFx0XHRpZiAoZm1UYXNrLmZtLnByaW9yaXR5ID09PSAwKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0W1widG9kb1wiLCBcImRvaW5nXCIsIFwid2FpdGluZ1wiXS5jb250YWlucyhmbVRhc2suZm0uc3RhdHVzKVxuXHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0aWYgKHRhc2tzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0Ymlucy5hY3RpdmUucHVzaChwcm9qZWN0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJpbnMuaW5hY3RpdmUucHVzaChwcm9qZWN0KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBcIkFjdGl2ZVwiXSk7XG5cdFx0cnMucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci5wcm9qZWN0cywgYmlucy5hY3RpdmVdKTtcblx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBcIkluYWN0aXZlXCJdKTtcblx0XHRycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLnByb2plY3RzLCBiaW5zLmluYWN0aXZlXSk7XG5cblx0XHRyZXR1cm4gcnM7XG5cdH1cblxuXHRwcmF4aXMoKSB7XG5cdFx0Y29uc3QgcGFnZXMgPSB0aGlzLmR2XG5cdFx0XHQucGFnZXMoYFwiJHtQYXRocy5UYXNrc31cImApXG5cdFx0XHQud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdFx0aWYgKHBhZ2UuZmlsZS5mcm9udG1hdHRlci50eXBlICE9PSBUeXBlcy5QcmF4aXMpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAocGFnZS5maWxlLmZyb250bWF0dGVyLnN0YXR1cyAhPT0gU3RhdHVzLlRvZG8pIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH0pXG5cdFx0XHQuYXJyYXkoKTtcblxuXHRcdGNvbnN0IHJzID0gW107XG5cdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMSwgXCJQcmF4aXNcIl0pO1xuXHRcdHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIuYmFzaWNUYXNrLCBwYWdlc10pO1xuXG5cdFx0cmV0dXJuIHJzO1xuXHR9XG5cblx0cGxhbm5pbmcobGFzdFdlZWsgPSAyKSB7XG5cdFx0Y29uc3QgcnMgPSBbXTtcblx0XHRjb25zdCBwYWdlcyA9IHRoaXMuZHZcblx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfVwiYClcblx0XHRcdC53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRpZiAoZm0uYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChmbS5nZXRQcm9qZWN0KCkgIT09IFwiZGFpbHlcIikge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fSlcblx0XHRcdC5zb3J0KChwYWdlKSA9PiBwYWdlLmZpbGUuZnJvbnRtYXR0ZXIuYXQsIFwiZGVzY1wiKTtcblxuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG5cdFx0Ly8gY29uc3Qgbm93ID0gbmV3IERhdGUoXCIyMDI0LTEyLTMxXCIpO1xuXHRcdGNvbnN0IGJpbnMgPSB7fTtcblx0XHRmb3IgKGNvbnN0IHBhZ2Ugb2YgcGFnZXMpIHtcblx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRsZXQgYXQgPSB1bmRlZmluZWQ7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRhdCA9IGZtLmF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xuXHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBkYXRlOiAnJHtmbS5mbS51dWlkfSdgKTtcblx0XHRcdH1cblxuXG5cdFx0XHRjb25zdCB3ZWVrTnVtYmVyID0gdGhpcy5nZXRXZWVrTnVtYmVyNShmbS5hdCk7XG5cdFx0XHRpZiAoZm0uYXQuZ2V0RnVsbFllYXIoKSA8IG5vdy5nZXRGdWxsWWVhcigpKSB7XG5cdFx0XHRcdGlmICh3ZWVrTnVtYmVyID4gMSkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHQvLyBjb25zdCB3ZWVrTnVtYmVyID0gdGhpcy5nZXRXZWVrTnVtYmVyKGZtLmF0KTtcblx0XHRcdGlmIChiaW5zW3dlZWtOdW1iZXJdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ymluc1t3ZWVrTnVtYmVyXSA9IFtmbV07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRiaW5zW3dlZWtOdW1iZXJdLnB1c2goZm0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IGN1cnJlbnRXZWVrTnVtYmVyID0gdGhpcy5nZXRXZWVrTnVtYmVyNShub3cpO1xuXHRcdC8vIGNvbnN0IGN1cnJlbnRXZWVrTnVtYmVyID0gdGhpcy5nZXRXZWVrTnVtYmVyKG5vdyk7XG5cdFx0Zm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoYmlucykpIHtcblx0XHRcdGNvbnN0IHdlZWtOdW1iZXIgPSBOdW1iZXIoa2V5KTtcblx0XHRcdGlmICh3ZWVrTnVtYmVyICsgbGFzdFdlZWsgPCBjdXJyZW50V2Vla051bWJlcikge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGlmICh3ZWVrTnVtYmVyIDwgY3VycmVudFdlZWtOdW1iZXIpIHtcblx0XHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMiwgYH5+d2VlayAke2tleX1+fmBdKTtcblx0XHRcdH0gZWxzZSBpZiAod2Vla051bWJlciA9PT0gY3VycmVudFdlZWtOdW1iZXIpIHtcblx0XHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMiwgYCp3ZWVrICR7a2V5fSpgXSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBgd2VlayAke2tleX1gXSk7XG5cdFx0XHR9XG5cblx0XHRcdGJpbnNba2V5XS5zb3J0KChhLCBiKSA9PiB7XG5cdFx0XHRcdHJldHVybiBhLmF0LmdldFRpbWUoKSAtIGIuYXQuZ2V0VGltZSgpO1xuXHRcdFx0fSk7XG5cblx0XHRcdGZvciAoY29uc3QgdGFzayBvZiBiaW5zW2tleV0pIHtcblx0XHRcdFx0Y29uc3QgZGF5ID0gW1wiU3VuXCIsIFwiTW9uXCIsIFwiVHVlXCIsIFwiV2VkXCIsIFwiVGh1XCIsIFwiRnJpXCIsIFwiU2F0XCJdW1xuXHRcdFx0XHRcdHRhc2suYXQuZ2V0RGF5KClcblx0XHRcdFx0XTtcblx0XHRcdFx0Y29uc3QgdGV4dCA9IFJlbmRlcmVyLm1ha2VMaW5rKFxuXHRcdFx0XHRcdHRoaXMuZHYsXG5cdFx0XHRcdFx0dGFzay5mLFxuXHRcdFx0XHRcdGAke3Rhc2suYXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCl9LCAke2RheX1gLFxuXHRcdFx0XHRcdFwiVGFza1wiLFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdGlmICh3ZWVrTnVtYmVyIDwgY3VycmVudFdlZWtOdW1iZXIpIHtcblx0XHRcdFx0XHRycy5wdXNoKFtcInBhcmFncmFwaFwiLCBgfn4ke3RleHR9fn5gXSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAod2Vla051bWJlciA9PT0gY3VycmVudFdlZWtOdW1iZXIpIHtcblx0XHRcdFx0XHRpZiAodGhpcy5kYXlPZlllYXIodGFzay5hdCkgPCB0aGlzLmRheU9mWWVhcihub3cpKSB7XG5cdFx0XHRcdFx0XHRycy5wdXNoKFtcInBhcmFncmFwaFwiLCBgfn4ke3RleHR9fn5gXSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJzLnB1c2goW1wicGFyYWdyYXBoXCIsIGAke3RleHR9YF0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRycy5wdXNoKFtcInBhcmFncmFwaFwiLCBgJHt0ZXh0fWBdKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBycztcblx0fVxuXG5cdGRheU9mWWVhcihkdCk6IG51bWJlciB7XG5cdFx0Y29uc3QgeWVhciA9IGR0LmdldEZ1bGxZZWFyKCk7XG5cdFx0Y29uc3QgbW9udGggPSBkdC5nZXRNb250aCgpICsgMTtcblx0XHRjb25zdCBkYXkgPSBkdC5nZXREYXRlKCk7XG5cblx0XHRjb25zdCBOMSA9IE1hdGguZmxvb3IoKDI3NSAqIG1vbnRoKSAvIDkpO1xuXHRcdGNvbnN0IE4yID0gTWF0aC5mbG9vcigobW9udGggKyA5KSAvIDEyKTtcblx0XHRjb25zdCBOMyA9IDEgKyBNYXRoLmZsb29yKCh5ZWFyIC0gNCAqIE1hdGguZmxvb3IoeWVhciAvIDQpICsgMikgLyAzKTtcblx0XHRyZXR1cm4gTjEgLSBOMiAqIE4zICsgZGF5IC0gMzA7XG5cdH1cblxuXHRnZXRXZWVrTnVtYmVyKGQpIHtcblx0XHQvLyBDb3B5IGRhdGUgc28gZG9uJ3QgbW9kaWZ5IG9yaWdpbmFsXG5cdFx0ZCA9IG5ldyBEYXRlKERhdGUuVVRDKGQuZ2V0RnVsbFllYXIoKSwgZC5nZXRNb250aCgpLCBkLmdldERhdGUoKSkpO1xuXHRcdC8vIFNldCB0byBuZWFyZXN0IFRodXJzZGF5OiBjdXJyZW50IGRhdGUgKyA0IC0gY3VycmVudCBkYXkgbnVtYmVyXG5cdFx0Ly8gTWFrZSBTdW5kYXkncyBkYXkgbnVtYmVyIDdcblx0XHRkLnNldFVUQ0RhdGUoZC5nZXRVVENEYXRlKCkgKyA0IC0gKGQuZ2V0VVRDRGF5KCkgfHwgNykpO1xuXHRcdC8vIEdldCBmaXJzdCBkYXkgb2YgeWVhclxuXHRcdGNvbnN0IHllYXJTdGFydDogYW55ID0gbmV3IERhdGUoRGF0ZS5VVEMoZC5nZXRVVENGdWxsWWVhcigpLCAwLCAxKSk7XG5cdFx0Ly8gQ2FsY3VsYXRlIGZ1bGwgd2Vla3MgdG8gbmVhcmVzdCBUaHVyc2RheVxuXHRcdHJldHVybiBNYXRoLmNlaWwoKChkIC0geWVhclN0YXJ0KSAvIDg2NDAwMDAwICsgMSkgLyA3KTtcblx0fVxuXG5cdC8vIGh0dHBzOi8vY29kZXBlbi5pby9sZGlqa21hbi9wZW4vTFlkTkp2TVxuXHRnZXRXZWVrTnVtYmVyNShkdCkge1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRjb25zdCB0ZHQgPSBuZXcgRGF0ZShkdC52YWx1ZU9mKCkpO1xuXHRcdC8vIGNvbnN0IGRheW4gPSAoZHQuZ2V0RGF5KCkgKyA2KSAlIDc7XG5cdFx0Y29uc3QgZGF5biA9IGR0LmdldERheSgpO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHR0ZHQuc2V0RGF0ZSh0ZHQuZ2V0RGF0ZSgpIC0gZGF5biArIDMpO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRjb25zdCBmaXJzdFRodXJzZGF5ID0gdGR0LnZhbHVlT2YoKTtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0dGR0LnNldE1vbnRoKDAsIDEpO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRpZiAodGR0LmdldERheSgpICE9PSA0KSB7XG5cdFx0XHR0ZHQuc2V0TW9udGgoMCwgMSArICgoNCAtIHRkdC5nZXREYXkoKSkgKyA3KSAlIDcpO1xuXHRcdH1cblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0cmV0dXJuIDEgKyBNYXRoLmNlaWwoKGZpcnN0VGh1cnNkYXkgLSB0ZHQpIC8gNjA0ODAwMDAwKTtcblx0fVxuXG5cdGdldFdlZWtOdW1iZXI0KGQpIHtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0ZCA9IG5ldyBEYXRlKERhdGUuVVRDKGQuZ2V0RnVsbFllYXIoKSwgZC5nZXRNb250aCgpLCBkLmdldERhdGUoKSkpO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRjb25zdCB5ZWFyU3RhcnQgPSBuZXcgRGF0ZShEYXRlLlVUQyhkLmdldFVUQ0Z1bGxZZWFyKCksIDAsIDEpKTtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0Y29uc3QgZmlyc3RTdW5kYXkgPVxuXHRcdFx0eWVhclN0YXJ0LmdldFVUQ0RheSgpID09PSAwXG5cdFx0XHRcdD8geWVhclN0YXJ0XG5cdFx0XHRcdDogbmV3IERhdGUoXG5cdFx0XHRcdFx0RGF0ZS5VVEMoXG5cdFx0XHRcdFx0XHRkLmdldFVUQ0Z1bGxZZWFyKCksXG5cdFx0XHRcdFx0XHQwLFxuXHRcdFx0XHRcdFx0MSArICg3IC0geWVhclN0YXJ0LmdldFVUQ0RheSgpKSxcblx0XHRcdFx0XHQpLFxuXHRcdFx0XHQpO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRjb25zdCBkYXlzU2luY2VGaXJzdFN1bmRheSA9IChkIC0gZmlyc3RTdW5kYXkgKyA4NjQwMDAwMCkgLyA4NjQwMDAwMDtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0cmV0dXJuIE1hdGguY2VpbChkYXlzU2luY2VGaXJzdFN1bmRheSAvIDcpO1xuXHR9XG5cblx0Z2V0TW9udGgoeWVhciwgd2Vla051bWJlcikge1xuXHRcdC8vIENyZWF0ZSBhIGRhdGUgb2JqZWN0IGZvciB0aGUgZmlyc3QgZGF5IG9mIHRoZSB5ZWFyXG5cdFx0Y29uc3QgZmlyc3REYXlPZlllYXIgPSBuZXcgRGF0ZSh5ZWFyLCAwLCAxKTtcblxuXHRcdC8vIERldGVybWluZSB0aGUgZGF5IG9mIHRoZSB3ZWVrIGZvciB0aGUgZmlyc3QgZGF5IG9mIHRoZSB5ZWFyXG5cdFx0Y29uc3QgZmlyc3REYXlPZldlZWsgPSBmaXJzdERheU9mWWVhci5nZXREYXkoKTtcblxuXHRcdC8vIENhbGN1bGF0ZSB0aGUgbnVtYmVyIG9mIGRheXMgdG8gYWRkIHRvIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHllYXJcblx0XHQvLyB0byBnZXQgdG8gdGhlIHN0YXJ0IG9mIHRoZSBzcGVjaWZpZWQgd2Vla1xuXHRcdC8vIFdlZWtzIHN0YXJ0IG9uIE1vbmRheTsgaWYgdGhlIGZpcnN0IGRheSBvZiB0aGUgeWVhciBpcyBhIE1vbmRheSxcblx0XHQvLyBubyBhZGp1c3RtZW50IGlzIG5lZWRlZCwgb3RoZXJ3aXNlIGFkanVzdCB0byB0aGUgbmV4dCBNb25kYXlcblx0XHRjb25zdCBkYXlzVG9BZGQgPVxuXHRcdFx0KHdlZWtOdW1iZXIgLSAxKSAqIDcgLVxuXHRcdFx0Zmlyc3REYXlPZldlZWsgK1xuXHRcdFx0KGZpcnN0RGF5T2ZXZWVrID09PSAwID8gMSA6IDApO1xuXG5cdFx0Ly8gQWRqdXN0IHRoZSBkYXRlIHRvIHRoZSBzdGFydCBvZiB0aGUgc3BlY2lmaWVkIHdlZWtcblx0XHRjb25zdCB3ZWVrU3RhcnREYXRlID0gbmV3IERhdGUoXG5cdFx0XHRmaXJzdERheU9mWWVhci5zZXREYXRlKGZpcnN0RGF5T2ZZZWFyLmdldERhdGUoKSArIGRheXNUb0FkZCksXG5cdFx0KTtcblxuXHRcdC8vIENoZWNrIGlmIHRoZSB3ZWVrU3RhcnREYXRlIGlzIG9uIHRoZSBsYXN0IGRheSBvZiB0aGUgbW9udGgsXG5cdFx0Ly8gaWYgc28sIG1vdmUgdG8gdGhlIG5leHQgbW9udGggdG8gcm91bmQgdXAgZm9yIGEgd2VlayB0aGF0IHNwYW5zIGEgbW9udGggdHJhbnNpdGlvblxuXHRcdGlmICh3ZWVrU3RhcnREYXRlLmdldERhdGUoKSA+IDI0KSB7XG5cdFx0XHR3ZWVrU3RhcnREYXRlLnNldERhdGUod2Vla1N0YXJ0RGF0ZS5nZXREYXRlKCkgKyA3KTtcblx0XHR9XG5cblx0XHQvLyBFeHRyYWN0IHRoZSBtb250aCBudW1iZXIgKDAtMTEgZm9yIEphbi1EZWMpIGZyb20gdGhlIHdlZWtTdGFydERhdGVcblx0XHRjb25zdCBtb250aE51bWJlciA9IHdlZWtTdGFydERhdGUuZ2V0TW9udGgoKTtcblxuXHRcdHJldHVybiBtb250aE51bWJlciArIDE7IC8vIFJldHVybiBtb250aCBudW1iZXIgKDEtMTIpXG5cdH1cblxuXHRnZXRNb250aE5hbWUobW9udGhOdW1iZXIpIHtcblx0XHRjb25zdCBkYXRlID0gbmV3IERhdGUoMjAwMCwgbW9udGhOdW1iZXIgLSAxKTsgLy8gWWVhciAyMDAwIGlzIHVzZWQgYXJiaXRyYXJpbHk7IGFueSBub24tbGVhcCB5ZWFyIHdpbGwgZG9cblx0XHRyZXR1cm4gZGF0ZS50b0xvY2FsZVN0cmluZyhcImRlZmF1bHRcIiwgeyBtb250aDogXCJsb25nXCIgfSk7XG5cdH1cblxuXHRlbmVyZ3koZHYpIHtcblx0XHRjb25zdCBjdXJyZW50ID0gZHYuY3VycmVudCgpO1xuXHRcdGlmIChjdXJyZW50LmVuZXJneSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRjdXJyZW50LmVuZXJneSA9IDA7XG5cdFx0fVxuXHRcdGxldCBjb21wID0gdW5kZWZpbmVkO1xuXHRcdHN3aXRjaCAoY3VycmVudC5vcCkge1xuXHRcdFx0Y2FzZSBcIj5cIjpcblx0XHRcdFx0Y29tcCA9IChhLCBiKSA9PiBhID4gYjtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwiPj1cIjpcblx0XHRcdFx0Y29tcCA9IChhLCBiKSA9PiBhID49IGI7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcIjxcIjpcblx0XHRcdFx0Y29tcCA9IChhLCBiKSA9PiBhIDwgYjtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwiPD1cIjpcblx0XHRcdFx0Y29tcCA9IChhLCBiKSA9PiBhIDw9IGI7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0Y29tcCA9IChhLCBiKSA9PiBhID09PSBiO1xuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cblx0XHRjb25zdCBycyA9IFtdO1xuXHRcdGNvbnN0IHBhZ2VzID0gZHYucGFnZXMoYFwiJHtQYXRocy5UYXNrc31cImApLndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0aWYgKGZtLmdldFByb2plY3QoKSA9PT0gXCJkYWlseVwiKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGZtLmZtLnN0YXR1cyAhPT0gXCJ0b2RvXCIpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gY29tcChmbS5lbmVyZ3ksIGN1cnJlbnQuZW5lcmd5KTtcblx0XHR9KTtcblxuXHRcdHJzLnB1c2goW1xuXHRcdFx0XCJhcnJheVwiLFxuXHRcdFx0KGR2LCBkYXRhKSA9PiB7XG5cdFx0XHRcdGZvciAoY29uc3QgZW50cnkgb2YgZGF0YSkge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGVudHJ5KTtcblx0XHRcdFx0XHRkdi5wYXJhZ3JhcGgoXG5cdFx0XHRcdFx0XHRSZW5kZXJlci5tYWtlTGlua0FsaWFzKGR2LCBlbnRyeS5maWxlLCBcIiMjIFRhc2tcIiksXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdHBhZ2VzLFxuXHRcdF0pO1xuXG5cdFx0cmV0dXJuIHJzO1xuXHR9XG5cblx0bWFuZGFsYShkdikge1xuXHRcdGxldCBtYW5kYWxhTG8gPSAtMTtcblx0XHRsZXQgbWFuZGFsYUhpID0gLTE7XG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKTtcblx0XHR7XG5cdFx0XHRjb25zdCB3ZWVrTnVtYmVyID0gdGhpcy5nZXRXZWVrTnVtYmVyNChub3cpO1xuXHRcdFx0bWFuZGFsYUxvID0gd2Vla051bWJlciAtIDY7XG5cdFx0XHRtYW5kYWxhSGkgPSB3ZWVrTnVtYmVyIC0gNTtcblx0XHRcdGlmIChtYW5kYWxhTG8gPCAwIHx8IG1hbmRhbGFIaSA8IDApIHtcblx0XHRcdFx0ZHYucGFyYWdyYXBoKGB3ZWVrTnVtYmVyOiAke3dlZWtOdW1iZXJ9YCk7XG5cdFx0XHRcdGR2LnBhcmFncmFwaChgbWFuZGFsYUxvOiAke21hbmRhbGFMb31gKTtcblx0XHRcdFx0ZHYucGFyYWdyYXBoKGBtYW5kYWxhSGk6ICR7bWFuZGFsYUhpfWApO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRkdi5wYXJhZ3JhcGgoYHdlZWtOdW1iZXI6ICR7d2Vla051bWJlcn1gKTtcblx0XHRcdGR2LnBhcmFncmFwaChgbWFuZGFsYUxvOiAke21hbmRhbGFMb31gKTtcblx0XHRcdGR2LnBhcmFncmFwaChgbWFuZGFsYUhpOiAke21hbmRhbGFIaX1gKTtcblx0XHR9XG5cblx0XHRjb25zdCBycyA9IFtdO1xuXHRcdGNvbnN0IGJpbnMgPSB7fTtcblx0XHRjb25zdCBzdWl2aVdlZWtseSA9IHt9O1xuXHRcdGNvbnN0IHN1aXZpTW9udGhseSA9IHt9O1xuXHRcdGNvbnN0IHN1aXZpWWVhcmx5ID0ge307XG5cdFx0Y29uc3QgcGFnZXMgPSB0aGlzLmR2XG5cdFx0XHQucGFnZXMoYFwiSm91cm5hbFwiYClcblx0XHRcdC53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRjb25zdCB3ZWVrTnVtYmVyID0gdGhpcy5nZXRXZWVrTnVtYmVyNChmbS5jcmVhdGVkQXQpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyh3ZWVrTnVtYmVyKTtcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHdlZWtOdW1iZXIgPj0gbWFuZGFsYUxvICYmXG5cdFx0XHRcdFx0d2Vla051bWJlciA8PSBtYW5kYWxhSGkgJiZcblx0XHRcdFx0XHRmbS5jcmVhdGVkQXQuZ2V0RnVsbFllYXIoKSA9PT0gbm93LmdldEZ1bGxZZWFyKClcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9KVxuXHRcdFx0LnNvcnQoKHBhZ2UpID0+IHBhZ2UuZmlsZS5mcm9udG1hdHRlci5jcmVhdGVkX2F0LCBcImRlc2NcIik7XG5cdFx0Y29uc29sZS5sb2cocGFnZXMubGVuZ3RoKTtcblxuXHRcdGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuXHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdC8vIGNvbnN0IHdlZWtOdW1iZXIgPSB0aGlzLmdldFdlZWtOdW1iZXIoZm0uY3JlYXRlZEF0KTtcblx0XHRcdGNvbnN0IHdlZWtOdW1iZXIgPSB0aGlzLmdldFdlZWtOdW1iZXI0KGZtLmNyZWF0ZWRBdCk7XG5cdFx0XHRjb25zdCB5ZWFyID0gZm0uY3JlYXRlZEF0LmdldEZ1bGxZZWFyKCk7XG5cdFx0XHRjb25zdCBtb250aCA9IGZtLmNyZWF0ZWRBdC5nZXRNb250aCgpICsgMTtcblxuXHRcdFx0bGV0IG1zZyA9IFwiXCI7XG5cdFx0XHRtc2cgKz0gYGNyZWF0ZWRBdDogJHtmbS5jcmVhdGVkQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCl9XFxuYDtcblx0XHRcdG1zZyArPSBgd2Vla051bWJlcjogJHt3ZWVrTnVtYmVyfVxcbmA7XG5cdFx0XHRtc2cgKz0gYHllYXI6ICR7eWVhcn1cXG5gO1xuXHRcdFx0bXNnICs9IGBtb250aDogJHttb250aH1cXG5gO1xuXHRcdFx0bXNnICs9IGBkYXk6ICR7Zm0uY3JlYXRlZEF0LmdldERheSgpfVxcbmA7XG5cdFx0XHRjb25zdCBkYXkgPSBbXCJTdW5cIiwgXCJNb25cIiwgXCJUdWVcIiwgXCJXZWRcIiwgXCJUaHVcIiwgXCJGcmlcIiwgXCJTYXRcIl1bXG5cdFx0XHRcdGZtLmNyZWF0ZWRBdC5nZXREYXkoKVxuXHRcdFx0XTtcblx0XHRcdG1zZyArPSBgZGF5OiAke2RheX1cXG5gO1xuXG5cdFx0XHRjb25zb2xlLmxvZyhtc2cpO1xuXG5cdFx0XHRpZiAoYmluc1t5ZWFyXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGJpbnNbeWVhcl0gPSB7fTtcblx0XHRcdH1cblx0XHRcdGlmIChiaW5zW3llYXJdW3dlZWtOdW1iZXIudG9TdHJpbmcoKV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRiaW5zW3llYXJdW3dlZWtOdW1iZXIudG9TdHJpbmcoKV0gPSB7fTtcblx0XHRcdH1cblx0XHRcdGlmIChzdWl2aU1vbnRobHlbeWVhcl0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRzdWl2aU1vbnRobHlbeWVhcl0gPSB7fTtcblx0XHRcdH1cblx0XHRcdGlmIChzdWl2aVdlZWtseVt5ZWFyXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHN1aXZpV2Vla2x5W3llYXJdID0ge307XG5cdFx0XHR9XG5cblx0XHRcdGxldCB0YWcgPSBcIlwiO1xuXHRcdFx0aWYgKGZtLmdldERvbWFpbigpICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dGFnID0gZm0uZ2V0RG9tYWluKCk7XG5cdFx0XHR9IGVsc2UgaWYgKGZtLmdldFByb2plY3QoKSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHRhZyA9IGZtLmdldFByb2plY3QoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRhZyA9IFwiYWRob2NcIjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRhZyA9PSBcIndlZWtseVwiKSB7XG5cdFx0XHRcdGlmIChzdWl2aVdlZWtseVt5ZWFyXVt3ZWVrTnVtYmVyXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0c3VpdmlXZWVrbHlbeWVhcl1bd2Vla051bWJlcl0gPSBbcGFnZV07XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c3VpdmlXZWVrbHlbeWVhcl1bd2Vla051bWJlcl0ucHVzaChwYWdlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAodGFnID09PSBcIm1vbnRobHlcIikge1xuXHRcdFx0XHRpZiAoc3VpdmlNb250aGx5W3llYXJdW21vbnRoXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0c3VpdmlNb250aGx5W3llYXJdW21vbnRoXSA9IFtwYWdlXTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzdWl2aU1vbnRobHlbeWVhcl1bbW9udGhdLnB1c2gocGFnZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKHRhZyA9PT0gXCJ5ZWFybHlcIikge1xuXHRcdFx0XHRpZiAoc3VpdmlZZWFybHlbeWVhcl0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHN1aXZpWWVhcmx5W3llYXJdID0gW3BhZ2VdO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHN1aXZpWWVhcmx5W3llYXJdLnB1c2gocGFnZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChiaW5zW3llYXJdW3dlZWtOdW1iZXJdW3RhZ10gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRiaW5zW3llYXJdW3dlZWtOdW1iZXJdW3RhZ10gPSBbcGFnZV07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRiaW5zW3llYXJdW3dlZWtOdW1iZXJdW3RhZ10ucHVzaChwYWdlKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR7XG5cdFx0XHRjb25zdCB5ZWFycyA9IE9iamVjdC5rZXlzKGJpbnMpO1xuXHRcdFx0bGV0IGxhc3RZZWFyID0gOTk5OTtcblx0XHRcdGxldCBsYXN0TW9udGggPSAxMztcblx0XHRcdHllYXJzLnNvcnQoKS5yZXZlcnNlKCk7XG5cblx0XHRcdGZvciAoY29uc3QgeWVhciBvZiB5ZWFycykge1xuXHRcdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCB5ZWFyXSk7XG5cblx0XHRcdFx0aWYgKHBhcnNlSW50KHllYXIsIDEwKSA8IGxhc3RZZWFyKSB7XG5cdFx0XHRcdFx0bGFzdE1vbnRoID0gMTM7XG5cdFx0XHRcdFx0bGFzdFllYXIgPSBwYXJzZUludCh5ZWFyLCAxMCk7XG5cdFx0XHRcdFx0aWYgKHN1aXZpWWVhcmx5W3llYXJdICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdGZvciAoY29uc3QgcGFnZSBvZiBzdWl2aVllYXJseVt5ZWFyXSkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRcdFx0XHRycy5wdXNoKFtcblx0XHRcdFx0XHRcdFx0XHRcInBhcmFncmFwaFwiLFxuXHRcdFx0XHRcdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rQWxpYXModGhpcy5kdiwgZm0uZiksXG5cdFx0XHRcdFx0XHRcdF0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGZvciAobGV0IHdlZWsgPSA1Mjsgd2VlayA+IDA7IHdlZWstLSkge1xuXHRcdFx0XHRcdGNvbnN0IHRoaXNNb250aCA9IHRoaXMuZ2V0TW9udGgoeWVhciwgd2Vlayk7XG5cblx0XHRcdFx0XHRpZiAoc3VpdmlNb250aGx5W3llYXJdW3RoaXNNb250aF0gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0aWYgKGxhc3RNb250aCAhPT0gdGhpc01vbnRoKSB7XG5cdFx0XHRcdFx0XHRcdGxhc3RNb250aCA9IHRoaXNNb250aDtcblx0XHRcdFx0XHRcdFx0cnMucHVzaChbXG5cdFx0XHRcdFx0XHRcdFx0XCJoZWFkZXJcIixcblx0XHRcdFx0XHRcdFx0XHQzLFxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuZ2V0TW9udGhOYW1lKGxhc3RNb250aCksXG5cdFx0XHRcdFx0XHRcdF0pO1xuXG5cdFx0XHRcdFx0XHRcdGlmIChzdWl2aU1vbnRobHlbeWVhcl1bdGhpc01vbnRoXSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRcdFx0Zm9yIChjb25zdCBwYWdlIG9mIHN1aXZpTW9udGhseVt5ZWFyXVtcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXNNb250aFxuXHRcdFx0XHRcdFx0XHRcdF0pIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRycy5wdXNoKFtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XCJwYXJhZ3JhcGhcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0UmVuZGVyZXIubWFrZUxpbmtBbGlhcyh0aGlzLmR2LCBmbS5mKSxcblx0XHRcdFx0XHRcdFx0XHRcdF0pO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChcblx0XHRcdFx0XHRcdHN1aXZpV2Vla2x5W3llYXJdW3dlZWtdID09PSB1bmRlZmluZWQgJiZcblx0XHRcdFx0XHRcdGJpbnNbeWVhcl1bd2Vla10gPT09IHVuZGVmaW5lZFxuXHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgNCwgYHdlZWsgJHt3ZWVrLnRvU3RyaW5nKCl9YF0pO1xuXHRcdFx0XHRcdGlmIChzdWl2aVdlZWtseVt5ZWFyXVt3ZWVrXSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRmb3IgKGNvbnN0IHBhZ2Ugb2Ygc3VpdmlXZWVrbHlbeWVhcl1bd2Vla10pIHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdFx0XHRcdFx0cnMucHVzaChbXG5cdFx0XHRcdFx0XHRcdFx0XCJwYXJhZ3JhcGhcIixcblx0XHRcdFx0XHRcdFx0XHRSZW5kZXJlci5tYWtlTGlua0FsaWFzKHRoaXMuZHYsIGZtLmYpLFxuXHRcdFx0XHRcdFx0XHRdKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoYmluc1t5ZWFyXVt3ZWVrXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBkb21haW4gPiBwcm9qZWN0XG5cdFx0XHRcdFx0Y29uc3QgdGFncyA9IE9iamVjdC5rZXlzKGJpbnNbeWVhcl1bd2Vla10pO1xuXHRcdFx0XHRcdHRhZ3Muc29ydCgpO1xuXG5cdFx0XHRcdFx0Zm9yIChjb25zdCB0YWcgb2YgdGFncykge1xuXHRcdFx0XHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgNSwgdGFnXSk7XG5cdFx0XHRcdFx0XHRiaW5zW3llYXJdW3dlZWtdW3RhZ10uc29ydCgoYSwgYikgPT4ge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBmbUEgPSBuZXcgRnJvbnRtYXR0ZXJKUyhhKTtcblx0XHRcdFx0XHRcdFx0Y29uc3QgZm1CID0gbmV3IEZyb250bWF0dGVySlMoYik7XG5cdFx0XHRcdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0XHRcdFx0Zm1CLmNyZWF0ZWRBdC5nZXRUaW1lKCkgLVxuXHRcdFx0XHRcdFx0XHRcdGZtQS5jcmVhdGVkQXQuZ2V0VGltZSgpXG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0Zm9yIChjb25zdCBwYWdlIG9mIGJpbnNbeWVhcl1bd2Vla11bdGFnXSkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRcdFx0XHRpZiAoZm0udHlwZSA9PT0gNikge1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGQgPSBmbS5jcmVhdGVkQXRcblx0XHRcdFx0XHRcdFx0XHRcdC50b0lTT1N0cmluZygpXG5cdFx0XHRcdFx0XHRcdFx0XHQuc2xpY2UoMCwgMTApO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGRheSA9IFtcblx0XHRcdFx0XHRcdFx0XHRcdFwiU3VuXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcIk1vblwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XCJUdWVcIixcblx0XHRcdFx0XHRcdFx0XHRcdFwiV2VkXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcIlRodVwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XCJGcmlcIixcblx0XHRcdFx0XHRcdFx0XHRcdFwiU2F0XCIsXG5cdFx0XHRcdFx0XHRcdFx0XVtmbS5jcmVhdGVkQXQuZ2V0RGF5KCldO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IHRleHQgPSBgJHtkfSwgJHtkYXl9YDtcblx0XHRcdFx0XHRcdFx0XHRycy5wdXNoKFtcblx0XHRcdFx0XHRcdFx0XHRcdFwicGFyYWdyYXBoXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRSZW5kZXJlci5tYWtlTGluayh0aGlzLmR2LCBmbS5mLCB0ZXh0KSxcblx0XHRcdFx0XHRcdFx0XHRdKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBycztcblx0fVxuXG5cdGpvdXJuYWwoKSB7XG5cdFx0Y29uc3QgcnMgPSBbXTtcblx0XHRjb25zdCBiaW5zID0ge307XG5cdFx0Y29uc3Qgc3VpdmlXZWVrbHkgPSB7fTtcblx0XHRjb25zdCBzdWl2aU1vbnRobHkgPSB7fTtcblx0XHRjb25zdCBzdWl2aVllYXJseSA9IHt9O1xuXHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdlxuXHRcdFx0LnBhZ2VzKGBcIkpvdXJuYWxcImApXG5cdFx0XHQuc29ydCgocGFnZSkgPT4gcGFnZS5maWxlLmZyb250bWF0dGVyLmNyZWF0ZWRfYXQsIFwiZGVzY1wiKTtcblxuXHRcdGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuXHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdC8vIGNvbnN0IHdlZWtOdW1iZXIgPSB0aGlzLmdldFdlZWtOdW1iZXIoZm0uY3JlYXRlZEF0KTtcblx0XHRcdGNvbnN0IHdlZWtOdW1iZXIgPSB0aGlzLmdldFdlZWtOdW1iZXI0KGZtLmNyZWF0ZWRBdCk7XG5cdFx0XHRjb25zdCB5ZWFyID0gZm0uY3JlYXRlZEF0LmdldEZ1bGxZZWFyKCk7XG5cdFx0XHRjb25zdCBtb250aCA9IGZtLmNyZWF0ZWRBdC5nZXRNb250aCgpICsgMTtcblxuXHRcdFx0bGV0IG1zZyA9IFwiXCI7XG5cdFx0XHRtc2cgKz0gYGNyZWF0ZWRBdDogJHtmbS5jcmVhdGVkQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCl9XFxuYDtcblx0XHRcdG1zZyArPSBgd2Vla051bWJlcjogJHt3ZWVrTnVtYmVyfVxcbmA7XG5cdFx0XHRtc2cgKz0gYHllYXI6ICR7eWVhcn1cXG5gO1xuXHRcdFx0bXNnICs9IGBtb250aDogJHttb250aH1cXG5gO1xuXHRcdFx0bXNnICs9IGBkYXk6ICR7Zm0uY3JlYXRlZEF0LmdldERheSgpfVxcbmA7XG5cdFx0XHRjb25zdCBkYXkgPSBbXCJTdW5cIiwgXCJNb25cIiwgXCJUdWVcIiwgXCJXZWRcIiwgXCJUaHVcIiwgXCJGcmlcIiwgXCJTYXRcIl1bXG5cdFx0XHRcdGZtLmNyZWF0ZWRBdC5nZXREYXkoKVxuXHRcdFx0XTtcblx0XHRcdG1zZyArPSBgZGF5OiAke2RheX1cXG5gO1xuXG5cdFx0XHQvLyBjb25zb2xlLmxvZyhtc2cpO1xuXG5cdFx0XHRpZiAoYmluc1t5ZWFyXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGJpbnNbeWVhcl0gPSB7fTtcblx0XHRcdH1cblx0XHRcdGlmIChiaW5zW3llYXJdW3dlZWtOdW1iZXIudG9TdHJpbmcoKV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRiaW5zW3llYXJdW3dlZWtOdW1iZXIudG9TdHJpbmcoKV0gPSB7fTtcblx0XHRcdH1cblx0XHRcdGlmIChzdWl2aU1vbnRobHlbeWVhcl0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRzdWl2aU1vbnRobHlbeWVhcl0gPSB7fTtcblx0XHRcdH1cblx0XHRcdGlmIChzdWl2aVdlZWtseVt5ZWFyXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHN1aXZpV2Vla2x5W3llYXJdID0ge307XG5cdFx0XHR9XG5cblx0XHRcdGxldCB0YWcgPSBcIlwiO1xuXHRcdFx0aWYgKGZtLmdldERvbWFpbigpICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dGFnID0gZm0uZ2V0RG9tYWluKCk7XG5cdFx0XHR9IGVsc2UgaWYgKGZtLmdldFByb2plY3QoKSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHRhZyA9IGZtLmdldFByb2plY3QoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRhZyA9IFwiYWRob2NcIjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRhZyA9PSBcIndlZWtseVwiKSB7XG5cdFx0XHRcdGlmIChzdWl2aVdlZWtseVt5ZWFyXVt3ZWVrTnVtYmVyXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0c3VpdmlXZWVrbHlbeWVhcl1bd2Vla051bWJlcl0gPSBbcGFnZV07XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c3VpdmlXZWVrbHlbeWVhcl1bd2Vla051bWJlcl0ucHVzaChwYWdlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAodGFnID09PSBcIm1vbnRobHlcIikge1xuXHRcdFx0XHRpZiAoc3VpdmlNb250aGx5W3llYXJdW21vbnRoXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0c3VpdmlNb250aGx5W3llYXJdW21vbnRoXSA9IFtwYWdlXTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzdWl2aU1vbnRobHlbeWVhcl1bbW9udGhdLnB1c2gocGFnZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKHRhZyA9PT0gXCJ5ZWFybHlcIikge1xuXHRcdFx0XHRpZiAoc3VpdmlZZWFybHlbeWVhcl0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHN1aXZpWWVhcmx5W3llYXJdID0gW3BhZ2VdO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHN1aXZpWWVhcmx5W3llYXJdLnB1c2gocGFnZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChiaW5zW3llYXJdW3dlZWtOdW1iZXJdW3RhZ10gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRiaW5zW3llYXJdW3dlZWtOdW1iZXJdW3RhZ10gPSBbcGFnZV07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRiaW5zW3llYXJdW3dlZWtOdW1iZXJdW3RhZ10ucHVzaChwYWdlKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR7XG5cdFx0XHRjb25zdCB5ZWFycyA9IE9iamVjdC5rZXlzKGJpbnMpO1xuXHRcdFx0bGV0IGxhc3RZZWFyID0gOTk5OTtcblx0XHRcdGxldCBsYXN0TW9udGggPSAxMztcblx0XHRcdHllYXJzLnNvcnQoKS5yZXZlcnNlKCk7XG5cblx0XHRcdGZvciAoY29uc3QgeWVhciBvZiB5ZWFycykge1xuXHRcdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCB5ZWFyXSk7XG5cblx0XHRcdFx0aWYgKHBhcnNlSW50KHllYXIsIDEwKSA8IGxhc3RZZWFyKSB7XG5cdFx0XHRcdFx0bGFzdE1vbnRoID0gMTM7XG5cdFx0XHRcdFx0bGFzdFllYXIgPSBwYXJzZUludCh5ZWFyLCAxMCk7XG5cdFx0XHRcdFx0aWYgKHN1aXZpWWVhcmx5W3llYXJdICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdGZvciAoY29uc3QgcGFnZSBvZiBzdWl2aVllYXJseVt5ZWFyXSkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRcdFx0XHRycy5wdXNoKFtcblx0XHRcdFx0XHRcdFx0XHRcInBhcmFncmFwaFwiLFxuXHRcdFx0XHRcdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rQWxpYXModGhpcy5kdiwgZm0uZiksXG5cdFx0XHRcdFx0XHRcdF0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGZvciAobGV0IHdlZWsgPSA1Mjsgd2VlayA+IDA7IHdlZWstLSkge1xuXHRcdFx0XHRcdGNvbnN0IHRoaXNNb250aCA9IHRoaXMuZ2V0TW9udGgoeWVhciwgd2Vlayk7XG5cblx0XHRcdFx0XHRpZiAoc3VpdmlNb250aGx5W3llYXJdW3RoaXNNb250aF0gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0aWYgKGxhc3RNb250aCAhPT0gdGhpc01vbnRoKSB7XG5cdFx0XHRcdFx0XHRcdGxhc3RNb250aCA9IHRoaXNNb250aDtcblx0XHRcdFx0XHRcdFx0cnMucHVzaChbXG5cdFx0XHRcdFx0XHRcdFx0XCJoZWFkZXJcIixcblx0XHRcdFx0XHRcdFx0XHQzLFxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuZ2V0TW9udGhOYW1lKGxhc3RNb250aCksXG5cdFx0XHRcdFx0XHRcdF0pO1xuXG5cdFx0XHRcdFx0XHRcdGlmIChzdWl2aU1vbnRobHlbeWVhcl1bdGhpc01vbnRoXSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRcdFx0Zm9yIChjb25zdCBwYWdlIG9mIHN1aXZpTW9udGhseVt5ZWFyXVtcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXNNb250aFxuXHRcdFx0XHRcdFx0XHRcdF0pIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRycy5wdXNoKFtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XCJwYXJhZ3JhcGhcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0UmVuZGVyZXIubWFrZUxpbmtBbGlhcyh0aGlzLmR2LCBmbS5mKSxcblx0XHRcdFx0XHRcdFx0XHRcdF0pO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChcblx0XHRcdFx0XHRcdHN1aXZpV2Vla2x5W3llYXJdW3dlZWtdID09PSB1bmRlZmluZWQgJiZcblx0XHRcdFx0XHRcdGJpbnNbeWVhcl1bd2Vla10gPT09IHVuZGVmaW5lZFxuXHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgNCwgYHdlZWsgJHt3ZWVrLnRvU3RyaW5nKCl9YF0pO1xuXHRcdFx0XHRcdGlmIChzdWl2aVdlZWtseVt5ZWFyXVt3ZWVrXSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRmb3IgKGNvbnN0IHBhZ2Ugb2Ygc3VpdmlXZWVrbHlbeWVhcl1bd2Vla10pIHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdFx0XHRcdFx0cnMucHVzaChbXG5cdFx0XHRcdFx0XHRcdFx0XCJwYXJhZ3JhcGhcIixcblx0XHRcdFx0XHRcdFx0XHRSZW5kZXJlci5tYWtlTGlua0FsaWFzKHRoaXMuZHYsIGZtLmYpLFxuXHRcdFx0XHRcdFx0XHRdKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoYmluc1t5ZWFyXVt3ZWVrXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBkb21haW4gPiBwcm9qZWN0XG5cdFx0XHRcdFx0Y29uc3QgdGFncyA9IE9iamVjdC5rZXlzKGJpbnNbeWVhcl1bd2Vla10pO1xuXHRcdFx0XHRcdHRhZ3Muc29ydCgpO1xuXG5cdFx0XHRcdFx0Zm9yIChjb25zdCB0YWcgb2YgdGFncykge1xuXHRcdFx0XHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgNSwgdGFnXSk7XG5cdFx0XHRcdFx0XHRiaW5zW3llYXJdW3dlZWtdW3RhZ10uc29ydCgoYSwgYikgPT4ge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBmbUEgPSBuZXcgRnJvbnRtYXR0ZXJKUyhhKTtcblx0XHRcdFx0XHRcdFx0Y29uc3QgZm1CID0gbmV3IEZyb250bWF0dGVySlMoYik7XG5cdFx0XHRcdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0XHRcdFx0Zm1CLmNyZWF0ZWRBdC5nZXRUaW1lKCkgLVxuXHRcdFx0XHRcdFx0XHRcdGZtQS5jcmVhdGVkQXQuZ2V0VGltZSgpXG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0Zm9yIChjb25zdCBwYWdlIG9mIGJpbnNbeWVhcl1bd2Vla11bdGFnXSkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRcdFx0XHRpZiAoZm0udHlwZSA9PT0gNikge1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGQgPSBmbS5jcmVhdGVkQXRcblx0XHRcdFx0XHRcdFx0XHRcdC50b0lTT1N0cmluZygpXG5cdFx0XHRcdFx0XHRcdFx0XHQuc2xpY2UoMCwgMTApO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGRheSA9IFtcblx0XHRcdFx0XHRcdFx0XHRcdFwiU3VuXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcIk1vblwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XCJUdWVcIixcblx0XHRcdFx0XHRcdFx0XHRcdFwiV2VkXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcIlRodVwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XCJGcmlcIixcblx0XHRcdFx0XHRcdFx0XHRcdFwiU2F0XCIsXG5cdFx0XHRcdFx0XHRcdFx0XVtmbS5jcmVhdGVkQXQuZ2V0RGF5KCldO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IHRleHQgPSBgJHtkfSwgJHtkYXl9YDtcblx0XHRcdFx0XHRcdFx0XHRycy5wdXNoKFtcblx0XHRcdFx0XHRcdFx0XHRcdFwicGFyYWdyYXBoXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRSZW5kZXJlci5tYWtlTGluayh0aGlzLmR2LCBmbS5mLCB0ZXh0KSxcblx0XHRcdFx0XHRcdFx0XHRdKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBycztcblx0fVxuXG5cdGNhbGVuZGFyKCkge1xuXHRcdGNvbnN0IHJzID0gW107XG5cdFx0Y29uc3QgYmlucyA9IHt9O1xuXHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdi5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfVwiYCkud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdGZtLmZtLmF0ID09PSB1bmRlZmluZWQgJiZcblx0XHRcdFx0Zm0uZm0uYmVmb3JlID09PSB1bmRlZmluZWQgJiZcblx0XHRcdFx0Zm0uZm0uYWZ0ZXIgPT09IHVuZGVmaW5lZFxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGZtLmZtLnN0YXR1cyAhPT0gXCJ0b2RvXCIpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZm0uZ2V0UHJvamVjdCgpID09PSBcImRhaWx5XCIpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9KTtcblxuXHRcdGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuXHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdGxldCB5ZWFyID0gMDtcblx0XHRcdGxldCBtb250aCA9IDA7XG5cdFx0XHRsZXQgZGF5ID0gMDtcblxuXHRcdFx0aWYgKGZtLmZtLmJlZm9yZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHllYXIgPSBmbS5iZWZvcmUuZ2V0RnVsbFllYXIoKTtcblx0XHRcdFx0bW9udGggPSBmbS5iZWZvcmUuZ2V0TW9udGgoKTtcblx0XHRcdFx0ZGF5ID0gZm0uYmVmb3JlLmdldFVUQ0RhdGUoKTtcblx0XHRcdH0gZWxzZSBpZiAoZm0uZm0uYXQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR5ZWFyID0gZm0uYXQuZ2V0RnVsbFllYXIoKTtcblx0XHRcdFx0bW9udGggPSBmbS5hdC5nZXRNb250aCgpO1xuXHRcdFx0XHRkYXkgPSBmbS5hdC5nZXRVVENEYXRlKCk7XG5cdFx0XHR9IGVsc2UgaWYgKGZtLmFmdGVyICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0eWVhciA9IGZtLmFmdGVyLmdldEZ1bGxZZWFyKCk7XG5cdFx0XHRcdG1vbnRoID0gZm0uYWZ0ZXIuZ2V0TW9udGgoKTtcblx0XHRcdFx0ZGF5ID0gZm0uYWZ0ZXIuZ2V0VVRDRGF0ZSgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChiaW5zW3llYXJdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ymluc1t5ZWFyXSA9IHt9O1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoYmluc1t5ZWFyXVttb250aF0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRiaW5zW3llYXJdW21vbnRoXSA9IHt9O1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoYmluc1t5ZWFyXVttb250aF1bZGF5XSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGJpbnNbeWVhcl1bbW9udGhdW2RheV0gPSB7fTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGJpbnNbeWVhcl1bbW9udGhdW2RheV1bXCJhdFwiXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGJpbnNbeWVhcl1bbW9udGhdW2RheV1bXCJhdFwiXSA9IFtdO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGJpbnNbeWVhcl1bbW9udGhdW2RheV1bXCJiZWZvcmVcIl0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRiaW5zW3llYXJdW21vbnRoXVtkYXldW1wiYmVmb3JlXCJdID0gW107XG5cdFx0XHR9XG5cdFx0XHRpZiAoYmluc1t5ZWFyXVttb250aF1bZGF5XVtcImFmdGVyXCJdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ymluc1t5ZWFyXVttb250aF1bZGF5XVtcImFmdGVyXCJdID0gW107XG5cdFx0XHR9XG5cblx0XHRcdGlmIChmbS5mbS5iZWZvcmUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRiaW5zW3llYXJdW21vbnRoXVtkYXldW1wiYmVmb3JlXCJdLnB1c2gocGFnZSk7XG5cdFx0XHR9IGVsc2UgaWYgKGZtLmZtLmF0ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ymluc1t5ZWFyXVttb250aF1bZGF5XVtcImF0XCJdLnB1c2gocGFnZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRiaW5zW3llYXJdW21vbnRoXVtkYXldW1wiYWZ0ZXJcIl0ucHVzaChwYWdlKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR7XG5cdFx0XHRjb25zdCB5ZWFycyA9IE9iamVjdC5rZXlzKGJpbnMpO1xuXHRcdFx0eWVhcnMuc29ydCgoYSwgYikgPT4gcGFyc2VJbnQoYSkgLSBwYXJzZUludChiKSk7XG5cblx0XHRcdGZvciAoY29uc3QgeWVhciBvZiB5ZWFycykge1xuXHRcdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCB5ZWFyXSk7XG5cdFx0XHRcdGNvbnN0IG1vbnRocyA9IE9iamVjdC5rZXlzKGJpbnNbeWVhcl0pO1xuXHRcdFx0XHRtb250aHMuc29ydCgoYSwgYikgPT4gcGFyc2VJbnQoYSkgLSBwYXJzZUludChiKSk7XG5cdFx0XHRcdGZvciAoY29uc3QgbW9udGggb2YgbW9udGhzKSB7XG5cdFx0XHRcdFx0cnMucHVzaChbXG5cdFx0XHRcdFx0XHRcImhlYWRlclwiLFxuXHRcdFx0XHRcdFx0Myxcblx0XHRcdFx0XHRcdGAke1tcIkphbnVhcnlcIiwgXCJGZWJ1YXJ5XCIsIFwiTWFyY2hcIiwgXCJBcHJpbFwiLCBcIk1heVwiLCBcIkp1bmVcIiwgXCJKdWx5XCIsIFwiQXVndXN0XCIsIFwiU2VwdGVtYmVyXCIsIFwiT2N0b2JlclwiLCBcIk5vdmVtYmVyXCIsIFwiRGVjZW1iZXJcIl1bbW9udGhdfWAsXG5cdFx0XHRcdFx0XSk7XG5cblx0XHRcdFx0XHRjb25zdCBkYXlzID0gT2JqZWN0LmtleXMoYmluc1t5ZWFyXVttb250aF0pO1xuXHRcdFx0XHRcdGRheXMuc29ydCgoYSwgYikgPT4gcGFyc2VJbnQoYSkgLSBwYXJzZUludChiKSk7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBkYXkgb2YgZGF5cykge1xuXHRcdFx0XHRcdFx0Y29uc3Qgd2Vla3MgPSBbXG5cdFx0XHRcdFx0XHRcdFwiU3VuXCIsXG5cdFx0XHRcdFx0XHRcdFwiTW9uXCIsXG5cdFx0XHRcdFx0XHRcdFwiVHVlXCIsXG5cdFx0XHRcdFx0XHRcdFwiV2VkXCIsXG5cdFx0XHRcdFx0XHRcdFwiVGh1XCIsXG5cdFx0XHRcdFx0XHRcdFwiRnJpXCIsXG5cdFx0XHRcdFx0XHRcdFwiU2F0XCIsXG5cdFx0XHRcdFx0XHRdO1xuXG5cdFx0XHRcdFx0XHRjb25zdCBiZWZvcmUgPSBiaW5zW3llYXJdW21vbnRoXVtkYXldW1wiYmVmb3JlXCJdO1xuXHRcdFx0XHRcdFx0Y29uc3QgYXQgPSBiaW5zW3llYXJdW21vbnRoXVtkYXldW1wiYXRcIl07XG5cdFx0XHRcdFx0XHRjb25zdCBhZnRlciA9IGJpbnNbeWVhcl1bbW9udGhdW2RheV1bXCJhZnRlclwiXTtcblxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coXG5cdFx0XHRcdFx0XHRcdGB5ZWFyOiAke3llYXJ9XFxubW9udGg6ICR7bW9udGh9XFxuZGF5OiAke2RheX1gLFxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdGlmIChiZWZvcmUubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0XHRmb3IgKGNvbnN0IHBhZ2Ugb2YgYmVmb3JlKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coXCItLS0gYmVmb3JlIC0tLVwiKTtcblx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhwYWdlKTtcblx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIi0tLS0tLVwiKTtcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IHRleHQgPSBgYmVmb3JlOiAke3dlZWtzW2ZtLmJlZm9yZS5nZXREYXkoKV19ICR7ZGF5fSAke2ZtLmF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMTEsIDE2KX0gfCAke2ZtLmdldFByb2plY3QoKX1gO1xuXHRcdFx0XHRcdFx0XHRcdHJzLnB1c2goW1xuXHRcdFx0XHRcdFx0XHRcdFx0XCJwYXJhZ3JhcGhcIixcblx0XHRcdFx0XHRcdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLmR2LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmbS5mLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0ZXh0LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcIlRhc2tcIixcblx0XHRcdFx0XHRcdFx0XHRcdCksXG5cdFx0XHRcdFx0XHRcdFx0XSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aWYgKGF0Lmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRcdFx0YXQuc29ydCgoYSwgYikgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGZtQSA9IG5ldyBGcm9udG1hdHRlckpTKGEpO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGZtQiA9IG5ldyBGcm9udG1hdHRlckpTKGIpO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBmbUIuYXQuZ2V0VGltZSgpIC0gZm1BLmF0LmdldFRpbWUoKTtcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdGZvciAoY29uc3QgcGFnZSBvZiBhdCkge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiLS0tIGF0IC0tLVwiKTtcblx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhwYWdlKTtcblx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIi0tLS0tLVwiKTtcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IHRleHQgPSBgYXQ6ICR7d2Vla3NbZm0uYXQuZ2V0RGF5KCldfSAke2RheX0gJHtmbS5hdC50b0lTT1N0cmluZygpLnNsaWNlKDExLCAxNil9IHwgJHtmbS5nZXRQcm9qZWN0KCl9YDtcblx0XHRcdFx0XHRcdFx0XHRycy5wdXNoKFtcblx0XHRcdFx0XHRcdFx0XHRcdFwicGFyYWdyYXBoXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRSZW5kZXJlci5tYWtlTGluayhcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5kdixcblx0XHRcdFx0XHRcdFx0XHRcdFx0Zm0uZixcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGV4dCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XCJUYXNrXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHQpLFxuXHRcdFx0XHRcdFx0XHRcdF0pO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGlmIChhZnRlci5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0XHRcdGZvciAoY29uc3QgcGFnZSBvZiBhZnRlcikge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiLS0tIGFmdGVyIC0tLVwiKTtcblx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhwYWdlKTtcblx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIi0tLS0tLVwiKTtcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IHRleHQgPSBgIGFmdGVyOiAke3dlZWtzW2ZtLmFmdGVyLmdldERheSgpXX0gJHtkYXl9ICR7Zm0uYXQudG9JU09TdHJpbmcoKS5zbGljZSgxMSwgMTYpfSB8ICR7Zm0uZ2V0UHJvamVjdCgpfWA7XG5cdFx0XHRcdFx0XHRcdFx0cnMucHVzaChbXG5cdFx0XHRcdFx0XHRcdFx0XHRcInBhcmFncmFwaFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0UmVuZGVyZXIubWFrZUxpbmsoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuZHYsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZtLmYsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRleHQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFwiVGFza1wiLFxuXHRcdFx0XHRcdFx0XHRcdFx0KSxcblx0XHRcdFx0XHRcdFx0XHRdKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBycztcblx0fVxuXG5cdGdsb2JhbFRhc2tMaXN0KHBhZ2VzKSB7XG5cdFx0Y29uc3QgcnMgPSBbXTtcblx0XHRjb25zdCBiaW5zID0ge307XG5cblx0XHRmb3IgKGNvbnN0IHBhZ2Ugb2YgcGFnZXMpIHtcblx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRpZiAoZm0uZ2V0UHJvamVjdCgpID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Zm0ucHJvamVjdHMgPSBbXCJhZGhvY1wiXTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGJpbnNbZm0uZ2V0UHJvamVjdCgpXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGJpbnNbZm0uZ2V0UHJvamVjdCgpXSA9IFtwYWdlXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJpbnNbZm0uZ2V0UHJvamVjdCgpXS5wdXNoKHBhZ2UpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IHByb2plY3RzID0gT2JqZWN0LmtleXMoYmlucyk7XG5cdFx0cHJvamVjdHMuc29ydCgpO1xuXHRcdGZvciAoY29uc3QgcHJvamVjdCBvZiBwcm9qZWN0cykge1xuXHRcdFx0Y29uc3QgdGFza3MgPSBiaW5zW3Byb2plY3RdO1xuXHRcdFx0dGFza3Muc29ydChIZWxwZXIuc29ydEJ5UHJpb3JpdHlBbmREdXJhdGlvbkFuZEFnZSk7XG5cdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBgJHtwcm9qZWN0fWBdKTtcblx0XHRcdHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIuYmFzaWNUYXNrSm91cm5hbCwgdGFza3NdKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcnM7XG5cdH1cblxuXHRuZXh0QWN0aW9ucyhkdikge1xuXHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdi5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfVwiYCkud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdFtcImRhaWx5XCIsIFwid2Vla2x5XCIsIFwibW9udGhseVwiLCBcInllYXJseVwiXS5jb250YWlucyhcblx0XHRcdFx0XHRmbS5nZXRQcm9qZWN0KCksXG5cdFx0XHRcdClcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghdGhpcy5wcm9qZWN0SXNBY3RpdmUoZm0uZ2V0UHJvamVjdCgpKSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGV4Y2x1ZGUgdGFza3Mgd2l0aCB1bmZ1bGZpbGxlZCBkZXBlbmRlbmNpZXNcblx0XHRcdGlmICghdGhpcy5ub3RlSGVscGVyLmlzRG9hYmxlKHBhZ2UpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gZXhjbHVkZSBzb21lZGF5IG1heWJlIHRhc2tzXG5cdFx0XHRpZiAoZm0uZm0ucHJpb3JpdHkgPT09IDApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9KTtcblxuXHRcdHJldHVybiB0aGlzLmdsb2JhbFRhc2tMaXN0KHBhZ2VzKTtcblx0fVxuXG5cdHdhaXRpbmdGb3IoZHYpIHtcblx0XHRjb25zdCBwYWdlcyA9IHRoaXMuZHYucGFnZXMoYFwiJHtQYXRocy5UYXNrc31cImApLndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRbXCJkYWlseVwiLCBcIndlZWtseVwiLCBcIm1vbnRobHlcIiwgXCJ5ZWFybHlcIl0uY29udGFpbnMoXG5cdFx0XHRcdFx0Zm0uZ2V0UHJvamVjdCgpLFxuXHRcdFx0XHQpXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIVtcInRvZG9cIiwgXCJ3YWl0aW5nXCJdLmNvbnRhaW5zKGZtLmZtLnN0YXR1cykpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIXRoaXMucHJvamVjdElzQWN0aXZlKGZtLmdldFByb2plY3QoKSkpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBleGNsdWRlIHRhc2tzIHdpdGggZnVsZmlsbGVkIGRlcGVuZGVuY2llcyBhbmQgc29tZWRheSBtYXliZVxuXHRcdFx0aWYgKHRoaXMubm90ZUhlbHBlci5pc0RvYWJsZShwYWdlKSB8fCBmbS5mbS5wcmlvcml0eSA9PT0gMCkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHRoaXMuZ2xvYmFsVGFza0xpc3QocGFnZXMpO1xuXHR9XG5cblx0cHJvamVjdElzQWN0aXZlKG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuXHRcdGNvbnN0IHByb2plY3QgPSB0aGlzLmR2LnBhZ2VzKGBcIlByb2plY3RzXCJgKS53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdGlmIChmbS5nZXROYW1lKCkgIT09IG5hbWUpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZm0uZm0uYWN0aXZlID09PSBmYWxzZSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHByb2plY3QubGVuZ3RoID4gMDtcblx0fVxuXG5cdHNvbWVkYXlNYXliZShkdikge1xuXHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdi5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfVwiYCkud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdFtcImRhaWx5XCIsIFwid2Vla2x5XCIsIFwibW9udGhseVwiLCBcInllYXJseVwiXS5jb250YWlucyhcblx0XHRcdFx0XHRmbS5nZXRQcm9qZWN0KCksXG5cdFx0XHRcdClcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghdGhpcy5wcm9qZWN0SXNBY3RpdmUoZm0uZ2V0UHJvamVjdCgpKSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGV4Y2x1ZGUgdGFza3Mgd2l0aCB1bmZ1bGZpbGxlZCBkZXBlbmRlbmNpZXNcblx0XHRcdGlmICghdGhpcy5ub3RlSGVscGVyLmlzRG9hYmxlKHBhZ2UpIHx8IGZtLmZtLnByaW9yaXR5ID4gMCkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHRoaXMuZ2xvYmFsVGFza0xpc3QocGFnZXMpO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBEdkxpYiB7XG5cdHRhc2tEaXIgPSBcIjgxMyBUYXNrc1wiO1xuXHRpbmJveERpciA9IFwiODAwIEluYm94XCI7XG5cdHJlZkRpciA9IFwiODAyIFJlZnNcIjtcblx0bG9nRGlyID0gXCI2MDAgTG9nXCI7XG5cblx0VGFzayA9IHtcblx0XHRCQVNFOiAzLFxuXHRcdERBSUxZOiA0LFxuXHR9O1xuXG5cdFR5cGUgPSB7XG5cdFx0VEFTSzogMyxcblx0XHREQUlMWTogNCxcblx0XHRMT0c6IDYsXG5cdH07XG5cblx0U3RhdHVzID0ge1xuXHRcdFRPRE86IFwidG9kb1wiLFxuXHRcdERPTkU6IFwiZG9uZVwiLFxuXHRcdERPSU5HOiBcImRvaW5nXCIsXG5cdFx0VFJBU0g6IFwidHJhc2hcIixcblx0XHRNQVlCRTogXCJtYXliZVwiLFxuXHRcdFNUQU5EQlk6IFwic3RhbmRieVwiLFxuXHR9O1xuXG5cdE5hbWVzcGFjZSA9IHtcblx0XHRBUkVBOiBcImFyZWFcIixcblx0XHRDT05URVhUOiBcImNvbnRleHRcIixcblx0XHRMQVlFUjogXCJsYXllclwiLFxuXHRcdE9SRzogXCJvcmdcIixcblx0XHRQUk9KRUNUOiBcInByb2plY3RcIixcblx0fTtcblxuXHREZWZhdWx0ID0ge1xuXHRcdEFSRUE6IFwibm9uZVwiLFxuXHRcdENPTlRFWFQ6IFwiYW55XCIsXG5cdFx0TEFZRVI6IFwibm9uZVwiLFxuXHRcdE9SRzogXCJub25lXCIsXG5cdFx0UFJPSkVDVDogXCJub25lXCIsXG5cdH07XG5cblx0X2R2ID0gXCJcIjtcblxuXHRzZXQgZHYobW9kKSB7XG5cdFx0dGhpcy5fZHYgPSBtb2Q7XG5cdH1cblxuXHRnZXQgZHYoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2R2O1xuXHR9XG5cblx0aXNDaGlsZFRhZyhwYXJlbnQsIGNoaWxkKSB7XG5cdFx0aWYgKGNoaWxkLmxlbmd0aCA8PSBwYXJlbnQubGVuZ3RoICsgMSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0gZWxzZSBpZiAoY2hpbGQuc2xpY2UoMCwgcGFyZW50Lmxlbmd0aCArIDEpICE9IGAke3BhcmVudH0vYCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdHN0cmlwVGFnKHRhZykge1xuXHRcdGxldCB0ID0gXCJcIjtcblx0XHRpZiAodGFnLnNsaWNlKC0xKSA9PT0gXCIvXCIpIHtcblx0XHRcdHQgPSB0YWcuc2xpY2UoMCwgLTEpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0ID0gdGFnO1xuXHRcdH1cblx0XHRpZiAodC5zbGljZSgwLCAxKSA9PT0gXCIjXCIpIHtcblx0XHRcdHQgPSB0LnNsaWNlKDEsIHQubGVuZ3RoKTtcblx0XHR9XG5cdFx0cmV0dXJuIHQ7XG5cdH1cblxuXHRnZXRUYXNrRnJvbVVVSUQoZHYsIHV1aWQpIHtcblx0XHRjb25zdCBuID0gZHYucGFnZXMoYFwiJHt0aGlzLnRhc2tEaXJ9LyR7dXVpZH1cImApO1xuXHRcdGlmIChuLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0Ly8gc2hvdWxkIHdhcm4sIHRoaXMgbWVhbnMgbm90ZSBkZXBlbmRzIG9uIGEgbm9uLWV4aXN0aW5nIHRhc2tcblx0XHRcdGNvbnNvbGUud2FybihgXCIke3RoaXMudGFza0Rpcn0vJHt1dWlkfVwiIHRhc2sgZG9lcyBub3QgZXhpc3RzYCk7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHRyZXR1cm4gblswXTtcblx0fVxuXG5cdGhhc1ZhbGlkRm9ybWF0KHRhc2spIHtcblx0XHQvLyBkdi5wYWdlcyByZXR1cm5zIGFuIGFycmF5IHdldGhlciBpdCBmaW5kcyAxIG9yIG1vcmUgbm90ZXNcblx0XHRjb25zdCBmbSA9IHRhc2suZmlsZS5mcm9udG1hdHRlcjtcblx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Ly8gdGhpcyBzaG91bGQgd2FybiwgYWxsIHRhc2tzIHNob3VsZCBoYXZlIGEgZnJvbnRtYXR0ZXJcblx0XHRcdGNvbnNvbGUud2Fybihcblx0XHRcdFx0YFwiJHt0aGlzLnRhc2tEaXJ9LyR7dGFzay51dWlkfVwiIHRhc2sgZG9lcyBub3QgaGF2ZSBhIGZyb250bWF0dGVyYCxcblx0XHRcdCk7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKGZtLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Ly8gYWxsIHRhc2tzIG11c3QgaGF2ZSBhIGB0eXBlYCBmaWVsZFxuXHRcdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0XHRgXCIke3RoaXMudGFza0Rpcn0vJHt0YXNrLnV1aWR9XCIgdGFzayBkb2VzIG5vdCBoYXZlIGEgXFxgdHlwZVxcYCBmaWVsZGAsXG5cdFx0XHQpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmIChmbS5zdGF0dXMgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Ly8gYWxsIHRhc2tzIG11c3QgaGF2ZSBhIGBzdGF0dXNgIGZpZWxkXG5cdFx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcdGBcIiR7dGhpcy50YXNrRGlyfS8ke3Rhc2sudXVpZH1cIiB0YXNrIGRvZXMgbm90IGhhdmUgYSBcXGBzdGF0dXNcXGAgZmllbGRgLFxuXHRcdFx0KTtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRoYXNQZW5kaW5nRGVwZW5kZW5jaWVzKGR2LCBkZXBzKSB7XG5cdFx0Zm9yIChjb25zdCBkZXAgb2YgZGVwcykge1xuXHRcdFx0Y29uc3QgdGFzayA9IHRoaXMuZ2V0VGFza0Zyb21VVUlEKGR2LCBkZXApO1xuXHRcdFx0aWYgKHRhc2sgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGlmICghdGhpcy5oYXNWYWxpZEZvcm1hdCh0YXNrKSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IGZtID0gdGFzay5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0aWYgKGZtLnR5cGUgIT09IHRoaXMuVGFzay5CQVNFICYmIGZtLnR5cGUgIT09IHRoaXMuVGFzay5EQUlMWSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGlmIChmbS5zdGF0dXMgPT09IHRoaXMuU3RhdHVzLlRPRE8pIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGlzRG9hYmxlKGR2LCB0YXNrKSB7XG5cdFx0Y29uc3QgZm0gPSB0YXNrLmZpbGUuZnJvbnRtYXR0ZXI7XG5cblx0XHRpZiAoZm0uc3RhdHVzICE9PSB0aGlzLlN0YXR1cy5UT0RPKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKGZtLmFmdGVyICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGNvbnN0IGFmdGVyID0gbmV3IERhdGUoZm0uYWZ0ZXIpO1xuXHRcdFx0aWYgKERhdGUubm93KCkgPD0gYWZ0ZXIuZ2V0VGltZSgpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCBkZXBzID0gZm0ubmVlZHM7XG5cdFx0aWYgKGRlcHMgPT09IHVuZGVmaW5lZCB8fCBkZXBzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuaGFzUGVuZGluZ0RlcGVuZGVuY2llcyhkdiwgZGVwcykpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGdldE5hbWVzcGFjZUNvbnRlbnQoZHYsIG5zKSB7XG5cdFx0Y29uc3QgY2hpbGRyZW4gPSBbXTtcblx0XHRjb25zdCByZXNwID0gZHYucGFnZXMoYCMke25zfWApO1xuXHRcdGZvciAoY29uc3QgZiBvZiByZXNwKSB7XG5cdFx0XHRjb25zdCB0YWdzID0gZi50YWdzO1xuXHRcdFx0aWYgKHRhZ3MgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yIChjb25zdCB0YWcgb2YgdGFncykge1xuXHRcdFx0XHRpZiAodGhpcy5pc0NoaWxkVGFnKG5zLCB0YWcpKSB7XG5cdFx0XHRcdFx0Y29uc3QgdCA9IHRhZy5zbGljZShucy5sZW5ndGggKyAxKTtcblx0XHRcdFx0XHRpZiAoIWNoaWxkcmVuLmluY2x1ZGVzKHQpKSB7XG5cdFx0XHRcdFx0XHRjaGlsZHJlbi5wdXNoKHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBjaGlsZHJlbjtcblx0fVxuXG5cdGlzRG9uZShkdiwgZGVwKSB7XG5cdFx0Y29uc3QgdGFzayA9IHRoaXMuZ2V0VGFza0Zyb21VVUlEKGR2LCBkZXApO1xuXHRcdGlmICh0YXNrID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRpZiAoIXRoaXMuaGFzVmFsaWRGb3JtYXQodGFzaykpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRjb25zdCBmbSA9IHRhc2suZmlsZS5mcm9udG1hdHRlcjtcblx0XHRpZiAoZm0uc3RhdHVzID09PSB0aGlzLlN0YXR1cy5ET05FKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRnZXRUYXNrcyhcblx0XHRkdixcblx0XHR0YWcsXG5cdFx0dGFza1R5cGUgPSBbdGhpcy5UYXNrLkJBU0UsIHRoaXMuVGFzay5EQUlMWV0sXG5cdFx0c3RhdHVzID0gdGhpcy5TdGF0dXMuVE9ETyxcblx0KSB7XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGNvbnN0IHRhc2tzID0gZHYucGFnZXModGFnKTtcblxuXHRcdGZvciAoY29uc3QgdGFzayBvZiB0YXNrcykge1xuXHRcdFx0Y29uc3QgZm0gPSB0YXNrLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGlmIChmbS5zdGF0dXMgPT09IHVuZGVmaW5lZCB8fCBmbS5zdGF0dXMgIT09IHN0YXR1cykge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGlmIChmbS50eXBlID09PSB1bmRlZmluZWQgfHwgIXRhc2tUeXBlLmNvbnRhaW5zKGZtLnR5cGUpKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0YnVmZi5wdXNoKHRhc2spO1xuXHRcdH1cblxuXHRcdHJldHVybiBidWZmO1xuXHR9XG5cblx0Zm9ybWF0VGFzayhkdiwgdGFzaykge1xuXHRcdHJldHVybiBkdi5maWxlTGluayh0YXNrLmZpbGUucGF0aCk7XG5cdH1cblxuXHRmb3JtYXRUYXNrQmlzKGR2LCB0YXNrKSB7XG5cdFx0Y29uc3QgZiA9IHRhc2suZmlsZTtcblx0XHRsZXQgY3R4ID0gXCJcIjtcblxuXHRcdGZvciAoY29uc3QgdGFnIG9mIGYudGFncykge1xuXHRcdFx0aWYgKHRhZy5zbGljZSgwLCA5KSA9PSBcIiNjb250ZXh0L1wiKSB7XG5cdFx0XHRcdGN0eCA9IHRhZy5zbGljZSg5KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gW1xuXHRcdFx0ZHYuZmlsZUxpbmsoZi5wYXRoKSxcblx0XHRcdGR2Lm1hcmtkb3duVGFza0xpc3QoZi50YXNrcyksXG5cdFx0XHRmLmZyb250bWF0dGVyLnRpbWVfZXN0aW1hdGUsXG5cdFx0XHRjdHgsXG5cdFx0XTtcblx0fVxuXG5cdGZvcm1hdFRhc2tCYXNlKGR2LCB0YXNrKSB7XG5cdFx0Y29uc3QgZiA9IHRhc2suZmlsZTtcblx0XHRjb25zdCBmbSA9IGYuZnJvbnRtYXR0ZXI7XG5cdFx0Y29uc3QgdGFncyA9IGZtLnRhZ3M7XG5cblx0XHRjb25zdCBhcmVhID0gdGhpcy5nZXRBcmVhKHRhZ3MpO1xuXG5cdFx0cmV0dXJuIFtcblx0XHRcdGR2LmZpbGVMaW5rKGYucGF0aCwgZmFsc2UsIGZtLnV1aWQuc2xpY2UoMCwgOCkpLFxuXHRcdFx0ZHYubWFya2Rvd25UYXNrTGlzdChmLnRhc2tzKSxcblx0XHRcdGZtLnRpbWVfZXN0aW1hdGUsXG5cdFx0XHRhcmVhLFxuXHRcdF07XG5cdH1cblxuXHRmb3JtYXRUYXNrV2FpdGluZyhkdiwgdGFzaykge1xuXHRcdGNvbnN0IGYgPSB0YXNrLmZpbGU7XG5cdFx0Y29uc3QgZm0gPSBmLmZyb250bWF0dGVyO1xuXHRcdGNvbnN0IGRlcHMgPSBbXTtcblxuXHRcdGlmIChmbS5uZWVkcyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRmb3IgKGNvbnN0IGRlcCBvZiBmbS5uZWVkcykge1xuXHRcdFx0XHRkZXBzLnB1c2goZHYuZmlsZUxpbmsoYCR7dGhpcy50YXNrRGlyfS8ke2RlcH1gKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Zm9ybWF0VGFza01heWJlKGR2LCB0YXNrKSB7XG5cdFx0Y29uc3QgZiA9IHRhc2suZmlsZTtcblx0XHRjb25zdCBmbSA9IGYuZnJvbnRtYXR0ZXI7XG5cdFx0Y29uc3QgZGVwcyA9IFtdO1xuXG5cdFx0cmV0dXJuIFtkdi5maWxlTGluayhmLnBhdGgpXTtcblx0fVxuXG5cdG1ha2VBc3luY1JlcXVlc3QoZHYsIHV1aWQpIHtcblx0XHRyZXR1cm4gZHZcblx0XHRcdC5xdWVyeShgTElTVCBXSEVSRSBuZWVkcyBBTkQgY29udGFpbnMobmVlZHMsIFwiJHt1dWlkfVwiKWApXG5cdFx0XHQudGhlbigodmFsdWUpID0+IHtcblx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0fSk7XG5cdH1cblxuXHRnZXREZXBlbmRhbnRUYXNrcyhkdiwgdGFzaykge1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRjb25zdCB1dWlkID0gdGFzay5maWxlLm5hbWU7XG5cblx0XHRpZiAodGFzay5maWxlLmZyb250bWF0dGVyID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBidWZmO1xuXHRcdH1cblxuXHRcdGNvbnN0IHRhc2tzID0gZHZcblx0XHRcdC5wYWdlcyhgXCIke3RoaXMudGFza0Rpcn1cImApXG5cdFx0XHQud2hlcmUoKHApID0+IHAubmVlZHMgIT09IHVuZGVmaW5lZCAmJiBwLm5lZWRzLmNvbnRhaW5zKHV1aWQpKTtcblx0XHRmb3IgKGNvbnN0IHRrIG9mIHRhc2tzKSB7XG5cdFx0XHRjb25zdCB0ID0gZHYucGFnZXMoYFwiJHt0ay5maWxlLnBhdGh9XCJgKTtcblx0XHRcdGJ1ZmYucHVzaCh0WzBdKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gYnVmZjtcblx0fVxuXG5cdGJ5RGVwZW5kZW5jeUFuZFByaW9yaXR5QW5kQ3JlYXRlZEF0KGR2LCBhLCBiKSB7XG5cdFx0Y29uc3QgZnRBID0gYS5maWxlLmZyb250bWF0dGVyO1xuXHRcdGNvbnN0IGZ0QiA9IGIuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRjb25zdCBwcmlvQSA9IGZ0QS5wcmlvcml0eTtcblx0XHRjb25zdCBwcmlvQiA9IGZ0Qi5wcmlvcml0eTtcblx0XHQvLyBiZWZvcmUgPiBkZXBzID4gcHJpbyA+IGNyZWF0ZWRfYXRcblx0XHQvLyBsZXQgYmVmb3JlQSA9IGZ0QS5iZWZvcmU7XG5cdFx0Ly8gbGV0IGJlZm9yZUIgPSBmdEIuYmVmb3JlO1xuXG5cdFx0Y29uc3QgZGVwc0EgPSB0aGlzLmdldERlcGVuZGFudFRhc2tzKGR2LCBhKTtcblx0XHRjb25zdCBkZXBzQiA9IHRoaXMuZ2V0RGVwZW5kYW50VGFza3MoZHYsIGIpO1xuXG5cdFx0aWYgKGRlcHNBLmxlbmd0aCAtIGRlcHNCLmxlbmd0aCAhPT0gMCkge1xuXHRcdFx0cmV0dXJuIGRlcHNBLmxlbmd0aCAtIGRlcHNCLmxlbmd0aDtcblx0XHR9XG5cblx0XHRpZiAocHJpb0EgLSBwcmlvQiAhPT0gMCkge1xuXHRcdFx0cmV0dXJuIHByaW9BIC0gcHJpb0I7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZGF0ZUEgPSBuZXcgRGF0ZShmdEEuY3JlYXRlZF9hdCk7XG5cdFx0Y29uc3QgZGF0ZUIgPSBuZXcgRGF0ZShmdEIuY3JlYXRlZF9hdCk7XG5cblx0XHRyZXR1cm4gKGRhdGVBLmdldFRpbWUoKSAtIGRhdGVCLmdldFRpbWUoKSkgKiAtMTtcblx0fVxuXG5cdGZvcm1hdFRhc2tQbGFubmluZ1dhaXRpbmcoZHYsIHRhc2spIHtcblx0XHRjb25zdCBmID0gdGFzay5maWxlO1xuXG5cdFx0cmV0dXJuIFtcblx0XHRcdC8vIGFqb3V0ZXIgYWxpYXMgc3VyIGxlIGxpbmtcblx0XHRcdGR2Lm1hcmtkb3duVGFza0xpc3QoZi50YXNrcyksXG5cdFx0XHRkdi5maWxlTGluayhmLnBhdGgsIGZhbHNlLCBmLm5hbWUuc2xpY2UoMCwgOCkpLFxuXHRcdFx0Zi5mcm9udG1hdHRlci50aW1lX2VzdGltYXRlLFxuXHRcdFx0Zi5mcm9udG1hdHRlci5jYXVzZSxcblx0XHRdO1xuXHR9XG5cblx0cmVuZGVyQmFzZUFzQXJyYXkoZHYsIHRhc2tzKSB7XG5cdFx0Y29uc3QgYXJyID0gW107XG5cdFx0dGFza3MuZm9yRWFjaCgodGFzaykgPT4ge1xuXHRcdFx0YXJyLnB1c2godGhpcy5mb3JtYXRUYXNrQmFzZShkdiwgdGFzaykpO1xuXHRcdH0pO1xuXHRcdGR2LnRhYmxlKFtcInV1aWRcIiwgXCJ0YXNrc1wiLCBcImVzdGltYXRlXCIsIFwiYXJlYVwiXSwgYXJyKTtcblx0fVxuXG5cdHJlbmRlclBsYW5uaW5nV2FpdGluZyhkdiwgdGFza3MpIHtcblx0XHRjb25zdCBhcnIgPSBbXTtcblx0XHR0YXNrcy5mb3JFYWNoKCh0YXNrKSA9PiB7XG5cdFx0XHRhcnIucHVzaCh0aGlzLmZvcm1hdFRhc2tQbGFubmluZ1dhaXRpbmcoZHYsIHRhc2spKTtcblx0XHR9KTtcblx0XHRkdi50YWJsZShbXCJ0YXNrc1wiLCBcInV1aWRcIiwgXCJlc3RpbWF0ZVwiLCBcImNhdXNlXCJdLCBhcnIpO1xuXHR9XG5cblx0cmVuZGVyTWF5YmVBc0FycmF5KGR2LCB0YXNrcykge1xuXHRcdGNvbnN0IGFyciA9IFtdO1xuXHRcdHRhc2tzLmZvckVhY2goKHsgcmVmLCB0YXNrIH0pID0+IHtcblx0XHRcdGlmICh0YXNrICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0YXJyLnB1c2godGhpcy5mb3JtYXRUYXNrTWF5YmUoZHYsIHRhc2spKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRkdi50YWJsZShbXCJ1dWlkXCJdLCBhcnIpO1xuXHR9XG5cblx0Zm9ybWF0VGFza0RhaWx5KGR2LCB0YXNrKSB7XG5cdFx0Y29uc3QgZiA9IHRhc2suZmlsZTtcblx0XHRjb25zdCBmbSA9IHRhc2suZmlsZS5mcm9udG1hdHRlcjtcblx0XHRjb25zdCB0YWdzID0gdGFzay5maWxlLnRhZ3M7XG5cdFx0Y29uc3QgYXJlYXMgPSBbXTtcblxuXHRcdGZvciAoY29uc3QgdGFnIG9mIHRhZ3MpIHtcblx0XHRcdGlmICh0YWcuc2xpY2UoMCwgNikgPT0gXCIjYXJlYS9cIikge1xuXHRcdFx0XHRhcmVhcy5wdXNoKHRhZy5zbGljZSg2KSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3QgbGlua3MgPSBbXTtcblx0XHRmb3IgKGNvbnN0IGxpbmsgb2YgZi5vdXRsaW5rcykge1xuXHRcdFx0bGlua3MucHVzaChsaW5rKTtcblx0XHR9XG5cblx0XHRjb25zdCB0YXNrcyA9IFtdO1xuXHRcdGZvciAoY29uc3QgdCBvZiBmLnRhc2tzKSB7XG5cdFx0XHR0YXNrcy5wdXNoKHQpO1xuXHRcdH1cblxuXHRcdHJldHVybiBbXG5cdFx0XHRkdi5maWxlTGluayhmLnBhdGgpLFxuXHRcdFx0bGlua3MubGVuZ3RoID4gMFxuXHRcdFx0XHQ/IGR2Lm1hcmtkb3duTGlzdChsaW5rcylcblx0XHRcdFx0OiBkdi5tYXJrZG93blRhc2tMaXN0KHRhc2tzKSxcblx0XHRcdGZtLnRpbWVfYWxsb2NhdGVkLFxuXHRcdFx0YXJlYXMubGVuZ3RoID4gMCA/IGR2Lm1hcmtkb3duTGlzdChhcmVhcykgOiBcIlwiLFxuXHRcdF07XG5cdH1cblxuXHRmb3JtYXRGbGVldGluZyhkdiwgdGFzaykge1xuXHRcdGNvbnN0IGYgPSB0YXNrLmZpbGU7XG5cdFx0Y29uc3QgZm0gPSB0YXNrLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0Y29uc3QgdGFncyA9IHRhc2suZmlsZS50YWdzO1xuXHRcdGNvbnN0IGhvdXJzID0gMzYwMDtcblx0XHRjb25zdCBkYXlzID0gODY0MDA7XG5cblx0XHRsZXQgZHQgPSBuZXcgRGF0ZSgpO1xuXHRcdGlmIChmbSAhPT0gdW5kZWZpbmVkICYmIGZtLmNyZWF0ZWRfYXQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0ZHQgPSBuZXcgRGF0ZShmbS5jcmVhdGVkX2F0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZHQgPSBuZXcgRGF0ZShmLmN0aW1lLnRzKTtcblx0XHR9XG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKTtcblx0XHRjb25zdCBkZWx0YSA9IChub3cuZ2V0VGltZSgpIC0gZHQuZ2V0VGltZSgpKSAvIDEwMDA7XG5cdFx0bGV0IHNpbmNlID0gXCJcIjtcblx0XHRjb25zdCB0b0R0ID0gKHQpID0+IHtcblx0XHRcdHJldHVybiBTdHJpbmcoTWF0aC5yb3VuZCh0ICogMTApIC8gMTApLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHR9O1xuXHRcdGlmIChkZWx0YSA+PSBkYXlzKSB7XG5cdFx0XHQvLyBkYXlzIGFnb1xuXHRcdFx0c2luY2UgPSB0b0R0KGRlbHRhIC8gZGF5cykgKyBcImRcIjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gaG91cnMgYWdvXG5cdFx0XHRzaW5jZSA9IHRvRHQoZGVsdGEgLyBob3VycykgKyBcImhcIjtcblx0XHR9XG5cblx0XHQvLyByZXR1cm4gW2R2LmZpbGVMaW5rKGAke2YucGF0aH0jQ29udGVudGApLCBzaW5jZSwgZi5zaXplXTtcblx0XHRpZiAoZm0uYWxpYXMgPT09IHVuZGVmaW5lZCB8fCBmbS5hbGlhcyA9PT0gXCJcIikge1xuXHRcdFx0cmV0dXJuIFtkdi5maWxlTGluayhgJHtmLnBhdGh9YCksIHNpbmNlLCBmLnNpemVdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gW2R2LmZpbGVMaW5rKGAke2YucGF0aH1gLCBmYWxzZSwgZm0uYWxpYXMpLCBzaW5jZSwgZi5zaXplXTtcblx0XHR9XG5cdH1cblxuXHRyZW5kZXJEYWlseUFzQXJyYXkoZHYsIHRhc2tzKSB7XG5cdFx0Y29uc3QgYXJyID0gW107XG5cdFx0dGFza3MuZm9yRWFjaCgodGFzaykgPT4ge1xuXHRcdFx0YXJyLnB1c2godGhpcy5mb3JtYXRUYXNrRGFpbHkoZHYsIHRhc2spKTtcblx0XHR9KTtcblx0XHRkdi50YWJsZShbXCJ1dWlkXCIsIFwiY29udGVudFwiLCBcImR1cmF0aW9uXCIsIFwiYXJlYVwiXSwgYXJyKTtcblx0fVxuXG5cdHJlbmRlckZsZWV0aW5nQXNBcnJheShkdiwgdGFza3MpIHtcblx0XHRjb25zdCBhcnIgPSBbXTtcblx0XHR0YXNrcy5mb3JFYWNoKCh0YXNrKSA9PiB7XG5cdFx0XHRhcnIucHVzaCh0aGlzLmZvcm1hdEZsZWV0aW5nKGR2LCB0YXNrKSk7XG5cdFx0fSk7XG5cdFx0ZHYudGFibGUoW1wiY29udGVudFwiLCBcImFnZVwiLCBcInNpemVcIl0sIGFycik7XG5cdH1cblxuXHRhdXRvRmllbGROZWVkKGR2LCBmbSkge1xuXHRcdGlmIChmbS5uZWVkcyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRmb3IgKGNvbnN0IGRlcCBvZiBmbS5uZWVkcykge1xuXHRcdFx0aWYgKCF0aGlzLmlzRG9uZShkdiwgZGVwKSkge1xuXHRcdFx0XHRidWZmLnB1c2goZHYuZmlsZUxpbmsoYCR7dGhpcy50YXNrRGlyfS8ke2RlcH1gKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChidWZmLmxlbmd0aCA+IDApIHtcblx0XHRcdGR2LmhlYWRlcigyLCBcIk5lZWRzXCIpO1xuXHRcdFx0ZHYubGlzdChidWZmKTtcblx0XHR9XG5cdH1cblxuXHRhdXRvRmllbGROZWVkZWRCeShkdiwgY3VycmVudCkge1xuXHRcdGNvbnN0IHRhc2tzID0gdGhpcy5nZXREZXBlbmRhbnRUYXNrcyhkdiwgY3VycmVudCk7XG5cdFx0aWYgKHRhc2tzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRmb3IgKGNvbnN0IHRhc2sgb2YgdGFza3MpIHtcblx0XHRcdGlmICghdGhpcy5pc0RvbmUoZHYsIHRhc2sudXVpZCkpIHtcblx0XHRcdFx0YnVmZi5wdXNoKGR2LmZpbGVMaW5rKHRhc2suZmlsZS5wYXRoKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChidWZmLmxlbmd0aCA+IDApIHtcblx0XHRcdGR2LmhlYWRlcigyLCBcIk5lZWRlZEJ5XCIpO1xuXHRcdFx0ZHYubGlzdChidWZmKTtcblx0XHR9XG5cdH1cblxuXHRhdXRvRmllbGRUYWdzKGR2LCBmbSkge1xuXHRcdGNvbnN0IHRhZ3MgPSBmbS50YWdzO1xuXHRcdGlmICh0YWdzID09IHVuZGVmaW5lZCB8fCB0YWdzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRhZ3Muc29ydCgpO1xuXHRcdGR2LmhlYWRlcigyLCBcIlRhZ3NcIik7XG5cdFx0bGV0IHMgPSBcIlwiO1xuXHRcdGZvciAoY29uc3QgdGFnIG9mIHRhZ3MpIHtcblx0XHRcdHMgKz0gYCAjJHt0YWd9YDtcblx0XHR9XG5cdFx0ZHYucGFyYWdyYXBoKHMpO1xuXG5cdFx0Ly8gZHYucGFyYWdyYXBoKHMpO1xuXHRcdC8vIGZvciAoY29uc3QgdGFnIG9mIHRhZ3MpIHtcblx0XHQvLyAgIGR2LnBhcmFncmFwaChgIyR7dGFnfWApO1xuXHRcdC8vIH1cblx0fVxuXG5cdGF1dG9GaWVsZFRhc2tCYXNlKGR2KSB7XG5cdFx0Y29uc3QgY3VycmVudCA9IGR2LmN1cnJlbnQoKTtcblx0XHRjb25zdCBmbSA9IGN1cnJlbnQuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Y29uc29sZS53YXJuKFwiZm0gaXMgcmVxdWlyZWRcIik7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3QgcHJvamVjdE5hbWUgPSBIZWxwZXIuZ2V0UHJvamVjdChmbSk7XG5cdFx0aWYgKHByb2plY3ROYW1lICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGNvbnN0IHByb2plY3RzID0gZHYucGFnZXMoYFwiUHJvamVjdHNcImApLndoZXJlKChmbVApID0+IHtcblx0XHRcdFx0aWYgKGZtUC5uYW1lID09PSBwcm9qZWN0TmFtZS5zbGljZSg4KSkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fSk7XG5cdFx0XHRpZiAocHJvamVjdHMubGVuZ3RoKSB7XG5cdFx0XHRcdGR2LmhlYWRlcigyLCBcIlByb2plY3RcIik7XG5cdFx0XHRcdGR2LnBhcmFncmFwaChSZW5kZXJlci5tYWtlTGlua05hbWUoZHYsIHByb2plY3RzWzBdLmZpbGUpKTtcblx0XHRcdFx0Ly8gZHYucGFyYWdyYXBoKGR2LmZpbGVMaW5rKGBQcm9qZWN0cy8ke3Byb2plY3RzWzBdLmZpbGUuZnJvbnRtYXR0ZXIudXVpZH1gKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHRoaXMuYXV0b0ZpZWxkTmVlZChkdiwgZm0pO1xuXHRcdHRoaXMuYXV0b0ZpZWxkTmVlZGVkQnkoZHYsIGN1cnJlbnQpO1xuXHRcdC8vIHRoaXMuYXV0b0ZpZWxkVGFncyhkdiwgZm0pO1xuXG5cdFx0Y29uc3QgbG9nRW50cmllcyA9IGR2XG5cdFx0XHQucGFnZXMoYFwiJHt0aGlzLmxvZ0Rpcn0vJHtmbS51dWlkfVwiYClcblx0XHRcdC53aGVyZSgocCkgPT4gcC50eXBlID09PSA2KVxuXHRcdFx0LnNvcnQoKGspID0+IGsuY3JlYXRlZF9hdCwgXCJkZXNjXCIpO1xuXG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGxldCB0b3RhbFRpbWUgPSAwO1xuXHRcdGZvciAoY29uc3QgZW50cnkgb2YgbG9nRW50cmllcykge1xuXHRcdFx0Y29uc3QgZm1lID0gZW50cnkuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGNvbnN0IGUgPSBbXTtcblx0XHRcdGxldCBzdGFydDogYW55ID0gMDtcblx0XHRcdGxldCBzdG9wOiBhbnkgPSAwO1xuXG5cdFx0XHRpZiAoZm1lID09PSB1bmRlZmluZWQgfHwgZm1lLmNyZWF0ZWRfYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZnJvbnRtYXR0ZXI6ICR7Zm1lLnV1aWR9YCk7XG5cdFx0XHR9XG5cblx0XHRcdHN0YXJ0ID0gbmV3IERhdGUoZm1lLmNyZWF0ZWRfYXQpO1xuXHRcdFx0ZS5wdXNoKHN0YXJ0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApKTtcblxuXHRcdFx0aWYgKGZtZS5kb25lX2F0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0c3RvcCA9IERhdGUubm93KCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzdG9wID0gbmV3IERhdGUoZm1lLmRvbmVfYXQpO1xuXHRcdFx0fVxuXHRcdFx0dG90YWxUaW1lICs9IHN0b3AgLSBzdGFydDtcblxuXHRcdFx0ZS5wdXNoKFxuXHRcdFx0XHRkdi5zZWN0aW9uTGluayhcblx0XHRcdFx0XHRmbWUudXVpZCxcblx0XHRcdFx0XHRcIiMjIENvbnRlbnRcIixcblx0XHRcdFx0XHRmYWxzZSxcblx0XHRcdFx0XHRmbWUudXVpZC5zbGljZSgwLCA4KSxcblx0XHRcdFx0KSxcblx0XHRcdCk7XG5cdFx0XHRlLnB1c2goTWF0aC5yb3VuZCgoKHN0b3AgLSBzdGFydCkgLyAoMTAwMCAqIDYwICogNjApKSAqIDEwKSAvIDEwKTtcblx0XHRcdGlmIChmbWUucmV2aWV3ZWQgPT09IHVuZGVmaW5lZCB8fCBmbWUucmV2aWV3ZWQgPT09IDApIHtcblx0XHRcdFx0ZS5wdXNoKDApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZS5wdXNoKGZtZS5yZXZpZXdlZCk7XG5cdFx0XHR9XG5cblx0XHRcdGJ1ZmYucHVzaChlKTtcblx0XHR9XG5cblx0XHRpZiAoYnVmZi5sZW5ndGggPiAwKSB7XG5cdFx0XHRkdi5oZWFkZXIoMiwgXCJMb2dzXCIpO1xuXHRcdFx0ZHYudGFibGUoW1wiY3JlYXRlZF9hdFwiLCBcInV1aWRcIiwgXCJzZXNzaW9uXCIsIFwicmV2aWV3ZWRcIl0sIGJ1ZmYpO1xuXHRcdFx0aWYgKHRvdGFsVGltZSA+IDApIHtcblx0XHRcdFx0ZHYucGFyYWdyYXBoKFxuXHRcdFx0XHRcdGBfdG90YWxUaW1lIChoKTpfICR7TWF0aC5yb3VuZCgodG90YWxUaW1lIC8gKDEwMDAgKiA2MCAqIDYwKSkgKiAxMCkgLyAxMFxuXHRcdFx0XHRcdH1gLFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGF1dG9GaWVsZExvZyhkdikge1xuXHRcdGNvbnN0IGN1cnJlbnQgPSBkdi5jdXJyZW50KCk7XG5cdFx0Y29uc3QgZm0gPSBjdXJyZW50LmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRkdi5oZWFkZXIoMiwgXCJQYXJlbnRcIik7XG5cdFx0ZHYucGFyYWdyYXBoKGR2LmZpbGVMaW5rKGAke3RoaXMudGFza0Rpcn0vJHtmbS5wYXJlbnRfaWR9YCkpO1xuXHR9XG5cblx0YXV0b0ZpZWxkQXV0aG9ycyhkdiwgZm0pIHtcblx0XHRjb25zdCBhdXRob3JzID0gZm0uYXV0aG9ycztcblx0XHRpZiAoYXV0aG9ycyA9PT0gdW5kZWZpbmVkIHx8IGF1dGhvcnMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGR2LmhlYWRlcigyLCBcIkF1dGhvcnNcIik7XG5cdFx0ZHYubGlzdChhdXRob3JzKTtcblx0fVxuXG5cdGF1dG9GaWVsZFRpdGxlKGR2LCBmbSkge1xuXHRcdGNvbnN0IHRpdGxlID0gZm0uYWxpYXM7XG5cdFx0aWYgKHRpdGxlID09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGR2LmhlYWRlcigxLCB0aXRsZSk7XG5cdH1cblxuXHRhdXRvRmllbGRMaXRlcmF0dXJlTm90ZShkdikge1xuXHRcdGNvbnN0IGN1cnJlbnQgPSBkdi5jdXJyZW50KCk7XG5cdFx0Y29uc3QgZm0gPSBjdXJyZW50LmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLmF1dG9GaWVsZFRpdGxlKGR2LCBmbSk7XG5cdFx0dGhpcy5hdXRvRmllbGRBdXRob3JzKGR2LCBmbSk7XG5cdFx0dGhpcy5hdXRvRmllbGRUYWdzKGR2LCBmbSk7XG5cdH1cblxuXHRhdXRvRmllbGRQZXJtYW5lbnQoZHYpIHtcblx0XHRjb25zdCBjdXJyZW50ID0gZHYuY3VycmVudCgpO1xuXHRcdGNvbnN0IGZtID0gY3VycmVudC5maWxlLmZyb250bWF0dGVyO1xuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5hdXRvRmllbGRUYWdzKGR2LCBmbSk7XG5cdH1cblxuXHRhdXRvRmllbGRUYXNrKGR2KSB7XG5cdFx0cmV0dXJuIHRoaXMuYXV0b0ZpZWxkVGFza0Jhc2UoZHYpO1xuXHR9XG5cblx0YXV0b0ZpZWxkTGl0ZXJhdHVyZShkdikge1xuXHRcdHJldHVybiB0aGlzLmF1dG9GaWVsZExpdGVyYXR1cmVOb3RlKGR2KTtcblx0fVxuXG5cdGF1dG9GaWVsZEZsZWV0aW5nKGR2KSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0YXV0b0ZpZWxkU3VwcGx5KGR2KSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0ZmluZFRhc2tzQnlQcm9qZWN0KGR2LCBuYW1lKSB7XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXG5cdFx0aWYgKG5hbWUgIT09IFwiXCIgJiYgbmFtZSAhPT0gXCJub25lXCIpIHtcblx0XHRcdGNvbnN0IHRhc2tzID0gdGhpcy5nZXRUYXNrcyhkdiwgYCR7dGhpcy5OYW1lc3BhY2UuUFJPSkVDVH0vbm9uZWAsIFtcblx0XHRcdFx0dGhpcy5UYXNrLkJBU0UsXG5cdFx0XHRdKTtcblx0XHRcdGZvciAoY29uc3QgdGFzayBvZiB0YXNrcykge1xuXHRcdFx0XHRjb25zdCBmbSA9IHRhc2suZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdFx0aWYgKHRoaXMuaXNEb2FibGUoZHYsIHRhc2spKSB7XG5cdFx0XHRcdFx0YnVmZi5wdXNoKHRhc2spO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnN0IHRhc2tzID0gdGhpcy5nZXRUYXNrcyhkdiwgXCJcIiwgW3RoaXMuVGFzay5CQVNFXSk7XG5cdFx0XHRmb3IgKGNvbnN0IHRhc2sgb2YgdGFza3MpIHtcblx0XHRcdFx0Y29uc3QgZm0gPSB0YXNrLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRcdGNvbnN0IHRhZ3MgPSBmbS50YWdzO1xuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0KGZtLnRhZ3MgPT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0XHRcdFx0KG5hbWUgPT09IFwiXCIgfHwgbmFtZSA9PT0gXCJub25lXCIpKSB8fFxuXHRcdFx0XHRcdGZtLnRhZ3MuY29udGFpbnMoYCR7dGhpcy5OYW1lc3BhY2UuUFJPSkVDVH0vbm9uZWApXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGlmICh0aGlzLmlzRG9hYmxlKGR2LCB0YXNrKSkge1xuXHRcdFx0XHRcdFx0YnVmZi5wdXNoKHRhc2spO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGJ1ZmYuc29ydCgpO1xuXHRcdHJldHVybiBidWZmO1xuXHR9XG5cblx0Z2V0VGFnKHRhZ3MsIHR5cGUpIHtcblx0XHRsZXQgbmFtZSA9IFwiXCI7XG5cdFx0bGV0IGRlZmF1bHRWYWx1ZSA9IFwiXCI7XG5cblx0XHRpZiAodHlwZSA9PT0gXCJhcmVhXCIpIHtcblx0XHRcdG5hbWUgPSB0aGlzLk5hbWVzcGFjZS5BUkVBO1xuXHRcdFx0ZGVmYXVsdFZhbHVlID0gdGhpcy5EZWZhdWx0LkFSRUE7XG5cdFx0fSBlbHNlIGlmICh0eXBlID09PSBcImNvbnRleHRcIikge1xuXHRcdFx0bmFtZSA9IHRoaXMuTmFtZXNwYWNlLkNPTlRFWFQ7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSB0aGlzLkRlZmF1bHQuQ09OVEVYVDtcblx0XHR9IGVsc2UgaWYgKHR5cGUgPT09IFwibGF5ZXJcIikge1xuXHRcdFx0bmFtZSA9IHRoaXMuTmFtZXNwYWNlLkxBWUVSO1xuXHRcdFx0ZGVmYXVsdFZhbHVlID0gdGhpcy5EZWZhdWx0LkxBWUVSO1xuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gXCJvcmdcIikge1xuXHRcdFx0bmFtZSA9IHRoaXMuTmFtZXNwYWNlLk9SRztcblx0XHRcdGRlZmF1bHRWYWx1ZSA9IHRoaXMuRGVmYXVsdC5PUkc7XG5cdFx0fSBlbHNlIGlmICh0eXBlID09PSBcInByb2plY3RcIikge1xuXHRcdFx0bmFtZSA9IHRoaXMuTmFtZXNwYWNlLlBST0pFQ1Q7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSB0aGlzLkRlZmF1bHQuUFJPSkVDVDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBnZXRUYWcgZ290IHVuc3Vwb3J0ZWQgdHlwZTogJHt0eXBlfWApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGxlbiA9IG5hbWUubGVuZ3RoICsgMTtcblx0XHRjb25zdCBkZWZhdWx0VGFnID0gYCR7bmFtZX0vJHtkZWZhdWx0VmFsdWV9YDtcblx0XHRpZiAodGFncyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gZGVmYXVsdFRhZztcblx0XHR9XG5cblx0XHRmb3IgKGNvbnN0IHRhZyBvZiB0YWdzKSB7XG5cdFx0XHRpZiAodGFnLmxlbmd0aCA+IGxlbiAmJiB0YWcuc2xpY2UoMCwgbGVuKSA9PSBgJHtuYW1lfS9gKSB7XG5cdFx0XHRcdHJldHVybiB0YWc7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRlZmF1bHRUYWc7XG5cdH1cblxuXHRnZXRBcmVhKHRhZ3MpIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUYWcodGFncywgXCJhcmVhXCIpO1xuXHR9XG5cblx0Z2V0Q29udGV4dCh0YWdzKSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VGFnKHRhZ3MsIFwiY29udGV4dFwiKTtcblx0fVxuXHRnZXRMYXllcih0YWdzKSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VGFnKHRhZ3MsIFwibGF5ZXJcIik7XG5cdH1cblxuXHRnZXRPcmcodGFncykge1xuXHRcdHJldHVybiB0aGlzLmdldFRhZyh0YWdzLCBcIm9yZ1wiKTtcblx0fVxuXG5cdGdldFByb2plY3QodGFncykge1xuXHRcdHJldHVybiB0aGlzLmdldFRhZyh0YWdzLCBcInByb2plY3RcIik7XG5cdH1cblxuXHRwYXJzZUxpc3RGcm9udG1hdHRlcihmbSkge1xuXHRcdGxldCBtaW5Qcmlvcml0eSA9IDA7XG5cdFx0aWYgKGZtLm1pbl9wcmlvcml0eSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRtaW5Qcmlvcml0eSA9IGZtLm1pbl9wcmlvcml0eTtcblx0XHR9XG5cblx0XHRsZXQgaWdub3JlID0gW107XG5cdFx0aWYgKGZtLmlnbm9yZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRpZ25vcmUgPSBmbS5pZ25vcmU7XG5cdFx0fVxuXG5cdFx0bGV0IGJ5QXJlYXMgPSBbXTtcblx0XHRpZiAoZm0uYnlfYXJlYXMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0YnlBcmVhcyA9IGZtLmJ5X2FyZWFzO1xuXHRcdH1cblxuXHRcdGxldCBieVByb2plY3RzID0gW107XG5cdFx0aWYgKGZtLmJ5X3Byb2plY3RzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGJ5UHJvamVjdHMgPSBmbS5ieV9wcm9qZWN0cztcblx0XHR9XG5cdFx0cmV0dXJuIFttaW5Qcmlvcml0eSwgaWdub3JlLCBieUFyZWFzLCBieVByb2plY3RzXTtcblx0fVxuXG5cdHJlbmRlck5hbWVzcGFjZUNvbnRlbnQoZHYpIHtcblx0XHRjb25zdCBzZWxmID0gZHYuY3VycmVudCgpO1xuXHRcdGNvbnN0IG5hbWUgPSBzZWxmLmZpbGUubmFtZS50b0xvd2VyQ2FzZSgpLnNsaWNlKDAsIC0xKTtcblxuXHRcdGR2LmhlYWRlcigxLCBcIkluZGV4XCIpO1xuXHRcdGR2LmhlYWRlcigyLCBgJHtzZWxmLmZpbGUubmFtZX1gKTtcblxuXHRcdGNvbnN0IHRhZ3MgPSB0aGlzLmdldE5hbWVzcGFjZUNvbnRlbnQoZHYsIG5hbWUpO1xuXHRcdHRhZ3Muc29ydCgpO1xuXG5cdFx0Zm9yIChjb25zdCB0YWcgb2YgdGFncykge1xuXHRcdFx0ZHYucGFyYWdyYXBoKGAjJHtuYW1lfS8ke3RhZ31gKTtcblx0XHR9XG5cdH1cblxuXHRyZW5kZXJVbnByb2Nlc3NlZExvZ3MoZHYpIHtcblx0XHRjb25zdCBsb2dzID0gZHZcblx0XHRcdC5wYWdlcyhgXCIke3RoaXMubG9nRGlyfVwiYClcblx0XHRcdC53aGVyZShcblx0XHRcdFx0KHApID0+XG5cdFx0XHRcdFx0cC50eXBlID09PSB0aGlzLlR5cGUuTE9HICYmXG5cdFx0XHRcdFx0KHAucmV2aWV3ZCA9PT0gdW5kZWZpbmVkIHx8IHAucmV2aWV3ZWQgPCAxKSxcblx0XHRcdClcblx0XHRcdC5zb3J0KChrKSA9PiBrLmNyZWF0ZWRfYXQsIFwiYXNjXCIpO1xuXG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXG5cdFx0Y29uc3QgYXJyID0gW107XG5cdFx0bG9ncy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuXHRcdFx0Y29uc3QgZm0gPSBlbnRyeS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBwYXJlbnRJZCA9IGZtLnBhcmVudF9pZDtcblx0XHRcdGlmIChwYXJlbnRJZCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBsb2cgZW50cnk6ICR7ZW50cnkuZmlsZS5wYXRofWApO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBwYXJlbnQgPSBkdi5wYWdlcyhgXCIke3RoaXMudGFza0Rpcn0vJHtwYXJlbnRJZH1cImApO1xuXHRcdFx0Y29uc3QgcGFyZW50Rm0gPSBwYXJlbnQuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGlmIChwYXJlbnRGbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0YXNrOiAke3BhcmVudC5maWxlLnBhdGh9YCk7XG5cdFx0XHR9XG5cblx0XHRcdGxldCBwcm9qZWN0ID0gdGhpcy5nZXRQcm9qZWN0KHBhcmVudEZtLnRhZ3MpO1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRwcm9qZWN0ID09PSBgJHt0aGlzLk5hbWVzcGFjZS5QUk9KRUNUfS8ke3RoaXMuRGVmYXVsdC5QUk9KRUNUfWBcblx0XHRcdCkge1xuXHRcdFx0XHRwcm9qZWN0ID0gXCJcIjtcblx0XHRcdH1cblxuXHRcdFx0bGV0IGFyZWEgPSB0aGlzLmdldEFyZWEocGFyZW50Rm0udGFncyk7XG5cdFx0XHRpZiAoYXJlYSA9PT0gYCR7dGhpcy5OYW1lc3BhY2UuQVJFQX0vJHt0aGlzLkRlZmF1bHQuQVJFQX1gKSB7XG5cdFx0XHRcdGFyZWEgPSBcIlwiO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBmb3JtYXRlZCA9IFtdO1xuXG5cdFx0XHRmb3JtYXRlZC5wdXNoKFxuXHRcdFx0XHRkdi5zZWN0aW9uTGluayhcblx0XHRcdFx0XHRlbnRyeS5maWxlLnBhdGgsXG5cdFx0XHRcdFx0XCJDb250ZW50XCIsXG5cdFx0XHRcdFx0ZmFsc2UsXG5cdFx0XHRcdFx0YCR7Zm0udXVpZC5zbGljZSgwLCA4KX1gLFxuXHRcdFx0XHQpLFxuXHRcdFx0KTtcblx0XHRcdGNvbnN0IGNyZWF0ZWRBdCA9IG5ldyBEYXRlKGZtLmNyZWF0ZWRfYXQpO1xuXHRcdFx0Zm9ybWF0ZWQucHVzaChjcmVhdGVkQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCkpO1xuXHRcdFx0Zm9ybWF0ZWQucHVzaChwcm9qZWN0KTtcblx0XHRcdGZvcm1hdGVkLnB1c2goYXJlYSk7XG5cdFx0XHRhcnIucHVzaChmb3JtYXRlZCk7XG5cdFx0fSk7XG5cblx0XHRkdi50YWJsZShbXCJ1dWlkXCIsIFwiY3JlYXRlZF9hdFwiLCBcInByb2plY3RcIiwgXCJhcmVhXCJdLCBhcnIpO1xuXHR9XG5cblx0YXNzZXJ0VGFza0RvbmVBdChkdiwgdGFza0lkKSB7XG5cdFx0Y29uc3QgdGFzayA9IGR2LnBhZ2VzKGBcIiR7dGhpcy50YXNrRGlyfS8ke3Rhc2tJZH1cImApO1xuXHRcdGlmICh0YXNrLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGB0YXNrOiAke3Rhc2tJZH0gZG9lc3Qgbm90IGV4aXN0c2ApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGZtID0gdGFzay5maWxlLmZyb250bWF0dGVyO1xuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYHRhc2s6ICR7dGFza0lkfSBkb2VzIG5vdCBoYXZlIGEgZnJvbnRtYXR0ZXJgKTtcblx0XHR9XG5cblx0XHRjb25zdCBsb2dzID0gZHZcblx0XHRcdC5wYWdlcyhgXCIke3RoaXMubG9nRGlyfS8ke3Rhc2tJZH1cImApXG5cdFx0XHQuc29ydCgoaykgPT4gay5jcmVhdGVkX2F0LCBcImFzY1wiKTtcblx0XHRpZiAobG9ncy5sZW5ndGggPCAxKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYHRhc2s6ICR7dGFza0lkfSBoYXMgbm8gTG9nc2ApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGxhc3RFbnRyeSA9IGxvZ3NbbG9ncy5sZW5ndGggLSAxXTtcblx0XHRpZiAobGFzdEVudHJ5LmZpbGUuZnJvbnRtYXR0ZXIuZG9uZV9hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdGB0YXNrOiAke3Rhc2tJZH0gbGFzdCBlbnRyeSBpcyBtaXNzaW5nICdkb25lX2F0JyBmaWVsZGAsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGNvbnN0IGRvbmVBdCA9IG5ldyBEYXRlKGxhc3RFbnRyeS5maWxlLmZyb250bWF0dGVyLmRvbmVfYXQpO1xuXHRcdHJldHVybiBbXG5cdFx0XHRkdi5zZWN0aW9uTGluayhcblx0XHRcdFx0dGFzay5maWxlLnBhdGgsXG5cdFx0XHRcdFwiQ29udGVudFwiLFxuXHRcdFx0XHRmYWxzZSxcblx0XHRcdFx0YCR7dGFzay5maWxlLmZyb250bWF0dGVyLnV1aWQuc2xpY2UoMCwgOCl9YCxcblx0XHRcdCksXG5cdFx0XHRgJHtkb25lQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCl9YCxcblx0XHRdO1xuXHR9XG5cblx0Z2V0RG9uZVRpbWVsaW5lKGR2KSB7XG5cdFx0Ly8gcHJlbmRzIGVuIGNvbXB0ZSBkb2luZyAtPiBkb25lLCBwYXMgbGVzIHRhc2sgc3VyIGxlcXVlbGxlcyBkdSB0cmF2YWlsIGEgXHUwMEU5dFx1MDBFOSBmYWl0IG1haXMgcXVpIG9udCBcdTAwRTl0XHUwMEU5IHN1c3BlbmRcblx0XHQvLyBkYWlseSwgdGFzayB0cm9wIGxvbmd1ZSBwb3VyIGV0cmUgZmFpdGUgZW4gdW4gc2l0dGluZ1xuXHRcdGNvbnN0IHRhc2tzID0gZHZcblx0XHRcdC5wYWdlcyhgXCIke3RoaXMudGFza0Rpcn1cImApXG5cdFx0XHQud2hlcmUoKHApID0+IHAuc3RhdHVzID09PSBcImRvbmVcIik7XG5cblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Zm9yIChjb25zdCB0YXNrIG9mIHRhc2tzKSB7XG5cdFx0XHRjb25zdCBmbSA9IHRhc2suZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgdGFzazogJHtmbS51dWlkfSBkb2VzIG5vdCBoYXZlIGEgZnJvbnRtYXR0ZXJgKTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgbG9ncyA9IGR2XG5cdFx0XHRcdC5wYWdlcyhgXCIke3RoaXMubG9nRGlyfS8ke2ZtLnV1aWR9XCJgKVxuXHRcdFx0XHQuc29ydCgoaykgPT4gay5jcmVhdGVkX2F0LCBcImFzY1wiKTtcblx0XHRcdGlmIChsb2dzLmxlbmd0aCA8IDEpIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKGB0YXNrOiAke2ZtLnV1aWR9IGhhcyBubyBMb2dzYCk7XG5cdFx0XHRcdC8vIHRocm93IG5ldyBFcnJvcihgdGFzazogJHt0YXNrSWR9IGhhcyBubyBMb2dzYCk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGxhc3RFbnRyeSA9IGxvZ3NbbG9ncy5sZW5ndGggLSAxXTtcblx0XHRcdGlmIChsYXN0RW50cnkgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGlmIChsYXN0RW50cnkuZmlsZS5mcm9udG1hdHRlci5kb25lX2F0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdGB0YXNrOiAke2ZtLnV1aWR9IGxhc3QgZW50cnkgaXMgbWlzc2luZyAnZG9uZV9hdCcgZmllbGRgLFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHRmbS5kb25lQXQgPSBuZXcgRGF0ZShsYXN0RW50cnkuZmlsZS5mcm9udG1hdHRlci5kb25lX2F0KTtcblx0XHRcdGJ1ZmYucHVzaCh0YXNrKTtcblx0XHR9XG5cblx0XHRidWZmLnNvcnQoKGEsIGIpID0+IHtcblx0XHRcdGNvbnN0IGRhdGVBID0gbmV3IERhdGUoYS5maWxlLmZyb250bWF0dGVyLmRvbmVBdCk7XG5cdFx0XHRjb25zdCBkYXRlQiA9IG5ldyBEYXRlKGIuZmlsZS5mcm9udG1hdHRlci5kb25lQXQpO1xuXHRcdFx0cmV0dXJuIChkYXRlQS5nZXRUaW1lKCkgLSBkYXRlQi5nZXRUaW1lKCkpICogLTE7XG5cdFx0fSk7XG5cblx0XHRjb25zdCBhcnIgPSBbXTtcblx0XHRidWZmLmZvckVhY2goKGUpID0+IHtcblx0XHRcdGFyci5wdXNoKFtcblx0XHRcdFx0ZHYuc2VjdGlvbkxpbmsoXG5cdFx0XHRcdFx0ZS5maWxlLnBhdGgsXG5cdFx0XHRcdFx0XCJDb250ZW50XCIsXG5cdFx0XHRcdFx0ZmFsc2UsXG5cdFx0XHRcdFx0YCR7ZS5maWxlLmZyb250bWF0dGVyLnV1aWQuc2xpY2UoMCwgOCl9YCxcblx0XHRcdFx0KSxcblx0XHRcdFx0YCR7ZS5maWxlLmZyb250bWF0dGVyLmRvbmVBdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDE2KX1gLFxuXHRcdFx0XSk7XG5cdFx0fSk7XG5cblx0XHRkdi50YWJsZShbXCJ1dWlkXCIsIFwiZG9uZUF0XCJdLCBhcnIpO1xuXHR9XG5cblx0ZHVyYXRpb25TdHJpbmdUb1NlYyh2YWwpIHtcblx0XHRjb25zdCBtdWx0ID0gdmFsLnNsaWNlKC0xKTtcblx0XHRsZXQgbSA9IDA7XG5cdFx0aWYgKG11bHQgPT09IFwiaFwiKSB7XG5cdFx0XHRtID0gNjAgKiA2MDtcblx0XHR9IGVsc2UgaWYgKG11bHQgPT09IFwibVwiKSB7XG5cdFx0XHRtID0gNjA7XG5cdFx0fSBlbHNlIGlmIChtdWx0ID09PSBcImRcIikge1xuXHRcdFx0bSA9IDI0ICogNjAgKiA2MDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS53YXJuKGBVbmhhbmRsZWQgY2FzZSBtdWx0OiAke211bHR9YCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG0gKiBwYXJzZUludCh2YWwuc2xpY2UoMCwgLTEpKTtcblx0fVxuXG5cdHRlc3REdkZ1bmMoKSB7XG5cdFx0Ly8gcHJlbmRzIGVuIGNvbXB0ZSBkb2luZyAtPiBkb25lLCBwYXMgbGVzIHRhc2sgc3VyIGxlcXVlbGxlcyBkdSB0cmF2YWlsIGEgXHUwMEU5dFx1MDBFOSBmYWl0IG1haXMgcXVpIG9udCBcdTAwRTl0XHUwMEU5IHN1c3BlbmRcblx0XHQvLyBkYWlseSwgdGFzayB0cm9wIGxvbmd1ZSBwb3VyIGV0cmUgZmFpdGUgZW4gdW4gc2l0dGluZ1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRjb25zdCBkdiA9IGFwcC5wbHVnaW5zLnBsdWdpbnMuZGF0YXZpZXcuYXBpO1xuXHRcdGNvbnN0IHRhc2tzID0gZHZcblx0XHRcdC5wYWdlcyhgXCIke3RoaXMudGFza0Rpcn1cImApXG5cdFx0XHQud2hlcmUoKHApID0+IHAuc3RhdHVzID09PSBcImRvbmVcIik7XG5cblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Zm9yIChjb25zdCB0YXNrIG9mIHRhc2tzKSB7XG5cdFx0XHRjb25zdCBmbSA9IHRhc2suZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgdGFzazogJHtmbS51dWlkfSBkb2VzIG5vdCBoYXZlIGEgZnJvbnRtYXR0ZXJgKTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgbG9ncyA9IGR2XG5cdFx0XHRcdC5wYWdlcyhgXCIke3RoaXMubG9nRGlyfS8ke2ZtLnV1aWR9XCJgKVxuXHRcdFx0XHQuc29ydCgoaykgPT4gay5jcmVhdGVkX2F0LCBcImFzY1wiKTtcblx0XHRcdGlmIChsb2dzLmxlbmd0aCA8IDEpIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKGB0YXNrOiAke2ZtLnV1aWR9IGhhcyBubyBMb2dzYCk7XG5cdFx0XHRcdC8vIHRocm93IG5ldyBFcnJvcihgdGFzazogJHt0YXNrSWR9IGhhcyBubyBMb2dzYCk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGxhc3RFbnRyeSA9IGxvZ3NbbG9ncy5sZW5ndGggLSAxXTtcblx0XHRcdGlmIChsYXN0RW50cnkgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGlmIChsYXN0RW50cnkuZmlsZS5mcm9udG1hdHRlci5kb25lX2F0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdGB0YXNrOiAke2ZtLnV1aWR9IGxhc3QgZW50cnkgaXMgbWlzc2luZyAnZG9uZV9hdCcgZmllbGRgLFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHRmbS5kb25lQXQgPSBuZXcgRGF0ZShsYXN0RW50cnkuZmlsZS5mcm9udG1hdHRlci5kb25lX2F0KTtcblx0XHRcdGJ1ZmYucHVzaCh0YXNrKTtcblx0XHR9XG5cblx0XHRidWZmLnNvcnQoKGEsIGIpID0+IHtcblx0XHRcdGNvbnN0IGRhdGVBID0gbmV3IERhdGUoYS5maWxlLmZyb250bWF0dGVyLmRvbmVBdCk7XG5cdFx0XHRjb25zdCBkYXRlQiA9IG5ldyBEYXRlKGIuZmlsZS5mcm9udG1hdHRlci5kb25lQXQpO1xuXHRcdFx0cmV0dXJuIChkYXRlQS5nZXRUaW1lKCkgLSBkYXRlQi5nZXRUaW1lKCkpICogLTE7XG5cdFx0fSk7XG5cblx0XHRjb25zdCBhcnIgPSBbXTtcblx0XHRidWZmLmZvckVhY2goKGUpID0+IHtcblx0XHRcdGFyci5wdXNoKFtcblx0XHRcdFx0ZHYuc2VjdGlvbkxpbmsoXG5cdFx0XHRcdFx0ZS5maWxlLnBhdGgsXG5cdFx0XHRcdFx0XCJDb250ZW50XCIsXG5cdFx0XHRcdFx0ZmFsc2UsXG5cdFx0XHRcdFx0YCR7ZS5maWxlLmZyb250bWF0dGVyLnV1aWQuc2xpY2UoMCwgOCl9YCxcblx0XHRcdFx0KSxcblx0XHRcdFx0YCR7ZS5maWxlLmZyb250bWF0dGVyLmRvbmVBdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDE2KX1gLFxuXHRcdFx0XSk7XG5cdFx0fSk7XG5cblx0XHQvLyBkdi50YWJsZShbXCJ1dWlkXCIsIFwiZG9uZUF0XCJdLCBhcnIpO1xuXHR9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0Esc0JBV087OztBQ1pBLElBQU0sUUFBUTtBQUFBLEVBQ3BCLE9BQU87QUFBQSxFQUNQLFlBQVk7QUFBQSxFQUNaLE9BQU87QUFBQSxFQUNQLFNBQVM7QUFBQSxFQUNULE9BQU87QUFBQSxFQUNQLE1BQU07QUFBQSxFQUNOLFVBQVU7QUFBQSxFQUNWLE1BQU07QUFBQSxFQUNOLGFBQWE7QUFBQSxFQUNiLFNBQVM7QUFBQSxFQUNULFdBQVc7QUFBQSxFQUNYLFVBQVU7QUFBQSxFQUNWLFNBQVM7QUFBQSxFQUNULE9BQU87QUFDUjtBQUVPLElBQU0sU0FBUztBQUFBLEVBQ3JCLE1BQU07QUFBQSxFQUNOLE9BQU87QUFBQSxFQUNQLE1BQU07QUFBQSxFQUNOLE9BQU87QUFBQSxFQUNQLFNBQVM7QUFBQSxFQUNULE9BQU87QUFDUjtBQUNPLElBQU0sYUFBYTtBQUFBLEVBQ3pCLFNBQVM7QUFBQSxFQUNULFVBQVU7QUFBQSxFQUNWLGdCQUFnQjtBQUFB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QUFzQixZQUFZO0FBRXZDLGFBQUssc0JBQXNCLFlBQVk7QUFBQSxNQUN4QztBQUFBLElBQ0Q7QUFBQSxFQUNEO0FBQUEsRUFFQyxxQkFBcUIsTUFBc0I7QUFFekMsUUFBSSxLQUFLO0FBQ1QsUUFBSTtBQUNGLFdBQUssS0FBSztBQUFBLElBQ1osU0FBUSxHQUFOO0FBQ0EsYUFBTyxDQUFDLEdBQUcsQ0FBQztBQUFBLElBQ2Q7QUFDQSxRQUFJLFFBQVE7QUFDWixRQUFJLFFBQVE7QUFDWixRQUFJLE1BQU07QUFFVixlQUFXLFdBQVcsS0FBSyxVQUFVO0FBQ25DLFVBQ0UsUUFBUSxVQUFVLEtBQ2xCLFFBQVEsUUFBUSxZQUFZLE1BQU0sV0FDbEM7QUFDQSxnQkFBUTtBQUNSLGdCQUFRLFFBQVEsU0FBUyxJQUFJO0FBQzdCO0FBQUEsTUFDRjtBQUVBLFVBQ0UsU0FDQSxRQUFRLFVBQVUsS0FDbEIsUUFBUSxRQUFRLFlBQVksTUFBTSxXQUNsQztBQUNBLGNBQU0sUUFBUSxTQUFTLE1BQU07QUFBQSxNQUMvQjtBQUFBLElBQ0Y7QUFDQSxXQUFPLEtBQUssT0FBTyx1Q0FBdUMsR0FBRyxNQUFNO0FBRW5FLFFBQUksUUFBUSxHQUFHO0FBQ2IsWUFBTSxLQUFLLFNBQVMsS0FBSyxTQUFTLFNBQVMsQ0FBQyxFQUFFLFNBQVMsSUFBSTtBQUFBLElBQzdEO0FBRUEsV0FBTyxDQUFDLE9BQU8sR0FBRztBQUFBLEVBQ3BCO0FBQUEsRUFFQSxnQkFBZ0IsTUFBc0IsT0FBZSxLQUFxQjtBQUN4RSxRQUFJLGVBQWU7QUFFbkIsZUFBVyxXQUFXLEtBQUssVUFBVTtBQUVuQyxVQUNFLFFBQVEsVUFBVSxLQUNsQixRQUFRLFNBQVMsTUFBTSxTQUFTLFNBQ2hDLFFBQVEsU0FBUyxJQUFJLFNBQVMsS0FDOUI7QUFDQSx1QkFBZSxRQUFRO0FBQ3ZCO0FBQUEsTUFDRjtBQUFBLElBQ0Y7QUFhQSxXQUFPO0FBQUEsRUFDVDtBQUFBLEVBRUEsV0FBVztBQUNULFlBQVEsSUFBSSxxQkFBcUI7QUFFakMsV0FBTyxPQUFPO0FBQUEsRUFDaEI7QUFBQSxFQUVBLE1BQU0sZUFBZTtBQUNuQixTQUFLLFdBQVcsT0FBTztBQUFBLE1BQ3JCLENBQUM7QUFBQSxNQUNEO0FBQUEsTUFDQSxNQUFNLEtBQUssU0FBUztBQUFBLElBQ3RCO0FBQUEsRUFDRjtBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ25CLFVBQU0sS0FBSyxTQUFTLEtBQUssUUFBUTtBQUFBLEVBQ25DO0FBQ0Y7IiwKICAibmFtZXMiOiBbImUiLCAiYXQiLCAicGFnZSIsICJmbSIsICJhcHAiLCAiZiIsICJycyIsICJwYWdlcyIsICJidWZmIiwgIlZhbGlkYXRpb25FcnJvciIsICJkdiIsICJub2RlIiwgImFwcCJdCn0K
