/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  ExampleModal: () => ExampleModal,
  default: () => MyPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");

// constants.ts
var Paths = {
  Tasks: "813 Tasks",
  Components: "Components",
  Goals: "Goals",
  Slipbox: "803 Slipbox",
  Inbox: "800 Inbox",
  Refs: "802 Refs",
  Archives: "400 Archives",
  Logs: "600 Log",
  Attachments: "000 Attachments",
  Journal: "Journal",
  Resources: "Resources",
  Projects: "100 Projects",
  Domains: "Domains",
  Names: "Names"
};
var Status = {
  Todo: "todo",
  Doing: "doing",
  Done: "done",
  Maybe: "maybe",
  Standby: "standby",
  Trash: "trash"
};
var GoalStatus = {
  Reframe: "reframe",
  Research: "research",
  Operationalize: "operationalize",
  Planify: "planify",
  Dependant: "dependant",
  Active: "active",
  Failed: "failed",
  Success: "success"
};
var Types = {
  Fleeting: 13,
  Literature: 1,
  Permanent: 2,
  Task: 3,
  Praxis: 4,
  Provision: 5,
  Log: 6,
  Resource: 7,
  Media: 8,
  Project: 12,
  Org: 9,
  Domain: 10,
  Component: 11
};
var Namespace = {
  Area: "area",
  Context: "context",
  Layer: "layer",
  Org: "org",
  Project: "project"
};
var Default = {
  Area: "none",
  Context: "any",
  Layer: "none",
  Org: "none",
  Project: "none"
};

// node_modules/uuid/dist/esm-browser/stringify.js
var byteToHex = [];
for (i = 0; i < 256; ++i) {
  byteToHex.push((i + 256).toString(16).slice(1));
}
var i;
function unsafeStringify(arr, offset = 0) {
  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + "-" + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + "-" + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + "-" + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + "-" + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();
}

// node_modules/uuid/dist/esm-browser/rng.js
var getRandomValues;
var rnds8 = new Uint8Array(16);
function rng() {
  if (!getRandomValues) {
    getRandomValues = typeof crypto !== "undefined" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);
    if (!getRandomValues) {
      throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");
    }
  }
  return getRandomValues(rnds8);
}

// node_modules/uuid/dist/esm-browser/native.js
var randomUUID = typeof crypto !== "undefined" && crypto.randomUUID && crypto.randomUUID.bind(crypto);
var native_default = {
  randomUUID
};

// node_modules/uuid/dist/esm-browser/v4.js
function v4(options, buf, offset) {
  if (native_default.randomUUID && !buf && !options) {
    return native_default.randomUUID();
  }
  options = options || {};
  var rnds = options.random || (options.rng || rng)();
  rnds[6] = rnds[6] & 15 | 64;
  rnds[8] = rnds[8] & 63 | 128;
  if (buf) {
    offset = offset || 0;
    for (var i = 0; i < 16; ++i) {
      buf[offset + i] = rnds[i];
    }
    return buf;
  }
  return unsafeStringify(rnds);
}
var v4_default = v4;

// api.ts
async function notify(msg) {
  const PUSHOVER_URI = "api.pushover.net";
  const d = await app.vault.readJson(".pushover.json");
  const data = new URLSearchParams({
    message: msg,
    token: d.pushover_token,
    user: d.pushover_user
  });
  console.log(data.toString());
  await fetch(`https://${PUSHOVER_URI}/1/messages.json`, {
    method: "POST",
    // mode: 'no-cors',
    cache: "no-cache",
    headers: {
      "Content-type": "application/x-www-form-urlencoded"
    },
    body: data
  });
}
var FrontmatterJS = class {
  singular(values, field) {
    if (!Helper.nilCheck(this.fm[field])) {
      const value = this.fm[field];
      if (typeof value === "string") {
        if (!values.contains(value)) {
          values.push(value);
        }
      } else {
        console.warn(
          `'${field}' is ignored, invalid data-type: '${typeof this.fm[field]}'`
        );
      }
    }
  }
  plural(values, field) {
    if (!Helper.nilCheck(this.fm[field])) {
      if (!Array.isArray(this.fm[field])) {
        console.warn(
          `'${field}' is ignored, invalid data-type: '${field}'`
        );
      } else {
        for (const value of this.fm[field]) {
          if (typeof value === "string") {
            if (!values.contains(value)) {
              values.push(value);
            }
          } else {
            console.warn(
              `'${value}s.${value}' is ignored, invalid data-type: '${typeof value}'`
            );
          }
        }
      }
    }
  }
  constructor(page) {
    Assert.True(page !== void 0, "'page' is undefined");
    this.f = page.file;
    const f = this.f;
    Assert.True(f !== void 0, "'f' is undefined");
    this.fm = f.frontmatter;
    Assert.True(this.fm !== void 0, "'fm' is undefined");
    Assert.True(
      this.fm.uuid !== void 0,
      `'uuid' is undefined for '${this.f.path}'`
    );
    this.uuid = this.fm.uuid;
    this.version = this.fm.version;
    this.type = this.fm.type;
    this.createdAt = new Date(this.fm.created_at);
    this.at = this.fm.at !== void 0 ? new Date(this.fm.at) : new Date();
    this.before = this.fm.before !== void 0 ? new Date(this.fm.before) : new Date();
    this.after = this.fm.after !== void 0 ? new Date(this.fm.after) : new Date();
    this.components = [];
    this.domains = [];
    this.projects = [];
    this.contexts = [];
    this.traits = [];
    this.energy = this.fm.energy !== void 0 ? this.fm.energy : 9;
    const domains = [];
    const components = [];
    const projects = [];
    const names = [];
    const contexts = [];
    const contents = [];
    const traits = [];
    if (!Helper.nilCheck(this.fm.tags)) {
      if (!Array.isArray(this.fm.tags)) {
        console.warn("'tags' is ignored, invalid data-type");
        this.fm.tags = [];
      }
      for (const tag of this.fm.tags) {
        if (tag.slice(0, 7) === "domain/") {
          domains.push(tag.slice(7));
        } else if (tag.slice(0, 10) === "component/") {
          components.push(tag.slice(10));
        } else if (tag.slice(0, 8) === "project/") {
          projects.push(tag.slice(8));
        } else if (tag.slice(0, 5) === "name/") {
          names.push(tag.slice(5));
        } else if (tag.slice(0, 8) == "context/") {
          contexts.push(tag.slice(8));
        } else if (tag.slice(0, 8) == "content/") {
          contents.push(tag.slice(8));
        } else if (tag.slice(0, 6) == "trait/") {
          traits.push(tag.slice(6));
        }
      }
    }
    this.singular(domains, "domain");
    this.plural(domains, "domains");
    this.singular(components, "components");
    this.plural(components, "components");
    this.singular(projects, "project");
    this.plural(projects, "projects");
    this.singular(contents, "contents");
    this.plural(contents, "contents");
    this.singular(names, "name");
    this.plural(names, "names");
    this.plural(names, "alias");
    this.singular(traits, "trait");
    this.plural(traits, "traits");
    this.domains = domains;
    this.components = components;
    this.projects = projects;
    this.names = names;
    this.contexts = contexts;
    this.contents = contents;
    this.traits = traits;
  }
  getDomain(emptyDefault = true) {
    if (emptyDefault) {
      return this.domains[0];
    } else {
      return this.domains[0] === void 0 ? "unknown" : this.domains[0];
    }
  }
  getDomains() {
    return this.domains;
  }
  getTraits() {
    return this.traits;
  }
  getComponents() {
    return this.components;
  }
  getProject(emptyDefault = true) {
    if (emptyDefault) {
      return this.projects[0];
    } else {
      return this.projects[0] === void 0 ? "" : this.projects[0];
    }
  }
  getProjects() {
    return this.projects;
  }
  getName(emptyDefault = true) {
    if (emptyDefault) {
      return this.names[0];
    } else {
      return this.names[0] === void 0 ? "" : this.names[0];
    }
  }
  getContent(emptyDefault = true) {
    if (emptyDefault) {
      return this.contents[0];
    } else {
      return this.contents[0] === void 0 ? "" : this.contents[0];
    }
  }
  getNames() {
    return this.names;
  }
  getContext(emptyDefault = true) {
    if (emptyDefault) {
      return this.contexts[0];
    } else {
      return this.contexts[0] === void 0 ? "" : this.contexts[0];
    }
  }
  resolve(dv) {
    const domains = [];
    for (const domain of this.domains) {
      if (Helper.isUUID(domain)) {
        const pages = dv.pages(`"${Paths.Domains}"`).where((page) => page.file.frontmatter.uuid === domain);
        if (pages.length > 1) {
          throw new Error();
        } else if (pages.length === 1) {
          const page = pages[0];
          domains.push(page.file.frontmatter.name);
        }
      } else {
        const pages = dv.pages(`"${Paths.Domains}"`).where((page) => page.file.frontmatter.name === domain);
        if (pages.length > 1) {
          throw new Error();
        } else if (pages.length === 1) {
          const page = pages[0];
          domains.push(page.file.frontmatter.name);
        }
      }
    }
    if (domains.length !== this.domains.length) {
      console.warn(`Domain resolution failed for: ${this.domains}`);
    }
    this.domains = domains;
  }
};
var ValidationError = class extends Error {
  constructor(message) {
    super(message);
    this.name = "ValidationError";
  }
};
var Assert = {
  True(predicate, message, strict = true) {
    if (!predicate) {
      if (strict) {
        throw new ValidationError(message);
      } else {
        console.error(message);
      }
    }
  },
  False(predicate, message, strict = false) {
    if (predicate) {
      if (strict) {
        throw new ValidationError(message);
      } else {
        console.error(message);
      }
    }
  }
};
var Helper = {
  nilCheck(val) {
    return val === void 0 || val === null;
  },
  getKeyFuck(groupBy) {
    switch (groupBy) {
      default:
      case "doneAt":
        return (entry) => entry.file.frontmatter.doneAt.toISOString().slice(0, 10);
        break;
      case "createdAt":
        return (entry) => entry.file.frontmatter.createdAt.toISOString().slice(0, 10);
        break;
      case "project":
        return (entry) => entry.file.frontmatter.project;
        break;
      case "area":
        return (entry) => entry.file.frontmatter.area;
        break;
    }
  },
  getKey(groupBy) {
    switch (groupBy) {
      default:
      case "doneAt":
        return (entry) => entry.doneAt.toISOString().slice(0, 10);
        break;
      case "createdAt":
        return (entry) => entry.createdAt.toISOString().slice(0, 10);
        break;
      case "project":
        return (entry) => entry.project;
        break;
      case "area":
        return (entry) => entry.area;
        break;
    }
  },
  numberTypeToString(val) {
    switch (val.type) {
      case Types.Fleeting:
        return "fleeting";
      case Types.Log:
        return "log";
      case Types.Project:
        return "project";
      case Types.Org:
        return "org";
      case Types.Domain:
        return "domain";
      case Types.Component:
        return "component";
      default:
        throw new Error(
          `numberTypeToString: type: "${val.type}" not implemented "${val.uuid}"`
        );
    }
  },
  roundToOneDecimal(val) {
    return Math.round(val * 10) / 10;
  },
  isChildTag(parent, child) {
    if (child.length <= parent.length + 1) {
      return false;
    } else if (child.slice(0, parent.length + 1) != `${parent}/`) {
      return false;
    }
    return true;
  },
  getField(field, defaultValue) {
    if (field === void 0 || field === null) {
      return defaultValue;
    } else {
      return field;
    }
  },
  getDate(dt) {
    if (dt === "" || dt === null) {
      return void 0;
    } else if (dt !== void 0) {
      dt = new Date(dt);
      if (isNaN(dt)) {
        return void 0;
      } else {
        return dt;
      }
    } else {
      return void 0;
    }
  },
  getTag(fm, type, emptyDefault = void 0) {
    let name = "";
    let defaultValue = "";
    if (type === "area") {
      name = Namespace.Area;
      defaultValue = Default.Area;
    } else if (type === "context") {
      name = Namespace.Context;
      defaultValue = Default.Context;
    } else if (type === "layer") {
      name = Namespace.Layer;
      defaultValue = Default.Layer;
    } else if (type === "org") {
      name = Namespace.Org;
      defaultValue = Default.Org;
    } else if (type === "project") {
      name = Namespace.Project;
      defaultValue = Default.Project;
    } else if (type == "domain") {
      name = "domain";
      defaultValue = "none";
    } else {
      throw new Error(`getTag got unsuported type: '${type}'`);
    }
    const len = name.length + 1;
    const defaultTag = `${name}/${defaultValue}`;
    let defaultRetVal = defaultTag;
    if (emptyDefault) {
      defaultRetVal = void 0;
    }
    if (fm === void 0) {
      return defaultRetVal;
    }
    const tags = fm.tags;
    if (tags === void 0 || tags.length === 0) {
      return defaultRetVal;
    }
    for (const tag of tags) {
      if (tag == defaultTag) {
        return defaultRetVal;
      }
      if (tag.length > len && tag.slice(0, len) == `${name}/`) {
        return tag;
      }
    }
    return defaultRetVal;
  },
  getName(fm) {
    const components = Helper.getComponents(fm);
    if (components.length < 1) {
      throw new Error(`Helper.getName() ${fm}`);
    }
    let name = void 0;
    let occurences = 0;
    for (const component of components) {
      if (component.slice(0, 15) === "component/name/") {
        name = component.slice(15);
        occurences += 1;
      }
    }
    if (occurences > 1) {
      throw new Error(
        `Helper.getName() ${fm} multiple occurences of 'component/name'`
      );
    }
    if (name === void 0) {
      throw new Error(
        `Helper.getName() ${fm} 'component/name' undefined`
      );
    }
    return name;
  },
  getComponents(fm) {
    const components = [];
    if (Helper.nilCheck(fm.tags)) {
      return [];
    }
    for (const tag of fm.tags) {
      if (tag.length > 10 && tag.slice(0, 10) === "component/") {
        components.push(tag);
      }
    }
    return components;
  },
  getArea(fm, emptyDefault = false) {
    return Helper.getTag(fm, "area", emptyDefault);
  },
  getContext(fm, emptyDefault = false) {
    return Helper.getTag(fm, "context", emptyDefault);
  },
  getDomain(fm, emptyDefault = false) {
    return Helper.getTag(fm, "domain", emptyDefault);
  },
  getLayer(fm, emptyDefault = false) {
    return Helper.getTag(fm, "layer", emptyDefault);
  },
  getOrg(fm, emptyDefault = false) {
    return Helper.getTag(fm, "org", emptyDefault);
  },
  getProject(fm, emptyDefault = false) {
    return Helper.getTag(fm, "project", emptyDefault);
  },
  durationStringToSec(val) {
    if (val === void 0 || val.length === 0) {
      return 0;
    }
    const mult = val.slice(-1);
    let m = 0;
    if (mult === "h") {
      m = 60 * 60;
    } else if (mult === "m") {
      m = 60;
    } else if (mult === "d") {
      m = 24 * 60 * 60;
    } else if (mult == "w") {
      m = 24 * 60 * 60 * 7;
    } else {
      console.warn(`Unhandled case val: ${val}`);
      return void 0;
    }
    return m * parseInt(val.slice(0, -1));
  },
  msecToStringDuration(val) {
    const oneHourInMsec = 36e5;
    const oneDayInMsec = 864e5;
    if (val >= 24 * oneHourInMsec) {
      return String(Helper.roundToOneDecimal(val / oneDayInMsec)).padStart(
        2,
        "0"
      ) + " d";
    } else {
      return String(Helper.roundToOneDecimal(val / oneHourInMsec)).padStart(
        2,
        "0"
      ) + " h";
    }
  },
  isUUID(val) {
    if (typeof val !== "string") {
      return false;
    }
    return val.length === 36;
  },
  sortByAge(a, b) {
    const fmA = new FrontmatterJS(a);
    const fmB = new FrontmatterJS(b);
    return fmA.createdAt.getTime() - fmB.createdAt.getTime();
  },
  sortByPriority(a, b) {
    const fmA = new FrontmatterJS(a);
    const fmB = new FrontmatterJS(b);
    return fmB.fm.priority - fmA.fm.priority;
  },
  sortByPriorityAndAge(a, b) {
    const fmA = new FrontmatterJS(a);
    const fmB = new FrontmatterJS(b);
    if (fmA.fm.priority !== fmB.fm.priority.priority) {
      return Helper.sortByPriority(a, b);
    } else {
      return Helper.sortByAge(a, b);
    }
  },
  sortByDuration(a, b) {
    const fmA = new FrontmatterJS(a);
    const fmB = new FrontmatterJS(b);
    return Helper.durationStringToSec(fmA.fm.time_estimate) - Helper.durationStringToSec(fmB.fm.time_estimate);
  },
  sortByPriorityAndDuration(a, b) {
    const fmA = new FrontmatterJS(a);
    const fmB = new FrontmatterJS(b);
    if (fmA.fm.priority !== fmB.fm.priority) {
      return Helper.sortByPriority(a, b);
    } else {
      return Helper.sortByDuration(a, b);
    }
  },
  sortByPriorityAndDurationAndAge(a, b) {
    const fmA = new FrontmatterJS(a);
    const fmB = new FrontmatterJS(b);
    if (fmA.fm.priority !== fmB.fm.priority) {
      return Helper.sortByPriority(a, b);
    } else if (fmA.fm.time_estimate !== fmB.fm.time_estimate) {
      return Helper.sortByDuration(a, b);
    } else {
      return Helper.sortByAge(a, b);
    }
  }
};
var AutoField = {
  tags(dv, fm, level = 2) {
    const tags = fm.tags;
    if (tags == void 0 || tags.length === 0) {
      return;
    }
    tags.sort();
    dv.header(level, "Tags");
    let s = "";
    for (const tag of tags) {
      s += ` #${tag}`;
    }
    dv.paragraph(s);
  },
  healmon(dv) {
    const fm = new FrontmatterJS(dv.current());
    const current = fm.createdAt.toISOString().slice(0, 10);
    const pages = dv.pages(`"${Paths.Journal}"`).where((page) => {
      const jFm = new FrontmatterJS(page);
      if (jFm.getProject() !== "homecook") {
        return false;
      }
      let jCurrent = null;
      const currentMinusOne = new Date(
        fm.createdAt.getTime() - 24 * 60 * 60 * 1e3
      );
      try {
        jCurrent = jFm.createdAt.toISOString().slice(0, 10);
      } catch (e) {
        dv.paragraph(
          `Invalid date: ${Renderer.makeLinkShortUUID(dv, page.file)}`
        );
        console.error(jFm);
      }
      if (currentMinusOne.toISOString().slice(0, 10) !== jCurrent) {
        return false;
      }
      return true;
    });
    dv.header(4, "repas (veille)");
    if (pages.length) {
      for (const page of pages) {
        dv.paragraph(Renderer.makeLinkShortUUID(dv, page.file));
      }
    }
  },
  authors(dv, fm) {
    const authors = fm.authors;
    if (authors === void 0 || authors.length === 0) {
      return;
    }
    dv.header(3, "Authors");
    dv.list(authors);
  },
  title(dv, fm) {
    const title = fm.alias;
    if (title === void 0 || title.length === 0) {
      return;
    }
    dv.header(3, title);
  },
  logs(dv, entries) {
    console.log("coucou, tu veux voir ma bite?");
    const buff = [];
    let totalTime = 0;
    for (const entry of entries) {
      const fme = entry.file.frontmatter;
      const e = [];
      let start = 0;
      let stop = 0;
      if (fme === void 0 || fme.created_at === void 0) {
        throw new Error(`Invalid frontmatter: ${fme.uuid}`);
      }
      start = new Date(fme.created_at);
      e.push(start.toISOString().slice(0, 10));
      if (fme.done_at === void 0) {
        stop = Date.now();
      } else {
        stop = new Date(fme.done_at);
      }
      totalTime += stop - start;
      e.push(
        dv.sectionLink(
          fme.uuid,
          "## Content",
          false,
          fme.uuid.slice(0, 8)
        )
      );
      e.push(Math.round((stop - start) / (1e3 * 60 * 60) * 10) / 10);
      if (fme.reviewed === void 0 || fme.reviewed === 0) {
        e.push(0);
      } else {
        e.push(fme.reviewed);
      }
      buff.push(e);
    }
    if (buff.length > 0) {
      dv.header(2, "Logs");
      dv.table(["created_at", "uuid", "session", "reviewed"], buff);
      if (totalTime > 0) {
        dv.paragraph(
          `_totalTime (h):_ ${Math.round(totalTime / (1e3 * 60 * 60) * 10) / 10}`
        );
      }
    }
  },
  media(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    const pages = dv.pages(`"${Paths.Refs}/${fm.ref_id}"`).array();
    if (pages.length !== 1) {
      return;
    }
    const media = pages[0];
    const mediaFm = media.file.frontmatter;
    AutoField.title(dv, mediaFm);
    dv.paragraph(Renderer.makeLinkAlias(dv, media.file));
    AutoField.authors(dv, mediaFm);
    AutoField.tags(dv, mediaFm, 3);
    const logEntries = dv.pages(`"${Paths.Logs}/${fm.uuid}"`).where((p) => p.type === 6).sort((k) => k.created_at, "desc");
    AutoField.logs(dv, logEntries);
  },
  autoFieldTitle(dv, fm) {
    const title = fm.alias;
    if (title == void 0) {
      return;
    }
    dv.header(1, title);
  },
  autoFieldAuthors(dv, fm) {
    const authors = fm.authors;
    if (authors === void 0 || authors.length === 0) {
      return;
    }
    dv.header(2, "Authors");
    dv.list(authors);
  },
  autoFieldTags(dv, fm) {
    const tags = fm.tags;
    if (tags == void 0 || tags.length === 0) {
      return;
    }
    tags.sort();
    dv.header(2, "Tags");
    let s = "";
    for (const tag of tags) {
      s += ` #${tag}`;
    }
    dv.paragraph(s);
  },
  literature(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    if (fm === void 0) {
      return;
    }
    if (Helper.nilCheck(fm.authors)) {
    } else {
      this.autoFieldTitle(dv, fm);
      this.autoFieldAuthors(dv, fm);
      this.autoFieldTags(dv, fm);
    }
  },
  goal(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    if (fm === void 0) {
      console.warn("fm is required");
      return;
    }
    const created_at = new Date(fm.created_at);
    const logEntries = dv.pages(`"${Paths.Logs}/${fm.uuid}"`).where((p) => p.type === 6).sort((k) => k.created_at, "desc");
    const buff = [];
    for (const entry of logEntries) {
      const fme = entry.file.frontmatter;
      const e = [];
      if (fme === void 0 || fme.created_at === void 0) {
        throw new Error(`Invalid frontmatter: ${fme.uuid}`);
      }
      const start = new Date(fme.created_at);
      e.push(start.toISOString().slice(0, 10));
      e.push(
        dv.sectionLink(
          fme.uuid,
          "## Content",
          false,
          fme.uuid.slice(0, 8)
        )
      );
      buff.push(e);
    }
    const before = new Date(fm.before);
    const timeframe = (before.getTime() - created_at.getTime()) / (1e3 * 3600 * 24);
    let timeframeText = "";
    dv.header(3, "Timeframe");
    if (timeframe > 0 && timeframe < 30) {
      timeframeText = "runaway";
    } else if (timeframe < 60) {
      timeframeText = "10,000 feet";
    } else if (timeframe < 360) {
      timeframeText = "20,000 feet";
    } else if (timeframe < 720) {
      timeframeText = "30,000 feet";
    } else if (timeframe < 1080) {
      timeframeText = "40,000 feet";
    } else {
      timeframeText = "50,000 feet";
    }
    dv.paragraph(timeframeText);
    if (buff.length > 0) {
      dv.header(2, "Reviews");
      dv.table(["reviewed_at", "uuid"], buff);
    }
  },
  daily(dv) {
    const current = dv.current().file.frontmatter;
    const currentAt = new Date(current.at);
    const currentAtShort = currentAt.toISOString().slice(0, 7);
    const gonext = app.plugins.plugins.obsidian_gonext;
    const noteHelper = new NoteHelper(gonext, dv, new Frontmatter(gonext));
    console.log("1");
    const pages = dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (current.uuid === fm.uuid) {
        return false;
      }
      if (fm.fm.status !== "todo" || fm.getProject() === "daily") {
        return false;
      }
      const now = currentAt;
      let fmAtShort = void 0;
      try {
        fmAtShort = fm.at.toISOString().slice(0, 10);
      } catch (e) {
        throw new Error(`${fm.uuid}`);
      }
      if (!noteHelper.isDoable(page, currentAt)) {
        return false;
      }
      if (page.file.frontmatter.at !== void 0 && fmAtShort === currentAtShort) {
        return true;
      }
      if (page.file.frontmatter.at !== void 0 && fm.at.getTime() < now.getTime()) {
        return true;
      }
      if (page.file.frontmatter.before !== void 0 && fm.before.getTime() > now.getTime()) {
        return true;
      }
      if (page.file.frontmatter.after !== void 0 && fm.after.getTime() < now.getTime()) {
        return true;
      }
      return false;
    }).sort((k) => k.at, "asc");
    if (pages.length > 0) {
      const buff = [];
      for (const page of pages) {
        const fm = new FrontmatterJS(page);
        const h = String(fm.at.getHours()).padStart(2, "0");
        const m = String(fm.at.getMinutes()).padStart(2, "0");
        if (page.file.frontmatter.status === "done") {
          buff.push([
            `~~${Renderer.makeLinkShortUUID(dv, page.file, "Task")}~~`,
            `~~${h}:${m}~~`
          ]);
        } else {
          buff.push([
            `${Renderer.makeLinkShortUUID(dv, page.file, "Task")}`,
            `${h}:${m}`
          ]);
        }
      }
      dv.table(["uuid", "at"], buff);
    }
    AutoField.monthlyJoural(dv);
  },
  monthlyJoural(dv) {
    const current = new FrontmatterJS(dv.current());
    const currentAtShort = current.at.toISOString().slice(0, 7);
    const pages = dv.pages(`"Journal"`).where((page) => {
      const fm = new FrontmatterJS(page);
      const atShort = fm.createdAt.toISOString().slice(0, 7);
      if (atShort === currentAtShort && fm.getProject() === "monthly") {
        return true;
      }
      return false;
    }).sort((k) => k.created_at, "asc");
    dv.header(2, "Journal");
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      if (page.file.frontmatter.alias !== void 0) {
        page.file.frontmatter.name = page.file.frontmatter.alias;
      } else if (fm.getProject() !== void 0) {
        page.file.frontmatter.name = fm.getProject();
      } else if (fm.getDomain() !== void 0) {
        page.file.frontmatter.name = fm.getDomain();
      }
      dv.paragraph(Renderer.makeLinkName(dv, page.file));
    }
  },
  dailyJoural(dv) {
    const current = new FrontmatterJS(dv.current());
    const currentAtShort = current.at.toISOString().slice(0, 10);
    console.log(currentAtShort);
    const pages = dv.pages(`"Journal"`).where((page) => {
      const fm = new FrontmatterJS(page);
      const atShort = fm.createdAt.toISOString().slice(0, 10);
      if (atShort === currentAtShort) {
        return true;
      }
      return false;
    }).sort((k) => k.created_at, "asc");
    dv.header(2, "Journal");
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      if (page.file.frontmatter.alias !== void 0) {
        page.file.frontmatter.name = page.file.frontmatter.alias;
      } else if (fm.getProject() !== void 0) {
        page.file.frontmatter.name = fm.getProject();
      } else if (fm.getDomain() !== void 0) {
        page.file.frontmatter.name = fm.getDomain();
      }
      dv.paragraph(Renderer.makeLinkName(dv, page.file));
    }
  },
  dailyGoals(dv) {
    const current = dv.current().file.frontmatter;
    const currentAt = new Date(current.at);
    const pages = dv.pages(`"${Paths.Goals}"`).where((page) => {
      if (page.file.frontmatter.status !== "active") {
        return false;
      } else {
        return true;
      }
    }).sort((k) => k.at, "asc");
    if (pages.length === 0) {
      return;
    }
    for (const page of pages) {
      dv.paragraph(Renderer.makeLinkShortUUID(dv, page.file));
    }
  },
  task(dv) {
    const dvLib = new DvLib();
    dvLib.autoFieldTask(dv);
  },
  log(dv) {
    const current = dv.current();
    const curFm = new FrontmatterJS(current);
    const currentId = curFm.uuid;
    const currentParentId = current.file.path.split("/")[1];
    Assert.True(
      currentParentId !== void 0,
      `currentParentId undefined for ${curFm.uuid}`
    );
    const pages = dv.pages(`"${Paths.Logs}"`).where((page) => {
      const fm = new FrontmatterJS(page);
      const parentId = page.file.path.split("/")[1];
      Assert.True(
        parentId !== void 0,
        `parentId undefined for ${fm.uuid}`
      );
      if (parentId !== currentParentId) {
        return false;
      }
      return true;
    }).sort((k) => k.created_at, "asc");
    for (let i = 0; i < pages.length; i++) {
      const page = pages[i];
      Assert.True(page !== void 0, "ass ert failed");
      const fm = new FrontmatterJS(page);
      if (fm.uuid === currentId) {
        if (i === 0) {
          const dvLib = new DvLib();
          dvLib.autoFieldLog(dv);
        } else {
          dv.paragraph(Renderer.makeLinkShortUUID(dv, pages[i - 1].file));
        }
      }
    }
  }
};
var Renderer = {
  makeLinkName(dv, f, anchor = "Content") {
    if (Helper.nilCheck(f.frontmatter.name)) {
      return Renderer.makeLinkShortUUID(dv, f, anchor);
    }
    return dv.sectionLink(f.path, anchor, false, `${f.frontmatter.name}`);
  },
  makeLinkAlias(dv, f, anchor = "Content") {
    if (Helper.nilCheck(f.frontmatter.alias)) {
      return Renderer.makeLinkShortUUID(dv, f, anchor);
    }
    return dv.sectionLink(f.path, anchor, false, `${f.frontmatter.alias}`);
  },
  makeLinkShortUUID(dv, f, anchor = "Content") {
    return dv.sectionLink(
      f.path,
      anchor,
      false,
      `${f.frontmatter.uuid.slice(0, 8)}`
    );
  },
  makeLink(dv, f, name = void 0, anchor = "Content") {
    return dv.sectionLink(f.path, anchor, false, name);
  },
  projectLogs(dv, data) {
    const cols = ["type", "task_id", "log_id", "took", "reviewed"];
    const buff = [];
    let totalTime = 0;
    for (const d of data) {
      const f = d.file;
      const fm = d.file.frontmatter;
      Assert.True(
        !Helper.nilCheck(fm.uuid),
        `"uuid" id not defined for: ${f.path}`
      );
      Assert.True(
        !Helper.nilCheck(fm.type),
        `"type" id not defined for: ${f.path}`
      );
      const createdAt = new Date(fm.created_at);
      const doneAt = new Date(fm.done_at);
      const delta = doneAt.getTime() - createdAt.getTime();
      totalTime += delta;
      const record = {
        taskId: "",
        logId: Renderer.makeLinkAlias(dv, f),
        took: Math.round(delta / (1e3 * 60 * 60) * 10) / 10,
        reviewed: Helper.nilCheck(fm.reviewed) ? 0 : fm.reviewed,
        type: void 0
      };
      const pages = dv.pages(`"${Paths.Tasks}/${fm.parent_id}"`).array();
      if (pages.length !== 1) {
        throw new Error(
          `parent task with id: "${fm.parent_id}" does not exists`
        );
      }
      const parent = pages[0];
      switch (parent.file.frontmatter.type) {
        case Types.Task:
          record.type = `<font color=8B0000>task</font>`;
          record.taskId = Renderer.makeLinkShortUUID(
            dv,
            parent.file,
            "Task"
          );
          break;
        case Types.Media:
          record.type = `<font color=00008B>media</font>`;
          record.taskId = Renderer.makeLinkShortUUID(
            dv,
            parent.file,
            "Content"
          );
          break;
        case Types.Praxis:
          record.type = `<font color=FF8C00>praxis</font>`;
          record.taskId = Renderer.makeLinkShortUUID(
            dv,
            parent.file,
            "Content"
          );
          break;
        case Types.Provision:
          record.type = `<font color=DC143C>provision</font>`;
          record.taskId = Renderer.makeLinkShortUUID(
            dv,
            parent.file,
            "Content"
          );
          break;
        default:
          throw new Error(
            `Renderer.projectLogs: type "${parent.file.frontmatter.type}" not implemented`
          );
      }
      buff.push([
        record.type,
        record.taskId,
        record.logId,
        record.took,
        record.reviewed
      ]);
    }
    dv.table(cols, buff);
  },
  goal(dv, data) {
    const buff = [];
    for (const fm of data) {
      const created_at = fm.createdAt;
      const logEntries = dv.pages(`"${Paths.Logs}/${fm.uuid}"`).where((p) => p.type === 6).sort((k) => k.created_at, "desc");
      const before = new Date(fm.fm.before);
      const timeframe = (before.getTime() - created_at.getTime()) / (1e3 * 3600 * 24);
      let timeframeText = "";
      if (timeframe > 0 && timeframe < 30) {
        timeframeText = "runaway";
      } else if (timeframe < 60) {
        timeframeText = "10,000 feet";
      } else if (timeframe < 360) {
        timeframeText = "20,000 feet";
      } else if (timeframe < 720) {
        timeframeText = "30,000 feet";
      } else if (timeframe < 1080) {
        timeframeText = "40,000 feet";
      } else {
        timeframeText = "50,000 feet";
      }
      buff.push([
        before.toISOString().slice(0, 10),
        dv.sectionLink(
          fm.uuid,
          "## Content",
          false,
          fm.uuid.slice(0, 8)
        ),
        fm.getDomain(),
        timeframeText
      ]);
    }
    dv.table(["deadline", "uuid", "domain", "timeframe"], buff);
  },
  inboxEntry(dv, data) {
    const cols = [
      "uuid",
      // "type",
      // "age",
      // "size",
      "name"
      // "project",
      // "domain",
      // "components",
    ];
    const buff = [];
    for (const d of data) {
      const f = d.file;
      const fm = d.file.frontmatter;
      Assert.True(
        !Helper.nilCheck(fm.uuid),
        `"uuid" id not defined for: ${f.path}`
      );
      Assert.True(
        !Helper.nilCheck(fm.type),
        `"type" id not defined for: ${f.path}`
      );
      const now = new Date();
      const delta = now.getTime() - fm.createdAt.getTime();
      const since = Helper.msecToStringDuration(delta);
      let name = "";
      if (fm.domain !== "domain/undefined") {
        name = fm.domain;
      } else if (fm.project !== void 0) {
        name = fm.project;
      } else {
        name = "\\-";
      }
      const record = {
        uuid: Helper.numberTypeToString(fm) === "fleeting" ? `&#128196 ${Renderer.makeLinkAlias(dv, f)}` : Renderer.makeLinkAlias(dv, f),
        // uuid: `&#9728 ${Renderer.makeLinkAlias(dv, f)}`,
        type: Helper.numberTypeToString(fm),
        since: `${since}`,
        size: f.size,
        project: fm.project === void 0 ? "\\-" : fm.project.slice(8),
        domain: fm.domain === void 0 ? "\\-" : fm.domain.slice(7),
        //Renderer.domainBase(dv, fm.domain),
        name
      };
      if (record.type === "log") {
        const pages = dv.pages(`"${Paths.Tasks}/${fm.parent_id}"`).array();
        if (pages.length !== 1) {
          throw new Error(`${fm.parent_id} ${fm.id}`);
        }
        const parent = pages[0];
        switch (parent.type) {
          case Types.Task:
            record.uuid = `&#128211 ${record.uuid}`;
            record.type = `<font color=8B0000>task</font>`;
            break;
          case Types.Praxis:
            record.uuid = `&#128188 ${record.uuid}`;
            record.type = `<font color=FF8C00>praxis</font>`;
            break;
          case Types.Media:
            record.uuid = `&#128191 ${record.uuid}`;
            record.type = `<font color=00008B>media</font>`;
            break;
          case Types.Provision:
            record.type = `<font color=DC143C>provision</font>`;
            break;
          default:
            break;
        }
      }
      buff.push([
        record.uuid,
        // record.type,
        // record.since,
        // record.size,
        record.name
        // record.project,
        // record.domain,
      ]);
    }
    dv.table(cols, buff);
  },
  resourceBase(dv, data) {
    const cols = ["uuid"];
    const buff = [];
    for (const d of data) {
      const f = d.file;
      const fm = d.file.frontmatter;
      Assert.True(
        !Helper.nilCheck(fm.uuid),
        `"uuid" id not defined for: ${f.path}`
      );
      buff.push([Renderer.makeLinkAlias(dv, f)]);
    }
    dv.table(cols, buff);
  },
  basicRelation(dv, data) {
    const cols = ["uuid", "name"];
    const buff = [];
    for (const d of data) {
      const f = d.file;
      const fm = d.file.frontmatter;
      Assert.True(
        !Helper.nilCheck(fm.uuid),
        `"uuid" id not defined for: ${f.path}`
      );
      buff.push([Renderer.makeLinkAlias(dv, f), fm.name]);
    }
    dv.table(cols, buff);
  },
  praxisBase(dv, data) {
    const buff = [];
    const cols = ["tasks", "uuid", "estimate"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      buff.push([
        dv.markdownTaskList(f.tasks),
        dv.fileLink(f.path, false, f.name.slice(0, 8)),
        fm.time_estimate
      ]);
    }
    dv.table(cols, buff);
  },
  waitingTask(dv, data) {
    const buff = [];
    const cols = ["tasks", "uuid", "estimate", "cause"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      buff.push([
        dv.markdownTaskList(f.tasks),
        dv.fileLink(f.path, false, f.name.slice(0, 8)),
        fm.time_estimate,
        fm.cause
      ]);
    }
    dv.table(cols, buff);
  },
  readyTask(dv, data) {
    const buff = [];
    const cols = ["uuid", "task", "estimate", "area"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      buff.push([
        Renderer.makeLinkAlias(dv, f, "Task"),
        dv.markdownTaskList(f.tasks),
        fm.time_estimate,
        Helper.getField(Helper.getArea(fm, true), "\\-")
      ]);
    }
    dv.table(cols, buff);
  },
  provisionBase(dv, data) {
    const buff = [];
    const cols = ["uuid", "supplier", "content", "estimate"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      buff.push([
        dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
        fm.supplier,
        dv.markdownTaskList(f.tasks),
        fm.time_estimate
      ]);
    }
    dv.table(cols, buff);
  },
  basicTaskJournalNextAction(dv, data) {
    const buff = [];
    const cols = ["uuid", "priority", "estimate", "tasks"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      const domain = Helper.getDomain(fm, true) === void 0 ? "\\-" : Helper.getDomain(fm);
      if (fm.ref_id === void 0) {
        buff.push([
          // journal.contains(fm.uuid) ? "->" : "\\-",
          dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
          fm.priority,
          fm.time_estimate,
          dv.markdownTaskList(f.tasks)
        ]);
      } else {
        const ref = dv.pages(`"${Paths.Refs}/${fm.ref_id}"`).array();
        if (ref.length === 0) {
          throw new Error(
            `task: '${fm.uuid}' has an undefined ref_id: '${fm.ref_id}'`
          );
        } else {
          buff.push([
            dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
            Renderer.makeLinkAlias(dv, ref[0].file),
            fm.time_estimate,
            domain
          ]);
        }
      }
    }
    dv.table(cols, buff);
  },
  basicTaskJournalWaiting(dv, data) {
    const buff = [];
    const cols = ["uuid", "cause", "tasks"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      const domain = Helper.getDomain(fm, true) === void 0 ? "\\-" : Helper.getDomain(fm);
      if (fm.ref_id === void 0) {
        buff.push([
          // journal.contains(fm.uuid) ? "->" : "\\-",
          dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
          d.cause,
          dv.markdownTaskList(f.tasks)
        ]);
      } else {
        const ref = dv.pages(`"${Paths.Refs}/${fm.ref_id}"`).array();
        if (ref.length === 0) {
          throw new Error(
            `task: '${fm.uuid}' has an undefined ref_id: '${fm.ref_id}'`
          );
        } else {
          buff.push([
            dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
            Renderer.makeLinkAlias(dv, ref[0].file),
            fm.time_estimate,
            domain
          ]);
        }
      }
    }
    dv.table(cols, buff);
  },
  basicTaskJournal(dv, data) {
    const buff = [];
    const cols = ["uuid", "tasks", "estimate"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      const domain = Helper.getDomain(fm, true) === void 0 ? "\\-" : Helper.getDomain(fm);
      if (fm.ref_id === void 0) {
        buff.push([
          // journal.contains(fm.uuid) ? "->" : "\\-",
          dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
          dv.markdownTaskList(f.tasks),
          fm.time_estimate
        ]);
      } else {
        const ref = dv.pages(`"${Paths.Refs}/${fm.ref_id}"`).array();
        if (ref.length === 0) {
          throw new Error(
            `task: '${fm.uuid}' has an undefined ref_id: '${fm.ref_id}'`
          );
        } else {
          buff.push([
            dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
            Renderer.makeLinkAlias(dv, ref[0].file),
            fm.time_estimate,
            domain
          ]);
        }
      }
    }
    dv.table(cols, buff);
  },
  activeTask(dv, data) {
    const buff = [];
    const cols = ["uuid", "tasks", "session"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      const logs = dv.pages(`"${Paths.Logs}/${fm.uuid}"`).where((p) => p.type === 6).sort((k) => k.created_at, "desc");
      const last = logs[0];
      const createdAt = new Date(last.created_at);
      const now = new Date();
      buff.push([
        dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
        dv.markdownTaskList(f.tasks),
        ((t) => {
          return Math.round(t / (3600 * 1e3) * 10) / 10;
        })(now.getTime() - createdAt.getTime())
      ]);
    }
    dv.table(cols, buff);
  },
  basicTask(dv, data) {
    const buff = [];
    const cols = ["uuid", "tasks", "estimate", "domain"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      const domain = Helper.getDomain(fm, true) === void 0 ? "\\-" : Helper.getDomain(fm);
      if (fm.ref_id === void 0) {
        buff.push([
          dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
          dv.markdownTaskList(f.tasks),
          fm.time_estimate,
          domain
        ]);
      } else {
        const ref = dv.pages(`"${Paths.Refs}/${fm.ref_id}"`).array();
        if (ref.length === 0) {
          throw new Error(
            `task: '${fm.uuid}' has an undefined ref_id: '${fm.ref_id}'`
          );
        } else {
          buff.push([
            dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
            Renderer.makeLinkAlias(dv, ref[0].file),
            fm.time_estimate,
            domain
          ]);
        }
      }
    }
    dv.table(cols, buff);
  },
  logs(dv, entries) {
    const buff = [];
    let totalTime = 0;
    for (const entry of entries) {
      const fme = entry.file.frontmatter;
      const e = [];
      let start = 0;
      let stop = 0;
      if (fme === void 0 || fme.created_at === void 0) {
        throw new Error(`Invalid frontmatter: ${fme.uuid}`);
      }
      start = new Date(fme.created_at);
      e.push(start.toISOString().slice(0, 10));
      if (fme.done_at === void 0) {
        stop = Date.now();
      } else {
        stop = new Date(fme.done_at);
      }
      totalTime += stop - start;
      e.push(
        dv.sectionLink(
          fme.uuid,
          "## Content",
          false,
          fme.uuid.slice(0, 8)
        )
      );
      e.push(Math.round((stop - start) / (1e3 * 60 * 60) * 10) / 10);
      if (fme.reviewed === void 0 || fme.reviewed === 0) {
        e.push(0);
      } else {
        e.push(fme.reviewed);
      }
      buff.push(e);
    }
    if (buff.length > 0) {
      dv.header(2, "Logs");
      dv.table(["created_at", "uuid", "session", "reviewed"], buff);
      if (totalTime > 0) {
        dv.paragraph(
          `_totalTime (h):_ ${Math.round(totalTime / (1e3 * 60 * 60) * 10) / 10}`
        );
      }
    }
  },
  mediaWithLogs(dv, data) {
    const buff = [];
    const cols = ["uuid", "tasks", "estimate", "current", "domain"];
    for (const d of data) {
      const f = d.file;
      const fm = f.frontmatter;
      const ref = dv.pages(`"${Paths.Refs}/${fm.ref_id}"`).array();
      if (ref.length === 0) {
        throw new Error(
          `task: '${fm.uuid}' has an undefined ref_id: '${fm.ref_id}'`
        );
      }
      const domain = Helper.getDomain(fm, true) === void 0 ? "\\-" : Helper.getDomain(fm);
      const logEntries = dv.pages(`"${Paths.Logs}/${fm.uuid}"`).where((p) => p.type === Types.Log).sort((k) => k.created_at, "desc");
      let totalTime = 0;
      for (const entry of logEntries) {
        const fme = entry.file.frontmatter;
        const e = [];
        let start = 0;
        let stop = 0;
        if (fme === void 0 || fme.created_at === void 0) {
          throw new Error(`Invalid frontmatter: ${fme.uuid}`);
        }
        start = new Date(fme.created_at);
        try {
          e.push(start.toISOString().slice(0, 10));
        } catch (e2) {
          console.error(entry.uuid);
        }
        if (fme.done_at === void 0) {
          stop = Date.now();
        } else {
          stop = new Date(fme.done_at);
        }
        totalTime += stop - start;
      }
      buff.push([
        dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
        Renderer.makeLinkAlias(dv, ref[0].file),
        fm.time_estimate,
        `${Math.round(totalTime / (1e3 * 60 * 60) * 10) / 10}h`,
        domain
      ]);
    }
    dv.table(cols, buff);
  },
  taskDoneWithLogs(dv, data) {
    const buff = [];
    const cols = [
      "taskId",
      "logId",
      "createdAt",
      "doneAt",
      "timeEstimate",
      "took",
      "project"
    ];
    for (const d of data) {
      const f = d.file;
      const fm = d.file.frontmatter;
      const createdAt = new Date(fm.created_at);
      const doneAt = new Date(fm.done_at);
      const timeEstimate = "";
      const took = (doneAt - createdAt) / (1e3 * 3600);
      const pages = dv.pages(`"${Paths.Tasks}"`).where((page) => page.file.frontmatter.uuid === fm.parent_id);
      if (pages.length !== 1) {
        throw new Error();
      }
      const parent = pages[0];
      const parentFm = parent.file.frontmatter;
      const parentF = parent.file;
      buff.push([
        Renderer.makeLinkShortUUID(dv, parent.file, "Task"),
        Renderer.makeLinkShortUUID(dv, f),
        createdAt.toISOString().slice(0, 10),
        doneAt.toISOString().slice(0, 10),
        timeEstimate,
        ((t) => {
          return Math.round(t * 10) / 10;
        })(took),
        Helper.getProject(parentFm)
      ]);
    }
    dv.table(cols, buff);
  },
  projects(dv, pages) {
    const cols = ["name"];
    const buff = [];
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      buff.push([Renderer.makeLink(dv, page.file, fm.getName())]);
    }
    dv.table(cols, buff);
  },
  basicDoneTaskWithLogs(dv, data) {
    const cols = [
      "uuid",
      "createdAt",
      "doneAt",
      "timeEstimate",
      "took",
      "delta",
      "project",
      "area"
    ];
    dv.table(cols, data);
  },
  basicDoneTaskWithoutLogs(dv, data) {
    const cols = ["taskId", "createdAt", "project", "area"];
    dv.table(cols, data);
  },
  basicProgressedTaskWithLog(dv, data) {
    const cols = [
      "taskId",
      "logId",
      // "createdAt",
      // "doneAt",
      "took",
      // "tookAcc",
      "project"
      // "domain",
    ];
    dv.table(cols, data);
  },
  // dailyTask(dv, data) {
  // 	Renderer.makeLinkShortUUID(this.dv, page.file),
  // 	dv.
  // 				rs.push([
  // 					"paragraph",
  // 					Renderer.makeLinkShortUUID(this.dv, page.file),
  // 				]);
  // }
  do(dv, rs) {
    for (const row of rs) {
      switch (row[0]) {
        case "header":
          const [, level, heading] = row;
          dv.header(level, heading);
          break;
        case "paragraph":
          const [, text] = row;
          dv.paragraph(text);
          break;
        case "array":
          const [, renderer, data] = row;
          renderer(dv, data);
          break;
        case "stats":
          const [, name, unit, value] = row;
          dv.paragraph(`${name} (${unit}): ${value}`);
          break;
        default:
          throw new Error(`Unsuported opcode: "fuckoff"`);
      }
    }
  }
};
var Frontmatter = class {
  constructor(gonext) {
    this.gonext = gonext;
  }
  projectParseMeta(dv) {
    const current = dv.current();
    const projectName = current.file.folder.slice(
      Paths.Projects.length + 1
    );
    const projectDir = current.file.folder;
    if (projectName.contains("/")) {
      throw new Error(
        `projectDir: ${projectDir} folder: ${current.file.folder}`
      );
    }
    const pages = dv.pages(`"${projectDir}/meta"`).array();
    if (pages.length !== 1) {
      throw new Error(`len: ${pages.length}`);
    }
    const fm = pages[0].file.frontmatter;
    const uuid = fm.uuid;
    if (Helper.nilCheck(uuid)) {
      throw new Error(`project 'uuid' is not defined`);
    }
    const name = fm.name;
    if (Helper.nilCheck(name)) {
      throw new Error(`'name' is not defined`);
    }
    const domains = fm.domains;
    if (!Array.isArray(domains)) {
      throw new Error(`'domains' must be of array type`);
    }
    return {
      uuid,
      name,
      domains
    };
  }
  getCreatedAt(f) {
    return Helper.nilCheck(f.frontmatter.created_at) ? new Date(f.ctime.ts) : new Date(f.frontmatter.created_at);
  }
  getCurrentFrontmatter() {
    const file = this.gonext.workspace.getActiveFile();
    const fileContent = this.gonext.metadataCache.getFileCache(file);
    if (fileContent === void 0) {
      return void 0;
    }
    const fm = fileContent.frontmatter;
    if (fm === void 0) {
      return void 0;
    }
    return fm;
  }
  parseListByNamespace(fm) {
    const byAreas = fm.by_areas === void 0 ? [] : fm.by_areas;
    const byContexts = fm.by_contexts === void 0 ? [] : fm.by_contexts;
    const byLayers = fm.by_layers === void 0 ? [] : fm.by_layers;
    const byOrgs = fm.by_orgs === void 0 ? [] : fm.by_orgs;
    const byProjects = fm.by_projects === void 0 ? [] : fm.by_projects;
    return [byAreas, byContexts, byLayers, byOrgs, byProjects];
  }
  parseListBeforeAfter(fm) {
    const before = Helper.getDate(fm.before);
    const after = Helper.getDate(fm.after);
    return [before, after];
  }
  parseListFilterBy(fm) {
    if (fm === void 0) {
      return [];
    }
    const filterBy = fm.filter_by;
    if (!Array.isArray(filterBy)) {
      return [];
    }
    return filterBy;
  }
  parseListGroupBy(fm) {
    if (fm === void 0) {
      return "";
    }
    const groupBy = fm.group_by;
    if (!(typeof groupBy === "undefined") && !(typeof groupBy === "string")) {
      return "";
    }
    return groupBy;
  }
  parseAllProgressedTasks() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      throw new Error(`Invalid frontmatter, cannot proceed`);
    }
    const groupBy = this.parseListGroupBy(fm);
    const filterBy = this.parseListFilterBy(fm);
    const [before, after] = this.parseListBeforeAfter(fm);
    return [groupBy, filterBy, before, after];
  }
  parseAllDoneTasks() {
    return this.parseAllProgressedTasks();
  }
  parseAllDoneTaskWithoutLog() {
    return this.parseAllProgressedTasks();
  }
  parseAllTodoAdHoc() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      throw new Error(`Invalid frontmatter, cannot proceed`);
    }
    const groupBy = this.parseListGroupBy(fm);
    const filterBy = this.parseListFilterBy(fm);
    const [before, after] = this.parseListBeforeAfter(fm);
    const minPriority = Helper.getField(fm.min_priority, 0);
    return [groupBy, filterBy, before, after, minPriority];
  }
  parseInbox() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      return [[], [], 0, 4294967295];
    }
    const source = Helper.nilCheck(fm.source) ? ["logs", "fleeting"] : fm.source;
    const groupBy = Helper.nilCheck(fm.group_by) ? "none" : fm.group_by;
    const filterBy = this.parseListFilterBy(fm);
    const minSize = Helper.nilCheck(fm.min_size) ? 0 : fm.min_size;
    const maxSize = Helper.nilCheck(fm.max_size) ? 4294967295 : fm.max_size;
    return [source, groupBy, filterBy, minSize, maxSize];
  }
  parseTodoList() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      return [[], [], [], [], [], 0];
    }
    const [byAreas, byContexts, byLayers, byOrgs, byProjects] = this.parseListByNamespace(fm);
    const minPriority = Helper.getField(fm.min_priority, 0);
    return [byAreas, byContexts, byLayers, byOrgs, byProjects, minPriority];
  }
  parseDoneList() {
    const fm = this.getCurrentFrontmatter();
    if (fm === void 0) {
      return [[], [], [], [], [], [], []];
    }
    const [byAreas, byContexts, byLayers, byOrgs, byProjects] = this.parseListByNamespace(fm);
    const [before, after] = this.parseListBeforeAfter(fm);
    const fields = Helper.getField(fm.fields, []);
    const stats = Helper.getField(fm.stats, []);
    return [
      byAreas,
      byContexts,
      byLayers,
      byOrgs,
      byProjects,
      fields,
      stats,
      before,
      after
    ];
  }
};
var NoteHelper = class {
  constructor(gonext, dv, frontmatter) {
    this.gonext = gonext;
    this.dv = dv;
    this.frontmatter = frontmatter;
  }
  isDoable(task, at = void 0) {
    const fm = task.file.frontmatter;
    if (fm.status !== Status.Todo) {
      return false;
    }
    if (fm.after !== void 0) {
      const after = new Date(fm.after);
      if (Date.now() <= after.getTime()) {
        return false;
      }
    }
    if (at !== void 0) {
      const fmAt = new Date(fm.at);
      fmAt.setHours(0);
      fmAt.setMinutes(0);
      fmAt.setSeconds(0);
      if (at.getTime() < fmAt.getTime()) {
        return false;
      }
    } else {
      if (fm.at !== void 0) {
        const at2 = new Date(fm.at);
        if (Date.now() <= at2.getTime()) {
          return false;
        }
      }
    }
    const deps = fm.needs;
    if (deps === void 0 || deps.length === 0) {
      return true;
    }
    if (this.hasPendingDependencies(deps)) {
      return false;
    }
    return true;
  }
  hasPendingDependencies(deps) {
    for (const dep of deps) {
      const task = this.dv.pages(`"${Paths.Tasks}/${dep}"`).array();
      if (task.length === 0) {
        console.warn(
          `hasPendingDependencies: "${Paths.Tasks}/${dep}" task does not exists`
        );
        continue;
      }
      const fm = task[0].file.frontmatter;
      if (fm.type !== Types.Task && fm.type !== Types.Provision && fm.type !== Types.Praxis) {
        continue;
      }
      if (fm.status === Status.Todo) {
        return true;
      }
    }
    return false;
  }
  isChildTag(parent, child) {
    if (child.length <= parent.length + 1) {
      return false;
    } else if (child.slice(0, parent.length + 1) != `${parent}/`) {
      return false;
    }
    return true;
  }
  getNamespaceContent(ns) {
    const children = [];
    const pages = this.dv.pages(`#${ns}`);
    for (const p of pages) {
      const tags = p.file.frontmatter.tags;
      if (tags === void 0 || tags.length === 0) {
        continue;
      }
      for (const tag of tags) {
        if (this.isChildTag(ns, tag)) {
          const t = tag.slice(ns.length + 1);
          if (!children.contains(t)) {
            children.push(t);
          }
        }
      }
    }
    return children;
  }
  isLastRevision(page) {
    const revisionList = (dv, root, current) => {
      let head = current;
      while (true) {
        const pages = dv.pages(`"${root}"`).where(
          (page2) => page2.file.frontmatter.next === head.file.frontmatter.uuid
        );
        if (pages.length > 1) {
          throw new Error();
        } else if (pages.length === 0) {
          break;
        }
        head = pages[0];
      }
      const buff = [];
      let cur = head;
      while (true) {
        buff.push(cur);
        const fm2 = cur.file.frontmatter;
        if (fm2.next === void 0) {
          break;
        }
        const pages = dv.pages(`"${root}/${fm2.next}"`);
        if (pages.length === 0) {
          break;
        }
        cur = pages[0];
      }
      return buff;
    };
    const note = page;
    const fm = note.file.frontmatter;
    let revisions = [];
    switch (fm.type) {
      case Types.Permanent:
        revisions = revisionList(this.dv, Paths.Slipbox, note);
        break;
      case Types.Resource:
        revisions = revisionList(this.dv, Paths.Resources, note);
        break;
      default:
        throw new Error();
    }
    if (revisions.length <= 1) {
      return true;
    }
    return revisions[0].file.frontmatter.uuid === fm.uuid;
  }
};
var Generator = class {
  constructor(app2) {
    this.app = app2;
    this.dv = app2.dv;
    this.gonext = app2.gonext;
  }
  fleeting() {
    const dt = new Date();
    const note = {
      uuid: v4_default(),
      type: 13,
      version: "0.0.4",
      created_at: dt.toISOString(),
      path: "",
      data: ""
    };
    note.path = `800 Inbox/${note.uuid}.md`;
    note.data = `---
type: 13
uuid: "${note.uuid}"
created_at: "${note.created_at}"
version: "0.0.4"
---
## Content
`;
    const f = this.app.vault.create(note.path, note.data).then((f2) => {
      return f2;
    });
    const active = this.app.workspace.activeLeaf;
    const root = active.parent;
    this.app.workspace.createLeafInParent(root, root.children.length + 1);
    const leaf = root.children[root.children.length - 1];
    f.then((file) => {
      leaf.openFile(file, { active: true });
    });
  }
  journalEntry() {
    const dt = new Date();
    const note = {
      uuid: v4_default(),
      type: 20,
      version: "0.0.4",
      created_at: dt.toISOString(),
      path: "",
      data: ""
    };
    note.path = `Journal/${note.uuid}.md`;
    note.data = `---
type: 20
uuid: "${note.uuid}"
created_at: "${note.created_at}"
version: "0.0.4"
tags:
    - project/mission
---
## Content
### entry
`;
    return this.app.vault.create(note.path, note.data).then((f) => {
      return f;
    });
  }
};
var ListMaker = class {
  constructor(gonext, dv, frontmatter) {
    this.gonext = gonext;
    this.dv = dv;
    this.frontmatter = frontmatter;
    this.noteHelper = new NoteHelper(gonext, dv, frontmatter);
  }
  nameInNamespace(fm, ns) {
    let found = false;
    if (ns.length === 0) {
      return true;
    }
    for (const a of ns) {
      const root = a.split("/");
      Assert.True(root.length === 2, `Invalid tag: '${a}'`);
      const parent = root[0].slice(0, 1) === "!" ? root[0].slice(1) : root[0];
      const name = Helper.getTag(fm, parent);
      if (a.slice(0, 1) === "!") {
        if (name === a.slice(1)) {
          return false;
        } else {
          found = true;
        }
      } else {
        if (name === a) {
          found = true;
        } else {
          found = false;
        }
      }
    }
    return found;
  }
  myNameInNamespace(name, ns) {
    let found = false;
    if (ns.length === 0) {
      return true;
    }
    for (const a of ns) {
      if (a.slice(0, 1) === "!") {
        if (name === a.slice(1)) {
          return false;
        } else {
          found = true;
        }
      } else {
        if (name === a) {
          found = true;
        } else {
          found = false;
        }
      }
    }
    return found;
  }
  filterByNamespace(fm, byAreas, byContexts, byLayers, byOrgs, byProjects) {
    if (!this.myNameInNamespace(Helper.getArea(fm), byAreas)) {
      return false;
    }
    if (!this.myNameInNamespace(Helper.getContext(fm), byContexts)) {
      return false;
    }
    if (!this.myNameInNamespace(Helper.getLayer(fm), byLayers)) {
      return false;
    }
    if (!this.myNameInNamespace(Helper.getOrg(fm), byOrgs)) {
      return false;
    }
    if (!this.myNameInNamespace(Helper.getProject(fm), byProjects)) {
      return false;
    }
    return true;
  }
  filterByDate(dt, before, after) {
    if (before !== void 0 && dt.getTime() > before.getTime()) {
      return false;
    }
    if (after !== void 0 && dt.getTime() < after.getTime()) {
      return false;
    }
    return true;
  }
  goals() {
    const rs = [];
    const bins = {};
    bins[GoalStatus.Reframe] = [];
    bins[GoalStatus.Research] = [];
    bins[GoalStatus.Operationalize] = [];
    bins[GoalStatus.Planify] = [];
    bins[GoalStatus.Dependant] = [];
    bins[GoalStatus.Active] = [];
    bins[GoalStatus.Success] = [];
    bins[GoalStatus.Failed] = [];
    const pages = this.dv.pages(`"${Paths.Goals}"`).where((page) => {
      const fmp = page.file.frontmatter;
      if (bins[fmp.status] === void 0) {
        return true;
      } else {
        const fm = new FrontmatterJS(page);
        bins[fmp.status].push(fm);
        return false;
      }
    });
    const keys = Object.keys(bins);
    keys.sort();
    for (const k of keys) {
      const buff = bins[k];
      buff.sort((a, b) => {
        const dta = new Date(a.fm.before);
        const dtb = new Date(b.fm.before);
        return dta.getTime() - dtb.getTime();
      });
    }
    const displayGoals = (k, rs2) => {
      rs2.push(["header", 3, k]);
      const buff = bins[k];
      rs2.push(["array", Renderer.goal, buff]);
    };
    rs.push(["header", 2, "operational"]);
    displayGoals("active", rs);
    displayGoals("planify", rs);
    rs.push(["header", 2, "non-operational"]);
    displayGoals("reframe", rs);
    displayGoals("research", rs);
    displayGoals("operationalize", rs);
    rs.push(["header", 2, "done"]);
    displayGoals("success", rs);
    displayGoals("failed", rs);
    return rs;
  }
  projectTasksSheetRelationFrontmatter(dv) {
    const current = dv.current();
    const fm = new FrontmatterJS(current);
    return {
      name: fm.getName(),
      uuid: fm.uuid,
      active: fm.fm.active === void 0 || fm.fm.active === true ? true : false
    };
  }
  projectTasksSheetRelation(dv) {
    const project = this.projectTasksSheetRelationFrontmatter(dv);
    const rs = [];
    const bins = {
      nextAction: [],
      waitingFor: [],
      somedayMaybe: []
    };
    {
      const pages2 = dv.pages(`"Journal"`).where((page) => {
        const fm = new FrontmatterJS(page);
        return fm.getProject() === project.name;
      }).sort((k) => k.created_at, "desc");
      if (pages2.length > 0) {
        rs.push(["header", 2, `Journal (${pages2.length})`]);
        for (const page of pages2) {
          const fm = new FrontmatterJS(page);
          const text = Renderer.makeLink(
            dv,
            fm.f,
            `${fm.createdAt.toISOString().slice(0, 10)}`,
            "entry"
          );
          rs.push(["paragraph", text]);
        }
      }
    }
    const pages = dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (fm.fm.status === "done") {
        return false;
      }
      if (["daily", "weekly", "monthly"].contains(project.name)) {
        return false;
      } else if (project.name === "adhoc" && fm.getProject() === void 0) {
        page.file.frontmatter.project = "adhoc";
        return true;
      } else if (project.name === fm.getProject()) {
        return true;
      } else {
        return false;
      }
    });
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      if (this.noteHelper.isDoable(page)) {
        if (fm.fm.priority > 0) {
          bins.nextAction.push(page);
        } else {
          bins.somedayMaybe.push(page);
        }
      } else {
        if (fm.fm.needs !== void 0 && this.noteHelper.hasPendingDependencies(fm.fm.needs)) {
          page.cause = "dependencies";
        } else {
          const fmAt = fm.at;
          const currentAt = new Date();
          const fmAfter = fm.after;
          if (fm.fm.at !== void 0) {
            fmAt.setHours(0);
            fmAt.setMinutes(0);
            fmAt.setSeconds(0);
            fmAt.setMilliseconds(0);
            currentAt.setHours(0);
            currentAt.setMinutes(0);
            currentAt.setSeconds(0);
            currentAt.setMilliseconds(0);
          }
          if (fm.after !== void 0) {
            fmAfter.setHours(0);
            fmAfter.setMinutes(0);
            fmAfter.setSeconds(0);
            fmAfter.setMilliseconds(0);
          }
          console.log(`current: ${currentAt.getTime()}`);
          console.log(`at: ${fm.at.getTime()}`);
          console.log(`after: ${fm.after.getTime()}`);
          if (fm.fm.at !== void 0 && fmAt.getTime() > currentAt.getTime()) {
            page.cause = "at";
          } else if (fm.fm.after !== void 0 && fmAfter.getTime() < currentAt.getTime()) {
            page.cause = "after";
          } else {
            page.cause = "unknown";
          }
        }
        bins.waitingFor.push(page);
      }
    }
    if (bins.nextAction.length > 0) {
      rs.push(["header", 2, `Next Actions (${bins.nextAction.length})`]);
      bins.nextAction.sort(Helper.sortByPriorityAndDurationAndAge);
      rs.push([
        "array",
        Renderer.basicTaskJournalNextAction,
        bins.nextAction
      ]);
    }
    if (bins.waitingFor.length > 0) {
      rs.push(["header", 2, `Waiting (${bins.waitingFor.length})`]);
      bins.waitingFor.sort(Helper.sortByPriorityAndDurationAndAge);
      rs.push([
        "array",
        Renderer.basicTaskJournalWaiting,
        bins.waitingFor
      ]);
    }
    if (bins.somedayMaybe.length > 0) {
      rs.push(["header", 2, `Maybe (${bins.somedayMaybe.length})`]);
      bins.somedayMaybe.sort(Helper.sortByPriorityAndDurationAndAge);
      rs.push(["array", Renderer.basicTaskJournal, bins.somedayMaybe]);
    }
    return rs;
  }
  projectLogsSheetRelation(dv) {
    const project = this.projectTasksSheetRelationFrontmatter(dv);
    const filterBy = [];
    const rs = [];
    rs.push(["header", 2, "Logs"]);
    const logs = this.dv.pages(`"${Paths.Logs}"`).where((page) => {
      if (page.type !== Types.Log) {
        return false;
      }
      if (page.file.frontmatter.reviewed > 0) {
        return false;
      }
      return true;
    });
    const buff = {};
    for (const e of logs) {
      const fm = e.file.frontmatter;
      if (filterBy.length > 0 && !this.nameInNamespace(fm, filterBy)) {
        continue;
      }
      fm.createdAt = this.frontmatter.getCreatedAt(e.file);
      Assert.True(
        !Helper.nilCheck(fm.parent_id),
        `Missing field "parent_id" from log: "${fm.uuid}"`
      );
      const parent = this.dv.pages(`"${Paths.Tasks}/${fm.parent_id}"`).array();
      if (parent.length !== 1) {
        continue;
      }
      Assert.True(
        parent.length === 1,
        `Parent: ${fm.parent_id} not found for log: "${fm.uuid}"`
      );
      fm.project = Helper.getProject(parent[0].file.frontmatter);
      fm.area = Helper.getArea(parent[0].file.frontmatter, true);
      if (fm.project !== `project/${project.name === "adhoc" ? "none" : project.name}`) {
        continue;
      }
      if (Helper.nilCheck(fm.done_at)) {
        continue;
      }
      const date = fm.done_at.slice(0, 10);
      if (buff[date] === void 0) {
        buff[date] = [e];
      } else {
        buff[date].push(e);
      }
    }
    const keys = Object.keys(buff);
    keys.sort();
    for (const date of keys) {
      buff[date].sort(
        (a, b) => b.file.frontmatter.createdAt.getTime() - a.file.frontmatter.createdAt.getTime()
      );
    }
    for (const date of keys.reverse()) {
      rs.push(["header", 3, date]);
      rs.push(["array", Renderer.projectLogs, buff[date]]);
    }
    return rs;
  }
  getProjectLogs(dv, project) {
    const logs = this.dv.pages(`"${Paths.Logs}"`).where((page) => {
      if (page.type !== Types.Log) {
        return false;
      }
      return true;
    });
    const buff = [];
    for (const e of logs) {
      const fm = e.file.frontmatter;
      Assert.True(
        !Helper.nilCheck(fm.parent_id),
        `Missing field "parent_id" from log: "${fm.uuid}"`
      );
      const parent = this.dv.pages(`"${Paths.Tasks}/${fm.parent_id}"`).array();
      if (parent.length !== 1) {
        continue;
      }
      fm.project = Helper.getProject(parent[0].file.frontmatter);
      fm.area = Helper.getArea(parent[0].file.frontmatter, true);
      if (fm.project !== `project/${project.name === "adhoc" ? "none" : project.name}`) {
        continue;
      }
      if (Helper.nilCheck(fm.done_at)) {
        continue;
      }
      buff.push(e);
    }
    return buff;
  }
  projectLogsSheet(dv) {
    const project = this.frontmatter.projectParseMeta(dv);
    const fml = this.frontmatter.getCurrentFrontmatter();
    if (fml === void 0) {
      throw new Error(`Invalid frontmatter, cannot proceed`);
    }
    const before = Helper.nilCheck(fml.before) ? new Date(0) : new Date(fml.before);
    const after = Helper.nilCheck(fml.after) ? new Date() : new Date(fml.after);
    const filterBy = this.frontmatter.parseListFilterBy(fml);
    const rs = [];
    let totalTime = 0;
    rs.push(["header", 1, project.name]);
    const logs = this.dv.pages(`"${Paths.Logs}"`).where((page) => {
      if (page.type !== Types.Log) {
        return false;
      }
      return true;
    });
    const buff = {};
    for (const e of logs) {
      const fm = e.file.frontmatter;
      if (filterBy.length > 0 && !this.nameInNamespace(fm, filterBy)) {
        continue;
      }
      fm.createdAt = this.frontmatter.getCreatedAt(e.file);
      Assert.True(
        !Helper.nilCheck(fm.parent_id),
        `Missing field "parent_id" from log: "${fm.uuid}"`
      );
      const parent = this.dv.pages(`"${Paths.Tasks}/${fm.parent_id}"`).array();
      if (parent.length !== 1) {
        continue;
      }
      fm.project = Helper.getProject(parent[0].file.frontmatter);
      fm.area = Helper.getArea(parent[0].file.frontmatter, true);
      if (fm.project !== `project/${project.name === "adhoc" ? "none" : project.name}`) {
        continue;
      }
      if (Helper.nilCheck(fm.done_at)) {
        continue;
      }
      const date = fm.done_at.slice(0, 10);
      const createdAt = new Date(fm.created_at);
      const doneAt = new Date(fm.done_at);
      if (createdAt > before) {
        continue;
      }
      if (createdAt < after) {
        continue;
      }
      if (buff[date] === void 0) {
        buff[date] = [e];
      } else {
        buff[date].push(e);
      }
      const delta = doneAt.getTime() - createdAt.getTime();
      totalTime += delta;
    }
    dv.paragraph(
      `_totalTime (h):_ ${Math.round(totalTime / (1e3 * 60 * 60) * 10) / 10}`
    );
    const keys = Object.keys(buff);
    keys.sort();
    for (const date of keys) {
      buff[date].sort(
        (a, b) => b.file.frontmatter.createdAt.getTime() - a.file.frontmatter.createdAt.getTime()
      );
    }
    for (const date of keys.reverse()) {
      rs.push(["header", 3, date]);
      rs.push(["array", Renderer.projectLogs, buff[date]]);
    }
    return rs;
  }
  logs() {
    const [groupBy, filterBy, before, after] = this.frontmatter.parseAllProgressedTasks();
    const tasks = this.dv.pages(`"${Paths.Tasks}"`).where((page) => page.file.frontmatter.status !== "doing");
    const buff = [];
    for (const task of tasks) {
      const fm = task.file.frontmatter;
      if (filterBy.length > 0 && !this.nameInNamespace(fm, filterBy)) {
        continue;
      }
      const timeEstimate = Helper.durationStringToSec(fm.time_estimate);
      if (timeEstimate === void 0 && fm.time_estimate !== void 0) {
        throw new Error(
          `Invalid value: "${fm.time_estimate}" for entry: "${fm.uuid}"`
        );
      } else {
        fm.timeEstimate = timeEstimate;
      }
      const logs = this.dv.pages(`"${Paths.Logs}/${fm.uuid}"`).where((page) => page.type === Types.Log).sort((k) => k.created_at, "asc");
      if (logs.length < 1) {
        continue;
      }
      fm.took = 0;
      const project = Helper.getField(Helper.getProject(fm, true), "");
      const area = Helper.getField(Helper.getArea(fm, true), "");
      for (const log of logs) {
        const fml = log.file.frontmatter;
        const entry = {
          alias: fm.alias,
          uuid: fm.uuid,
          logId: fml.uuid,
          estimate: fm.timeEstimate,
          project,
          area,
          domain: Helper.getField(Helper.getDomain(fm, true), ""),
          path: task.file.path,
          logPath: log.file.path,
          createdAt: void 0,
          doneAt: void 0,
          took: void 0,
          tookAcc: void 0,
          deltaAcc: void 0
        };
        if (fml.created_at === void 0) {
          console.error(log);
          throw new Error(
            `task: ${fm.uuid} last entry is missing 'created_at' field`
          );
        }
        if (fml.done_at === void 0) {
          console.error(log);
          throw new Error(
            `task: ${fm.uuid} last entry is missing 'done_at' field`
          );
        }
        entry.createdAt = new Date(fml.created_at);
        entry.doneAt = new Date(fml.done_at);
        if (!this.filterByDate(entry.doneAt, before, after)) {
          continue;
        }
        const took = (entry.doneAt.getTime() - entry.createdAt.getTime()) / 1e3;
        fm.took += took;
        entry.took = took;
        entry.tookAcc = fm.took;
        entry.deltaAcc = timeEstimate - fm.took;
        buff.push(entry);
      }
    }
    const keyGetter = Helper.getKey(groupBy);
    const bins = {};
    for (const entry of buff) {
      let d = void 0;
      try {
        d = keyGetter(entry);
      } catch (e) {
        throw new Error(entry);
      }
      if (bins[d] === void 0) {
        bins[d] = [entry];
      } else {
        bins[d].push(entry);
      }
    }
    const keys = Object.keys(bins);
    keys.sort();
    const rs = [];
    for (const key of keys.reverse()) {
      rs.push(["header", 2, key]);
      const arr = [];
      let totalTime = 0;
      for (const e of bins[key]) {
        const buff2 = [];
        buff2.push(
          Renderer.makeLinkShortUUID(
            this.dv,
            { path: e.path, frontmatter: { uuid: e.uuid } },
            "Task"
          )
        );
        buff2.push(
          Renderer.makeLinkShortUUID(
            this.dv,
            { path: e.logPath, frontmatter: { uuid: e.logId } },
            "Content"
          )
        );
        const convertSecondsToHours = (t) => {
          return Math.round(t / 3600 * 10) / 10;
        };
        buff2.push(`${convertSecondsToHours(e.took)}`);
        buff2.push(`${e.project}`);
        arr.push(buff2);
        totalTime += e.took;
      }
      totalTime = Math.round(totalTime / 3600 * 10) / 10;
      rs.push(["stats", "totalTime", "h", totalTime]);
      rs.push(["array", Renderer.basicProgressedTaskWithLog, arr]);
    }
    return rs;
  }
  inbox(dv) {
    const rs = [];
    const buff = [];
    const filterBy = [];
    const minSize = 0;
    const maxSize = 4294967295;
    const fleetings = this.dv.pages(`"${Paths.Inbox}"`).array();
    for (const e of fleetings) {
      const fm = e.file.frontmatter;
      e.file.frontmatter.createdAt = this.frontmatter.getCreatedAt(
        e.file
      );
      let fmjs = null;
      try {
        fmjs = new FrontmatterJS(e);
      } catch (ValidationError2) {
        console.log(e);
        dv.paragraph(Renderer.makeLink(dv, e.file));
        break;
      }
      fm.project = Helper.getProject(fm, true);
      fm.domain = `domain/${fmjs.getDomain()}`;
      fm.components = Helper.getComponents(fm);
      if (e.file.size < minSize) {
        continue;
      }
      if (e.file.size > maxSize) {
        continue;
      }
      buff.push(e);
    }
    const logs = [];
    for (const e of logs) {
      const fm = e.file.frontmatter;
      fm.createdAt = this.frontmatter.getCreatedAt(e.file);
      Assert.True(
        !Helper.nilCheck(fm.parent_id),
        `Missing field "parent_id" from log: "${fm.uuid}"`
      );
      const parent = this.dv.pages(`"${Paths.Tasks}/${fm.parent_id}"`).array();
      Assert.True(
        parent.length === 1,
        `Parent: ${fm.parent_id} not found for log: "${fm.uuid}"`
      );
      fm.project = Helper.getProject(parent[0].file.frontmatter, true);
      fm.domain = void 0;
      fm.components = [];
      if (e.file.size < minSize) {
        continue;
      }
      if (e.file.size > maxSize) {
        continue;
      }
      buff.push(e);
    }
    const sortBySizeThenDate = function(a, b) {
      const fA = a.file;
      const fB = b.file;
      if (fA.size !== fB.size) {
        return fB.size - fA.size;
      } else {
        return fA.frontmatter.createdAt.getTime() - fB.frontmatter.createdAt.getTime();
      }
    };
    const sortByAge = (a, b) => a.file.frontmatter.createdAt.getTime() - b.file.frontmatter.createdAt.getTime();
    buff.sort(sortByAge);
    rs.push(["array", Renderer.inboxEntry, buff]);
    return rs;
  }
  projects() {
    const rs = [];
    const bins = {
      active: [],
      inactive: []
    };
    const pages = this.dv.pages(`"Projects"`).sort((k) => k.name, "asc");
    for (const project of pages) {
      const fmProject = new FrontmatterJS(project);
      if (fmProject.fm.active === false) {
        bins.inactive.push(project);
        continue;
      } else if (fmProject.getName() === "adhoc") {
        bins.active.push(project);
        continue;
      } else if (["yearly", "monthly", "weekly", "daily"].contains(
        fmProject.getName()
      )) {
        continue;
      }
      const tasks = this.dv.pages(`#project/${fmProject.getName()}`).where((page) => {
        if (page.file.folder !== `${Paths.Tasks}`) {
          return false;
        }
        const fmTask = new FrontmatterJS(page);
        if (fmTask.fm.priority === 0) {
          return false;
        }
        if (["todo", "doing", "waiting"].contains(fmTask.fm.status)) {
          return true;
        }
        return false;
      });
      if (tasks.length > 0) {
        bins.active.push(project);
      } else {
        bins.inactive.push(project);
      }
    }
    rs.push(["header", 2, "Active"]);
    rs.push(["array", Renderer.projects, bins.active]);
    rs.push(["header", 2, "Inactive"]);
    rs.push(["array", Renderer.projects, bins.inactive]);
    return rs;
  }
  praxis() {
    const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      if (page.file.frontmatter.type !== Types.Praxis) {
        return false;
      }
      if (page.file.frontmatter.status !== Status.Todo) {
        return false;
      }
      return true;
    }).array();
    const rs = [];
    rs.push(["header", 1, "Praxis"]);
    rs.push(["array", Renderer.basicTask, pages]);
    return rs;
  }
  planning(lastWeek = 2) {
    const rs = [];
    const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (fm.at === void 0) {
        return false;
      }
      if (fm.getProject() !== "daily") {
        return false;
      }
      return true;
    }).sort((page) => page.file.frontmatter.at, "desc");
    const now = new Date();
    const bins = {};
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      let at = void 0;
      try {
        at = fm.at.toISOString().slice(0, 10);
      } catch (e) {
        throw new Error(`Invalid date: '${fm.fm.uuid}'`);
      }
      const weekNumber = this.getWeekNumber5(fm.at);
      if (fm.at.getFullYear() < now.getFullYear()) {
        if (weekNumber > 1) {
          continue;
        }
      }
      if (bins[weekNumber] === void 0) {
        bins[weekNumber] = [fm];
      } else {
        bins[weekNumber].push(fm);
      }
    }
    const currentWeekNumber = this.getWeekNumber5(now);
    for (const key of Object.keys(bins)) {
      const weekNumber = Number(key);
      if (weekNumber + lastWeek < currentWeekNumber) {
        continue;
      }
      if (weekNumber < currentWeekNumber) {
        rs.push(["header", 2, `~~week ${key}~~`]);
      } else if (weekNumber === currentWeekNumber) {
        rs.push(["header", 2, `*week ${key}*`]);
      } else {
        rs.push(["header", 2, `week ${key}`]);
      }
      bins[key].sort((a, b) => {
        return a.at.getTime() - b.at.getTime();
      });
      for (const task of bins[key]) {
        const day = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"][task.at.getDay()];
        const text = Renderer.makeLink(
          this.dv,
          task.f,
          `${task.at.toISOString().slice(0, 10)}, ${day}`,
          "Task"
        );
        if (weekNumber < currentWeekNumber) {
          rs.push(["paragraph", `~~${text}~~`]);
        } else if (weekNumber === currentWeekNumber) {
          if (this.dayOfYear(task.at) < this.dayOfYear(now)) {
            rs.push(["paragraph", `~~${text}~~`]);
          } else {
            rs.push(["paragraph", `${text}`]);
          }
        } else {
          rs.push(["paragraph", `${text}`]);
        }
      }
    }
    return rs;
  }
  dayOfYear(dt) {
    const year = dt.getFullYear();
    const month = dt.getMonth() + 1;
    const day = dt.getDate();
    const N1 = Math.floor(275 * month / 9);
    const N2 = Math.floor((month + 9) / 12);
    const N3 = 1 + Math.floor((year - 4 * Math.floor(year / 4) + 2) / 3);
    return N1 - N2 * N3 + day - 30;
  }
  getWeekNumber(d) {
    d = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));
    d.setUTCDate(d.getUTCDate() + 4 - (d.getUTCDay() || 7));
    const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));
    return Math.ceil(((d - yearStart) / 864e5 + 1) / 7);
  }
  // https://codepen.io/ldijkman/pen/LYdNJvM
  getWeekNumber5(dt) {
    const tdt = new Date(dt.valueOf());
    const dayn = dt.getDay();
    tdt.setDate(tdt.getDate() - dayn + 3);
    const firstThursday = tdt.valueOf();
    tdt.setMonth(0, 1);
    if (tdt.getDay() !== 4) {
      tdt.setMonth(0, 1 + (4 - tdt.getDay() + 7) % 7);
    }
    return 1 + Math.ceil((firstThursday - tdt) / 6048e5);
  }
  getWeekNumber4(d) {
    d = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));
    const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));
    const firstSunday = yearStart.getUTCDay() === 0 ? yearStart : new Date(
      Date.UTC(
        d.getUTCFullYear(),
        0,
        1 + (7 - yearStart.getUTCDay())
      )
    );
    const daysSinceFirstSunday = (d - firstSunday + 864e5) / 864e5;
    return Math.ceil(daysSinceFirstSunday / 7);
  }
  getMonth(year, weekNumber) {
    const firstDayOfYear = new Date(year, 0, 1);
    const firstDayOfWeek = firstDayOfYear.getDay();
    const daysToAdd = (weekNumber - 1) * 7 - firstDayOfWeek + (firstDayOfWeek === 0 ? 1 : 0);
    const weekStartDate = new Date(
      firstDayOfYear.setDate(firstDayOfYear.getDate() + daysToAdd)
    );
    if (weekStartDate.getDate() > 24) {
      weekStartDate.setDate(weekStartDate.getDate() + 7);
    }
    const monthNumber = weekStartDate.getMonth();
    return monthNumber + 1;
  }
  getMonthName(monthNumber) {
    const date = new Date(2e3, monthNumber - 1);
    return date.toLocaleString("default", { month: "long" });
  }
  energy(dv) {
    const current = dv.current();
    if (current.energy === void 0) {
      current.energy = 0;
    }
    let comp = void 0;
    switch (current.op) {
      case ">":
        comp = (a, b) => a > b;
        break;
      case ">=":
        comp = (a, b) => a >= b;
        break;
      case "<":
        comp = (a, b) => a < b;
        break;
      case "<=":
        comp = (a, b) => a <= b;
        break;
      default:
        comp = (a, b) => a === b;
        break;
    }
    const rs = [];
    const pages = dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (fm.getProject() === "daily") {
        return false;
      }
      if (fm.fm.status !== "todo") {
        return false;
      }
      return comp(fm.energy, current.energy);
    });
    rs.push([
      "array",
      (dv2, data) => {
        for (const entry of data) {
          console.log(entry);
          dv2.paragraph(
            Renderer.makeLinkAlias(dv2, entry.file, "## Task")
          );
        }
      },
      pages
    ]);
    return rs;
  }
  mandala(dv) {
    let mandalaLo = -1;
    let mandalaHi = -1;
    const now = new Date();
    {
      const weekNumber = this.getWeekNumber4(now);
      mandalaLo = weekNumber - 6;
      mandalaHi = weekNumber - 5;
      if (mandalaLo < 0 || mandalaHi < 0) {
        dv.paragraph(`weekNumber: ${weekNumber}`);
        dv.paragraph(`mandalaLo: ${mandalaLo}`);
        dv.paragraph(`mandalaHi: ${mandalaHi}`);
        return;
      }
      dv.paragraph(`weekNumber: ${weekNumber}`);
      dv.paragraph(`mandalaLo: ${mandalaLo}`);
      dv.paragraph(`mandalaHi: ${mandalaHi}`);
    }
    const rs = [];
    const bins = {};
    const suiviWeekly = {};
    const suiviMonthly = {};
    const suiviYearly = {};
    const pages = this.dv.pages(`"Journal"`).where((page) => {
      const fm = new FrontmatterJS(page);
      const weekNumber = this.getWeekNumber4(fm.createdAt);
      console.log(weekNumber);
      if (weekNumber >= mandalaLo && weekNumber <= mandalaHi && fm.createdAt.getFullYear() === now.getFullYear()) {
        return true;
      }
      return false;
    }).sort((page) => page.file.frontmatter.created_at, "desc");
    console.log(pages.length);
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      const weekNumber = this.getWeekNumber4(fm.createdAt);
      const year = fm.createdAt.getFullYear();
      const month = fm.createdAt.getMonth() + 1;
      let msg = "";
      msg += `createdAt: ${fm.createdAt.toISOString().slice(0, 10)}
`;
      msg += `weekNumber: ${weekNumber}
`;
      msg += `year: ${year}
`;
      msg += `month: ${month}
`;
      msg += `day: ${fm.createdAt.getDay()}
`;
      const day = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"][fm.createdAt.getDay()];
      msg += `day: ${day}
`;
      console.log(msg);
      if (bins[year] === void 0) {
        bins[year] = {};
      }
      if (bins[year][weekNumber.toString()] === void 0) {
        bins[year][weekNumber.toString()] = {};
      }
      if (suiviMonthly[year] === void 0) {
        suiviMonthly[year] = {};
      }
      if (suiviWeekly[year] === void 0) {
        suiviWeekly[year] = {};
      }
      let tag = "";
      if (fm.getDomain() !== void 0) {
        tag = fm.getDomain();
      } else if (fm.getProject() !== void 0) {
        tag = fm.getProject();
      } else {
        tag = "adhoc";
      }
      if (tag == "weekly") {
        if (suiviWeekly[year][weekNumber] === void 0) {
          suiviWeekly[year][weekNumber] = [page];
        } else {
          suiviWeekly[year][weekNumber].push(page);
        }
        continue;
      } else if (tag === "monthly") {
        if (suiviMonthly[year][month] === void 0) {
          suiviMonthly[year][month] = [page];
        } else {
          suiviMonthly[year][month].push(page);
        }
        continue;
      } else if (tag === "yearly") {
        if (suiviYearly[year] === void 0) {
          suiviYearly[year] = [page];
        } else {
          suiviYearly[year].push(page);
        }
        continue;
      }
      if (bins[year][weekNumber][tag] === void 0) {
        bins[year][weekNumber][tag] = [page];
      } else {
        bins[year][weekNumber][tag].push(page);
      }
    }
    {
      const years = Object.keys(bins);
      let lastYear = 9999;
      let lastMonth = 13;
      years.sort().reverse();
      for (const year of years) {
        rs.push(["header", 2, year]);
        if (parseInt(year, 10) < lastYear) {
          lastMonth = 13;
          lastYear = parseInt(year, 10);
          if (suiviYearly[year] !== void 0) {
            for (const page of suiviYearly[year]) {
              const fm = new FrontmatterJS(page);
              rs.push([
                "paragraph",
                Renderer.makeLinkAlias(this.dv, fm.f)
              ]);
            }
          }
        }
        for (let week = 52; week > 0; week--) {
          const thisMonth = this.getMonth(year, week);
          if (suiviMonthly[year][thisMonth] !== void 0) {
            if (lastMonth !== thisMonth) {
              lastMonth = thisMonth;
              rs.push([
                "header",
                3,
                this.getMonthName(lastMonth)
              ]);
              if (suiviMonthly[year][thisMonth] !== void 0) {
                for (const page of suiviMonthly[year][thisMonth]) {
                  const fm = new FrontmatterJS(page);
                  rs.push([
                    "paragraph",
                    Renderer.makeLinkAlias(this.dv, fm.f)
                  ]);
                }
              }
            }
          }
          if (suiviWeekly[year][week] === void 0 && bins[year][week] === void 0) {
            continue;
          }
          rs.push(["header", 4, `week ${week.toString()}`]);
          if (suiviWeekly[year][week] !== void 0) {
            for (const page of suiviWeekly[year][week]) {
              const fm = new FrontmatterJS(page);
              rs.push([
                "paragraph",
                Renderer.makeLinkAlias(this.dv, fm.f)
              ]);
            }
          }
          if (bins[year][week] === void 0) {
            continue;
          }
          const tags = Object.keys(bins[year][week]);
          tags.sort();
          for (const tag of tags) {
            rs.push(["header", 5, tag]);
            bins[year][week][tag].sort((a, b) => {
              const fmA = new FrontmatterJS(a);
              const fmB = new FrontmatterJS(b);
              return fmB.createdAt.getTime() - fmA.createdAt.getTime();
            });
            for (const page of bins[year][week][tag]) {
              const fm = new FrontmatterJS(page);
              if (fm.type === 6) {
              } else {
                const d = fm.createdAt.toISOString().slice(0, 10);
                const day = [
                  "Sun",
                  "Mon",
                  "Tue",
                  "Wed",
                  "Thu",
                  "Fri",
                  "Sat"
                ][fm.createdAt.getDay()];
                const text = `${d}, ${day}`;
                rs.push([
                  "paragraph",
                  Renderer.makeLink(this.dv, fm.f, text)
                ]);
              }
            }
          }
        }
      }
    }
    return rs;
  }
  journal() {
    const rs = [];
    const bins = {};
    const suiviWeekly = {};
    const suiviMonthly = {};
    const suiviYearly = {};
    const pages = this.dv.pages(`"Journal"`).sort((page) => page.file.frontmatter.created_at, "desc");
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      const weekNumber = this.getWeekNumber4(fm.createdAt);
      const year = fm.createdAt.getFullYear();
      const month = fm.createdAt.getMonth() + 1;
      let msg = "";
      msg += `createdAt: ${fm.createdAt.toISOString().slice(0, 10)}
`;
      msg += `weekNumber: ${weekNumber}
`;
      msg += `year: ${year}
`;
      msg += `month: ${month}
`;
      msg += `day: ${fm.createdAt.getDay()}
`;
      const day = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"][fm.createdAt.getDay()];
      msg += `day: ${day}
`;
      if (bins[year] === void 0) {
        bins[year] = {};
      }
      if (bins[year][weekNumber.toString()] === void 0) {
        bins[year][weekNumber.toString()] = {};
      }
      if (suiviMonthly[year] === void 0) {
        suiviMonthly[year] = {};
      }
      if (suiviWeekly[year] === void 0) {
        suiviWeekly[year] = {};
      }
      let tag = "";
      if (fm.getDomain() !== void 0) {
        tag = fm.getDomain();
      } else if (fm.getProject() !== void 0) {
        tag = fm.getProject();
      } else {
        tag = "adhoc";
      }
      if (tag == "weekly") {
        if (suiviWeekly[year][weekNumber] === void 0) {
          suiviWeekly[year][weekNumber] = [page];
        } else {
          suiviWeekly[year][weekNumber].push(page);
        }
        continue;
      } else if (tag === "monthly") {
        if (suiviMonthly[year][month] === void 0) {
          suiviMonthly[year][month] = [page];
        } else {
          suiviMonthly[year][month].push(page);
        }
        continue;
      } else if (tag === "yearly") {
        if (suiviYearly[year] === void 0) {
          suiviYearly[year] = [page];
        } else {
          suiviYearly[year].push(page);
        }
        continue;
      }
      if (bins[year][weekNumber][tag] === void 0) {
        bins[year][weekNumber][tag] = [page];
      } else {
        bins[year][weekNumber][tag].push(page);
      }
    }
    {
      const years = Object.keys(bins);
      let lastYear = 9999;
      let lastMonth = 13;
      years.sort().reverse();
      for (const year of years) {
        rs.push(["header", 2, year]);
        if (parseInt(year, 10) < lastYear) {
          lastMonth = 13;
          lastYear = parseInt(year, 10);
          if (suiviYearly[year] !== void 0) {
            for (const page of suiviYearly[year]) {
              const fm = new FrontmatterJS(page);
              rs.push([
                "paragraph",
                Renderer.makeLinkAlias(this.dv, fm.f)
              ]);
            }
          }
        }
        for (let week = 52; week > 0; week--) {
          const thisMonth = this.getMonth(year, week);
          if (suiviMonthly[year][thisMonth] !== void 0) {
            if (lastMonth !== thisMonth) {
              lastMonth = thisMonth;
              rs.push([
                "header",
                3,
                this.getMonthName(lastMonth)
              ]);
              if (suiviMonthly[year][thisMonth] !== void 0) {
                for (const page of suiviMonthly[year][thisMonth]) {
                  const fm = new FrontmatterJS(page);
                  rs.push([
                    "paragraph",
                    Renderer.makeLinkAlias(this.dv, fm.f)
                  ]);
                }
              }
            }
          }
          if (suiviWeekly[year][week] === void 0 && bins[year][week] === void 0) {
            continue;
          }
          rs.push(["header", 4, `week ${week.toString()}`]);
          if (suiviWeekly[year][week] !== void 0) {
            for (const page of suiviWeekly[year][week]) {
              const fm = new FrontmatterJS(page);
              rs.push([
                "paragraph",
                Renderer.makeLinkAlias(this.dv, fm.f)
              ]);
            }
          }
          if (bins[year][week] === void 0) {
            continue;
          }
          const tags = Object.keys(bins[year][week]);
          tags.sort();
          for (const tag of tags) {
            rs.push(["header", 5, tag]);
            bins[year][week][tag].sort((a, b) => {
              const fmA = new FrontmatterJS(a);
              const fmB = new FrontmatterJS(b);
              return fmB.createdAt.getTime() - fmA.createdAt.getTime();
            });
            for (const page of bins[year][week][tag]) {
              const fm = new FrontmatterJS(page);
              if (fm.type === 6) {
              } else {
                const d = fm.createdAt.toISOString().slice(0, 10);
                const day = [
                  "Sun",
                  "Mon",
                  "Tue",
                  "Wed",
                  "Thu",
                  "Fri",
                  "Sat"
                ][fm.createdAt.getDay()];
                const text = `${d}, ${day}`;
                rs.push([
                  "paragraph",
                  Renderer.makeLink(this.dv, fm.f, text)
                ]);
              }
            }
          }
        }
      }
    }
    return rs;
  }
  calendar() {
    const rs = [];
    const bins = {};
    const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (fm.fm.at === void 0 && fm.fm.before === void 0 && fm.fm.after === void 0) {
        return false;
      }
      if (fm.fm.status !== "todo") {
        return false;
      }
      if (fm.getProject() === "daily") {
        return false;
      }
      return true;
    });
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      let year = 0;
      let month = 0;
      let day = 0;
      if (fm.fm.before !== void 0) {
        year = fm.before.getFullYear();
        month = fm.before.getMonth();
        day = fm.before.getUTCDate();
      } else if (fm.fm.at !== void 0) {
        year = fm.at.getFullYear();
        month = fm.at.getMonth();
        day = fm.at.getUTCDate();
      } else if (fm.after !== void 0) {
        year = fm.after.getFullYear();
        month = fm.after.getMonth();
        day = fm.after.getUTCDate();
      } else {
        throw new Error();
      }
      if (bins[year] === void 0) {
        bins[year] = {};
      }
      if (bins[year][month] === void 0) {
        bins[year][month] = {};
      }
      if (bins[year][month][day] === void 0) {
        bins[year][month][day] = {};
      }
      if (bins[year][month][day]["at"] === void 0) {
        bins[year][month][day]["at"] = [];
      }
      if (bins[year][month][day]["before"] === void 0) {
        bins[year][month][day]["before"] = [];
      }
      if (bins[year][month][day]["after"] === void 0) {
        bins[year][month][day]["after"] = [];
      }
      if (fm.fm.before !== void 0) {
        bins[year][month][day]["before"].push(page);
      } else if (fm.fm.at !== void 0) {
        bins[year][month][day]["at"].push(page);
      } else {
        bins[year][month][day]["after"].push(page);
      }
    }
    {
      const years = Object.keys(bins);
      years.sort((a, b) => parseInt(a) - parseInt(b));
      for (const year of years) {
        rs.push(["header", 2, year]);
        const months = Object.keys(bins[year]);
        months.sort((a, b) => parseInt(a) - parseInt(b));
        for (const month of months) {
          rs.push([
            "header",
            3,
            `${["January", "Febuary", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"][month]}`
          ]);
          const days = Object.keys(bins[year][month]);
          days.sort((a, b) => parseInt(a) - parseInt(b));
          for (const day of days) {
            const weeks = [
              "Sun",
              "Mon",
              "Tue",
              "Wed",
              "Thu",
              "Fri",
              "Sat"
            ];
            const before = bins[year][month][day]["before"];
            const at = bins[year][month][day]["at"];
            const after = bins[year][month][day]["after"];
            console.log(
              `year: ${year}
month: ${month}
day: ${day}`
            );
            if (before.length > 0) {
              for (const page of before) {
                console.log("--- before ---");
                console.log(page);
                console.log("------");
                const fm = new FrontmatterJS(page);
                const text = `before: ${weeks[fm.before.getDay()]} ${day} ${fm.at.toISOString().slice(11, 16)} | ${fm.getProject()}`;
                rs.push([
                  "paragraph",
                  Renderer.makeLink(
                    this.dv,
                    fm.f,
                    text,
                    "Task"
                  )
                ]);
              }
            }
            if (at.length > 0) {
              at.sort((a, b) => {
                const fmA = new FrontmatterJS(a);
                const fmB = new FrontmatterJS(b);
                return fmB.at.getTime() - fmA.at.getTime();
              });
              for (const page of at) {
                console.log("--- at ---");
                console.log(page);
                console.log("------");
                const fm = new FrontmatterJS(page);
                const text = `at: ${weeks[fm.at.getDay()]} ${day} ${fm.at.toISOString().slice(11, 16)} | ${fm.getProject()}`;
                rs.push([
                  "paragraph",
                  Renderer.makeLink(
                    this.dv,
                    fm.f,
                    text,
                    "Task"
                  )
                ]);
              }
            }
            if (after.length > 0) {
              for (const page of after) {
                console.log("--- after ---");
                console.log(page);
                console.log("------");
                const fm = new FrontmatterJS(page);
                const text = ` after: ${weeks[fm.after.getDay()]} ${day} ${fm.at.toISOString().slice(11, 16)} | ${fm.getProject()}`;
                rs.push([
                  "paragraph",
                  Renderer.makeLink(
                    this.dv,
                    fm.f,
                    text,
                    "Task"
                  )
                ]);
              }
            }
          }
        }
      }
    }
    return rs;
  }
  globalTaskList(pages) {
    const rs = [];
    const bins = {};
    for (const page of pages) {
      const fm = new FrontmatterJS(page);
      if (fm.getProject() === void 0) {
        fm.projects = ["adhoc"];
      }
      if (bins[fm.getProject()] === void 0) {
        bins[fm.getProject()] = [page];
      } else {
        bins[fm.getProject()].push(page);
      }
    }
    const projects = Object.keys(bins);
    projects.sort();
    for (const project of projects) {
      const tasks = bins[project];
      tasks.sort(Helper.sortByPriorityAndDurationAndAge);
      rs.push(["header", 2, `${project}`]);
      rs.push(["array", Renderer.basicTaskJournal, tasks]);
    }
    return rs;
  }
  nextActions(dv) {
    const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (["daily", "weekly", "monthly", "yearly"].contains(
        fm.getProject()
      )) {
        return false;
      }
      if (!this.projectIsActive(fm.getProject())) {
        return false;
      }
      if (!this.noteHelper.isDoable(page)) {
        return false;
      }
      if (fm.fm.priority === 0) {
        return false;
      }
      return true;
    });
    return this.globalTaskList(pages);
  }
  waitingFor(dv) {
    const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (["daily", "weekly", "monthly", "yearly"].contains(
        fm.getProject()
      )) {
        return false;
      }
      if (!["todo", "waiting"].contains(fm.fm.status)) {
        return false;
      }
      if (!this.projectIsActive(fm.getProject())) {
        return false;
      }
      if (this.noteHelper.isDoable(page) || fm.fm.priority === 0) {
        return false;
      }
      return true;
    });
    return this.globalTaskList(pages);
  }
  projectIsActive(name) {
    const project = this.dv.pages(`"Projects"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (fm.getName() !== name) {
        return false;
      }
      if (fm.fm.active === false) {
        return false;
      }
      return true;
    });
    return project.length > 0;
  }
  somedayMaybe(dv) {
    const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
      const fm = new FrontmatterJS(page);
      if (["daily", "weekly", "monthly", "yearly"].contains(
        fm.getProject()
      )) {
        return false;
      }
      if (!this.projectIsActive(fm.getProject())) {
        return false;
      }
      if (!this.noteHelper.isDoable(page) || fm.fm.priority > 0) {
        return false;
      }
      return true;
    });
    return this.globalTaskList(pages);
  }
};
var DvLib = class {
  constructor() {
    this.taskDir = "813 Tasks";
    this.inboxDir = "800 Inbox";
    this.refDir = "802 Refs";
    this.logDir = "600 Log";
    this.Task = {
      BASE: 3,
      DAILY: 4
    };
    this.Type = {
      TASK: 3,
      DAILY: 4,
      LOG: 6
    };
    this.Status = {
      TODO: "todo",
      DONE: "done",
      DOING: "doing",
      TRASH: "trash",
      MAYBE: "maybe",
      STANDBY: "standby"
    };
    this.Namespace = {
      AREA: "area",
      CONTEXT: "context",
      LAYER: "layer",
      ORG: "org",
      PROJECT: "project"
    };
    this.Default = {
      AREA: "none",
      CONTEXT: "any",
      LAYER: "none",
      ORG: "none",
      PROJECT: "none"
    };
    this._dv = "";
  }
  set dv(mod) {
    this._dv = mod;
  }
  get dv() {
    return this._dv;
  }
  isChildTag(parent, child) {
    if (child.length <= parent.length + 1) {
      return false;
    } else if (child.slice(0, parent.length + 1) != `${parent}/`) {
      return false;
    }
    return true;
  }
  stripTag(tag) {
    let t = "";
    if (tag.slice(-1) === "/") {
      t = tag.slice(0, -1);
    } else {
      t = tag;
    }
    if (t.slice(0, 1) === "#") {
      t = t.slice(1, t.length);
    }
    return t;
  }
  getTaskFromUUID(dv, uuid) {
    const n = dv.pages(`"${this.taskDir}/${uuid}"`);
    if (n.length === 0) {
      console.warn(`"${this.taskDir}/${uuid}" task does not exists`);
      return void 0;
    }
    return n[0];
  }
  hasValidFormat(task) {
    const fm = task.file.frontmatter;
    if (fm === void 0) {
      console.warn(
        `"${this.taskDir}/${task.uuid}" task does not have a frontmatter`
      );
      return false;
    }
    if (fm.type === void 0) {
      console.warn(
        `"${this.taskDir}/${task.uuid}" task does not have a \`type\` field`
      );
      return false;
    }
    if (fm.status === void 0) {
      console.warn(
        `"${this.taskDir}/${task.uuid}" task does not have a \`status\` field`
      );
      return false;
    }
    return true;
  }
  hasPendingDependencies(dv, deps) {
    for (const dep of deps) {
      const task = this.getTaskFromUUID(dv, dep);
      if (task === void 0) {
        continue;
      }
      if (!this.hasValidFormat(task)) {
        continue;
      }
      const fm = task.file.frontmatter;
      if (fm.type !== this.Task.BASE && fm.type !== this.Task.DAILY) {
        continue;
      }
      if (fm.status === this.Status.TODO) {
        return true;
      }
    }
    return false;
  }
  isDoable(dv, task) {
    const fm = task.file.frontmatter;
    if (fm.status !== this.Status.TODO) {
      return false;
    }
    if (fm.after !== void 0) {
      const after = new Date(fm.after);
      if (Date.now() <= after.getTime()) {
        return false;
      }
    }
    const deps = fm.needs;
    if (deps === void 0 || deps.length === 0) {
      return true;
    }
    if (this.hasPendingDependencies(dv, deps)) {
      return false;
    }
    return true;
  }
  getNamespaceContent(dv, ns) {
    const children = [];
    const resp = dv.pages(`#${ns}`);
    for (const f of resp) {
      const tags = f.tags;
      if (tags === void 0) {
        continue;
      }
      for (const tag of tags) {
        if (this.isChildTag(ns, tag)) {
          const t = tag.slice(ns.length + 1);
          if (!children.includes(t)) {
            children.push(t);
          }
        }
      }
    }
    return children;
  }
  isDone(dv, dep) {
    const task = this.getTaskFromUUID(dv, dep);
    if (task === void 0) {
      return false;
    }
    if (!this.hasValidFormat(task)) {
      return false;
    }
    const fm = task.file.frontmatter;
    if (fm.status === this.Status.DONE) {
      return true;
    }
    return false;
  }
  getTasks(dv, tag, taskType = [this.Task.BASE, this.Task.DAILY], status = this.Status.TODO) {
    const buff = [];
    const tasks = dv.pages(tag);
    for (const task of tasks) {
      const fm = task.file.frontmatter;
      if (fm === void 0) {
        continue;
      }
      if (fm.status === void 0 || fm.status !== status) {
        continue;
      }
      if (fm.type === void 0 || !taskType.contains(fm.type)) {
        continue;
      }
      buff.push(task);
    }
    return buff;
  }
  formatTask(dv, task) {
    return dv.fileLink(task.file.path);
  }
  formatTaskBis(dv, task) {
    const f = task.file;
    let ctx = "";
    for (const tag of f.tags) {
      if (tag.slice(0, 9) == "#context/") {
        ctx = tag.slice(9);
      }
    }
    return [
      dv.fileLink(f.path),
      dv.markdownTaskList(f.tasks),
      f.frontmatter.time_estimate,
      ctx
    ];
  }
  formatTaskBase(dv, task) {
    const f = task.file;
    const fm = f.frontmatter;
    const tags = fm.tags;
    const area = this.getArea(tags);
    return [
      dv.fileLink(f.path, false, fm.uuid.slice(0, 8)),
      dv.markdownTaskList(f.tasks),
      fm.time_estimate,
      area
    ];
  }
  formatTaskWaiting(dv, task) {
    const f = task.file;
    const fm = f.frontmatter;
    const deps = [];
    if (fm.needs !== void 0) {
      for (const dep of fm.needs) {
        deps.push(dv.fileLink(`${this.taskDir}/${dep}`));
      }
    }
  }
  formatTaskMaybe(dv, task) {
    const f = task.file;
    const fm = f.frontmatter;
    const deps = [];
    return [dv.fileLink(f.path)];
  }
  makeAsyncRequest(dv, uuid) {
    return dv.query(`LIST WHERE needs AND contains(needs, "${uuid}")`).then((value) => {
      return value;
    });
  }
  getDependantTasks(dv, task) {
    const buff = [];
    const uuid = task.file.name;
    if (task.file.frontmatter === void 0) {
      return buff;
    }
    const tasks = dv.pages(`"${this.taskDir}"`).where((p) => p.needs !== void 0 && p.needs.contains(uuid));
    for (const tk of tasks) {
      const t = dv.pages(`"${tk.file.path}"`);
      buff.push(t[0]);
    }
    return buff;
  }
  byDependencyAndPriorityAndCreatedAt(dv, a, b) {
    const ftA = a.file.frontmatter;
    const ftB = b.file.frontmatter;
    const prioA = ftA.priority;
    const prioB = ftB.priority;
    const depsA = this.getDependantTasks(dv, a);
    const depsB = this.getDependantTasks(dv, b);
    if (depsA.length - depsB.length !== 0) {
      return depsA.length - depsB.length;
    }
    if (prioA - prioB !== 0) {
      return prioA - prioB;
    }
    const dateA = new Date(ftA.created_at);
    const dateB = new Date(ftB.created_at);
    return (dateA.getTime() - dateB.getTime()) * -1;
  }
  formatTaskPlanningWaiting(dv, task) {
    const f = task.file;
    return [
      // ajouter alias sur le link
      dv.markdownTaskList(f.tasks),
      dv.fileLink(f.path, false, f.name.slice(0, 8)),
      f.frontmatter.time_estimate,
      f.frontmatter.cause
    ];
  }
  renderBaseAsArray(dv, tasks) {
    const arr = [];
    tasks.forEach((task) => {
      arr.push(this.formatTaskBase(dv, task));
    });
    dv.table(["uuid", "tasks", "estimate", "area"], arr);
  }
  renderPlanningWaiting(dv, tasks) {
    const arr = [];
    tasks.forEach((task) => {
      arr.push(this.formatTaskPlanningWaiting(dv, task));
    });
    dv.table(["tasks", "uuid", "estimate", "cause"], arr);
  }
  renderMaybeAsArray(dv, tasks) {
    const arr = [];
    tasks.forEach(({ ref, task }) => {
      if (task !== void 0) {
        arr.push(this.formatTaskMaybe(dv, task));
      }
    });
    dv.table(["uuid"], arr);
  }
  formatTaskDaily(dv, task) {
    const f = task.file;
    const fm = task.file.frontmatter;
    const tags = task.file.tags;
    const areas = [];
    for (const tag of tags) {
      if (tag.slice(0, 6) == "#area/") {
        areas.push(tag.slice(6));
      }
    }
    const links = [];
    for (const link of f.outlinks) {
      links.push(link);
    }
    const tasks = [];
    for (const t of f.tasks) {
      tasks.push(t);
    }
    return [
      dv.fileLink(f.path),
      links.length > 0 ? dv.markdownList(links) : dv.markdownTaskList(tasks),
      fm.time_allocated,
      areas.length > 0 ? dv.markdownList(areas) : ""
    ];
  }
  formatFleeting(dv, task) {
    const f = task.file;
    const fm = task.file.frontmatter;
    const tags = task.file.tags;
    const hours = 3600;
    const days = 86400;
    let dt = new Date();
    if (fm !== void 0 && fm.created_at !== void 0) {
      dt = new Date(fm.created_at);
    } else {
      dt = new Date(f.ctime.ts);
    }
    const now = new Date();
    const delta = (now.getTime() - dt.getTime()) / 1e3;
    let since = "";
    const toDt = (t) => {
      return String(Math.round(t * 10) / 10).padStart(2, "0");
    };
    if (delta >= days) {
      since = toDt(delta / days) + "d";
    } else {
      since = toDt(delta / hours) + "h";
    }
    if (fm.alias === void 0 || fm.alias === "") {
      return [dv.fileLink(`${f.path}`), since, f.size];
    } else {
      return [dv.fileLink(`${f.path}`, false, fm.alias), since, f.size];
    }
  }
  renderDailyAsArray(dv, tasks) {
    const arr = [];
    tasks.forEach((task) => {
      arr.push(this.formatTaskDaily(dv, task));
    });
    dv.table(["uuid", "content", "duration", "area"], arr);
  }
  renderFleetingAsArray(dv, tasks) {
    const arr = [];
    tasks.forEach((task) => {
      arr.push(this.formatFleeting(dv, task));
    });
    dv.table(["content", "age", "size"], arr);
  }
  autoFieldNeed(dv, fm) {
    if (fm.needs === void 0) {
      return;
    }
    const buff = [];
    for (const dep of fm.needs) {
      if (!this.isDone(dv, dep)) {
        buff.push(dv.fileLink(`${this.taskDir}/${dep}`));
      }
    }
    if (buff.length > 0) {
      dv.header(2, "Needs");
      dv.list(buff);
    }
  }
  autoFieldNeededBy(dv, current) {
    const tasks = this.getDependantTasks(dv, current);
    if (tasks.length === 0) {
      return;
    }
    const buff = [];
    for (const task of tasks) {
      if (!this.isDone(dv, task.uuid)) {
        buff.push(dv.fileLink(task.file.path));
      }
    }
    if (buff.length > 0) {
      dv.header(2, "NeededBy");
      dv.list(buff);
    }
  }
  autoFieldTags(dv, fm) {
    const tags = fm.tags;
    if (tags == void 0 || tags.length === 0) {
      return;
    }
    tags.sort();
    dv.header(2, "Tags");
    let s = "";
    for (const tag of tags) {
      s += ` #${tag}`;
    }
    dv.paragraph(s);
  }
  autoFieldTaskBase(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    if (fm === void 0) {
      console.warn("fm is required");
      return;
    }
    const projectName = Helper.getProject(fm);
    if (projectName !== void 0) {
      const projects = dv.pages(`"Projects"`).where((fmP) => {
        if (fmP.name === projectName.slice(8)) {
          return true;
        }
        return false;
      });
      if (projects.length) {
        dv.header(2, "Project");
        dv.paragraph(Renderer.makeLinkName(dv, projects[0].file));
      }
    }
    this.autoFieldNeed(dv, fm);
    this.autoFieldNeededBy(dv, current);
    const logEntries = dv.pages(`"${this.logDir}/${fm.uuid}"`).where((p) => p.type === 6).sort((k) => k.created_at, "desc");
    const buff = [];
    let totalTime = 0;
    for (const entry of logEntries) {
      const fme = entry.file.frontmatter;
      const e = [];
      let start = 0;
      let stop = 0;
      if (fme === void 0 || fme.created_at === void 0) {
        throw new Error(`Invalid frontmatter: ${fme.uuid}`);
      }
      start = new Date(fme.created_at);
      e.push(start.toISOString().slice(0, 10));
      if (fme.done_at === void 0) {
        stop = Date.now();
      } else {
        stop = new Date(fme.done_at);
      }
      totalTime += stop - start;
      e.push(
        dv.sectionLink(
          fme.uuid,
          "## Content",
          false,
          fme.uuid.slice(0, 8)
        )
      );
      e.push(Math.round((stop - start) / (1e3 * 60 * 60) * 10) / 10);
      if (fme.reviewed === void 0 || fme.reviewed === 0) {
        e.push(0);
      } else {
        e.push(fme.reviewed);
      }
      buff.push(e);
    }
    if (buff.length > 0) {
      dv.header(2, "Logs");
      dv.table(["created_at", "uuid", "session", "reviewed"], buff);
      if (totalTime > 0) {
        dv.paragraph(
          `_totalTime (h):_ ${Math.round(totalTime / (1e3 * 60 * 60) * 10) / 10}`
        );
      }
    }
  }
  autoFieldLog(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    if (fm === void 0) {
      return;
    }
    dv.header(2, "Parent");
    dv.paragraph(dv.fileLink(`${this.taskDir}/${fm.parent_id}`));
  }
  autoFieldAuthors(dv, fm) {
    const authors = fm.authors;
    if (authors === void 0 || authors.length === 0) {
      return;
    }
    dv.header(2, "Authors");
    dv.list(authors);
  }
  autoFieldTitle(dv, fm) {
    const title = fm.alias;
    if (title == void 0) {
      return;
    }
    dv.header(1, title);
  }
  autoFieldLiteratureNote(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    if (fm === void 0) {
      return;
    }
    this.autoFieldTitle(dv, fm);
    this.autoFieldAuthors(dv, fm);
    this.autoFieldTags(dv, fm);
  }
  autoFieldPermanent(dv) {
    const current = dv.current();
    const fm = current.file.frontmatter;
    if (fm === void 0) {
      return;
    }
    this.autoFieldTags(dv, fm);
  }
  autoFieldTask(dv) {
    return this.autoFieldTaskBase(dv);
  }
  autoFieldLiterature(dv) {
    return this.autoFieldLiteratureNote(dv);
  }
  autoFieldFleeting(dv) {
    return;
  }
  autoFieldSupply(dv) {
    return;
  }
  findTasksByProject(dv, name) {
    const buff = [];
    if (name !== "" && name !== "none") {
      const tasks = this.getTasks(dv, `${this.Namespace.PROJECT}/none`, [
        this.Task.BASE
      ]);
      for (const task of tasks) {
        const fm = task.file.frontmatter;
        if (this.isDoable(dv, task)) {
          buff.push(task);
        }
      }
    } else {
      const tasks = this.getTasks(dv, "", [this.Task.BASE]);
      for (const task of tasks) {
        const fm = task.file.frontmatter;
        const tags = fm.tags;
        if (fm.tags === void 0 && (name === "" || name === "none") || fm.tags.contains(`${this.Namespace.PROJECT}/none`)) {
          if (this.isDoable(dv, task)) {
            buff.push(task);
          }
        }
      }
    }
    buff.sort();
    return buff;
  }
  getTag(tags, type) {
    let name = "";
    let defaultValue = "";
    if (type === "area") {
      name = this.Namespace.AREA;
      defaultValue = this.Default.AREA;
    } else if (type === "context") {
      name = this.Namespace.CONTEXT;
      defaultValue = this.Default.CONTEXT;
    } else if (type === "layer") {
      name = this.Namespace.LAYER;
      defaultValue = this.Default.LAYER;
    } else if (type === "org") {
      name = this.Namespace.ORG;
      defaultValue = this.Default.ORG;
    } else if (type === "project") {
      name = this.Namespace.PROJECT;
      defaultValue = this.Default.PROJECT;
    } else {
      throw new Error(`getTag got unsuported type: ${type}`);
    }
    const len = name.length + 1;
    const defaultTag = `${name}/${defaultValue}`;
    if (tags === void 0) {
      return defaultTag;
    }
    for (const tag of tags) {
      if (tag.length > len && tag.slice(0, len) == `${name}/`) {
        return tag;
      }
    }
    return defaultTag;
  }
  getArea(tags) {
    return this.getTag(tags, "area");
  }
  getContext(tags) {
    return this.getTag(tags, "context");
  }
  getLayer(tags) {
    return this.getTag(tags, "layer");
  }
  getOrg(tags) {
    return this.getTag(tags, "org");
  }
  getProject(tags) {
    return this.getTag(tags, "project");
  }
  parseListFrontmatter(fm) {
    let minPriority = 0;
    if (fm.min_priority !== void 0) {
      minPriority = fm.min_priority;
    }
    let ignore = [];
    if (fm.ignore !== void 0) {
      ignore = fm.ignore;
    }
    let byAreas = [];
    if (fm.by_areas !== void 0) {
      byAreas = fm.by_areas;
    }
    let byProjects = [];
    if (fm.by_projects !== void 0) {
      byProjects = fm.by_projects;
    }
    return [minPriority, ignore, byAreas, byProjects];
  }
  renderNamespaceContent(dv) {
    const self = dv.current();
    const name = self.file.name.toLowerCase().slice(0, -1);
    dv.header(1, "Index");
    dv.header(2, `${self.file.name}`);
    const tags = this.getNamespaceContent(dv, name);
    tags.sort();
    for (const tag of tags) {
      dv.paragraph(`#${name}/${tag}`);
    }
  }
  renderUnprocessedLogs(dv) {
    const logs = dv.pages(`"${this.logDir}"`).where(
      (p) => p.type === this.Type.LOG && (p.reviewd === void 0 || p.reviewed < 1)
    ).sort((k) => k.created_at, "asc");
    const buff = [];
    const arr = [];
    logs.forEach((entry) => {
      const fm = entry.file.frontmatter;
      if (fm === void 0) {
        return;
      }
      const parentId = fm.parent_id;
      if (parentId === void 0) {
        throw new Error(`Invalid log entry: ${entry.file.path}`);
      }
      const parent = dv.pages(`"${this.taskDir}/${parentId}"`);
      const parentFm = parent.file.frontmatter;
      if (parentFm === void 0) {
        throw new Error(`Invalid task: ${parent.file.path}`);
      }
      let project = this.getProject(parentFm.tags);
      if (project === `${this.Namespace.PROJECT}/${this.Default.PROJECT}`) {
        project = "";
      }
      let area = this.getArea(parentFm.tags);
      if (area === `${this.Namespace.AREA}/${this.Default.AREA}`) {
        area = "";
      }
      const formated = [];
      formated.push(
        dv.sectionLink(
          entry.file.path,
          "Content",
          false,
          `${fm.uuid.slice(0, 8)}`
        )
      );
      const createdAt = new Date(fm.created_at);
      formated.push(createdAt.toISOString().slice(0, 10));
      formated.push(project);
      formated.push(area);
      arr.push(formated);
    });
    dv.table(["uuid", "created_at", "project", "area"], arr);
  }
  assertTaskDoneAt(dv, taskId) {
    const task = dv.pages(`"${this.taskDir}/${taskId}"`);
    if (task.length === 0) {
      throw new Error(`task: ${taskId} doest not exists`);
    }
    const fm = task.file.frontmatter;
    if (fm === void 0) {
      throw new Error(`task: ${taskId} does not have a frontmatter`);
    }
    const logs = dv.pages(`"${this.logDir}/${taskId}"`).sort((k) => k.created_at, "asc");
    if (logs.length < 1) {
      throw new Error(`task: ${taskId} has no Logs`);
    }
    const lastEntry = logs[logs.length - 1];
    if (lastEntry.file.frontmatter.done_at === void 0) {
      throw new Error(
        `task: ${taskId} last entry is missing 'done_at' field`
      );
    }
    const doneAt = new Date(lastEntry.file.frontmatter.done_at);
    return [
      dv.sectionLink(
        task.file.path,
        "Content",
        false,
        `${task.file.frontmatter.uuid.slice(0, 8)}`
      ),
      `${doneAt.toISOString().slice(0, 10)}`
    ];
  }
  getDoneTimeline(dv) {
    const tasks = dv.pages(`"${this.taskDir}"`).where((p) => p.status === "done");
    const buff = [];
    for (const task of tasks) {
      const fm = task.file.frontmatter;
      if (fm === void 0) {
        throw new Error(`task: ${fm.uuid} does not have a frontmatter`);
      }
      const logs = dv.pages(`"${this.logDir}/${fm.uuid}"`).sort((k) => k.created_at, "asc");
      if (logs.length < 1) {
        console.warn(`task: ${fm.uuid} has no Logs`);
      }
      const lastEntry = logs[logs.length - 1];
      if (lastEntry === void 0) {
        continue;
      }
      if (lastEntry.file.frontmatter.done_at === void 0) {
        throw new Error(
          `task: ${fm.uuid} last entry is missing 'done_at' field`
        );
      }
      fm.doneAt = new Date(lastEntry.file.frontmatter.done_at);
      buff.push(task);
    }
    buff.sort((a, b) => {
      const dateA = new Date(a.file.frontmatter.doneAt);
      const dateB = new Date(b.file.frontmatter.doneAt);
      return (dateA.getTime() - dateB.getTime()) * -1;
    });
    const arr = [];
    buff.forEach((e) => {
      arr.push([
        dv.sectionLink(
          e.file.path,
          "Content",
          false,
          `${e.file.frontmatter.uuid.slice(0, 8)}`
        ),
        `${e.file.frontmatter.doneAt.toISOString().slice(0, 16)}`
      ]);
    });
    dv.table(["uuid", "doneAt"], arr);
  }
  durationStringToSec(val) {
    const mult = val.slice(-1);
    let m = 0;
    if (mult === "h") {
      m = 60 * 60;
    } else if (mult === "m") {
      m = 60;
    } else if (mult === "d") {
      m = 24 * 60 * 60;
    } else {
      console.warn(`Unhandled case mult: ${mult}`);
    }
    return m * parseInt(val.slice(0, -1));
  }
  testDvFunc() {
    const dv = app.plugins.plugins.dataview.api;
    const tasks = dv.pages(`"${this.taskDir}"`).where((p) => p.status === "done");
    const buff = [];
    for (const task of tasks) {
      const fm = task.file.frontmatter;
      if (fm === void 0) {
        throw new Error(`task: ${fm.uuid} does not have a frontmatter`);
      }
      const logs = dv.pages(`"${this.logDir}/${fm.uuid}"`).sort((k) => k.created_at, "asc");
      if (logs.length < 1) {
        console.warn(`task: ${fm.uuid} has no Logs`);
      }
      const lastEntry = logs[logs.length - 1];
      if (lastEntry === void 0) {
        continue;
      }
      if (lastEntry.file.frontmatter.done_at === void 0) {
        throw new Error(
          `task: ${fm.uuid} last entry is missing 'done_at' field`
        );
      }
      fm.doneAt = new Date(lastEntry.file.frontmatter.done_at);
      buff.push(task);
    }
    buff.sort((a, b) => {
      const dateA = new Date(a.file.frontmatter.doneAt);
      const dateB = new Date(b.file.frontmatter.doneAt);
      return (dateA.getTime() - dateB.getTime()) * -1;
    });
    const arr = [];
    buff.forEach((e) => {
      arr.push([
        dv.sectionLink(
          e.file.path,
          "Content",
          false,
          `${e.file.frontmatter.uuid.slice(0, 8)}`
        ),
        `${e.file.frontmatter.doneAt.toISOString().slice(0, 16)}`
      ]);
    });
  }
};

// main.ts
var DEFAULT_SETTINGS = {
  mySetting: "default"
};
var dayShort = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
var monthShort = [
  "Jan",
  "Feb",
  "Mar",
  "Apr",
  "May",
  "Jun",
  "Jul",
  "Aug",
  "Sep",
  "Oct",
  "Nov",
  "Dec"
];
var ALL_EMOJIS = {
  ":+1:": "\u{1F44D}",
  ":sunglasses:": "\u{1F60E}",
  ":smile:": "\u{1F604}"
};
var MyPlugin = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.vaultContent = [];
    this.vaultContentDict = {};
  }
  openViewInNewTabIfNotOpened(name) {
    const active = this.app.workspace.activeLeaf;
    const root = active.parent;
    let found = false;
    let node = void 0;
    const emptyTabs = [];
    for (const leaf of root.children) {
      const file2 = this.getFileFromLeaf(leaf);
      if (file2 === void 0) {
        emptyTabs.push(leaf);
        continue;
      }
      if (file2.name === name) {
        found = true;
        node = leaf;
      }
    }
    const file = void 0;
    if (!found) {
      if (emptyTabs.length > 0) {
        node = emptyTabs[0];
      } else {
        this.app.workspace.createLeafInParent(
          root,
          root.children.length + 1
        );
        node = root.children[root.children.length - 1];
      }
    }
    node.openFile(this.app.vault.getAbstractFileByPath(name), {
      active: true
    });
  }
  openInNewTabIfNotOpened(page) {
    const active = this.app.workspace.activeLeaf;
    const root = active.parent;
    let found = false;
    let node = void 0;
    const emptyTabs = [];
    for (const leaf of root.children) {
      const file = this.getFileCacheFromLeaf(leaf);
      if (file === void 0) {
        emptyTabs.push(leaf);
        continue;
      }
      if (file.frontmatter !== void 0 && file.frontmatter.uuid === page.file.frontmatter.uuid) {
        found = true;
        node = leaf;
        break;
      }
    }
    if (!found) {
      if (emptyTabs.length > 0) {
        node = emptyTabs[0];
      } else {
        this.app.workspace.createLeafInParent(
          root,
          root.children.length + 1
        );
        node = root.children[root.children.length - 1];
      }
    }
    node.openFile(this.app.vault.getAbstractFileByPath(page.file.path), {
      active: true
    });
  }
  getFileCacheFromLeaf(leaf) {
    let file = void 0;
    try {
      file = leaf.view.getSyncViewState().state.file;
    } catch (e) {
      return void 0;
    }
    const abstractPath = app.vault.getAbstractFileByPath(file);
    return app.metadataCache.getFileCache(abstractPath);
  }
  getFileFromLeaf(leaf) {
    let file = void 0;
    try {
      file = leaf.view.getSyncViewState().state.file;
    } catch (e) {
      return void 0;
    }
    return app.vault.getAbstractFileByPath(file);
  }
  extractUUIDFromLink(link) {
    Assert.True(
      link.length >= 36,
      `extractUUIDFromLink: Invalid parameter type: link: "${link}"`
    );
    Assert.True(
      Helper.isUUID(link.slice(0, 36)),
      `extractUUIDFromLink: Invalid parameter type: link: "${link}"`
    );
    if (link.length === 36) {
      return link;
    } else {
      return link.slice(0, 36);
    }
  }
  grugAlias(_id) {
    const cache = this.getFileCacheFromUUID(_id);
    if (cache === void 0) {
      console.error(`grugAlias: file not found in grug cache ${_id}`);
      return "";
    }
    const [start, end] = this.getContentBoundaries(cache);
    let targetName = void 0;
    const nameHeading = this.getResourceName(cache, start, end);
    const fm = cache.frontmatter;
    if (fm.alias !== void 0) {
      if (Array.isArray(fm.alias) && fm.alias.length > 0) {
        targetName = cache.frontmatter.alias[0];
      } else {
        targetName = cache.frontmatter.alias;
      }
    } else {
      targetName = nameHeading;
    }
    const file = this.getFileFromUUID(_id);
    if (file === void 0) {
      console.error(`grugAlias: Cannot grug this id: ${_id}`);
      return "";
    }
    const path = `${file.path.split("/").slice(0, -1)}/${_id}`;
    return `[[${path}#${nameHeading}|${targetName}]]`;
  }
  getFileFromUUID(_id) {
    return this.vaultContentDict[_id];
  }
  getFileCacheFromUUID(_id) {
    const f = this.vaultContentDict[_id];
    if (f === void 0) {
      return void 0;
    }
    return app.metadataCache.getFileCache(f);
  }
  sneakyTabRenamer(app2) {
    const root = app2.workspace.activeLeaf.parent;
    for (const leaf of root.children) {
      let path = void 0;
      try {
        path = leaf.view.getSyncViewState().state.file;
      } catch (e) {
        continue;
      }
      const file = app2.vault.getAbstractFileByPath(path);
      const fm = (
        // @ts-ignore
        app2.metadataCache.getFileCache(file).frontmatter
      );
      if (fm === void 0) {
        continue;
      }
      let text = "";
      if (fm.type === 3 && Helper.getProject(fm) !== void 0) {
        if (Helper.getProject(fm) === "project/daily") {
          const at = new Date(fm.at);
          text = `(D) ${dayShort[at.getDay()]}. ${at.getDate()} ${monthShort[at.getMonth()]}`;
        } else {
          text = `(T) ${Helper.getProject(fm).slice(8)}`;
        }
      } else if (fm.type === 2) {
        if (!Helper.nilCheck(fm.alias)) {
          let buff = "";
          for (const alias of fm.alias) {
            if (buff.length === 0) {
              buff = alias;
            } else if (alias.length < buff.length) {
              buff = alias;
            }
          }
          const note = this.getFileCacheFromLeaf(leaf);
          text = `\u{1F4DC} ${buff}`;
          if (note.headings.length > 1) {
            for (const heading of note.headings) {
              if (heading.level === 3 && heading.heading === "index") {
                text = `(I) ${buff}`;
                break;
              }
            }
          }
        } else {
          const note = this.getFileCacheFromLeaf(leaf);
          if (note.headings.length < 1) {
            continue;
          }
          let found = false;
          for (const heading of note.headings) {
            if (heading.level === 3) {
              found = true;
              text = `\u{1F4DC} ${heading.heading}`;
              break;
            }
          }
          if (!found) {
            text = note.frontmatter.uuid;
          }
        }
      } else if (fm.type === 20) {
        const createdAt = new Date(fm.created_at);
        if (fm.alias !== void 0) {
          text = `(J) ${fm.alias}`;
        } else {
          text = `(J) ${dayShort[createdAt.getDay()]}. ${createdAt.getDate()} ${monthShort[createdAt.getMonth()]}`;
        }
      } else if (fm.type === 12) {
        if (fm.name !== void 0 && fm.name !== "") {
          text = `(P) ${fm.name}`;
        }
      } else if (fm.type === 13) {
        text = `(I) ${fm.uuid}`;
      } else {
        continue;
      }
      if (text !== "") {
        leaf.tabHeaderInnerTitleEl.innerText = text;
        leaf.tabHeaderInnerTitleEl.innerHTML = text;
      }
    }
  }
  async onload() {
    var _a, _b;
    console.log("gonext - onload()");
    await this.loadSettings();
    this.metadataCache = this.app.metadataCache;
    this.workspace = this.app.workspace;
    this.dv = this.app.plugins.plugins.dataview.api;
    this.frontmatter = new Frontmatter(this);
    this.listMaker = new ListMaker(this, this.dv, this.frontmatter);
    this.generate = new Generator(this.app);
    this.files = {};
    this.api = {
      getArea: Helper.getArea,
      getContext: Helper.getContext,
      getDomain: Helper.getDomain,
      getLayer: Helper.getLayer,
      getOrg: Helper.getOrg,
      getProject: Helper.getProject,
      durationStringToSec: Helper.durationStringToSec,
      paths: Paths,
      types: Types,
      status: Status,
      namespace: Namespace,
      default: Default,
      frontmatter: this.frontmatter,
      listMaker: this.listMaker,
      renderer: Renderer,
      autoField: AutoField,
      dvLib: new DvLib(),
      notify
    };
    window.gonext = {
      // @ts-ignore
      state: (_b = (_a = window.gonext) == null ? void 0 : _a.state) != null ? _b : {},
      // @ts-ignore
      app: this.app
    };
    (0, import_obsidian.addIcon)(
      "GoNextIcon",
      `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path fill="currentColor" d="M20 12V2h2v10zm4 0V2h2v10zm4 0V2h2v10zm-12 8a3.912 3.912 0 0 1-4-4a3.912 3.912 0 0 1 4-4v-2a6 6 0 1 0 6 6h-2a3.912 3.912 0 0 1-4 4"></path><path fill="currentColor" d="M28.893 18.454L26.098 16l-1.318 1.504l2.792 2.452l-2.36 4.088l-3.427-1.16a9.032 9.032 0 0 1-2.714 1.565L18.36 28h-4.72l-.71-3.55a9.095 9.095 0 0 1-2.695-1.572l-3.447 1.166l-2.36-4.088l2.725-2.395a8.926 8.926 0 0 1-.007-3.128l-2.718-2.39l2.36-4.087l3.427 1.16A9.03 9.03 0 0 1 12.93 7.55L13.64 4H16V2h-2.36a2 2 0 0 0-1.961 1.608l-.504 2.519a10.967 10.967 0 0 0-1.327.753l-2.42-.819a1.998 1.998 0 0 0-2.372.895l-2.36 4.088a2 2 0 0 0 .411 2.502l1.931 1.697C5.021 15.495 5 15.745 5 16c0 .258.01.513.028.766l-1.92 1.688a2 2 0 0 0-.413 2.502l2.36 4.088a1.998 1.998 0 0 0 2.374.895l2.434-.824a10.974 10.974 0 0 0 1.312.759l.503 2.518A2 2 0 0 0 13.64 30h4.72a2 2 0 0 0 1.961-1.608l.504-2.519a10.967 10.967 0 0 0 1.327-.753l2.419.818a1.998 1.998 0 0 0 2.373-.894l2.36-4.088a2 2 0 0 0-.411-2.502"></path></svg>`
    );
    this.addRibbonIcon("GoNextIcon", "[g]o[n]ext", async () => {
      this.generate.fleeting();
    });
    this.app.workspace.on("active-leaf-change", () => {
      return this.sneakyTabRenamer(this.app);
    });
    this.app.workspace.on("quick-preview", () => {
      return this.sneakyTabRenamer(this.app);
    });
    this.app.workspace.on("resize", () => {
      return this.sneakyTabRenamer(this.app);
    });
    this.addCommand({
      id: "grug-alias",
      name: "Grug Alias",
      // @ts-ignore
      callback: () => {
        this.grugAlias("90a8e960-e067-4c1f-85bc-222ee587f8d4");
      }
    });
    this.addCommand({
      id: "open-index",
      name: "Open Index",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Index.md");
      }
    });
    this.addCommand({
      id: "open-inbox",
      name: "Open Inbox",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Inbox.md");
      }
    });
    this.addCommand({
      id: "open-projects",
      name: "Open Projects",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Projects.md");
      }
    });
    this.addCommand({
      id: "open-planning",
      name: "Open Planning",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Planning.md");
      }
    });
    this.addCommand({
      id: "open-calendar",
      name: "Open Calendar",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Calendar.md");
      }
    });
    this.addCommand({
      id: "open-journal",
      name: "Open Journal",
      // @ts-ignore
      callback: () => {
        this.openViewInNewTabIfNotOpened("Journal.md");
      }
    });
    this.addCommand({
      id: "goto-active-task-logs",
      name: "Goto Active Tasks Logs'",
      // @ts-ignore
      callback: () => {
        const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
          if (page.file.frontmatter.status === "doing") {
            return true;
          }
          return false;
        });
        if (pages.length === 0) {
          return;
        }
        const tFm = new FrontmatterJS(pages[0]);
        const logs = this.dv.pages(`"${Paths.Logs}/${tFm.uuid}"`).sort((k) => k.created_at, "desc");
        if (logs.length === 0) {
          return;
        }
        this.openInNewTabIfNotOpened(logs[0]);
      }
    });
    this.addCommand({
      id: "goto-children",
      name: "Goto Child",
      // @ts-ignore
      callback: () => {
        const file = this.getFileFromLeaf(
          this.app.workspace.activeLeaf
        );
        if (file === void 0) {
          console.error("goto-children: File is undefined");
          return;
        }
        const cache = this.getFileCacheFromLeaf(
          this.app.workspace.activeLeaf
        );
        const fm = cache.frontmatter;
        if (fm === void 0) {
          console.error("goto-children: Invalid FrontMatter");
          return;
        }
        const active = this.app.workspace.activeLeaf;
        const dir = file.path.split("/")[0];
        if (dir === Paths.Tasks) {
          const page = { file: { frontmatter: fm, path: file.path } };
          const curFm = new FrontmatterJS(page);
          const curAt = curFm.at.toISOString().slice(0, 10);
          if (curFm.getProject() === "daily") {
            const pages = this.dv.pages(`"${Paths.Journal}"`).where((page2) => {
              const jFm = new FrontmatterJS(page2);
              if (jFm.getProject() !== "mission") {
                return false;
              }
              const jAt = jFm.createdAt.toISOString().slice(0, 10);
              if (curAt !== jAt) {
                return false;
              }
              return true;
            });
            if (pages.length === 0) {
              const note = this.generate.journalEntry();
              note.then((file2) => {
                active.openFile(file2, { active: true });
              });
              return;
            } else {
              const children = this.app.vault.getAbstractFileByPath(
                pages[0].file.path
              );
              Assert.True(
                !Helper.nilCheck(children),
                `goto-children: Unexpected undefined file: ${pages[0].file.path}`
              );
              active.openFile(children);
              return;
            }
          } else {
            const pages = this.dv.pages(`"${Paths.Logs}/${curFm.uuid}"`).sort((k) => k.created_at, "desc");
            if (pages.length === 0) {
              return;
            }
            const children = this.app.vault.getAbstractFileByPath(
              pages[0].file.path
            );
            Assert.True(
              !Helper.nilCheck(children),
              `goto-children: Unexpected undefined file: ${pages[0].file.path}`
            );
            active.openFile(children);
          }
        } else {
          console.error(
            "goto-children: Not Implemented outside Journal, Tasks"
          );
          return;
        }
      }
    });
    this.addCommand({
      id: "goto-parent",
      name: "Goto Parent",
      // @ts-ignore
      callback: () => {
        console.log("goto-parent:");
        const file = this.getFileFromLeaf(
          this.app.workspace.activeLeaf
        );
        if (file === void 0) {
          console.error("goto-parent: File is undefined");
          return;
        }
        const cache = this.getFileCacheFromLeaf(
          this.app.workspace.activeLeaf
        );
        const fm = cache.frontmatter;
        if (fm === void 0) {
          console.error("goto-parent: Invalid FrontMatter");
          return;
        }
        const active = this.app.workspace.activeLeaf;
        const dir = file.path.split("/")[0];
        if (dir === Paths.Slipbox) {
          const parent = this.findFirstParentInDomains(file, cache);
          if (parent !== void 0) {
            const file2 = this.getFileFromUUID(
              parent.frontmatter.uuid
            );
            active.openFile(file2);
          } else {
            active.openFile(
              // @ts-ignore
              this.app.vault.getAbstractFileByPath("Index.md")
            );
          }
        } else if (dir === Paths.Logs) {
          const taskId = file.path.split("/")[1];
          Assert.True(
            taskId !== void 0,
            `Invalid logDir: ${file.path}`
          );
          const task = this.app.vault.getAbstractFileByPath(
            `${Paths.Tasks}/${fm.parent_id}.md`
          );
          if (Helper.nilCheck(task)) {
            console.error(`Undefined Task: ${taskId}`);
          } else {
            active.openFile(task);
          }
        } else if (dir === Paths.Tasks) {
          const page = { file: { frontmatter: fm, path: file.path } };
          const curFm = new FrontmatterJS(page);
          const curAt = curFm.at.toISOString().slice(0, 10);
          if (curFm.getProject() === "daily") {
            const pages = this.dv.pages(`"${Paths.Journal}"`).where((page2) => {
              const jFm = new FrontmatterJS(page2);
              if (jFm.getProject() !== "mission") {
                return false;
              }
              const jAt = jFm.at.toISOString().slice(0, 10);
              if (curAt !== jAt) {
                return false;
              }
              return true;
            });
            if (pages.length === 0) {
              console.log("Must create journal entry first");
              return;
            } else {
              throw new Error("Not Implemented");
            }
          } else {
            console.error(
              "goto-parent: Not Implemented for non-daily Task"
            );
            return;
          }
        } else if (dir === Paths.Journal) {
          const page = { file: { frontmatter: fm, path: file.path } };
          const curFm = new FrontmatterJS(page);
          const curAt = curFm.createdAt.toISOString().slice(0, 10);
          if (curFm.getProject() === "mission") {
            const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page2) => {
              if (page2.file.frontmatter.at === void 0) {
                return false;
              }
              const tFm = new FrontmatterJS(page2);
              if (tFm.getProject() !== "daily") {
                return false;
              }
              const tAt = tFm.at.toISOString().slice(0, 10);
              if (curAt !== tAt) {
                return false;
              }
              return true;
            });
            Assert.True(
              pages.length === 1,
              `Non existant or non unique Task: ${pages.file.frontmatter.uuid}`
            );
            const f = this.app.vault.getAbstractFileByPath(
              pages[0].file.path
            );
            Assert.True(
              !Helper.nilCheck(f),
              `Unexpected non-existant Task: ${pages[0].file.path}`
            );
            active.openFile(f);
          } else {
            console.error(
              "goto-parent: Not Implemented for non-mission Journal Entry"
            );
            return;
          }
        } else {
          console.error(
            "goto-parent: Not Implemented outside Index, Logs"
          );
          return;
        }
      }
    });
    this.addCommand({
      id: "goto-active-task",
      name: "Goto Active Task",
      // @ts-ignore
      callback: () => {
        const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
          if (page.file.frontmatter.status === "doing") {
            return true;
          }
          return false;
        });
        console.log(`found ${pages.length} active task(s)`);
        if (pages.length === 0) {
          return;
        }
        this.openInNewTabIfNotOpened(pages[0]);
      }
    });
    this.addCommand({
      id: "open-todays-daily",
      name: "Open Today's Daily",
      // @ts-ignore
      callback: () => {
        const now = new Date();
        const nowIso = now.toISOString().slice(0, 10);
        const pages = this.dv.pages(`"${Paths.Tasks}"`).where((page) => {
          if (page.file.frontmatter.at === void 0) {
            return false;
          }
          const fm = new FrontmatterJS(page);
          if (fm.getProject() !== "daily") {
            return false;
          }
          let fmIso = void 0;
          try {
            fmIso = fm.at.toISOString().slice(0, 10);
          } catch (e) {
            console.warn(`possible invalid data in ${fm.uuid}`);
            return false;
          }
          if (fmIso === nowIso) {
            return true;
          }
          return false;
        });
        if (pages.length === 0) {
          return;
        }
        this.openInNewTabIfNotOpened(pages[0]);
      }
    });
    this.addCommand({
      id: "generate-fleeting",
      name: "Generate fleeting note",
      // @ts-ignore
      callback: () => {
        this.generate.fleeting();
      }
    });
    this.addCommand({
      id: "clippy-the-clipper",
      name: "Clippy Clip",
      // @ts-ignore
      callback: () => {
        navigator.clipboard.readText().then((text) => {
          let _id = void 0;
          try {
            _id = this.extractUUIDFromLink(text);
          } catch (e) {
            return;
          }
          const file = this.getFileFromUUID(_id);
          Assert.True(
            file !== void 0,
            `getFileFromUUID: returned undefined for uuid: ${_id}`
          );
          const rootDir = file.path.split("/")[0];
          const authorized = [Paths.Slipbox, Paths.Refs];
          if (rootDir !== void 0 && authorized.contains(rootDir)) {
            const alias = this.grugAlias(_id);
            const activeLeaf = this.app.workspace.activeLeaf;
            if (activeLeaf) {
              const editor = activeLeaf.view.sourceMode.cmEditor;
              const cursor = editor.getCursor();
              editor.replaceRange(alias, cursor);
            }
          } else {
            console.log(
              `Does not work outside slibe-box, got ${file.path}`
            );
            return;
          }
        });
      }
    });
    this.addCommand({
      id: "safe-delete",
      name: "Safe Delete",
      // @ts-ignore
      callback: () => {
        const file = app.workspace.getActiveFile();
        if (file === void 0) {
          return;
        }
        const safeFromHarm = [
          "Calendar.md",
          "DISCARDED.md",
          "Energy.md",
          "Goals.md",
          "Inbox.md",
          "Index.md",
          "Journal.md",
          "Journal.md",
          "Logs.md",
          "Mandala.md",
          "NEXT ACTIONS.md",
          "Planning.md",
          "Projects.md",
          "SOMEDAY MAYBE.md",
          "WAITING FOR.md"
        ];
        const fm = this.app.metadataCache.getFileCache(file).frontmatter;
        if (safeFromHarm.contains(file.path)) {
          console.log(
            "Oopsie, almost did an oopsie. Got your back bro"
          );
          return;
        }
        if (fm.tags !== void 0 && fm.tags.length >= 0) {
          for (const tag of fm.tags) {
            if (tag === "project/daily") {
              console.log(
                "Hey George What's up George, You cannot do that George"
              );
              return;
            }
          }
        }
        console.log(`deleted file: ${file.path}`);
        this.app.vault.delete(file);
      }
    });
    this.addCommand({
      id: "display-modal",
      name: "Display modal",
      callback: () => {
        new ExampleModal(this.app).open();
      }
    });
    this.addCommand({
      id: "go-parent",
      name: "Go Parent",
      // @ts-ignore
      callback: () => {
        const file = app.workspace.getActiveFile();
        const fm = app.metadataCache.getFileCache(file).frontmatter;
        if (fm === void 0) {
          return;
        }
        if (fm.parent_id === void 0 && fm.ref_id === void 0) {
          console.warn(
            `parent_id: '${fm.parent_id}' ref_id: '${fm.ref_id}'`
          );
          return;
        }
        if (fm.type === void 0 || fm.type !== Types.Log && fm.type !== Types.Media && fm.type !== Types.Fleeting) {
          console.warn(
            `invalid type: '${fm.type}' for note: '${fm.uuid}'`
          );
          return;
        }
        const parent = fm.type === Types.Log ? `${Paths.Tasks}/${fm.parent_id}.md` : `${Paths.Refs}/${fm.ref_id}.md`;
        const page = app.vault.getAbstractFileByPath(parent);
        app.workspace.openLinkText(parent, "/", false);
      }
    });
    this.app.metadataCache.on(
      "changed",
      (file, data, cache) => {
        const fm = cache.frontmatter;
        if (Helper.isUUID(file.basename)) {
          this.vaultContentDict[file.basename] = file;
        }
      }
    );
    this.registerMarkdownPostProcessor((element, context) => {
      var _a2;
      const codeblocks = element.findAll("code");
      for (const codeblock of codeblocks) {
        const text = codeblock.innerText.trim();
        if (text[0] === ":" && text[text.length - 1] === ":") {
          const emojiEl = codeblock.createSpan({
            text: (_a2 = ALL_EMOJIS[text]) != null ? _a2 : text
          });
          codeblock.replaceWith(emojiEl);
        }
      }
    });
    this.app.workspace.onLayoutReady(() => {
      console.log("workspace - layout-ready");
      for (const f of this.app.vault.getFiles()) {
        if (!Helper.isUUID(f.basename)) {
          continue;
        }
        this.vaultContentDict[f.basename] = f;
      }
      this.loadIndex();
    });
  }
  getIndexDomains() {
    const indexPath = this.app.vault.getAbstractFileByPath("Index.md");
    const index = this.app.metadataCache.getFileCache(indexPath);
    const domains = [];
    let start = void 0;
    let end = void 0;
    let found = false;
    for (const heading of index.headings) {
      if (heading.level === 2 && found) {
        end = heading.position.start.offset;
        break;
      } else if (heading.level === 2 && heading.heading === "domains") {
        start = heading.position.end.offset;
        found = true;
      }
    }
    for (const link of index.links) {
      const pos = link.position;
      if (pos.start.offset < start || pos.end.offset > end) {
        continue;
      }
      const indexContent = this.getFileCacheFromUUID(link.link);
      if (indexContent === void 0) {
        continue;
      }
      if (indexContent.headings.length < 2) {
        console.error(`Invalid Index: ${link.link}`);
        continue;
      }
      domains.push(indexContent);
    }
    return domains;
  }
  getDomainComponents(domains) {
    const components = {};
    for (const domain of domains) {
      const name = domain.headings[1].heading;
      const start = domain.headings[1].position.end.offset;
      let end = 0;
      if (domain.headings[2] !== void 0) {
        end = domain.headings[2].position.start.offset;
      } else {
        end = domain.sections[domain.sections.length - 1].position.end.offset;
      }
      for (const component of domain.links) {
        if (component.position.start.offset < start || component.position.end.offset > end) {
          continue;
        }
        if (components[name] === void 0) {
          components[name] = {};
        }
        const cache = this.getFileCacheFromUUID(
          this.extractUUIDFromLink(component.link)
        );
        const componentName = component.displayText;
        if (![
          "patterns",
          "concepts",
          "guidelines",
          "procedures",
          "material"
        ].contains(componentName)) {
          continue;
        }
        if (components[name][componentName] === void 0) {
          components[name][componentName] = [];
        }
        if (cache.links === void 0 || cache.links.length === 0) {
          continue;
        }
        for (const link of cache.links) {
          components[name][componentName].push(
            this.getFileCacheFromUUID(
              this.extractUUIDFromLink(link.link)
            )
          );
        }
      }
    }
    return components;
  }
  commonDataValidation(path, note) {
    Assert.True(note !== void 0, `'note': undefined 'path': ${path}`);
    const fm = note.frontmatter;
    Assert.True(
      fm !== void 0,
      `Invalid FrontMatter in: ${path.join("/")}`
    );
    Assert.True(note.headings !== void 0, `Blank resource: ${fm.uuid}`);
  }
  getContentBoundaries(note) {
    const fm = note.frontmatter;
    let found = false;
    let start = 0;
    let end = 0;
    for (const heading of note.headings) {
      if (heading.level === 2 && heading.heading.toLowerCase() === "content") {
        found = true;
        start = heading.position.end.offset;
        continue;
      }
      if (found && heading.level === 2 && heading.heading.toLowerCase() !== "content") {
        end = heading.position.start.offset;
      }
    }
    Assert.True(found, `Resource does not declares content: ${fm.uuid}`);
    if (end === 0) {
      end = note.sections[note.sections.length - 1].position.end.offset;
    }
    return [start, end];
  }
  getResourceName(note, start, end) {
    let resourceName = "";
    let lvl3HeadingCount = 0;
    const fm = note.frontmatter;
    for (const heading of note.headings) {
      if (heading.level === 3 && heading.position.start.offset > start && heading.position.end.offset < end) {
        resourceName = heading.heading;
        lvl3HeadingCount++;
      }
    }
    Assert.False(
      lvl3HeadingCount > 1,
      `Resource has multiple names: ${fm.uuid}`
    );
    return resourceName;
  }
  parseComponentConcepts(path, note, q, results) {
    try {
      this.commonDataValidation(path, note);
    } catch (e) {
      return;
    }
    const [start, end] = this.getContentBoundaries(note);
    const resourceName = this.getResourceName(note, start, end);
    const fm = note.frontmatter;
    results.push([[...path, resourceName], note]);
    if (note.links === void 0 || note.links.length === 0) {
      return;
    }
    for (const link of note.links) {
      if (link.position.start.offset > start && link.position.end.offset < end) {
        Assert.True(
          Helper.isUUID(link.link.slice(0, 36)),
          `Invalid link in resource: ${fm.uuid}`
        );
        if (!Helper.isUUID(link.link.slice(0, 36))) {
          continue;
        }
        const f = this.getFileCacheFromUUID(
          this.extractUUIDFromLink(link.link)
        );
        if (f === void 0 || f.frontmatter === void 0 || f.frontmatter.type !== 2) {
          continue;
        }
        q.push([[...path, resourceName], f]);
      }
    }
  }
  parseComponentPatterns(path, note, q, results) {
    try {
      this.commonDataValidation(path, note);
    } catch (e) {
      return;
    }
    const [start, end] = this.getContentBoundaries(note);
    const resourceName = this.getResourceName(note, start, end);
    if (this.isSequence(note)) {
      results.push([[...path, resourceName], note]);
      return;
    }
    if (note.links === void 0 || note.links.length === 0) {
      return;
    }
    for (const link of note.links) {
      if (link.position.start.offset < start || link.position.end.offset > end) {
        continue;
      }
      if (!Helper.isUUID(link.link.slice(0, 36))) {
        continue;
      }
      const f = this.getFileCacheFromUUID(
        this.extractUUIDFromLink(link.link)
      );
      if (f === void 0 || f.frontmatter === void 0 || f.frontmatter.type !== 2) {
        continue;
      }
      q.push([[...path, resourceName], f]);
    }
  }
  parseComponentTree(components, domainName, componentName) {
    const q = [];
    const results = [];
    if (components[domainName][componentName] === void 0) {
      return;
    }
    for (const pattern of components[domainName][componentName]) {
      q.push([[domainName, componentName], pattern]);
    }
    while (q.length > 0) {
      const [path, note] = q.shift();
      Assert.True(path.length >= 2, `Invalid component path: ${path}`);
      const componentName2 = path[1];
      switch (componentName2) {
        case "patterns":
          this.parseComponentPatterns(path, note, q, results);
          break;
        case "concepts":
          this.parseComponentConcepts(path, note, q, results);
          break;
        default:
          break;
      }
    }
    return results;
  }
  loadIndex() {
    console.log("gonext - loadIndex()");
    const domains = this.getIndexDomains();
    const components = this.getDomainComponents(domains);
    const renamed = {};
    for (const domain of Object.keys(components)) {
      for (const component of Object.keys(components[domain])) {
        const results = this.parseComponentTree(
          components,
          domain,
          component
        );
        if (results === void 0) {
          continue;
        }
        const reserved = [
          "strength routine",
          "strength routine",
          "stretch routine",
          "stretch routine"
        ];
        for (const [path, note] of results) {
          const fm = note.frontmatter;
          this.files[fm.uuid] = [path, note];
          if (renamed[fm.uuid] !== true && fm.type === 2) {
            if (fm.alias === void 0) {
              fm.alias = [path.join(" / ")];
            } else if (Array.isArray(fm.alias)) {
              fm.alias.push(path.join(" / "));
            } else {
              fm.alias = [fm.alias, path.join(" / ")];
            }
            renamed[fm.uuid] = true;
          }
        }
      }
    }
  }
  findFirstParentInDomains(file, resource) {
    const domains = this.getIndexDomains();
    const q = [];
    for (const domain of domains) {
      q.push(domain);
    }
    while (q.length > 0) {
      const cur = q.pop();
      if (cur === void 0) {
        continue;
        return void 0;
      }
      if (cur.links === void 0 || cur.links.length === 0) {
        continue;
      }
      if (cur.frontmatter === void 0) {
        continue;
      }
      const f = this.getFileFromUUID(cur.frontmatter.uuid);
      if (f === void 0) {
        continue;
      }
      if (f.parent.name !== Paths.Slipbox) {
        continue;
      }
      const [start, end] = this.getContentBoundaries(cur);
      for (const link of cur.links) {
        if (link.link.length !== 36) {
          continue;
        }
        const pos = link.position;
        if (pos.start.offset < start || pos.end.offset > end) {
          continue;
        }
        if (link.link === resource.frontmatter.uuid) {
          return cur;
        } else {
          q.push(this.getFileCacheFromUUID(link.link));
        }
      }
    }
    return void 0;
  }
  isSequence(note) {
    Assert.True(
      note.headings.length > 0,
      `isSequence: Invalid parameter: note: ${note.frontmatter.uuid}`
    );
    for (const heading of note.headings) {
      if (heading.level === 4 && heading.heading === "steps") {
        return true;
      }
    }
    return false;
  }
  onunload() {
    console.log("gonext - onunload()");
    delete window.gonext;
  }
  async loadSettings() {
    this.settings = Object.assign(
      {},
      DEFAULT_SETTINGS,
      await this.loadData()
    );
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var ExampleModal = class extends import_obsidian.Modal {
  constructor(app2) {
    super(app2);
  }
  onOpen() {
    const { contentEl } = this;
    const dv = this.app.plugins.plugins.dataview.api;
    const tasks = dv.pages().array().slice(0, 10);
    let s = "";
    for (const task of tasks) {
      s += `${task.file.path}

`;
    }
    contentEl.setText(s);
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJjb25zdGFudHMudHMiLCAibm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9zdHJpbmdpZnkuanMiLCAibm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9ybmcuanMiLCAibm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9uYXRpdmUuanMiLCAibm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92NC5qcyIsICJhcGkudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8vIEB0cy1pZ25vcmVcbmltcG9ydCB7XG5cdEFwcCxcblx0TW9kYWwsXG5cdFBsdWdpbixcblx0V29ya3NwYWNlLFxuXHQvLyBAdHMtaWdub3JlXG5cdEhUTUxFbGVtZW50LFxuXHRhZGRJY29uLFxuXHRDYWNoZWRNZXRhZGF0YSxcblx0VEZpbGUsXG5cdFRBYnN0cmFjdEZpbGUsXG59IGZyb20gXCJvYnNpZGlhblwiO1xuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IHtcblx0SGVscGVyLFxuXHRGcm9udG1hdHRlcixcblx0TGlzdE1ha2VyLFxuXHQvLyBAdHMtaWdub3JlXG5cdE5hbWVzcGFjZSxcblx0Ly8gQHRzLWlnbm9yZVxuXHRSZW5kZXJlcixcblx0Ly8gQHRzLWlnbm9yZVxuXHRBdXRvRmllbGQsXG5cdC8vIEB0cy1pZ25vcmVcblx0RnJvbnRtYXR0ZXJKUyxcblx0RHZMaWIsXG5cdC8vIEB0cy1pZ25vcmVcblx0R2VuZXJhdG9yLFxuXHQvLyBAdHMtaWdub3JlXG5cdG5vdGlmeSxcblx0Ly8gQHRzLWlnbm9yZVxuXHRBc3NlcnQsXG59IGZyb20gXCIuL2FwaVwiO1xuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IHsgUGF0aHMsIFN0YXR1cywgVHlwZXMsIE5hbWVzcGFjZSwgRGVmYXVsdCB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuLy8gaW1wb3J0IHsgcmFuZG9tVVVJRCB9IGZyb20gXCJjcnlwdG9cIjtcbi8vIGNvbnN0IHsgcmFuZG9tVVVJRCB9ID0gcmVxdWlyZShcImNyeXB0b1wiKTtcblxuLy8gUmVtZW1iZXIgdG8gcmVuYW1lIHRoZXNlIGNsYXNzZXMgYW5kIGludGVyZmFjZXMhXG5pbnRlcmZhY2UgTXlQbHVnaW5TZXR0aW5ncyB7XG5cdG15U2V0dGluZzogc3RyaW5nO1xufVxuXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBNeVBsdWdpblNldHRpbmdzID0ge1xuXHRteVNldHRpbmc6IFwiZGVmYXVsdFwiLFxufTtcblxuY29uc3QgZGF5U2hvcnQgPSBbXCJTdW5cIiwgXCJNb25cIiwgXCJUdWVcIiwgXCJXZWRcIiwgXCJUaHVcIiwgXCJGcmlcIiwgXCJTYXRcIl07XG5jb25zdCBtb250aFNob3J0ID0gW1xuXHRcIkphblwiLFxuXHRcIkZlYlwiLFxuXHRcIk1hclwiLFxuXHRcIkFwclwiLFxuXHRcIk1heVwiLFxuXHRcIkp1blwiLFxuXHRcIkp1bFwiLFxuXHRcIkF1Z1wiLFxuXHRcIlNlcFwiLFxuXHRcIk9jdFwiLFxuXHRcIk5vdlwiLFxuXHRcIkRlY1wiLFxuXTtcblxuY29uc3QgQUxMX0VNT0pJUzogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcblx0XCI6KzE6XCI6IFwiXHVEODNEXHVEQzREXCIsXG5cdFwiOnN1bmdsYXNzZXM6XCI6IFwiXHVEODNEXHVERTBFXCIsXG5cdFwiOnNtaWxlOlwiOiBcIlx1RDgzRFx1REUwNFwiLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXlQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuXHRzZXR0aW5nczogTXlQbHVnaW5TZXR0aW5ncztcblx0d29ya3NwYWNlOiBXb3Jrc3BhY2U7XG5cdG1ldGFkYXRhQ2FjaGU6IGFueTtcblx0ZHY6IGFueTtcblx0Ly8gQHRzLWlnbm9yZVxuXHRyZW5kZXI6IFJlbmRlcjtcblx0ZGVidWc6IGJvb2xlYW47XG5cdHRhc2tJblN0YXR1c0JhcjogSFRNTEVsZW1lbnQ7XG5cdGFwaTogYW55O1xuXHRsaXN0TWFrZXI6IExpc3RNYWtlcjtcblx0ZnJvbnRtYXR0ZXI6IEZyb250bWF0dGVyO1xuXHRnZW5lcmF0ZTogR2VuZXJhdG9yO1xuXHRub3RpZnk6IGFueTtcblx0dmF1bHRDb250ZW50OiBURmlsZVtdID0gW107XG5cdHZhdWx0Q29udGVudERpY3Q6IHsgW2lkOiBzdHJpbmddOiBURmlsZSB9ID0ge307XG5cblx0b3BlblZpZXdJbk5ld1RhYklmTm90T3BlbmVkKG5hbWU6IHN0cmluZykge1xuXHRcdGNvbnN0IGFjdGl2ZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVMZWFmO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRjb25zdCByb290ID0gYWN0aXZlLnBhcmVudDtcblx0XHQvLyByZWNoZXJjaGVyIHNpIHBhcyBkXHUwMEU5amEgb3V2ZXJ0IGRhbnMgbGVzIG9uZ2xldHMgYWN0aWZzXG5cdFx0Ly8gc2lub24gY3JcdTAwRTllciB1biBub3V2ZWwgb25nbGV0LCBvdXZyaXIgbGUgZmljaGllciwgZXQgZW4gZmFpcmUgbCdvbmdsZXQgYWN0aWZcblx0XHRsZXQgZm91bmQgPSBmYWxzZTtcblx0XHRsZXQgbm9kZSA9IHVuZGVmaW5lZDtcblx0XHRjb25zdCBlbXB0eVRhYnMgPSBbXTtcblxuXHRcdGZvciAoY29uc3QgbGVhZiBvZiByb290LmNoaWxkcmVuKSB7XG5cdFx0XHRjb25zdCBmaWxlID0gdGhpcy5nZXRGaWxlRnJvbUxlYWYobGVhZik7XG5cdFx0XHRpZiAoZmlsZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGVtcHR5VGFicy5wdXNoKGxlYWYpO1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGZpbGUubmFtZSA9PT0gbmFtZSkge1xuXHRcdFx0XHRmb3VuZCA9IHRydWU7XG5cdFx0XHRcdG5vZGUgPSBsZWFmO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IGZpbGUgPSB1bmRlZmluZWQ7XG5cdFx0aWYgKCFmb3VuZCkge1xuXHRcdFx0aWYgKGVtcHR5VGFicy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdG5vZGUgPSBlbXB0eVRhYnNbMF07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuY3JlYXRlTGVhZkluUGFyZW50KFxuXHRcdFx0XHRcdHJvb3QsXG5cdFx0XHRcdFx0cm9vdC5jaGlsZHJlbi5sZW5ndGggKyAxLFxuXHRcdFx0XHQpO1xuXHRcdFx0XHRub2RlID0gcm9vdC5jaGlsZHJlbltyb290LmNoaWxkcmVuLmxlbmd0aCAtIDFdO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdG5vZGUub3BlbkZpbGUodGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG5hbWUpLCB7XG5cdFx0XHRhY3RpdmU6IHRydWUsXG5cdFx0fSk7XG5cdH1cblxuXHRvcGVuSW5OZXdUYWJJZk5vdE9wZW5lZChwYWdlKSB7XG5cdFx0Y29uc3QgYWN0aXZlID0gdGhpcy5hcHAud29ya3NwYWNlLmFjdGl2ZUxlYWY7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGNvbnN0IHJvb3QgPSBhY3RpdmUucGFyZW50O1xuXHRcdC8vIHJlY2hlcmNoZXIgc2kgcGFzIGRcdTAwRTlqYSBvdXZlcnQgZGFucyBsZXMgb25nbGV0cyBhY3RpZnNcblx0XHQvLyBzaW5vbiBjclx1MDBFOWVyIHVuIG5vdXZlbCBvbmdsZXQsIG91dnJpciBsZSBmaWNoaWVyLCBldCBlbiBmYWlyZSBsJ29uZ2xldCBhY3RpZlxuXHRcdGxldCBmb3VuZCA9IGZhbHNlO1xuXHRcdGxldCBub2RlID0gdW5kZWZpbmVkO1xuXHRcdGNvbnN0IGVtcHR5VGFicyA9IFtdO1xuXG5cdFx0Zm9yIChjb25zdCBsZWFmIG9mIHJvb3QuY2hpbGRyZW4pIHtcblx0XHRcdGNvbnN0IGZpbGUgPSB0aGlzLmdldEZpbGVDYWNoZUZyb21MZWFmKGxlYWYpO1xuXHRcdFx0aWYgKGZpbGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRlbXB0eVRhYnMucHVzaChsZWFmKTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChcblx0XHRcdFx0ZmlsZS5mcm9udG1hdHRlciAhPT0gdW5kZWZpbmVkICYmXG5cdFx0XHRcdGZpbGUuZnJvbnRtYXR0ZXIudXVpZCA9PT0gcGFnZS5maWxlLmZyb250bWF0dGVyLnV1aWRcblx0XHRcdCkge1xuXHRcdFx0XHRmb3VuZCA9IHRydWU7XG5cdFx0XHRcdG5vZGUgPSBsZWFmO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIWZvdW5kKSB7XG5cdFx0XHRpZiAoZW1wdHlUYWJzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0bm9kZSA9IGVtcHR5VGFic1swXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5jcmVhdGVMZWFmSW5QYXJlbnQoXG5cdFx0XHRcdFx0cm9vdCxcblx0XHRcdFx0XHRyb290LmNoaWxkcmVuLmxlbmd0aCArIDEsXG5cdFx0XHRcdCk7XG5cdFx0XHRcdG5vZGUgPSByb290LmNoaWxkcmVuW3Jvb3QuY2hpbGRyZW4ubGVuZ3RoIC0gMV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bm9kZS5vcGVuRmlsZSh0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgocGFnZS5maWxlLnBhdGgpLCB7XG5cdFx0XHRhY3RpdmU6IHRydWUsXG5cdFx0fSk7XG5cdH1cblxuXHRnZXRGaWxlQ2FjaGVGcm9tTGVhZihsZWFmKTogQ2FjaGVkTWV0YWRhdGEge1xuXHRcdGxldCBmaWxlID0gdW5kZWZpbmVkO1xuXHRcdHRyeSB7XG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRmaWxlID0gbGVhZi52aWV3LmdldFN5bmNWaWV3U3RhdGUoKS5zdGF0ZS5maWxlO1xuXHRcdH0gY2F0Y2gge1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGNvbnN0IGFic3RyYWN0UGF0aCA9IGFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZmlsZSk7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdHJldHVybiBhcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoYWJzdHJhY3RQYXRoKTtcblx0fVxuXG5cdGdldEZpbGVGcm9tTGVhZihsZWFmKTogVEFic3RyYWN0RmlsZSB7XG5cdFx0bGV0IGZpbGUgPSB1bmRlZmluZWQ7XG5cdFx0dHJ5IHtcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGZpbGUgPSBsZWFmLnZpZXcuZ2V0U3luY1ZpZXdTdGF0ZSgpLnN0YXRlLmZpbGU7XG5cdFx0fSBjYXRjaCB7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0cmV0dXJuIGFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZmlsZSk7XG5cdH1cblxuXHRleHRyYWN0VVVJREZyb21MaW5rKGxpbms6IHN0cmluZykge1xuXHRcdEFzc2VydC5UcnVlKFxuXHRcdFx0bGluay5sZW5ndGggPj0gMzYsXG5cdFx0XHRgZXh0cmFjdFVVSURGcm9tTGluazogSW52YWxpZCBwYXJhbWV0ZXIgdHlwZTogbGluazogXCIke2xpbmt9XCJgLFxuXHRcdCk7XG5cblx0XHQvLyBhdCB0aGlzIHBvaW50IGxpbmsgaXMgZWl0aGVyIGZvcm0gdXVpZCNoZWFkaW5nIHx8IGludmFsaWRcblx0XHQvLyB3ZSBjYW4gc2FmZWx5IGFzc3VtZSAwOjM2IGlzIHRoZSB1dWlkXG5cdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRIZWxwZXIuaXNVVUlEKGxpbmsuc2xpY2UoMCwgMzYpKSxcblx0XHRcdGBleHRyYWN0VVVJREZyb21MaW5rOiBJbnZhbGlkIHBhcmFtZXRlciB0eXBlOiBsaW5rOiBcIiR7bGlua31cImAsXG5cdFx0KTtcblx0XHRpZiAobGluay5sZW5ndGggPT09IDM2KSB7XG5cdFx0XHRyZXR1cm4gbGluaztcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIGxpbmsuc2xpY2UoMCwgMzYpO1xuXHRcdH1cblx0fVxuXG5cdGdydWdBbGlhcyhfaWQ6IHN0cmluZyk6IHN0cmluZyB7XG5cdFx0Y29uc3QgY2FjaGUgPSB0aGlzLmdldEZpbGVDYWNoZUZyb21VVUlEKF9pZCk7XG5cdFx0aWYgKGNhY2hlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoYGdydWdBbGlhczogZmlsZSBub3QgZm91bmQgaW4gZ3J1ZyBjYWNoZSAke19pZH1gKTtcblx0XHRcdHJldHVybiBcIlwiO1xuXHRcdH1cblxuXHRcdGNvbnN0IFtzdGFydCwgZW5kXSA9IHRoaXMuZ2V0Q29udGVudEJvdW5kYXJpZXMoY2FjaGUpO1xuXHRcdC8vIHdoYXQgaXMgdGhlIG5hbWluZyBwcmVmZXJlbmNlP1xuXHRcdC8vIGFsaWFzID4gbmFtZSBoZWFkaW5nXG5cdFx0bGV0IHRhcmdldE5hbWUgPSB1bmRlZmluZWQ7XG5cdFx0Y29uc3QgbmFtZUhlYWRpbmcgPSB0aGlzLmdldFJlc291cmNlTmFtZShjYWNoZSwgc3RhcnQsIGVuZCk7XG5cblx0XHRjb25zdCBmbSA9IGNhY2hlLmZyb250bWF0dGVyO1xuXG5cdFx0aWYgKGZtLmFsaWFzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGlmIChBcnJheS5pc0FycmF5KGZtLmFsaWFzKSAmJiBmbS5hbGlhcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdC8vIHByb2JsZW0gYXRoZWlzdHM/XG5cdFx0XHRcdHRhcmdldE5hbWUgPSBjYWNoZS5mcm9udG1hdHRlci5hbGlhc1swXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRhcmdldE5hbWUgPSBjYWNoZS5mcm9udG1hdHRlci5hbGlhcztcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0TmFtZSA9IG5hbWVIZWFkaW5nO1xuXHRcdH1cblxuXHRcdGNvbnN0IGZpbGUgPSB0aGlzLmdldEZpbGVGcm9tVVVJRChfaWQpO1xuXHRcdGlmIChmaWxlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoYGdydWdBbGlhczogQ2Fubm90IGdydWcgdGhpcyBpZDogJHtfaWR9YCk7XG5cdFx0XHRyZXR1cm4gXCJcIjtcblx0XHR9XG5cdFx0Y29uc3QgcGF0aCA9IGAke2ZpbGUucGF0aC5zcGxpdChcIi9cIikuc2xpY2UoMCwgLTEpfS8ke19pZH1gO1xuXG5cdFx0cmV0dXJuIGBbWyR7cGF0aH0jJHtuYW1lSGVhZGluZ318JHt0YXJnZXROYW1lfV1dYDtcblx0fVxuXG5cdGdldEZpbGVGcm9tVVVJRChfaWQ6IHN0cmluZyk6IFRBYnN0cmFjdEZpbGUge1xuXHRcdHJldHVybiB0aGlzLnZhdWx0Q29udGVudERpY3RbX2lkXTtcblx0fVxuXG5cdGdldEZpbGVDYWNoZUZyb21VVUlEKF9pZDogc3RyaW5nKTogQ2FjaGVkTWV0YWRhdGEge1xuXHRcdGNvbnN0IGYgPSB0aGlzLnZhdWx0Q29udGVudERpY3RbX2lkXTtcblx0XHRpZiAoZiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdHJldHVybiBhcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZik7XG5cdH1cblxuXHRzbmVha3lUYWJSZW5hbWVyKGFwcCkge1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRjb25zdCByb290ID0gYXBwLndvcmtzcGFjZS5hY3RpdmVMZWFmLnBhcmVudDtcblxuXHRcdGZvciAoY29uc3QgbGVhZiBvZiByb290LmNoaWxkcmVuKSB7XG5cdFx0XHRsZXQgcGF0aCA9IHVuZGVmaW5lZDtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHBhdGggPSBsZWFmLnZpZXcuZ2V0U3luY1ZpZXdTdGF0ZSgpLnN0YXRlLmZpbGU7XG5cdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRjb25zdCBmaWxlID0gYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChwYXRoKTtcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGNvbnN0IGZtID1cblx0XHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0XHRhcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZmlsZSkuZnJvbnRtYXR0ZXI7XG5cblx0XHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgdGV4dCA9IFwiXCI7XG5cblx0XHRcdGlmIChmbS50eXBlID09PSAzICYmIEhlbHBlci5nZXRQcm9qZWN0KGZtKSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGlmIChIZWxwZXIuZ2V0UHJvamVjdChmbSkgPT09IFwicHJvamVjdC9kYWlseVwiKSB7XG5cdFx0XHRcdFx0Y29uc3QgYXQgPSBuZXcgRGF0ZShmbS5hdCk7XG5cdFx0XHRcdFx0dGV4dCA9IGAoRCkgJHtkYXlTaG9ydFthdC5nZXREYXkoKV19LiAke2F0LmdldERhdGUoKX0gJHttb250aFNob3J0W2F0LmdldE1vbnRoKCldfWA7XG5cdFx0XHRcdFx0Ly8gdGV4dCA9IGBcdUQ4M0RcdURDQzUgJHtkYXlTaG9ydFthdC5nZXREYXkoKV19LiAke2F0LmdldERheSgpfSAke21vbnRoU2hvcnRbYXQuZ2V0TW9udGgoKV19YDtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0ZXh0ID0gYChUKSAke0hlbHBlci5nZXRQcm9qZWN0KGZtKS5zbGljZSg4KX1gO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGZtLnR5cGUgPT09IDIpIHtcblx0XHRcdFx0aWYgKCFIZWxwZXIubmlsQ2hlY2soZm0uYWxpYXMpKSB7XG5cdFx0XHRcdFx0bGV0IGJ1ZmYgPSBcIlwiO1xuXHRcdFx0XHRcdGZvciAoY29uc3QgYWxpYXMgb2YgZm0uYWxpYXMpIHtcblx0XHRcdFx0XHRcdGlmIChidWZmLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRcdFx0XHRidWZmID0gYWxpYXM7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGFsaWFzLmxlbmd0aCA8IGJ1ZmYubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRcdGJ1ZmYgPSBhbGlhcztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb25zdCBub3RlID0gdGhpcy5nZXRGaWxlQ2FjaGVGcm9tTGVhZihsZWFmKTtcblx0XHRcdFx0XHR0ZXh0ID0gYFx1RDgzRFx1RENEQyAke2J1ZmZ9YDtcblxuXHRcdFx0XHRcdGlmIChub3RlLmhlYWRpbmdzLmxlbmd0aCA+IDEpIHtcblx0XHRcdFx0XHRcdGZvciAoY29uc3QgaGVhZGluZyBvZiBub3RlLmhlYWRpbmdzKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChcblx0XHRcdFx0XHRcdFx0XHRoZWFkaW5nLmxldmVsID09PSAzICYmXG5cdFx0XHRcdFx0XHRcdFx0aGVhZGluZy5oZWFkaW5nID09PSBcImluZGV4XCJcblx0XHRcdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRcdFx0dGV4dCA9IGAoSSkgJHtidWZmfWA7XG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gcmVhZCBsZXZlbCAzIGhlYWRpbmdcblx0XHRcdFx0XHRjb25zdCBub3RlID0gdGhpcy5nZXRGaWxlQ2FjaGVGcm9tTGVhZihsZWFmKTtcblx0XHRcdFx0XHRpZiAobm90ZS5oZWFkaW5ncy5sZW5ndGggPCAxKSB7XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRsZXQgZm91bmQgPSBmYWxzZTtcblx0XHRcdFx0XHRmb3IgKGNvbnN0IGhlYWRpbmcgb2Ygbm90ZS5oZWFkaW5ncykge1xuXHRcdFx0XHRcdFx0aWYgKGhlYWRpbmcubGV2ZWwgPT09IDMpIHtcblx0XHRcdFx0XHRcdFx0Zm91bmQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHR0ZXh0ID0gYFx1RDgzRFx1RENEQyAke2hlYWRpbmcuaGVhZGluZ31gO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCFmb3VuZCkge1xuXHRcdFx0XHRcdFx0dGV4dCA9IG5vdGUuZnJvbnRtYXR0ZXIudXVpZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoZm0udHlwZSA9PT0gMjApIHtcblx0XHRcdFx0Y29uc3QgY3JlYXRlZEF0ID0gbmV3IERhdGUoZm0uY3JlYXRlZF9hdCk7XG5cdFx0XHRcdC8vIHRleHQgPSBgXHVEODNEXHVEQ0QzICR7ZGF5U2hvcnRbYXQuZ2V0RGF5KCldfS4gJHthdC5nZXREYXkoKX0gJHttb250aFNob3J0W2F0LmdldE1vbnRoKCldfWA7XG5cdFx0XHRcdGlmIChmbS5hbGlhcyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0dGV4dCA9IGAoSikgJHtmbS5hbGlhc31gO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRleHQgPSBgKEopICR7ZGF5U2hvcnRbY3JlYXRlZEF0LmdldERheSgpXX0uICR7Y3JlYXRlZEF0LmdldERhdGUoKX0gJHttb250aFNob3J0W2NyZWF0ZWRBdC5nZXRNb250aCgpXX1gO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGZtLnR5cGUgPT09IDEyKSB7XG5cdFx0XHRcdGlmIChmbS5uYW1lICE9PSB1bmRlZmluZWQgJiYgZm0ubmFtZSAhPT0gXCJcIikge1xuXHRcdFx0XHRcdHRleHQgPSBgKFApICR7Zm0ubmFtZX1gO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGZtLnR5cGUgPT09IDEzKSB7XG5cdFx0XHRcdHRleHQgPSBgKEkpICR7Zm0udXVpZH1gO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRpZiAodGV4dCAhPT0gXCJcIikge1xuXHRcdFx0XHQvLyBcdUQ4M0RcdURDRDNcblx0XHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0XHRsZWFmLnRhYkhlYWRlcklubmVyVGl0bGVFbC5pbm5lclRleHQgPSB0ZXh0O1xuXHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdGxlYWYudGFiSGVhZGVySW5uZXJUaXRsZUVsLmlubmVySFRNTCA9IHRleHQ7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdGNvbnNvbGUubG9nKFwiZ29uZXh0IC0gb25sb2FkKClcIik7XG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblx0XHR0aGlzLm1ldGFkYXRhQ2FjaGUgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlO1xuXHRcdHRoaXMud29ya3NwYWNlID0gdGhpcy5hcHAud29ya3NwYWNlO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHR0aGlzLmR2ID0gdGhpcy5hcHAucGx1Z2lucy5wbHVnaW5zLmRhdGF2aWV3LmFwaTtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0dGhpcy5mcm9udG1hdHRlciA9IG5ldyBGcm9udG1hdHRlcih0aGlzKTtcblx0XHR0aGlzLmxpc3RNYWtlciA9IG5ldyBMaXN0TWFrZXIodGhpcywgdGhpcy5kdiwgdGhpcy5mcm9udG1hdHRlcik7XG5cdFx0dGhpcy5nZW5lcmF0ZSA9IG5ldyBHZW5lcmF0b3IodGhpcy5hcHApO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHR0aGlzLmZpbGVzID0ge307XG5cblx0XHR0aGlzLmFwaSA9IHtcblx0XHRcdGdldEFyZWE6IEhlbHBlci5nZXRBcmVhLFxuXHRcdFx0Z2V0Q29udGV4dDogSGVscGVyLmdldENvbnRleHQsXG5cdFx0XHRnZXREb21haW46IEhlbHBlci5nZXREb21haW4sXG5cdFx0XHRnZXRMYXllcjogSGVscGVyLmdldExheWVyLFxuXHRcdFx0Z2V0T3JnOiBIZWxwZXIuZ2V0T3JnLFxuXHRcdFx0Z2V0UHJvamVjdDogSGVscGVyLmdldFByb2plY3QsXG5cdFx0XHRkdXJhdGlvblN0cmluZ1RvU2VjOiBIZWxwZXIuZHVyYXRpb25TdHJpbmdUb1NlYyxcblx0XHRcdHBhdGhzOiBQYXRocyxcblx0XHRcdHR5cGVzOiBUeXBlcyxcblx0XHRcdHN0YXR1czogU3RhdHVzLFxuXHRcdFx0bmFtZXNwYWNlOiBOYW1lc3BhY2UsXG5cdFx0XHRkZWZhdWx0OiBEZWZhdWx0LFxuXHRcdFx0ZnJvbnRtYXR0ZXI6IHRoaXMuZnJvbnRtYXR0ZXIsXG5cdFx0XHRsaXN0TWFrZXI6IHRoaXMubGlzdE1ha2VyLFxuXHRcdFx0cmVuZGVyZXI6IFJlbmRlcmVyLFxuXHRcdFx0YXV0b0ZpZWxkOiBBdXRvRmllbGQsXG5cdFx0XHRkdkxpYjogbmV3IER2TGliKCksXG5cdFx0XHRub3RpZnk6IG5vdGlmeSxcblx0XHR9O1xuXG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdHdpbmRvdy5nb25leHQgPSB7XG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRzdGF0ZTogd2luZG93LmdvbmV4dD8uc3RhdGUgPz8ge30sXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRhcHA6IHRoaXMuYXBwLFxuXHRcdH07XG5cdFx0YWRkSWNvbihcblx0XHRcdFwiR29OZXh0SWNvblwiLFxuXHRcdFx0YDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMzJcIiBoZWlnaHQ9XCIzMlwiIHZpZXdCb3g9XCIwIDAgMzIgMzJcIj48cGF0aCBmaWxsPVwiY3VycmVudENvbG9yXCIgZD1cIk0yMCAxMlYyaDJ2MTB6bTQgMFYyaDJ2MTB6bTQgMFYyaDJ2MTB6bS0xMiA4YTMuOTEyIDMuOTEyIDAgMCAxLTQtNGEzLjkxMiAzLjkxMiAwIDAgMSA0LTR2LTJhNiA2IDAgMSAwIDYgNmgtMmEzLjkxMiAzLjkxMiAwIDAgMS00IDRcIj48L3BhdGg+PHBhdGggZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNMjguODkzIDE4LjQ1NEwyNi4wOTggMTZsLTEuMzE4IDEuNTA0bDIuNzkyIDIuNDUybC0yLjM2IDQuMDg4bC0zLjQyNy0xLjE2YTkuMDMyIDkuMDMyIDAgMCAxLTIuNzE0IDEuNTY1TDE4LjM2IDI4aC00LjcybC0uNzEtMy41NWE5LjA5NSA5LjA5NSAwIDAgMS0yLjY5NS0xLjU3MmwtMy40NDcgMS4xNjZsLTIuMzYtNC4wODhsMi43MjUtMi4zOTVhOC45MjYgOC45MjYgMCAwIDEtLjAwNy0zLjEyOGwtMi43MTgtMi4zOWwyLjM2LTQuMDg3bDMuNDI3IDEuMTZBOS4wMyA5LjAzIDAgMCAxIDEyLjkzIDcuNTVMMTMuNjQgNEgxNlYyaC0yLjM2YTIgMiAwIDAgMC0xLjk2MSAxLjYwOGwtLjUwNCAyLjUxOWExMC45NjcgMTAuOTY3IDAgMCAwLTEuMzI3Ljc1M2wtMi40Mi0uODE5YTEuOTk4IDEuOTk4IDAgMCAwLTIuMzcyLjg5NWwtMi4zNiA0LjA4OGEyIDIgMCAwIDAgLjQxMSAyLjUwMmwxLjkzMSAxLjY5N0M1LjAyMSAxNS40OTUgNSAxNS43NDUgNSAxNmMwIC4yNTguMDEuNTEzLjAyOC43NjZsLTEuOTIgMS42ODhhMiAyIDAgMCAwLS40MTMgMi41MDJsMi4zNiA0LjA4OGExLjk5OCAxLjk5OCAwIDAgMCAyLjM3NC44OTVsMi40MzQtLjgyNGExMC45NzQgMTAuOTc0IDAgMCAwIDEuMzEyLjc1OWwuNTAzIDIuNTE4QTIgMiAwIDAgMCAxMy42NCAzMGg0LjcyYTIgMiAwIDAgMCAxLjk2MS0xLjYwOGwuNTA0LTIuNTE5YTEwLjk2NyAxMC45NjcgMCAwIDAgMS4zMjctLjc1M2wyLjQxOS44MThhMS45OTggMS45OTggMCAwIDAgMi4zNzMtLjg5NGwyLjM2LTQuMDg4YTIgMiAwIDAgMC0uNDExLTIuNTAyXCI+PC9wYXRoPjwvc3ZnPmAsXG5cdFx0KTtcblxuXHRcdHRoaXMuYWRkUmliYm9uSWNvbihcIkdvTmV4dEljb25cIiwgXCJbZ11vW25dZXh0XCIsIGFzeW5jICgpID0+IHtcblx0XHRcdHRoaXMuZ2VuZXJhdGUuZmxlZXRpbmcoKTtcblx0XHR9KTtcblxuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vbihcImFjdGl2ZS1sZWFmLWNoYW5nZVwiLCAoKSA9PiB7XG5cdFx0XHRyZXR1cm4gdGhpcy5zbmVha3lUYWJSZW5hbWVyKHRoaXMuYXBwKTtcblx0XHR9KTtcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oXCJxdWljay1wcmV2aWV3XCIsICgpID0+IHtcblx0XHRcdHJldHVybiB0aGlzLnNuZWFreVRhYlJlbmFtZXIodGhpcy5hcHApO1xuXHRcdH0pO1xuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vbihcInJlc2l6ZVwiLCAoKSA9PiB7XG5cdFx0XHRyZXR1cm4gdGhpcy5zbmVha3lUYWJSZW5hbWVyKHRoaXMuYXBwKTtcblx0XHR9KTtcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogXCJncnVnLWFsaWFzXCIsXG5cdFx0XHRuYW1lOiBcIkdydWcgQWxpYXNcIixcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdHRoaXMuZ3J1Z0FsaWFzKFwiOTBhOGU5NjAtZTA2Ny00YzFmLTg1YmMtMjIyZWU1ODdmOGQ0XCIpO1xuXHRcdFx0fSxcblx0XHR9KTtcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6IFwib3Blbi1pbmRleFwiLFxuXHRcdFx0bmFtZTogXCJPcGVuIEluZGV4XCIsXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xuXHRcdFx0XHR0aGlzLm9wZW5WaWV3SW5OZXdUYWJJZk5vdE9wZW5lZChcIkluZGV4Lm1kXCIpO1xuXHRcdFx0fSxcblx0XHR9KTtcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6IFwib3Blbi1pbmJveFwiLFxuXHRcdFx0bmFtZTogXCJPcGVuIEluYm94XCIsXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xuXHRcdFx0XHR0aGlzLm9wZW5WaWV3SW5OZXdUYWJJZk5vdE9wZW5lZChcIkluYm94Lm1kXCIpO1xuXHRcdFx0XHQvLyBhcHAuY29tbWFuZHMuZXhlY3V0ZUNvbW1hbmRCeUlkKCdtYXJrZG93bjp0b2dnbGUtcHJldmlldycpO1xuXHRcdFx0fSxcblx0XHR9KTtcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6IFwib3Blbi1wcm9qZWN0c1wiLFxuXHRcdFx0bmFtZTogXCJPcGVuIFByb2plY3RzXCIsXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xuXHRcdFx0XHR0aGlzLm9wZW5WaWV3SW5OZXdUYWJJZk5vdE9wZW5lZChcIlByb2plY3RzLm1kXCIpO1xuXHRcdFx0fSxcblx0XHR9KTtcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6IFwib3Blbi1wbGFubmluZ1wiLFxuXHRcdFx0bmFtZTogXCJPcGVuIFBsYW5uaW5nXCIsXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xuXHRcdFx0XHR0aGlzLm9wZW5WaWV3SW5OZXdUYWJJZk5vdE9wZW5lZChcIlBsYW5uaW5nLm1kXCIpO1xuXHRcdFx0fSxcblx0XHR9KTtcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6IFwib3Blbi1jYWxlbmRhclwiLFxuXHRcdFx0bmFtZTogXCJPcGVuIENhbGVuZGFyXCIsXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xuXHRcdFx0XHR0aGlzLm9wZW5WaWV3SW5OZXdUYWJJZk5vdE9wZW5lZChcIkNhbGVuZGFyLm1kXCIpO1xuXHRcdFx0fSxcblx0XHR9KTtcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6IFwib3Blbi1qb3VybmFsXCIsXG5cdFx0XHRuYW1lOiBcIk9wZW4gSm91cm5hbFwiLFxuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0dGhpcy5vcGVuVmlld0luTmV3VGFiSWZOb3RPcGVuZWQoXCJKb3VybmFsLm1kXCIpO1xuXHRcdFx0fSxcblx0XHR9KTtcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogXCJnb3RvLWFjdGl2ZS10YXNrLWxvZ3NcIixcblx0XHRcdG5hbWU6IFwiR290byBBY3RpdmUgVGFza3MgTG9ncydcIixcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0Y29uc3QgcGFnZXMgPSB0aGlzLmR2XG5cdFx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9XCJgKVxuXHRcdFx0XHRcdC53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHBhZ2UuZmlsZS5mcm9udG1hdHRlci5zdGF0dXMgPT09IFwiZG9pbmdcIikge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGlmIChwYWdlcy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCB0Rm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlc1swXSk7XG5cdFx0XHRcdGNvbnN0IGxvZ3MgPSB0aGlzLmR2XG5cdFx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuTG9nc30vJHt0Rm0udXVpZH1cImApXG5cdFx0XHRcdFx0LnNvcnQoKGspID0+IGsuY3JlYXRlZF9hdCwgXCJkZXNjXCIpO1xuXHRcdFx0XHRpZiAobG9ncy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLm9wZW5Jbk5ld1RhYklmTm90T3BlbmVkKGxvZ3NbMF0pO1xuXHRcdFx0fSxcblx0XHR9KTtcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogXCJnb3RvLWNoaWxkcmVuXCIsXG5cdFx0XHRuYW1lOiBcIkdvdG8gQ2hpbGRcIixcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGZpbGUgPSB0aGlzLmdldEZpbGVGcm9tTGVhZihcblx0XHRcdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuYWN0aXZlTGVhZixcblx0XHRcdFx0KTtcblx0XHRcdFx0aWYgKGZpbGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoXCJnb3RvLWNoaWxkcmVuOiBGaWxlIGlzIHVuZGVmaW5lZFwiKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBjYWNoZSA9IHRoaXMuZ2V0RmlsZUNhY2hlRnJvbUxlYWYoXG5cdFx0XHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLmFjdGl2ZUxlYWYsXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGNvbnN0IGZtID0gY2FjaGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvcihcImdvdG8tY2hpbGRyZW46IEludmFsaWQgRnJvbnRNYXR0ZXJcIik7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3QgYWN0aXZlID0gdGhpcy5hcHAud29ya3NwYWNlLmFjdGl2ZUxlYWY7XG5cdFx0XHRcdGNvbnN0IGRpciA9IGZpbGUucGF0aC5zcGxpdChcIi9cIilbMF07XG5cblx0XHRcdFx0aWYgKGRpciA9PT0gUGF0aHMuVGFza3MpIHtcblx0XHRcdFx0XHRjb25zdCBwYWdlID0geyBmaWxlOiB7IGZyb250bWF0dGVyOiBmbSwgcGF0aDogZmlsZS5wYXRoIH0gfTtcblx0XHRcdFx0XHRjb25zdCBjdXJGbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRcdGNvbnN0IGN1ckF0ID0gY3VyRm0uYXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cblx0XHRcdFx0XHRpZiAoY3VyRm0uZ2V0UHJvamVjdCgpID09PSBcImRhaWx5XCIpIHtcblx0XHRcdFx0XHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdlxuXHRcdFx0XHRcdFx0XHQucGFnZXMoYFwiJHtQYXRocy5Kb3VybmFsfVwiYClcblx0XHRcdFx0XHRcdFx0LndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgakZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGpGbS5nZXRQcm9qZWN0KCkgIT09IFwibWlzc2lvblwiKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgakF0ID0gakZtLmNyZWF0ZWRBdFxuXHRcdFx0XHRcdFx0XHRcdFx0LnRvSVNPU3RyaW5nKClcblx0XHRcdFx0XHRcdFx0XHRcdC5zbGljZSgwLCAxMCk7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGN1ckF0ICE9PSBqQXQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdGlmIChwYWdlcy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHRcdFx0Ly8gY3JlYXRlIGpvdXJuYWwgcGFnZVxuXHRcdFx0XHRcdFx0XHRjb25zdCBub3RlID0gdGhpcy5nZW5lcmF0ZS5qb3VybmFsRW50cnkoKTtcblx0XHRcdFx0XHRcdFx0bm90ZS50aGVuKChmaWxlKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0XHRcdFx0XHRcdGFjdGl2ZS5vcGVuRmlsZShmaWxlLCB7IGFjdGl2ZTogdHJ1ZSB9KTtcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGNoaWxkcmVuID1cblx0XHRcdFx0XHRcdFx0XHR0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoXG5cdFx0XHRcdFx0XHRcdFx0XHRwYWdlc1swXS5maWxlLnBhdGgsXG5cdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdFx0XHRcdFx0IUhlbHBlci5uaWxDaGVjayhjaGlsZHJlbiksXG5cdFx0XHRcdFx0XHRcdFx0YGdvdG8tY2hpbGRyZW46IFVuZXhwZWN0ZWQgdW5kZWZpbmVkIGZpbGU6ICR7cGFnZXNbMF0uZmlsZS5wYXRofWAsXG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0XHRcdFx0YWN0aXZlLm9wZW5GaWxlKGNoaWxkcmVuKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjb25zdCBwYWdlcyA9IHRoaXMuZHZcblx0XHRcdFx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuTG9nc30vJHtjdXJGbS51dWlkfVwiYClcblx0XHRcdFx0XHRcdFx0LnNvcnQoKGspID0+IGsuY3JlYXRlZF9hdCwgXCJkZXNjXCIpO1xuXHRcdFx0XHRcdFx0aWYgKHBhZ2VzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGNvbnN0IGNoaWxkcmVuID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKFxuXHRcdFx0XHRcdFx0XHRwYWdlc1swXS5maWxlLnBhdGgsXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdFx0XHRcdCFIZWxwZXIubmlsQ2hlY2soY2hpbGRyZW4pLFxuXHRcdFx0XHRcdFx0XHRgZ290by1jaGlsZHJlbjogVW5leHBlY3RlZCB1bmRlZmluZWQgZmlsZTogJHtwYWdlc1swXS5maWxlLnBhdGh9YCxcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdFx0XHRhY3RpdmUub3BlbkZpbGUoY2hpbGRyZW4pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKFxuXHRcdFx0XHRcdFx0XCJnb3RvLWNoaWxkcmVuOiBOb3QgSW1wbGVtZW50ZWQgb3V0c2lkZSBKb3VybmFsLCBUYXNrc1wiLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcImdvdG8tcGFyZW50XCIsXG5cdFx0XHRuYW1lOiBcIkdvdG8gUGFyZW50XCIsXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhcImdvdG8tcGFyZW50OlwiKTtcblx0XHRcdFx0Y29uc3QgZmlsZSA9IHRoaXMuZ2V0RmlsZUZyb21MZWFmKFxuXHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVMZWFmLFxuXHRcdFx0XHQpO1xuXHRcdFx0XHRpZiAoZmlsZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvcihcImdvdG8tcGFyZW50OiBGaWxlIGlzIHVuZGVmaW5lZFwiKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBjYWNoZSA9IHRoaXMuZ2V0RmlsZUNhY2hlRnJvbUxlYWYoXG5cdFx0XHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLmFjdGl2ZUxlYWYsXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGNvbnN0IGZtID0gY2FjaGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvcihcImdvdG8tcGFyZW50OiBJbnZhbGlkIEZyb250TWF0dGVyXCIpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnN0IGFjdGl2ZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVMZWFmO1xuXHRcdFx0XHRjb25zdCBkaXIgPSBmaWxlLnBhdGguc3BsaXQoXCIvXCIpWzBdO1xuXG5cdFx0XHRcdGlmIChkaXIgPT09IFBhdGhzLlNsaXBib3gpIHtcblx0XHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdFx0Y29uc3QgcGFyZW50ID0gdGhpcy5maW5kRmlyc3RQYXJlbnRJbkRvbWFpbnMoZmlsZSwgY2FjaGUpO1xuXHRcdFx0XHRcdGlmIChwYXJlbnQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0Y29uc3QgZmlsZSA9IHRoaXMuZ2V0RmlsZUZyb21VVUlEKFxuXHRcdFx0XHRcdFx0XHRwYXJlbnQuZnJvbnRtYXR0ZXIudXVpZCxcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdFx0XHRhY3RpdmUub3BlbkZpbGUoZmlsZSk7XG5cdFx0XHRcdFx0XHQvLyB0aGlzLm9wZW5Jbk5ld1RhYklmTm90T3BlbmVkKHBhZ2UpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdFx0XHRhY3RpdmUub3BlbkZpbGUoXG5cdFx0XHRcdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0XHRcdFx0dGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKFwiSW5kZXgubWRcIiksXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIGlmIChkaXIgPT09IFBhdGhzLkxvZ3MpIHtcblx0XHRcdFx0XHRjb25zdCB0YXNrSWQgPSBmaWxlLnBhdGguc3BsaXQoXCIvXCIpWzFdO1xuXHRcdFx0XHRcdEFzc2VydC5UcnVlKFxuXHRcdFx0XHRcdFx0dGFza0lkICE9PSB1bmRlZmluZWQsXG5cdFx0XHRcdFx0XHRgSW52YWxpZCBsb2dEaXI6ICR7ZmlsZS5wYXRofWAsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRjb25zdCB0YXNrID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKFxuXHRcdFx0XHRcdFx0YCR7UGF0aHMuVGFza3N9LyR7Zm0ucGFyZW50X2lkfS5tZGAsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRpZiAoSGVscGVyLm5pbENoZWNrKHRhc2spKSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGBVbmRlZmluZWQgVGFzazogJHt0YXNrSWR9YCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0XHRcdGFjdGl2ZS5vcGVuRmlsZSh0YXNrKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSBpZiAoZGlyID09PSBQYXRocy5UYXNrcykge1xuXHRcdFx0XHRcdGNvbnN0IHBhZ2UgPSB7IGZpbGU6IHsgZnJvbnRtYXR0ZXI6IGZtLCBwYXRoOiBmaWxlLnBhdGggfSB9O1xuXHRcdFx0XHRcdGNvbnN0IGN1ckZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRcdFx0Y29uc3QgY3VyQXQgPSBjdXJGbS5hdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTtcblx0XHRcdFx0XHRpZiAoY3VyRm0uZ2V0UHJvamVjdCgpID09PSBcImRhaWx5XCIpIHtcblx0XHRcdFx0XHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdlxuXHRcdFx0XHRcdFx0XHQucGFnZXMoYFwiJHtQYXRocy5Kb3VybmFsfVwiYClcblx0XHRcdFx0XHRcdFx0LndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgakZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGpGbS5nZXRQcm9qZWN0KCkgIT09IFwibWlzc2lvblwiKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgakF0ID0gakZtLmF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChjdXJBdCAhPT0gakF0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0aWYgKHBhZ2VzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRcdFx0XHQvLyBjcmVhdGUgam91cm5hbCBwYWdlXG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiTXVzdCBjcmVhdGUgam91cm5hbCBlbnRyeSBmaXJzdFwiKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiTm90IEltcGxlbWVudGVkXCIpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKFxuXHRcdFx0XHRcdFx0XHRcImdvdG8tcGFyZW50OiBOb3QgSW1wbGVtZW50ZWQgZm9yIG5vbi1kYWlseSBUYXNrXCIsXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIGlmIChkaXIgPT09IFBhdGhzLkpvdXJuYWwpIHtcblx0XHRcdFx0XHRjb25zdCBwYWdlID0geyBmaWxlOiB7IGZyb250bWF0dGVyOiBmbSwgcGF0aDogZmlsZS5wYXRoIH0gfTtcblx0XHRcdFx0XHRjb25zdCBjdXJGbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRcdGNvbnN0IGN1ckF0ID0gY3VyRm0uY3JlYXRlZEF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xuXHRcdFx0XHRcdGlmIChjdXJGbS5nZXRQcm9qZWN0KCkgPT09IFwibWlzc2lvblwiKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBwYWdlcyA9IHRoaXMuZHZcblx0XHRcdFx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9XCJgKVxuXHRcdFx0XHRcdFx0XHQud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRpZiAocGFnZS5maWxlLmZyb250bWF0dGVyLmF0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRjb25zdCB0Rm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdFx0XHRcdFx0XHRpZiAodEZtLmdldFByb2plY3QoKSAhPT0gXCJkYWlseVwiKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgdEF0ID0gdEZtLmF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChjdXJBdCAhPT0gdEF0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRBc3NlcnQuVHJ1ZShcblx0XHRcdFx0XHRcdFx0cGFnZXMubGVuZ3RoID09PSAxLFxuXHRcdFx0XHRcdFx0XHRgTm9uIGV4aXN0YW50IG9yIG5vbiB1bmlxdWUgVGFzazogJHtwYWdlcy5maWxlLmZyb250bWF0dGVyLnV1aWR9YCxcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRjb25zdCBmID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKFxuXHRcdFx0XHRcdFx0XHRwYWdlc1swXS5maWxlLnBhdGgsXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdFx0XHRcdCFIZWxwZXIubmlsQ2hlY2soZiksXG5cdFx0XHRcdFx0XHRcdGBVbmV4cGVjdGVkIG5vbi1leGlzdGFudCBUYXNrOiAke3BhZ2VzWzBdLmZpbGUucGF0aH1gLFxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0XHRcdGFjdGl2ZS5vcGVuRmlsZShmKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcihcblx0XHRcdFx0XHRcdFx0XCJnb3RvLXBhcmVudDogTm90IEltcGxlbWVudGVkIGZvciBub24tbWlzc2lvbiBKb3VybmFsIEVudHJ5XCIsXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKFxuXHRcdFx0XHRcdFx0XCJnb3RvLXBhcmVudDogTm90IEltcGxlbWVudGVkIG91dHNpZGUgSW5kZXgsIExvZ3NcIixcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHR9KTtcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogXCJnb3RvLWFjdGl2ZS10YXNrXCIsXG5cdFx0XHRuYW1lOiBcIkdvdG8gQWN0aXZlIFRhc2tcIixcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0Y29uc3QgcGFnZXMgPSB0aGlzLmR2XG5cdFx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9XCJgKVxuXHRcdFx0XHRcdC53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHBhZ2UuZmlsZS5mcm9udG1hdHRlci5zdGF0dXMgPT09IFwiZG9pbmdcIikge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGNvbnNvbGUubG9nKGBmb3VuZCAke3BhZ2VzLmxlbmd0aH0gYWN0aXZlIHRhc2socylgKTtcblx0XHRcdFx0aWYgKHBhZ2VzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMub3BlbkluTmV3VGFiSWZOb3RPcGVuZWQocGFnZXNbMF0pO1xuXHRcdFx0fSxcblx0XHR9KTtcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogXCJvcGVuLXRvZGF5cy1kYWlseVwiLFxuXHRcdFx0bmFtZTogXCJPcGVuIFRvZGF5J3MgRGFpbHlcIixcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG5cdFx0XHRcdGNvbnN0IG5vd0lzbyA9IG5vdy50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTtcblx0XHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0XHRjb25zdCBwYWdlcyA9IHRoaXMuZHZcblx0XHRcdFx0XHQucGFnZXMoYFwiJHtQYXRocy5UYXNrc31cImApXG5cdFx0XHRcdFx0LndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAocGFnZS5maWxlLmZyb250bWF0dGVyLmF0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBhc3NpZ24gbm93IHNpIGF0ID09PSB1bmRlZmluZWRcblx0XHRcdFx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRcdFx0XHRpZiAoZm0uZ2V0UHJvamVjdCgpICE9PSBcImRhaWx5XCIpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRsZXQgZm1Jc28gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRmbUlzbyA9IGZtLmF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xuXHRcdFx0XHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUud2FybihgcG9zc2libGUgaW52YWxpZCBkYXRhIGluICR7Zm0udXVpZH1gKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpZiAoZm1Jc28gPT09IG5vd0lzbykge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGlmIChwYWdlcy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLm9wZW5Jbk5ld1RhYklmTm90T3BlbmVkKHBhZ2VzWzBdKTtcblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6IFwiZ2VuZXJhdGUtZmxlZXRpbmdcIixcblx0XHRcdG5hbWU6IFwiR2VuZXJhdGUgZmxlZXRpbmcgbm90ZVwiLFxuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0dGhpcy5nZW5lcmF0ZS5mbGVldGluZygpO1xuXHRcdFx0fSxcblx0XHR9KTtcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogXCJjbGlwcHktdGhlLWNsaXBwZXJcIixcblx0XHRcdG5hbWU6IFwiQ2xpcHB5IENsaXBcIixcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdG5hdmlnYXRvci5jbGlwYm9hcmQucmVhZFRleHQoKS50aGVuKCh0ZXh0KSA9PiB7XG5cdFx0XHRcdFx0bGV0IF9pZCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0X2lkID0gdGhpcy5leHRyYWN0VVVJREZyb21MaW5rKHRleHQpO1xuXHRcdFx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjb25zdCBmaWxlID0gdGhpcy5nZXRGaWxlRnJvbVVVSUQoX2lkKTtcblx0XHRcdFx0XHRBc3NlcnQuVHJ1ZShcblx0XHRcdFx0XHRcdGZpbGUgIT09IHVuZGVmaW5lZCxcblx0XHRcdFx0XHRcdGBnZXRGaWxlRnJvbVVVSUQ6IHJldHVybmVkIHVuZGVmaW5lZCBmb3IgdXVpZDogJHtfaWR9YCxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdGNvbnN0IHJvb3REaXIgPSBmaWxlLnBhdGguc3BsaXQoXCIvXCIpWzBdO1xuXHRcdFx0XHRcdGNvbnN0IGF1dGhvcml6ZWQgPSBbUGF0aHMuU2xpcGJveCwgUGF0aHMuUmVmc107XG5cdFx0XHRcdFx0aWYgKHJvb3REaXIgIT09IHVuZGVmaW5lZCAmJiBhdXRob3JpemVkLmNvbnRhaW5zKHJvb3REaXIpKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBhbGlhcyA9IHRoaXMuZ3J1Z0FsaWFzKF9pZCk7XG5cdFx0XHRcdFx0XHQvLyBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChhbGlhcykudGhlbigoKSA9PiB7Y29uc29sZS5sb2coXCJjb3Vjb3UsIGV0YyBldGNcIil9KTtcblx0XHRcdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0XHRcdGNvbnN0IGFjdGl2ZUxlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuYWN0aXZlTGVhZjtcblx0XHRcdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0XHRcdGlmIChhY3RpdmVMZWFmKSB7XG5cdFx0XHRcdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0XHRcdFx0Y29uc3QgZWRpdG9yID0gYWN0aXZlTGVhZi52aWV3LnNvdXJjZU1vZGUuY21FZGl0b3I7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3IoKTtcblx0XHRcdFx0XHRcdFx0ZWRpdG9yLnJlcGxhY2VSYW5nZShhbGlhcywgY3Vyc29yKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coXG5cdFx0XHRcdFx0XHRcdGBEb2VzIG5vdCB3b3JrIG91dHNpZGUgc2xpYmUtYm94LCBnb3QgJHtmaWxlLnBhdGh9YCxcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6IFwic2FmZS1kZWxldGVcIixcblx0XHRcdG5hbWU6IFwiU2FmZSBEZWxldGVcIixcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGZpbGUgPSBhcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcblx0XHRcdFx0aWYgKGZpbGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnN0IHNhZmVGcm9tSGFybSA9IFtcblx0XHRcdFx0XHRcIkNhbGVuZGFyLm1kXCIsXG5cdFx0XHRcdFx0XCJESVNDQVJERUQubWRcIixcblx0XHRcdFx0XHRcIkVuZXJneS5tZFwiLFxuXHRcdFx0XHRcdFwiR29hbHMubWRcIixcblx0XHRcdFx0XHRcIkluYm94Lm1kXCIsXG5cdFx0XHRcdFx0XCJJbmRleC5tZFwiLFxuXHRcdFx0XHRcdFwiSm91cm5hbC5tZFwiLFxuXHRcdFx0XHRcdFwiSm91cm5hbC5tZFwiLFxuXHRcdFx0XHRcdFwiTG9ncy5tZFwiLFxuXHRcdFx0XHRcdFwiTWFuZGFsYS5tZFwiLFxuXHRcdFx0XHRcdFwiTkVYVCBBQ1RJT05TLm1kXCIsXG5cdFx0XHRcdFx0XCJQbGFubmluZy5tZFwiLFxuXHRcdFx0XHRcdFwiUHJvamVjdHMubWRcIixcblx0XHRcdFx0XHRcIlNPTUVEQVkgTUFZQkUubWRcIixcblx0XHRcdFx0XHRcIldBSVRJTkcgRk9SLm1kXCIsXG5cdFx0XHRcdF07XG5cdFx0XHRcdGNvbnN0IGZtID1cblx0XHRcdFx0XHR0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShmaWxlKS5mcm9udG1hdHRlcjtcblx0XHRcdFx0aWYgKHNhZmVGcm9tSGFybS5jb250YWlucyhmaWxlLnBhdGgpKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXG5cdFx0XHRcdFx0XHRcIk9vcHNpZSwgYWxtb3N0IGRpZCBhbiBvb3BzaWUuIEdvdCB5b3VyIGJhY2sgYnJvXCIsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZm0udGFncyAhPT0gdW5kZWZpbmVkICYmIGZtLnRhZ3MubGVuZ3RoID49IDApIHtcblx0XHRcdFx0XHRmb3IgKGNvbnN0IHRhZyBvZiBmbS50YWdzKSB7XG5cdFx0XHRcdFx0XHRpZiAodGFnID09PSBcInByb2plY3QvZGFpbHlcIikge1xuXHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhcblx0XHRcdFx0XHRcdFx0XHRcIkhleSBHZW9yZ2UgV2hhdCdzIHVwIEdlb3JnZSwgWW91IGNhbm5vdCBkbyB0aGF0IEdlb3JnZVwiLFxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc29sZS5sb2coYGRlbGV0ZWQgZmlsZTogJHtmaWxlLnBhdGh9YCk7XG5cdFx0XHRcdHRoaXMuYXBwLnZhdWx0LmRlbGV0ZShmaWxlKTtcblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6IFwiZGlzcGxheS1tb2RhbFwiLFxuXHRcdFx0bmFtZTogXCJEaXNwbGF5IG1vZGFsXCIsXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xuXHRcdFx0XHRuZXcgRXhhbXBsZU1vZGFsKHRoaXMuYXBwKS5vcGVuKCk7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcImdvLXBhcmVudFwiLFxuXHRcdFx0bmFtZTogXCJHbyBQYXJlbnRcIixcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGZpbGUgPSBhcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcblx0XHRcdFx0Y29uc3QgZm0gPSBhcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZmlsZSkuZnJvbnRtYXR0ZXI7XG5cdFx0XHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGZtLnBhcmVudF9pZCA9PT0gdW5kZWZpbmVkICYmIGZtLnJlZl9pZCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0XHRcdFx0YHBhcmVudF9pZDogJyR7Zm0ucGFyZW50X2lkfScgcmVmX2lkOiAnJHtmbS5yZWZfaWR9J2AsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0Zm0udHlwZSA9PT0gdW5kZWZpbmVkIHx8XG5cdFx0XHRcdFx0KGZtLnR5cGUgIT09IFR5cGVzLkxvZyAmJlxuXHRcdFx0XHRcdFx0Zm0udHlwZSAhPT0gVHlwZXMuTWVkaWEgJiZcblx0XHRcdFx0XHRcdGZtLnR5cGUgIT09IFR5cGVzLkZsZWV0aW5nKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcdFx0XHRgaW52YWxpZCB0eXBlOiAnJHtmbS50eXBlfScgZm9yIG5vdGU6ICcke2ZtLnV1aWR9J2AsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBodHRwczovL2RvY3Mub2JzaWRpYW4ubWQvUmVmZXJlbmNlL1R5cGVTY3JpcHQrQVBJL1dvcmtzcGFjZS9jcmVhdGVMZWFmSW5QYXJlbnRcblx0XHRcdFx0Ly8gYXBwLndvcmtzcGFjZS5jcmVhdGVMZWFmSW5QYXJlbnQoKTtcblx0XHRcdFx0Ly8gY29uc3QgbGVhZiA9IGFwcC53b3Jrc3BhY2UuZ2V0TGVhZih0cnVlKTtcblx0XHRcdFx0Ly8gcGFyZW50IGlkXG5cdFx0XHRcdGNvbnN0IHBhcmVudCA9XG5cdFx0XHRcdFx0Zm0udHlwZSA9PT0gVHlwZXMuTG9nXG5cdFx0XHRcdFx0XHQ/IGAke1BhdGhzLlRhc2tzfS8ke2ZtLnBhcmVudF9pZH0ubWRgXG5cdFx0XHRcdFx0XHQ6IGAke1BhdGhzLlJlZnN9LyR7Zm0ucmVmX2lkfS5tZGA7XG5cdFx0XHRcdGNvbnN0IHBhZ2UgPSBhcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHBhcmVudCk7XG5cdFx0XHRcdGFwcC53b3Jrc3BhY2Uub3BlbkxpbmtUZXh0KHBhcmVudCwgXCIvXCIsIGZhbHNlKTtcblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHQvLyBob29rIHBvdXIgbWV0dHJlIFx1MDBFMCBqb3VyIGxlcyBhbGlhc1xuXHRcdHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUub24oXG5cdFx0XHRcImNoYW5nZWRcIixcblx0XHRcdChmaWxlOiBURmlsZSwgZGF0YTogc3RyaW5nLCBjYWNoZTogQ2FjaGVkTWV0YWRhdGEpID0+IHtcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coXCJtZXRhZGF0YUNhY2hlIC0gY2hhbmdlZFwiKTtcblx0XHRcdFx0Y29uc3QgZm0gPSBjYWNoZS5mcm9udG1hdHRlcjtcblx0XHRcdFx0aWYgKEhlbHBlci5pc1VVSUQoZmlsZS5iYXNlbmFtZSkpIHtcblx0XHRcdFx0XHR0aGlzLnZhdWx0Q29udGVudERpY3RbZmlsZS5iYXNlbmFtZV0gPSBmaWxlO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdCk7XG5cblx0XHR0aGlzLnJlZ2lzdGVyTWFya2Rvd25Qb3N0UHJvY2Vzc29yKChlbGVtZW50LCBjb250ZXh0KSA9PiB7XG5cdFx0XHRjb25zdCBjb2RlYmxvY2tzID0gZWxlbWVudC5maW5kQWxsKFwiY29kZVwiKTtcblxuXHRcdFx0Zm9yIChjb25zdCBjb2RlYmxvY2sgb2YgY29kZWJsb2Nrcykge1xuXHRcdFx0XHRjb25zdCB0ZXh0ID0gY29kZWJsb2NrLmlubmVyVGV4dC50cmltKCk7XG5cdFx0XHRcdGlmICh0ZXh0WzBdID09PSBcIjpcIiAmJiB0ZXh0W3RleHQubGVuZ3RoIC0gMV0gPT09IFwiOlwiKSB7XG5cdFx0XHRcdFx0Y29uc3QgZW1vamlFbCA9IGNvZGVibG9jay5jcmVhdGVTcGFuKHtcblx0XHRcdFx0XHRcdHRleHQ6IEFMTF9FTU9KSVNbdGV4dF0gPz8gdGV4dCxcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRjb2RlYmxvY2sucmVwbGFjZVdpdGgoZW1vamlFbCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vbkxheW91dFJlYWR5KCgpID0+IHtcblx0XHRcdGNvbnNvbGUubG9nKFwid29ya3NwYWNlIC0gbGF5b3V0LXJlYWR5XCIpO1xuXHRcdFx0Zm9yIChjb25zdCBmIG9mIHRoaXMuYXBwLnZhdWx0LmdldEZpbGVzKCkpIHtcblx0XHRcdFx0aWYgKCFIZWxwZXIuaXNVVUlEKGYuYmFzZW5hbWUpKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLnZhdWx0Q29udGVudERpY3RbZi5iYXNlbmFtZV0gPSBmO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmxvYWRJbmRleCgpO1xuXHRcdH0pO1xuXHR9XG5cblx0Z2V0SW5kZXhEb21haW5zKCkge1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRjb25zdCBpbmRleFBhdGggPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoXCJJbmRleC5tZFwiKTtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0Y29uc3QgaW5kZXggPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShpbmRleFBhdGgpO1xuXHRcdGNvbnN0IGRvbWFpbnMgPSBbXTtcblxuXHRcdGxldCBzdGFydCA9IHVuZGVmaW5lZDtcblx0XHRsZXQgZW5kID0gdW5kZWZpbmVkO1xuXHRcdGxldCBmb3VuZCA9IGZhbHNlO1xuXG5cdFx0Ly8gcmVjaGVyY2hlIGR1IHRvcCBsZXZlbCBoZWFkaW5nIGAjIyBkb21haW5zYFxuXHRcdGZvciAoY29uc3QgaGVhZGluZyBvZiBpbmRleC5oZWFkaW5ncykge1xuXHRcdFx0aWYgKGhlYWRpbmcubGV2ZWwgPT09IDIgJiYgZm91bmQpIHtcblx0XHRcdFx0ZW5kID0gaGVhZGluZy5wb3NpdGlvbi5zdGFydC5vZmZzZXQ7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fSBlbHNlIGlmIChoZWFkaW5nLmxldmVsID09PSAyICYmIGhlYWRpbmcuaGVhZGluZyA9PT0gXCJkb21haW5zXCIpIHtcblx0XHRcdFx0c3RhcnQgPSBoZWFkaW5nLnBvc2l0aW9uLmVuZC5vZmZzZXQ7XG5cdFx0XHRcdGZvdW5kID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyByZWNoZXJjaGUgZGVzIGxpZW5zIHF1aSBzb250IGNvbnRlbnVzIGRhbnMgbGVzIGJvcm5lcyBkdSB0b3AgbGV2ZWwgaGVhZGluZyBgIyMgZG9tYWluc2Bcblx0XHRmb3IgKGNvbnN0IGxpbmsgb2YgaW5kZXgubGlua3MpIHtcblx0XHRcdGNvbnN0IHBvcyA9IGxpbmsucG9zaXRpb247XG5cdFx0XHRpZiAocG9zLnN0YXJ0Lm9mZnNldCA8IHN0YXJ0IHx8IHBvcy5lbmQub2Zmc2V0ID4gZW5kKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBpbmRleENvbnRlbnQgPSB0aGlzLmdldEZpbGVDYWNoZUZyb21VVUlEKGxpbmsubGluayk7XG5cdFx0XHRpZiAoaW5kZXhDb250ZW50ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpbmRleENvbnRlbnQuaGVhZGluZ3MubGVuZ3RoIDwgMikge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKGBJbnZhbGlkIEluZGV4OiAke2xpbmsubGlua31gKTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGRvbWFpbnMucHVzaChpbmRleENvbnRlbnQpO1xuXHRcdH1cblxuXHRcdHJldHVybiBkb21haW5zO1xuXHR9XG5cblx0Z2V0RG9tYWluQ29tcG9uZW50cyhkb21haW5zKSB7XG5cdFx0Ly8gcmVjaGVyY2hlIGRhbnMgbGVzIGluZGV4IGRlcyBkb21haW5zIHJlc3BlY3RpZnMgcydpbCB5IGEgcHJcdTAwRTlzZW5jZSBkJ3VuZSBlbnRyeSBgIyMjIHBhdHRlcm5zYFxuXHRcdC8vIC0+IGNvbXBvbmVudHNcblx0XHRjb25zdCBjb21wb25lbnRzID0ge307XG5cdFx0Zm9yIChjb25zdCBkb21haW4gb2YgZG9tYWlucykge1xuXHRcdFx0Y29uc3QgbmFtZSA9IGRvbWFpbi5oZWFkaW5nc1sxXS5oZWFkaW5nO1xuXHRcdFx0Y29uc3Qgc3RhcnQgPSBkb21haW4uaGVhZGluZ3NbMV0ucG9zaXRpb24uZW5kLm9mZnNldDtcblx0XHRcdGxldCBlbmQgPSAwO1xuXHRcdFx0aWYgKGRvbWFpbi5oZWFkaW5nc1syXSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGVuZCA9IGRvbWFpbi5oZWFkaW5nc1syXS5wb3NpdGlvbi5zdGFydC5vZmZzZXQ7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlbmQgPVxuXHRcdFx0XHRcdGRvbWFpbi5zZWN0aW9uc1tkb21haW4uc2VjdGlvbnMubGVuZ3RoIC0gMV0ucG9zaXRpb24uZW5kXG5cdFx0XHRcdFx0XHQub2Zmc2V0O1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKGNvbnN0IGNvbXBvbmVudCBvZiBkb21haW4ubGlua3MpIHtcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdGNvbXBvbmVudC5wb3NpdGlvbi5zdGFydC5vZmZzZXQgPCBzdGFydCB8fFxuXHRcdFx0XHRcdGNvbXBvbmVudC5wb3NpdGlvbi5lbmQub2Zmc2V0ID4gZW5kXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGNvbXBvbmVudHNbbmFtZV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNvbXBvbmVudHNbbmFtZV0gPSB7fTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnN0IGNhY2hlID0gdGhpcy5nZXRGaWxlQ2FjaGVGcm9tVVVJRChcblx0XHRcdFx0XHR0aGlzLmV4dHJhY3RVVUlERnJvbUxpbmsoY29tcG9uZW50LmxpbmspLFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdGNvbnN0IGNvbXBvbmVudE5hbWUgPSBjb21wb25lbnQuZGlzcGxheVRleHQ7XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHQhW1xuXHRcdFx0XHRcdFx0XCJwYXR0ZXJuc1wiLFxuXHRcdFx0XHRcdFx0XCJjb25jZXB0c1wiLFxuXHRcdFx0XHRcdFx0XCJndWlkZWxpbmVzXCIsXG5cdFx0XHRcdFx0XHRcInByb2NlZHVyZXNcIixcblx0XHRcdFx0XHRcdFwibWF0ZXJpYWxcIixcblx0XHRcdFx0XHRdLmNvbnRhaW5zKGNvbXBvbmVudE5hbWUpXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGNvbXBvbmVudHNbbmFtZV1bY29tcG9uZW50TmFtZV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNvbXBvbmVudHNbbmFtZV1bY29tcG9uZW50TmFtZV0gPSBbXTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjYWNoZS5saW5rcyA9PT0gdW5kZWZpbmVkIHx8IGNhY2hlLmxpbmtzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Zm9yIChjb25zdCBsaW5rIG9mIGNhY2hlLmxpbmtzKSB7XG5cdFx0XHRcdFx0Y29tcG9uZW50c1tuYW1lXVtjb21wb25lbnROYW1lXS5wdXNoKFxuXHRcdFx0XHRcdFx0dGhpcy5nZXRGaWxlQ2FjaGVGcm9tVVVJRChcblx0XHRcdFx0XHRcdFx0dGhpcy5leHRyYWN0VVVJREZyb21MaW5rKGxpbmsubGluayksXG5cdFx0XHRcdFx0XHQpLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY29tcG9uZW50cztcblx0fVxuXG5cdGNvbW1vbkRhdGFWYWxpZGF0aW9uKHBhdGg6IHN0cmluZ1tdLCBub3RlOiBDYWNoZWRNZXRhZGF0YSkge1xuXHRcdC8vIHBhcyBkJ2FjY2VzIGF1IG5vbSBkdSBmaWNoaWVyLCBhdSBjaGVtaW4gYXZlYyBsZSBDYWNoZWRNZXRhZGF0YVxuXHRcdC8vIGNvdW50IGRlIGhlYWRpbmdzIGxldmVsIDMgPT09IDFcblx0XHRBc3NlcnQuVHJ1ZShub3RlICE9PSB1bmRlZmluZWQsIGAnbm90ZSc6IHVuZGVmaW5lZCAncGF0aCc6ICR7cGF0aH1gKTtcblx0XHRjb25zdCBmbSA9IG5vdGUuZnJvbnRtYXR0ZXI7XG5cdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRmbSAhPT0gdW5kZWZpbmVkLFxuXHRcdFx0YEludmFsaWQgRnJvbnRNYXR0ZXIgaW46ICR7cGF0aC5qb2luKFwiL1wiKX1gLFxuXHRcdCk7XG5cdFx0QXNzZXJ0LlRydWUobm90ZS5oZWFkaW5ncyAhPT0gdW5kZWZpbmVkLCBgQmxhbmsgcmVzb3VyY2U6ICR7Zm0udXVpZH1gKTtcblx0fVxuXG5cdGdldENvbnRlbnRCb3VuZGFyaWVzKG5vdGU6IENhY2hlZE1ldGFkYXRhKSB7XG5cdFx0Ly8gbG9jYXRlIGNvbnRlbnQgb2Zmc2V0XG5cdFx0Y29uc3QgZm0gPSBub3RlLmZyb250bWF0dGVyO1xuXHRcdGxldCBmb3VuZCA9IGZhbHNlO1xuXHRcdGxldCBzdGFydCA9IDA7XG5cdFx0bGV0IGVuZCA9IDA7XG5cblx0XHRmb3IgKGNvbnN0IGhlYWRpbmcgb2Ygbm90ZS5oZWFkaW5ncykge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRoZWFkaW5nLmxldmVsID09PSAyICYmXG5cdFx0XHRcdGhlYWRpbmcuaGVhZGluZy50b0xvd2VyQ2FzZSgpID09PSBcImNvbnRlbnRcIlxuXHRcdFx0KSB7XG5cdFx0XHRcdGZvdW5kID0gdHJ1ZTtcblx0XHRcdFx0c3RhcnQgPSBoZWFkaW5nLnBvc2l0aW9uLmVuZC5vZmZzZXQ7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0Ly8gcydpbCB5IGEgdW4gYXV0cmUgaGVhZGluZyBsZXZlbCAyIGFwcmVzLCBlbmQgPSBzdGFydC5vZmZzZXRcblx0XHRcdGlmIChcblx0XHRcdFx0Zm91bmQgJiZcblx0XHRcdFx0aGVhZGluZy5sZXZlbCA9PT0gMiAmJlxuXHRcdFx0XHRoZWFkaW5nLmhlYWRpbmcudG9Mb3dlckNhc2UoKSAhPT0gXCJjb250ZW50XCJcblx0XHRcdCkge1xuXHRcdFx0XHRlbmQgPSBoZWFkaW5nLnBvc2l0aW9uLnN0YXJ0Lm9mZnNldDtcblx0XHRcdH1cblx0XHR9XG5cdFx0QXNzZXJ0LlRydWUoZm91bmQsIGBSZXNvdXJjZSBkb2VzIG5vdCBkZWNsYXJlcyBjb250ZW50OiAke2ZtLnV1aWR9YCk7XG5cdFx0Ly8gc2lub24gZW5kID0gZW5kIGRvY3VtZW50XG5cdFx0aWYgKGVuZCA9PT0gMCkge1xuXHRcdFx0ZW5kID0gbm90ZS5zZWN0aW9uc1tub3RlLnNlY3Rpb25zLmxlbmd0aCAtIDFdLnBvc2l0aW9uLmVuZC5vZmZzZXQ7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIFtzdGFydCwgZW5kXTtcblx0fVxuXG5cdGdldFJlc291cmNlTmFtZShub3RlOiBDYWNoZWRNZXRhZGF0YSwgc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIpOiBzdHJpbmcge1xuXHRcdGxldCByZXNvdXJjZU5hbWUgPSBcIlwiO1xuXHRcdGxldCBsdmwzSGVhZGluZ0NvdW50ID0gMDtcblx0XHRjb25zdCBmbSA9IG5vdGUuZnJvbnRtYXR0ZXI7XG5cblx0XHRmb3IgKGNvbnN0IGhlYWRpbmcgb2Ygbm90ZS5oZWFkaW5ncykge1xuXHRcdFx0Ly8gaGVhZGluZyBsdmwgMyBpbiBib3VuZCBvZiBgY29udGVudGBcblx0XHRcdGlmIChcblx0XHRcdFx0aGVhZGluZy5sZXZlbCA9PT0gMyAmJlxuXHRcdFx0XHRoZWFkaW5nLnBvc2l0aW9uLnN0YXJ0Lm9mZnNldCA+IHN0YXJ0ICYmXG5cdFx0XHRcdGhlYWRpbmcucG9zaXRpb24uZW5kLm9mZnNldCA8IGVuZFxuXHRcdFx0KSB7XG5cdFx0XHRcdHJlc291cmNlTmFtZSA9IGhlYWRpbmcuaGVhZGluZztcblx0XHRcdFx0bHZsM0hlYWRpbmdDb3VudCsrO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIGRhbnMgIyMgQ29udGVudFxuXHRcdC8vIHVuIHNldWwgaGVhZGluZyBuaXZlYXUgM1xuXHRcdC8vIEFzc2VydC5GYWxzZShcblx0XHQvLyAgIGx2bDNIZWFkaW5nQ291bnQgPT09IDAsXG5cdFx0Ly8gICBgUmVzb3VyY2UgZG9lcyBub3QgZGVjbGFyZXMgYSBuYW1lOiAke2ZtLnV1aWR9YCxcblx0XHQvLyApO1xuXHRcdEFzc2VydC5GYWxzZShcblx0XHRcdGx2bDNIZWFkaW5nQ291bnQgPiAxLFxuXHRcdFx0YFJlc291cmNlIGhhcyBtdWx0aXBsZSBuYW1lczogJHtmbS51dWlkfWAsXG5cdFx0KTtcblxuXHRcdHJldHVybiByZXNvdXJjZU5hbWU7XG5cdH1cblxuXHRwYXJzZUNvbXBvbmVudENvbmNlcHRzKHBhdGg6IHN0cmluZ1tdLCBub3RlOiBDYWNoZWRNZXRhZGF0YSwgcSwgcmVzdWx0cykge1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLmNvbW1vbkRhdGFWYWxpZGF0aW9uKHBhdGgsIG5vdGUpO1xuXHRcdH0gY2F0Y2gge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRjb25zdCBbc3RhcnQsIGVuZF0gPSB0aGlzLmdldENvbnRlbnRCb3VuZGFyaWVzKG5vdGUpO1xuXHRcdGNvbnN0IHJlc291cmNlTmFtZSA9IHRoaXMuZ2V0UmVzb3VyY2VOYW1lKG5vdGUsIHN0YXJ0LCBlbmQpO1xuXHRcdGNvbnN0IGZtID0gbm90ZS5mcm9udG1hdHRlcjtcblxuXHRcdHJlc3VsdHMucHVzaChbWy4uLnBhdGgsIHJlc291cmNlTmFtZV0sIG5vdGVdKTtcblxuXHRcdC8vIGxlYWZcblx0XHRpZiAobm90ZS5saW5rcyA9PT0gdW5kZWZpbmVkIHx8IG5vdGUubGlua3MubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Zm9yIChjb25zdCBsaW5rIG9mIG5vdGUubGlua3MpIHtcblx0XHRcdC8vIGxpbmsgaW4gYm91bmQgY29udGVudCBoZWFkaW5nXG5cdFx0XHQvLyBzaG91bGQgYmUgbmFtZSwgYnV0IGNvbnRlbnQgYm91bmRhcmllcyBhcmUga25vd24gYW5kIHNpbWlsYXJcblx0XHRcdGlmIChcblx0XHRcdFx0bGluay5wb3NpdGlvbi5zdGFydC5vZmZzZXQgPiBzdGFydCAmJlxuXHRcdFx0XHRsaW5rLnBvc2l0aW9uLmVuZC5vZmZzZXQgPCBlbmRcblx0XHRcdCkge1xuXHRcdFx0XHQvLyB0aGVyZSBpcyBhbiBpbiBib3VuZCBsaW5rXG5cdFx0XHRcdC8vIHJlc291cmNlIGlzIGNvbnNpZGVyZWQgYSBub2RlXG5cdFx0XHRcdEFzc2VydC5UcnVlKFxuXHRcdFx0XHRcdEhlbHBlci5pc1VVSUQobGluay5saW5rLnNsaWNlKDAsIDM2KSksXG5cdFx0XHRcdFx0YEludmFsaWQgbGluayBpbiByZXNvdXJjZTogJHtmbS51dWlkfWAsXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGlmICghSGVscGVyLmlzVVVJRChsaW5rLmxpbmsuc2xpY2UoMCwgMzYpKSkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3QgZiA9IHRoaXMuZ2V0RmlsZUNhY2hlRnJvbVVVSUQoXG5cdFx0XHRcdFx0dGhpcy5leHRyYWN0VVVJREZyb21MaW5rKGxpbmsubGluayksXG5cdFx0XHRcdCk7XG5cdFx0XHRcdC8vIGVycmV1cnMgZGUgZm9ybWF0cyBwYXNzXHUwMEU5ZXMgc291cyBzaWxlbmNlXG5cdFx0XHRcdC8vIG9uIGlnbm9yZSBsZXMgbGllbiB2ZXJzIGxlcyByZXNvdXJjZXMgYXV0cmUgcXVlIFBlcm1hbmVudFxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0ZiA9PT0gdW5kZWZpbmVkIHx8XG5cdFx0XHRcdFx0Zi5mcm9udG1hdHRlciA9PT0gdW5kZWZpbmVkIHx8XG5cdFx0XHRcdFx0Zi5mcm9udG1hdHRlci50eXBlICE9PSAyXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cS5wdXNoKFtbLi4ucGF0aCwgcmVzb3VyY2VOYW1lXSwgZl0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHQvLyB1dGlsaXR5IGxpbmtcblx0XHQvLyBkZXRlY3RlciB1dWlkXG5cdFx0Ly8gZGV0ZWN0ZXIgbGluayB2ZXJzIHJlc291cmNlIG1hcmtkb3duXG5cdFx0Ly8gZGV0ZWN0ZXIgbGluayB2ZXJzIGFzc2V0XG5cdFx0Ly9cblx0fVxuXG5cdHBhcnNlQ29tcG9uZW50UGF0dGVybnMocGF0aDogc3RyaW5nW10sIG5vdGU6IENhY2hlZE1ldGFkYXRhLCBxLCByZXN1bHRzKSB7XG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMuY29tbW9uRGF0YVZhbGlkYXRpb24ocGF0aCwgbm90ZSk7XG5cdFx0fSBjYXRjaCB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbnN0IFtzdGFydCwgZW5kXSA9IHRoaXMuZ2V0Q29udGVudEJvdW5kYXJpZXMobm90ZSk7XG5cdFx0Y29uc3QgcmVzb3VyY2VOYW1lID0gdGhpcy5nZXRSZXNvdXJjZU5hbWUobm90ZSwgc3RhcnQsIGVuZCk7XG5cblx0XHRpZiAodGhpcy5pc1NlcXVlbmNlKG5vdGUpKSB7XG5cdFx0XHQvLyBkb21haW4gbmFtZSAvIHBhdHRlcm5zIC8gcGF0dGVybiBuYW1lIGEgLyBwYXR0ZXJuIG5hbWUgYiAvIHNlcXVlbmNlIG5hbWUgLT4gdXVpZCB8IGZpbGUgY2FjaGUgfCBmaWxlIHBhdGhcblx0XHRcdHJlc3VsdHMucHVzaChbWy4uLnBhdGgsIHJlc291cmNlTmFtZV0sIG5vdGVdKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAobm90ZS5saW5rcyA9PT0gdW5kZWZpbmVkIHx8IG5vdGUubGlua3MubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Zm9yIChjb25zdCBsaW5rIG9mIG5vdGUubGlua3MpIHtcblx0XHRcdC8vIGxpbmsgaW4gYm91bmQgbmFtZUhlYWRpbmdcblx0XHRcdGlmIChcblx0XHRcdFx0bGluay5wb3NpdGlvbi5zdGFydC5vZmZzZXQgPCBzdGFydCB8fFxuXHRcdFx0XHRsaW5rLnBvc2l0aW9uLmVuZC5vZmZzZXQgPiBlbmRcblx0XHRcdCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCFIZWxwZXIuaXNVVUlEKGxpbmsubGluay5zbGljZSgwLCAzNikpKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBmID0gdGhpcy5nZXRGaWxlQ2FjaGVGcm9tVVVJRChcblx0XHRcdFx0dGhpcy5leHRyYWN0VVVJREZyb21MaW5rKGxpbmsubGluayksXG5cdFx0XHQpO1xuXG5cdFx0XHRpZiAoXG5cdFx0XHRcdGYgPT09IHVuZGVmaW5lZCB8fFxuXHRcdFx0XHRmLmZyb250bWF0dGVyID09PSB1bmRlZmluZWQgfHxcblx0XHRcdFx0Zi5mcm9udG1hdHRlci50eXBlICE9PSAyXG5cdFx0XHQpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdHEucHVzaChbWy4uLnBhdGgsIHJlc291cmNlTmFtZV0sIGZdKTtcblx0XHR9XG5cdH1cblxuXHRwYXJzZUNvbXBvbmVudFRyZWUoY29tcG9uZW50cywgZG9tYWluTmFtZSwgY29tcG9uZW50TmFtZSkge1xuXHRcdGNvbnN0IHEgPSBbXTtcblx0XHRjb25zdCByZXN1bHRzID0gW107XG5cblx0XHRpZiAoY29tcG9uZW50c1tkb21haW5OYW1lXVtjb21wb25lbnROYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Zm9yIChjb25zdCBwYXR0ZXJuIG9mIGNvbXBvbmVudHNbZG9tYWluTmFtZV1bY29tcG9uZW50TmFtZV0pIHtcblx0XHRcdHEucHVzaChbW2RvbWFpbk5hbWUsIGNvbXBvbmVudE5hbWVdLCBwYXR0ZXJuXSk7XG5cdFx0fVxuXG5cdFx0Ly8gbGVzIGxpbmtzIGRvaXZlbnQgZXRyZSBpbiBib3VuZCBkYW5zIGAjIyMgbmFtZWBcblx0XHR3aGlsZSAocS5sZW5ndGggPiAwKSB7XG5cdFx0XHRjb25zdCBbcGF0aCwgbm90ZV0gPSBxLnNoaWZ0KCk7XG5cdFx0XHQvLyBpbCB5IGEgdW4gYnVnIHBvdXIgbGVzIGNvbmNlcHRzIHF1aSB1dGlsaXNlbnQgZGVzIGxpZW5zIGlubGluZSB2ZXJzIGQnYXV0cmVzIHJlc291cmNlcyBkb250IGVsbGVzIG5lIHNvbnQgcGFzIHVuIGNvbnRhaW5lciBkaXJlY3Rcblx0XHRcdC8vIGV4ZW1wbGUgcG91ciB1bmUgcmVmZXJlbmNlIGlubGluZVxuXHRcdFx0Ly8gYXZlYyBsZSBzY2hlbWUgYWN0dWVsXG5cdFx0XHQvLyBsZSBkb21haW4gc2UgdHJvdXZlIFx1MDBFMCBsJ2luZGV4IDBcblx0XHRcdC8vIGxlIG5vbSBkdSBjb21wb25lbnQgc2UgdHJvdXZlIFx1MDBFMCBsJ2luZGV4IDEgZHUgY2hlbWluXG5cdFx0XHRBc3NlcnQuVHJ1ZShwYXRoLmxlbmd0aCA+PSAyLCBgSW52YWxpZCBjb21wb25lbnQgcGF0aDogJHtwYXRofWApO1xuXG5cdFx0XHRjb25zdCBjb21wb25lbnROYW1lID0gcGF0aFsxXTtcblx0XHRcdHN3aXRjaCAoY29tcG9uZW50TmFtZSkge1xuXHRcdFx0XHRjYXNlIFwicGF0dGVybnNcIjpcblx0XHRcdFx0XHR0aGlzLnBhcnNlQ29tcG9uZW50UGF0dGVybnMocGF0aCwgbm90ZSwgcSwgcmVzdWx0cyk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgXCJjb25jZXB0c1wiOlxuXHRcdFx0XHRcdHRoaXMucGFyc2VDb21wb25lbnRDb25jZXB0cyhwYXRoLCBub3RlLCBxLCByZXN1bHRzKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coYFVuc3Vwb3J0ZWQgY29tcG9uZW50OiAke2NvbXBvbmVudE5hbWV9YClcblx0XHRcdFx0Ly8gdGhyb3cgbmV3IEVycm9yKGBVbnN1cG9ydGVkIGNvbXBvbmVudDogJHtjb21wb25lbnROYW1lfWApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiByZXN1bHRzO1xuXHR9XG5cblx0bG9hZEluZGV4KCkge1xuXHRcdGNvbnNvbGUubG9nKFwiZ29uZXh0IC0gbG9hZEluZGV4KClcIik7XG5cdFx0Y29uc3QgZG9tYWlucyA9IHRoaXMuZ2V0SW5kZXhEb21haW5zKCk7XG5cdFx0Y29uc3QgY29tcG9uZW50cyA9IHRoaXMuZ2V0RG9tYWluQ29tcG9uZW50cyhkb21haW5zKTtcblx0XHRjb25zdCByZW5hbWVkID0ge307XG5cblx0XHRmb3IgKGNvbnN0IGRvbWFpbiBvZiBPYmplY3Qua2V5cyhjb21wb25lbnRzKSkge1xuXHRcdFx0Zm9yIChjb25zdCBjb21wb25lbnQgb2YgT2JqZWN0LmtleXMoY29tcG9uZW50c1tkb21haW5dKSkge1xuXHRcdFx0XHRjb25zdCByZXN1bHRzID0gdGhpcy5wYXJzZUNvbXBvbmVudFRyZWUoXG5cdFx0XHRcdFx0Y29tcG9uZW50cyxcblx0XHRcdFx0XHRkb21haW4sXG5cdFx0XHRcdFx0Y29tcG9uZW50LFxuXHRcdFx0XHQpO1xuXHRcdFx0XHRpZiAocmVzdWx0cyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCByZXNlcnZlZCA9IFtcblx0XHRcdFx0XHRcInN0cmVuZ3RoIHJvdXRpbmVcIixcblx0XHRcdFx0XHRcInN0cmVuZ3RoIHJvdXRpbmVcIixcblx0XHRcdFx0XHRcInN0cmV0Y2ggcm91dGluZVwiLFxuXHRcdFx0XHRcdFwic3RyZXRjaCByb3V0aW5lXCIsXG5cdFx0XHRcdF07XG5cdFx0XHRcdGZvciAoY29uc3QgW3BhdGgsIG5vdGVdIG9mIHJlc3VsdHMpIHtcblx0XHRcdFx0XHRjb25zdCBmbSA9IG5vdGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0XHRcdHRoaXMuZmlsZXNbZm0udXVpZF0gPSBbcGF0aCwgbm90ZV07XG5cblx0XHRcdFx0XHRpZiAocmVuYW1lZFtmbS51dWlkXSAhPT0gdHJ1ZSAmJiBmbS50eXBlID09PSAyKSB7XG5cdFx0XHRcdFx0XHRpZiAoZm0uYWxpYXMgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0XHRmbS5hbGlhcyA9IFtwYXRoLmpvaW4oXCIgLyBcIildO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGZtLmFsaWFzKSkge1xuXHRcdFx0XHRcdFx0XHRmbS5hbGlhcy5wdXNoKHBhdGguam9pbihcIiAvIFwiKSk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRmbS5hbGlhcyA9IFtmbS5hbGlhcywgcGF0aC5qb2luKFwiIC8gXCIpXTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJlbmFtZWRbZm0udXVpZF0gPSB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGZpbmRGaXJzdFBhcmVudEluRG9tYWlucyhmaWxlOiBUQWJzdHJhY3RGaWxlLCByZXNvdXJjZTogQ2FjaGVkTWV0YWRhdGEpIHtcblx0XHRjb25zdCBkb21haW5zID0gdGhpcy5nZXRJbmRleERvbWFpbnMoKTtcblx0XHRjb25zdCBxID0gW107XG5cdFx0Zm9yIChjb25zdCBkb21haW4gb2YgZG9tYWlucykge1xuXHRcdFx0cS5wdXNoKGRvbWFpbik7XG5cdFx0fVxuXG5cdFx0d2hpbGUgKHEubGVuZ3RoID4gMCkge1xuXHRcdFx0Y29uc3QgY3VyID0gcS5wb3AoKTtcblx0XHRcdGlmIChjdXIgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHQvLyBzcGVjaWFsIGNhc2UgZm9yIEluZGV4XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY3VyLmxpbmtzID09PSB1bmRlZmluZWQgfHwgY3VyLmxpbmtzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGN1ci5mcm9udG1hdHRlciA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBmID0gdGhpcy5nZXRGaWxlRnJvbVVVSUQoY3VyLmZyb250bWF0dGVyLnV1aWQpO1xuXHRcdFx0aWYgKGYgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGYucGFyZW50Lm5hbWUgIT09IFBhdGhzLlNsaXBib3gpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IFtzdGFydCwgZW5kXSA9IHRoaXMuZ2V0Q29udGVudEJvdW5kYXJpZXMoY3VyKTtcblx0XHRcdGZvciAoY29uc3QgbGluayBvZiBjdXIubGlua3MpIHtcblx0XHRcdFx0aWYgKGxpbmsubGluay5sZW5ndGggIT09IDM2KSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gQXNzZXJ0LlRydWUobGluay5saW5rLmxlbmd0aCA9PT0gMzYsIGBOb24gMzYgbGVuZ3RoIGxpbms6ICR7bGluay5saW5rfWApXG5cblx0XHRcdFx0Y29uc3QgcG9zID0gbGluay5wb3NpdGlvbjtcblx0XHRcdFx0aWYgKHBvcy5zdGFydC5vZmZzZXQgPCBzdGFydCB8fCBwb3MuZW5kLm9mZnNldCA+IGVuZCkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGxpbmsubGluayA9PT0gcmVzb3VyY2UuZnJvbnRtYXR0ZXIudXVpZCkge1xuXHRcdFx0XHRcdHJldHVybiBjdXI7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cS5wdXNoKHRoaXMuZ2V0RmlsZUNhY2hlRnJvbVVVSUQobGluay5saW5rKSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHR9XG5cblx0aXNTZXF1ZW5jZShub3RlOiBDYWNoZWRNZXRhZGF0YSk6IGJvb2xlYW4ge1xuXHRcdEFzc2VydC5UcnVlKFxuXHRcdFx0bm90ZS5oZWFkaW5ncy5sZW5ndGggPiAwLFxuXHRcdFx0YGlzU2VxdWVuY2U6IEludmFsaWQgcGFyYW1ldGVyOiBub3RlOiAke25vdGUuZnJvbnRtYXR0ZXIudXVpZH1gLFxuXHRcdCk7XG5cdFx0Zm9yIChjb25zdCBoZWFkaW5nIG9mIG5vdGUuaGVhZGluZ3MpIHtcblx0XHRcdGlmIChoZWFkaW5nLmxldmVsID09PSA0ICYmIGhlYWRpbmcuaGVhZGluZyA9PT0gXCJzdGVwc1wiKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdG9udW5sb2FkKCkge1xuXHRcdGNvbnNvbGUubG9nKFwiZ29uZXh0IC0gb251bmxvYWQoKVwiKTtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0ZGVsZXRlIHdpbmRvdy5nb25leHQ7XG5cdH1cblxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oXG5cdFx0XHR7fSxcblx0XHRcdERFRkFVTFRfU0VUVElOR1MsXG5cdFx0XHRhd2FpdCB0aGlzLmxvYWREYXRhKCksXG5cdFx0KTtcblx0fVxuXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBFeGFtcGxlTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XG5cdFx0c3VwZXIoYXBwKTtcblx0fVxuXG5cdG9uT3BlbigpIHtcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0Y29uc3QgZHYgPSB0aGlzLmFwcC5wbHVnaW5zLnBsdWdpbnMuZGF0YXZpZXcuYXBpO1xuXHRcdGNvbnN0IHRhc2tzID0gZHYucGFnZXMoKS5hcnJheSgpLnNsaWNlKDAsIDEwKTtcblx0XHRsZXQgcyA9IFwiXCI7XG5cdFx0Zm9yIChjb25zdCB0YXNrIG9mIHRhc2tzKSB7XG5cdFx0XHRzICs9IGAke3Rhc2suZmlsZS5wYXRofVxcblxcbmA7XG5cdFx0fVxuXHRcdGNvbnRlbnRFbC5zZXRUZXh0KHMpO1xuXHR9XG5cblx0b25DbG9zZSgpIHtcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcblx0XHRjb250ZW50RWwuZW1wdHkoKTtcblx0fVxufVxuIiwgImV4cG9ydCBjb25zdCBQYXRocyA9IHtcblx0VGFza3M6IFwiODEzIFRhc2tzXCIsXG5cdENvbXBvbmVudHM6IFwiQ29tcG9uZW50c1wiLFxuXHRHb2FsczogXCJHb2Fsc1wiLFxuXHRTbGlwYm94OiBcIjgwMyBTbGlwYm94XCIsXG5cdEluYm94OiBcIjgwMCBJbmJveFwiLFxuXHRSZWZzOiBcIjgwMiBSZWZzXCIsXG5cdEFyY2hpdmVzOiBcIjQwMCBBcmNoaXZlc1wiLFxuXHRMb2dzOiBcIjYwMCBMb2dcIixcblx0QXR0YWNobWVudHM6IFwiMDAwIEF0dGFjaG1lbnRzXCIsXG5cdEpvdXJuYWw6IFwiSm91cm5hbFwiLFxuXHRSZXNvdXJjZXM6IFwiUmVzb3VyY2VzXCIsXG5cdFByb2plY3RzOiBcIjEwMCBQcm9qZWN0c1wiLFxuXHREb21haW5zOiBcIkRvbWFpbnNcIixcblx0TmFtZXM6IFwiTmFtZXNcIixcbn07XG5cbmV4cG9ydCBjb25zdCBTdGF0dXMgPSB7XG5cdFRvZG86IFwidG9kb1wiLFxuXHREb2luZzogXCJkb2luZ1wiLFxuXHREb25lOiBcImRvbmVcIixcblx0TWF5YmU6IFwibWF5YmVcIixcblx0U3RhbmRieTogXCJzdGFuZGJ5XCIsXG5cdFRyYXNoOiBcInRyYXNoXCIsXG59O1xuZXhwb3J0IGNvbnN0IEdvYWxTdGF0dXMgPSB7XG5cdFJlZnJhbWU6IFwicmVmcmFtZVwiLFxuXHRSZXNlYXJjaDogXCJyZXNlYXJjaFwiLFxuXHRPcGVyYXRpb25hbGl6ZTogXCJvcGVyYXRpb25hbGl6ZVwiLFxuXHRQbGFuaWZ5OiBcInBsYW5pZnlcIixcblx0RGVwZW5kYW50OiBcImRlcGVuZGFudFwiLFxuXHRBY3RpdmU6IFwiYWN0aXZlXCIsXG5cdEZhaWxlZDogXCJmYWlsZWRcIixcblx0U3VjY2VzczogXCJzdWNjZXNzXCIsXG59O1xuXG5leHBvcnQgY29uc3QgVHlwZXMgPSB7XG5cdEZsZWV0aW5nOiAxMyxcblx0TGl0ZXJhdHVyZTogMSxcblx0UGVybWFuZW50OiAyLFxuXHRUYXNrOiAzLFxuXHRQcmF4aXM6IDQsXG5cdFByb3Zpc2lvbjogNSxcblx0TG9nOiA2LFxuXHRSZXNvdXJjZTogNyxcblx0TWVkaWE6IDgsXG5cdFByb2plY3Q6IDEyLFxuXHRPcmc6IDksXG5cdERvbWFpbjogMTAsXG5cdENvbXBvbmVudDogMTEsXG59O1xuXG5leHBvcnQgY29uc3QgTmFtZXNwYWNlID0ge1xuXHRBcmVhOiBcImFyZWFcIixcblx0Q29udGV4dDogXCJjb250ZXh0XCIsXG5cdExheWVyOiBcImxheWVyXCIsXG5cdE9yZzogXCJvcmdcIixcblx0UHJvamVjdDogXCJwcm9qZWN0XCIsXG59O1xuXG5leHBvcnQgY29uc3QgRGVmYXVsdCA9IHtcblx0QXJlYTogXCJub25lXCIsXG5cdENvbnRleHQ6IFwiYW55XCIsXG5cdExheWVyOiBcIm5vbmVcIixcblx0T3JnOiBcIm5vbmVcIixcblx0UHJvamVjdDogXCJub25lXCIsXG59O1xuIiwgImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcblxuLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG52YXIgYnl0ZVRvSGV4ID0gW107XG5mb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleC5wdXNoKChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zbGljZSgxKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gdW5zYWZlU3RyaW5naWZ5KGFyciwgb2Zmc2V0ID0gMCkge1xuICAvLyBOb3RlOiBCZSBjYXJlZnVsIGVkaXRpbmcgdGhpcyBjb2RlISAgSXQncyBiZWVuIHR1bmVkIGZvciBwZXJmb3JtYW5jZVxuICAvLyBhbmQgd29ya3MgaW4gd2F5cyB5b3UgbWF5IG5vdCBleHBlY3QuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQvcHVsbC80MzRcbiAgLy9cbiAgLy8gTm90ZSB0byBmdXR1cmUtc2VsZjogTm8sIHlvdSBjYW4ndCByZW1vdmUgdGhlIGB0b0xvd2VyQ2FzZSgpYCBjYWxsLlxuICAvLyBSRUY6IGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZC9wdWxsLzY3NyNpc3N1ZWNvbW1lbnQtMTc1NzM1MTM1MVxuICByZXR1cm4gKGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgM11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDVdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA3XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDhdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxM11dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNV1dKS50b0xvd2VyQ2FzZSgpO1xufVxuZnVuY3Rpb24gc3RyaW5naWZ5KGFyciwgb2Zmc2V0ID0gMCkge1xuICB2YXIgdXVpZCA9IHVuc2FmZVN0cmluZ2lmeShhcnIsIG9mZnNldCk7XG4gIC8vIENvbnNpc3RlbmN5IGNoZWNrIGZvciB2YWxpZCBVVUlELiAgSWYgdGhpcyB0aHJvd3MsIGl0J3MgbGlrZWx5IGR1ZSB0byBvbmVcbiAgLy8gb2YgdGhlIGZvbGxvd2luZzpcbiAgLy8gLSBPbmUgb3IgbW9yZSBpbnB1dCBhcnJheSB2YWx1ZXMgZG9uJ3QgbWFwIHRvIGEgaGV4IG9jdGV0IChsZWFkaW5nIHRvXG4gIC8vIFwidW5kZWZpbmVkXCIgaW4gdGhlIHV1aWQpXG4gIC8vIC0gSW52YWxpZCBpbnB1dCB2YWx1ZXMgZm9yIHRoZSBSRkMgYHZlcnNpb25gIG9yIGB2YXJpYW50YCBmaWVsZHNcbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignU3RyaW5naWZpZWQgVVVJRCBpcyBpbnZhbGlkJyk7XG4gIH1cbiAgcmV0dXJuIHV1aWQ7XG59XG5leHBvcnQgZGVmYXVsdCBzdHJpbmdpZnk7IiwgIi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuIEluIHRoZSBicm93c2VyIHdlIHRoZXJlZm9yZVxuLy8gcmVxdWlyZSB0aGUgY3J5cHRvIEFQSSBhbmQgZG8gbm90IHN1cHBvcnQgYnVpbHQtaW4gZmFsbGJhY2sgdG8gbG93ZXIgcXVhbGl0eSByYW5kb20gbnVtYmVyXG4vLyBnZW5lcmF0b3JzIChsaWtlIE1hdGgucmFuZG9tKCkpLlxuXG52YXIgZ2V0UmFuZG9tVmFsdWVzO1xudmFyIHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcm5nKCkge1xuICAvLyBsYXp5IGxvYWQgc28gdGhhdCBlbnZpcm9ubWVudHMgdGhhdCBuZWVkIHRvIHBvbHlmaWxsIGhhdmUgYSBjaGFuY2UgdG8gZG8gc29cbiAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAvLyBnZXRSYW5kb21WYWx1ZXMgbmVlZHMgdG8gYmUgaW52b2tlZCBpbiBhIGNvbnRleHQgd2hlcmUgXCJ0aGlzXCIgaXMgYSBDcnlwdG8gaW1wbGVtZW50YXRpb24uXG4gICAgZ2V0UmFuZG9tVmFsdWVzID0gdHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKTtcbiAgICBpZiAoIWdldFJhbmRvbVZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKCkgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCNnZXRyYW5kb212YWx1ZXMtbm90LXN1cHBvcnRlZCcpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KTtcbn0iLCAidmFyIHJhbmRvbVVVSUQgPSB0eXBlb2YgY3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiBjcnlwdG8ucmFuZG9tVVVJRCAmJiBjcnlwdG8ucmFuZG9tVVVJRC5iaW5kKGNyeXB0byk7XG5leHBvcnQgZGVmYXVsdCB7XG4gIHJhbmRvbVVVSURcbn07IiwgImltcG9ydCBuYXRpdmUgZnJvbSAnLi9uYXRpdmUuanMnO1xuaW1wb3J0IHJuZyBmcm9tICcuL3JuZy5qcyc7XG5pbXBvcnQgeyB1bnNhZmVTdHJpbmdpZnkgfSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5mdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICBpZiAobmF0aXZlLnJhbmRvbVVVSUQgJiYgIWJ1ZiAmJiAhb3B0aW9ucykge1xuICAgIHJldHVybiBuYXRpdmUucmFuZG9tVVVJRCgpO1xuICB9XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7XG5cbiAgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuICBybmRzWzZdID0gcm5kc1s2XSAmIDB4MGYgfCAweDQwO1xuICBybmRzWzhdID0gcm5kc1s4XSAmIDB4M2YgfCAweDgwO1xuXG4gIC8vIENvcHkgYnl0ZXMgdG8gYnVmZmVyLCBpZiBwcm92aWRlZFxuICBpZiAoYnVmKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgICBidWZbb2Zmc2V0ICsgaV0gPSBybmRzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gYnVmO1xuICB9XG4gIHJldHVybiB1bnNhZmVTdHJpbmdpZnkocm5kcyk7XG59XG5leHBvcnQgZGVmYXVsdCB2NDsiLCAiaW1wb3J0IHtcblx0UGF0aHMsXG5cdFN0YXR1cyxcblx0VHlwZXMsXG5cdE5hbWVzcGFjZSxcblx0RGVmYXVsdCxcblx0R29hbFN0YXR1cyxcbn0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tIFwidXVpZFwiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbm90aWZ5KG1zZzogc3RyaW5nKSB7XG5cdGNvbnN0IFBVU0hPVkVSX1VSSSA9IFwiYXBpLnB1c2hvdmVyLm5ldFwiO1xuXHQvLyBAdHMtaWdub3JlXG5cdGNvbnN0IGQgPSBhd2FpdCBhcHAudmF1bHQucmVhZEpzb24oXCIucHVzaG92ZXIuanNvblwiKTtcblx0Y29uc3QgZGF0YSA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xuXHRcdG1lc3NhZ2U6IG1zZyxcblx0XHR0b2tlbjogZC5wdXNob3Zlcl90b2tlbixcblx0XHR1c2VyOiBkLnB1c2hvdmVyX3VzZXIsXG5cdH0pO1xuXHRjb25zb2xlLmxvZyhkYXRhLnRvU3RyaW5nKCkpO1xuXG5cdGF3YWl0IGZldGNoKGBodHRwczovLyR7UFVTSE9WRVJfVVJJfS8xL21lc3NhZ2VzLmpzb25gLCB7XG5cdFx0bWV0aG9kOiBcIlBPU1RcIixcblx0XHQvLyBtb2RlOiAnbm8tY29ycycsXG5cdFx0Y2FjaGU6IFwibm8tY2FjaGVcIixcblx0XHRoZWFkZXJzOiB7XG5cdFx0XHRcIkNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiLFxuXHRcdH0sXG5cdFx0Ym9keTogZGF0YSxcblx0fSk7XG59XG5cbmNsYXNzIEZpbHRlckJ5IHtcblx0cHVibGljIGZtOiBhbnk7XG5cdHB1YmxpYyBwcmVkaWNhdGVzOiBzdHJpbmdbXTtcblx0cHVibGljIGNvbnRleHRzOiBzdHJpbmdbXTtcblxuXHRjb25zdHJ1Y3RvcihmbTogYW55KSB7XG5cdFx0dGhpcy5mbSA9IGZtO1xuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aGlzLnByZWRpY2F0ZXMgPSBbXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5wcmVkaWNhdGVzID0gQXJyYXkuaXNBcnJheShmbS5maWx0ZXJfYnkpID8gZm0uZmlsdGVyX2J5IDogW107XG5cdFx0fVxuXHR9XG5cblx0bmFtZUluTmFtZXNwYWNlKGZtOiBhbnksIG5zOiBzdHJpbmdbXSkge1xuXHRcdGxldCBmb3VuZCA9IGZhbHNlO1xuXHRcdGlmIChucy5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdGZvciAoY29uc3QgYSBvZiBucykge1xuXHRcdFx0Y29uc3Qgcm9vdCA9IGEuc3BsaXQoXCIvXCIpO1xuXHRcdFx0QXNzZXJ0LlRydWUocm9vdC5sZW5ndGggPT09IDIsIGBJbnZhbGlkIHRhZzogJyR7YX0nYCk7XG5cdFx0XHRjb25zdCBwYXJlbnQgPVxuXHRcdFx0XHRyb290WzBdLnNsaWNlKDAsIDEpID09PSBcIiFcIiA/IHJvb3RbMF0uc2xpY2UoMSkgOiByb290WzBdO1xuXHRcdFx0Y29uc3QgbmFtZSA9IEhlbHBlci5nZXRUYWcoZm0sIHBhcmVudCk7XG5cblx0XHRcdGlmIChhLnNsaWNlKDAsIDEpID09PSBcIiFcIikge1xuXHRcdFx0XHQvLyBuZWdhdGl2ZSBtYXRjaCwgZGlzY2FyZCBlbnRyeVxuXHRcdFx0XHRpZiAobmFtZSA9PT0gYS5zbGljZSgxKSkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHQvLyBubyBtYXRjaCwgcmVpbml0XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Zm91bmQgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBwb3NpdGl2ZSBtYXRjaCwga2VlcCBlbnRyeVxuXHRcdFx0XHRpZiAobmFtZSA9PT0gYSkge1xuXHRcdFx0XHRcdGZvdW5kID0gdHJ1ZTtcblx0XHRcdFx0XHQvLyBubyBtYXRjaCwgcmVpbml0XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Zm91bmQgPSBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmb3VuZDtcblx0fVxuXG5cdGZpbHRlcihmbTogYW55KSB7XG5cdFx0aWYgKHRoaXMucHJlZGljYXRlcy5sZW5ndGggPT0gMCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gIXRoaXMubmFtZUluTmFtZXNwYWNlKGZtLCB0aGlzLnByZWRpY2F0ZXMpO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBGcm9udG1hdHRlckpTIHtcblx0cHVibGljIHV1aWQ6IHN0cmluZztcblx0cHVibGljIHZlcnNpb246IHN0cmluZztcblx0cHVibGljIHR5cGU6IG51bWJlcjtcblx0cHVibGljIGNyZWF0ZWRBdDogRGF0ZTtcblx0cHVibGljIGF0OiBEYXRlO1xuXHRwdWJsaWMgYmVmb3JlOiBEYXRlO1xuXHRwdWJsaWMgYWZ0ZXI6IERhdGU7XG5cdHB1YmxpYyBjb21wb25lbnRzOiBzdHJpbmdbXTtcblx0cHVibGljIGRvbWFpbnM6IHN0cmluZ1tdO1xuXHRwdWJsaWMgbmFtZXM6IHN0cmluZ1tdO1xuXHRwdWJsaWMgcHJvamVjdHM6IHN0cmluZ1tdO1xuXHRwdWJsaWMgZm07XG5cdHB1YmxpYyBjb250ZW50czogc3RyaW5nW107XG5cdHB1YmxpYyB0cmFpdHM6IHN0cmluZ1tdO1xuXHRwdWJsaWMgY29udGV4dHM6IHN0cmluZ1tdO1xuXHRwdWJsaWMgc3RhdHVzOiBzdHJpbmc7XG5cdHB1YmxpYyBmO1xuXHRwdWJsaWMgZW5lcmd5OiBudW1iZXI7XG5cblx0c2luZ3VsYXIodmFsdWVzOiBzdHJpbmdbXSwgZmllbGQ6IHN0cmluZykge1xuXHRcdGlmICghSGVscGVyLm5pbENoZWNrKHRoaXMuZm1bZmllbGRdKSkge1xuXHRcdFx0Y29uc3QgdmFsdWUgPSB0aGlzLmZtW2ZpZWxkXTtcblx0XHRcdGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0aWYgKCF2YWx1ZXMuY29udGFpbnModmFsdWUpKSB7XG5cdFx0XHRcdFx0dmFsdWVzLnB1c2godmFsdWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcdFx0YCcke2ZpZWxkfScgaXMgaWdub3JlZCwgaW52YWxpZCBkYXRhLXR5cGU6ICcke3R5cGVvZiB0aGlzLmZtW2ZpZWxkXX0nYCxcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRwbHVyYWwodmFsdWVzOiBzdHJpbmdbXSwgZmllbGQ6IHN0cmluZykge1xuXHRcdGlmICghSGVscGVyLm5pbENoZWNrKHRoaXMuZm1bZmllbGRdKSkge1xuXHRcdFx0aWYgKCFBcnJheS5pc0FycmF5KHRoaXMuZm1bZmllbGRdKSkge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcdFx0YCcke2ZpZWxkfScgaXMgaWdub3JlZCwgaW52YWxpZCBkYXRhLXR5cGU6ICcke2ZpZWxkfSdgLFxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9yIChjb25zdCB2YWx1ZSBvZiB0aGlzLmZtW2ZpZWxkXSkge1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0XHRcdGlmICghdmFsdWVzLmNvbnRhaW5zKHZhbHVlKSkge1xuXHRcdFx0XHRcdFx0XHR2YWx1ZXMucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUud2Fybihcblx0XHRcdFx0XHRcdFx0YCcke3ZhbHVlfXMuJHt2YWx1ZX0nIGlzIGlnbm9yZWQsIGludmFsaWQgZGF0YS10eXBlOiAnJHt0eXBlb2YgdmFsdWV9J2AsXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGNvbnN0cnVjdG9yKHBhZ2UpIHtcblx0XHRBc3NlcnQuVHJ1ZShwYWdlICE9PSB1bmRlZmluZWQsIFwiJ3BhZ2UnIGlzIHVuZGVmaW5lZFwiKTtcblx0XHR0aGlzLmYgPSBwYWdlLmZpbGU7XG5cdFx0Y29uc3QgZiA9IHRoaXMuZjtcblx0XHRBc3NlcnQuVHJ1ZShmICE9PSB1bmRlZmluZWQsIFwiJ2YnIGlzIHVuZGVmaW5lZFwiKTtcblx0XHR0aGlzLmZtID0gZi5mcm9udG1hdHRlcjtcblx0XHRBc3NlcnQuVHJ1ZSh0aGlzLmZtICE9PSB1bmRlZmluZWQsIFwiJ2ZtJyBpcyB1bmRlZmluZWRcIik7XG5cdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHR0aGlzLmZtLnV1aWQgIT09IHVuZGVmaW5lZCxcblx0XHRcdGAndXVpZCcgaXMgdW5kZWZpbmVkIGZvciAnJHt0aGlzLmYucGF0aH0nYCxcblx0XHQpO1xuXHRcdC8vIEFzc2VydC5UcnVlKHRoaXMuZm0udmVyc2lvbiAhPT0gdW5kZWZpbmVkLCBcIid2ZXJzaW9uJyBpcyB1bmRlZmluZWRcIik7XG5cdFx0Ly8gQXNzZXJ0LlRydWUoZm0uY3JlYXRlZF9hdCAhPT0gdW5kZWZpbmVkLCBcIidjcmVhdGVkX2F0JyBpcyB1bmRlZmluZWRcIik7XG5cblx0XHR0aGlzLnV1aWQgPSB0aGlzLmZtLnV1aWQ7XG5cdFx0dGhpcy52ZXJzaW9uID0gdGhpcy5mbS52ZXJzaW9uO1xuXHRcdHRoaXMudHlwZSA9IHRoaXMuZm0udHlwZTtcblx0XHR0aGlzLmNyZWF0ZWRBdCA9IG5ldyBEYXRlKHRoaXMuZm0uY3JlYXRlZF9hdCk7XG5cdFx0dGhpcy5hdCA9IHRoaXMuZm0uYXQgIT09IHVuZGVmaW5lZCA/IG5ldyBEYXRlKHRoaXMuZm0uYXQpIDogbmV3IERhdGUoKTtcblx0XHR0aGlzLmJlZm9yZSA9XG5cdFx0XHR0aGlzLmZtLmJlZm9yZSAhPT0gdW5kZWZpbmVkXG5cdFx0XHRcdD8gbmV3IERhdGUodGhpcy5mbS5iZWZvcmUpXG5cdFx0XHRcdDogbmV3IERhdGUoKTtcblx0XHR0aGlzLmFmdGVyID1cblx0XHRcdHRoaXMuZm0uYWZ0ZXIgIT09IHVuZGVmaW5lZCA/IG5ldyBEYXRlKHRoaXMuZm0uYWZ0ZXIpIDogbmV3IERhdGUoKTtcblx0XHR0aGlzLmNvbXBvbmVudHMgPSBbXTtcblx0XHR0aGlzLmRvbWFpbnMgPSBbXTtcblx0XHR0aGlzLnByb2plY3RzID0gW107XG5cdFx0dGhpcy5jb250ZXh0cyA9IFtdO1xuXHRcdHRoaXMudHJhaXRzID0gW107XG5cdFx0dGhpcy5lbmVyZ3kgPSB0aGlzLmZtLmVuZXJneSAhPT0gdW5kZWZpbmVkID8gdGhpcy5mbS5lbmVyZ3kgOiA5O1xuXG5cdFx0Y29uc3QgZG9tYWlucyA9IFtdO1xuXHRcdGNvbnN0IGNvbXBvbmVudHMgPSBbXTtcblx0XHRjb25zdCBwcm9qZWN0cyA9IFtdO1xuXHRcdGNvbnN0IG5hbWVzID0gW107XG5cdFx0Y29uc3QgY29udGV4dHMgPSBbXTtcblx0XHRjb25zdCBjb250ZW50cyA9IFtdO1xuXHRcdGNvbnN0IHRyYWl0cyA9IFtdO1xuXG5cdFx0aWYgKCFIZWxwZXIubmlsQ2hlY2sodGhpcy5mbS50YWdzKSkge1xuXHRcdFx0aWYgKCFBcnJheS5pc0FycmF5KHRoaXMuZm0udGFncykpIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKFwiJ3RhZ3MnIGlzIGlnbm9yZWQsIGludmFsaWQgZGF0YS10eXBlXCIpO1xuXHRcdFx0XHR0aGlzLmZtLnRhZ3MgPSBbXTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yIChjb25zdCB0YWcgb2YgdGhpcy5mbS50YWdzKSB7XG5cdFx0XHRcdGlmICh0YWcuc2xpY2UoMCwgNykgPT09IFwiZG9tYWluL1wiKSB7XG5cdFx0XHRcdFx0ZG9tYWlucy5wdXNoKHRhZy5zbGljZSg3KSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAodGFnLnNsaWNlKDAsIDEwKSA9PT0gXCJjb21wb25lbnQvXCIpIHtcblx0XHRcdFx0XHRjb21wb25lbnRzLnB1c2godGFnLnNsaWNlKDEwKSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAodGFnLnNsaWNlKDAsIDgpID09PSBcInByb2plY3QvXCIpIHtcblx0XHRcdFx0XHRwcm9qZWN0cy5wdXNoKHRhZy5zbGljZSg4KSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAodGFnLnNsaWNlKDAsIDUpID09PSBcIm5hbWUvXCIpIHtcblx0XHRcdFx0XHRuYW1lcy5wdXNoKHRhZy5zbGljZSg1KSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAodGFnLnNsaWNlKDAsIDgpID09IFwiY29udGV4dC9cIikge1xuXHRcdFx0XHRcdGNvbnRleHRzLnB1c2godGFnLnNsaWNlKDgpKTtcblx0XHRcdFx0fSBlbHNlIGlmICh0YWcuc2xpY2UoMCwgOCkgPT0gXCJjb250ZW50L1wiKSB7XG5cdFx0XHRcdFx0Y29udGVudHMucHVzaCh0YWcuc2xpY2UoOCkpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHRhZy5zbGljZSgwLCA2KSA9PSBcInRyYWl0L1wiKSB7XG5cdFx0XHRcdFx0dHJhaXRzLnB1c2godGFnLnNsaWNlKDYpKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuc2luZ3VsYXIoZG9tYWlucywgXCJkb21haW5cIik7XG5cdFx0dGhpcy5wbHVyYWwoZG9tYWlucywgXCJkb21haW5zXCIpO1xuXHRcdHRoaXMuc2luZ3VsYXIoY29tcG9uZW50cywgXCJjb21wb25lbnRzXCIpO1xuXHRcdHRoaXMucGx1cmFsKGNvbXBvbmVudHMsIFwiY29tcG9uZW50c1wiKTtcblx0XHR0aGlzLnNpbmd1bGFyKHByb2plY3RzLCBcInByb2plY3RcIik7XG5cdFx0dGhpcy5wbHVyYWwocHJvamVjdHMsIFwicHJvamVjdHNcIik7XG5cdFx0dGhpcy5zaW5ndWxhcihjb250ZW50cywgXCJjb250ZW50c1wiKTtcblx0XHR0aGlzLnBsdXJhbChjb250ZW50cywgXCJjb250ZW50c1wiKTtcblx0XHR0aGlzLnNpbmd1bGFyKG5hbWVzLCBcIm5hbWVcIik7XG5cdFx0dGhpcy5wbHVyYWwobmFtZXMsIFwibmFtZXNcIik7XG5cdFx0dGhpcy5wbHVyYWwobmFtZXMsIFwiYWxpYXNcIik7XG5cdFx0dGhpcy5zaW5ndWxhcih0cmFpdHMsIFwidHJhaXRcIik7XG5cdFx0dGhpcy5wbHVyYWwodHJhaXRzLCBcInRyYWl0c1wiKTtcblxuXHRcdHRoaXMuZG9tYWlucyA9IGRvbWFpbnM7XG5cdFx0dGhpcy5jb21wb25lbnRzID0gY29tcG9uZW50cztcblx0XHR0aGlzLnByb2plY3RzID0gcHJvamVjdHM7XG5cdFx0dGhpcy5uYW1lcyA9IG5hbWVzO1xuXHRcdHRoaXMuY29udGV4dHMgPSBjb250ZXh0cztcblx0XHR0aGlzLmNvbnRlbnRzID0gY29udGVudHM7XG5cdFx0dGhpcy50cmFpdHMgPSB0cmFpdHM7XG5cdH1cblxuXHRnZXREb21haW4oZW1wdHlEZWZhdWx0ID0gdHJ1ZSk6IHN0cmluZyB7XG5cdFx0aWYgKGVtcHR5RGVmYXVsdCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZG9tYWluc1swXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHRoaXMuZG9tYWluc1swXSA9PT0gdW5kZWZpbmVkID8gXCJ1bmtub3duXCIgOiB0aGlzLmRvbWFpbnNbMF07XG5cdFx0fVxuXHR9XG5cblx0Z2V0RG9tYWlucygpOiBzdHJpbmdbXSB7XG5cdFx0cmV0dXJuIHRoaXMuZG9tYWlucztcblx0fVxuXG5cdGdldFRyYWl0cygpOiBzdHJpbmdbXSB7XG5cdFx0cmV0dXJuIHRoaXMudHJhaXRzO1xuXHR9XG5cblx0Z2V0Q29tcG9uZW50cygpOiBzdHJpbmdbXSB7XG5cdFx0cmV0dXJuIHRoaXMuY29tcG9uZW50cztcblx0fVxuXG5cdGdldFByb2plY3QoZW1wdHlEZWZhdWx0ID0gdHJ1ZSk6IHN0cmluZyB7XG5cdFx0aWYgKGVtcHR5RGVmYXVsdCkge1xuXHRcdFx0cmV0dXJuIHRoaXMucHJvamVjdHNbMF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB0aGlzLnByb2plY3RzWzBdID09PSB1bmRlZmluZWQgPyBcIlwiIDogdGhpcy5wcm9qZWN0c1swXTtcblx0XHR9XG5cdH1cblxuXHRnZXRQcm9qZWN0cygpOiBzdHJpbmdbXSB7XG5cdFx0cmV0dXJuIHRoaXMucHJvamVjdHM7XG5cdH1cblxuXHRnZXROYW1lKGVtcHR5RGVmYXVsdCA9IHRydWUpOiBzdHJpbmcge1xuXHRcdGlmIChlbXB0eURlZmF1bHQpIHtcblx0XHRcdHJldHVybiB0aGlzLm5hbWVzWzBdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5uYW1lc1swXSA9PT0gdW5kZWZpbmVkID8gXCJcIiA6IHRoaXMubmFtZXNbMF07XG5cdFx0fVxuXHR9XG5cblx0Z2V0Q29udGVudChlbXB0eURlZmF1bHQgPSB0cnVlKTogc3RyaW5nIHtcblx0XHRpZiAoZW1wdHlEZWZhdWx0KSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jb250ZW50c1swXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHRoaXMuY29udGVudHNbMF0gPT09IHVuZGVmaW5lZCA/IFwiXCIgOiB0aGlzLmNvbnRlbnRzWzBdO1xuXHRcdH1cblx0fVxuXG5cdGdldE5hbWVzKCk6IHN0cmluZ1tdIHtcblx0XHRyZXR1cm4gdGhpcy5uYW1lcztcblx0fVxuXG5cdGdldENvbnRleHQoZW1wdHlEZWZhdWx0ID0gdHJ1ZSk6IHN0cmluZyB7XG5cdFx0aWYgKGVtcHR5RGVmYXVsdCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuY29udGV4dHNbMF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB0aGlzLmNvbnRleHRzWzBdID09PSB1bmRlZmluZWQgPyBcIlwiIDogdGhpcy5jb250ZXh0c1swXTtcblx0XHR9XG5cdH1cblxuXHRyZXNvbHZlKGR2KSB7XG5cdFx0Y29uc3QgZG9tYWlucyA9IFtdO1xuXHRcdGZvciAoY29uc3QgZG9tYWluIG9mIHRoaXMuZG9tYWlucykge1xuXHRcdFx0aWYgKEhlbHBlci5pc1VVSUQoZG9tYWluKSkge1xuXHRcdFx0XHRjb25zdCBwYWdlcyA9IGR2XG5cdFx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuRG9tYWluc31cImApXG5cdFx0XHRcdFx0LndoZXJlKChwYWdlKSA9PiBwYWdlLmZpbGUuZnJvbnRtYXR0ZXIudXVpZCA9PT0gZG9tYWluKTtcblx0XHRcdFx0aWYgKHBhZ2VzLmxlbmd0aCA+IDEpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoKTtcblx0XHRcdFx0fSBlbHNlIGlmIChwYWdlcy5sZW5ndGggPT09IDEpIHtcblx0XHRcdFx0XHRjb25zdCBwYWdlID0gcGFnZXNbMF07XG5cdFx0XHRcdFx0ZG9tYWlucy5wdXNoKHBhZ2UuZmlsZS5mcm9udG1hdHRlci5uYW1lKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc3QgcGFnZXMgPSBkdlxuXHRcdFx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLkRvbWFpbnN9XCJgKVxuXHRcdFx0XHRcdC53aGVyZSgocGFnZSkgPT4gcGFnZS5maWxlLmZyb250bWF0dGVyLm5hbWUgPT09IGRvbWFpbik7XG5cdFx0XHRcdGlmIChwYWdlcy5sZW5ndGggPiAxKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCk7XG5cdFx0XHRcdH0gZWxzZSBpZiAocGFnZXMubGVuZ3RoID09PSAxKSB7XG5cdFx0XHRcdFx0Y29uc3QgcGFnZSA9IHBhZ2VzWzBdO1xuXHRcdFx0XHRcdGRvbWFpbnMucHVzaChwYWdlLmZpbGUuZnJvbnRtYXR0ZXIubmFtZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKGRvbWFpbnMubGVuZ3RoICE9PSB0aGlzLmRvbWFpbnMubGVuZ3RoKSB7XG5cdFx0XHRjb25zb2xlLndhcm4oYERvbWFpbiByZXNvbHV0aW9uIGZhaWxlZCBmb3I6ICR7dGhpcy5kb21haW5zfWApO1xuXHRcdH1cblxuXHRcdHRoaXMuZG9tYWlucyA9IGRvbWFpbnM7XG5cdH1cbn1cblxuY2xhc3MgVmFsaWRhdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuXHRjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG5cdFx0c3VwZXIobWVzc2FnZSk7IC8vICgxKVxuXHRcdHRoaXMubmFtZSA9IFwiVmFsaWRhdGlvbkVycm9yXCI7IC8vICgyKVxuXHR9XG59XG5cbmV4cG9ydCBjb25zdCBBc3NlcnQgPSB7XG5cdFRydWUocHJlZGljYXRlOiBib29sZWFuLCBtZXNzYWdlOiBzdHJpbmcsIHN0cmljdCA9IHRydWUpIHtcblx0XHRpZiAoIXByZWRpY2F0ZSkge1xuXHRcdFx0aWYgKHN0cmljdCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKG1lc3NhZ2UpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihtZXNzYWdlKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cdEZhbHNlKHByZWRpY2F0ZTogYm9vbGVhbiwgbWVzc2FnZTogc3RyaW5nLCBzdHJpY3QgPSBmYWxzZSkge1xuXHRcdGlmIChwcmVkaWNhdGUpIHtcblx0XHRcdGlmIChzdHJpY3QpIHtcblx0XHRcdFx0dGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihtZXNzYWdlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxufTtcblxuZXhwb3J0IGNvbnN0IEhlbHBlciA9IHtcblx0bmlsQ2hlY2sodmFsOiBhbnkpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdmFsID09PSB1bmRlZmluZWQgfHwgdmFsID09PSBudWxsO1xuXHR9LFxuXG5cdGdldEtleUZ1Y2soZ3JvdXBCeSkge1xuXHRcdHN3aXRjaCAoZ3JvdXBCeSkge1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdGNhc2UgXCJkb25lQXRcIjpcblx0XHRcdFx0cmV0dXJuIChlbnRyeSkgPT5cblx0XHRcdFx0XHRlbnRyeS5maWxlLmZyb250bWF0dGVyLmRvbmVBdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwiY3JlYXRlZEF0XCI6XG5cdFx0XHRcdHJldHVybiAoZW50cnkpID0+XG5cdFx0XHRcdFx0ZW50cnkuZmlsZS5mcm9udG1hdHRlci5jcmVhdGVkQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcInByb2plY3RcIjpcblx0XHRcdFx0cmV0dXJuIChlbnRyeSkgPT4gZW50cnkuZmlsZS5mcm9udG1hdHRlci5wcm9qZWN0O1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgXCJhcmVhXCI6XG5cdFx0XHRcdHJldHVybiAoZW50cnkpID0+IGVudHJ5LmZpbGUuZnJvbnRtYXR0ZXIuYXJlYTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9LFxuXG5cdGdldEtleShncm91cEJ5KSB7XG5cdFx0c3dpdGNoIChncm91cEJ5KSB7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0Y2FzZSBcImRvbmVBdFwiOlxuXHRcdFx0XHRyZXR1cm4gKGVudHJ5KSA9PiBlbnRyeS5kb25lQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcImNyZWF0ZWRBdFwiOlxuXHRcdFx0XHRyZXR1cm4gKGVudHJ5KSA9PiBlbnRyeS5jcmVhdGVkQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcInByb2plY3RcIjpcblx0XHRcdFx0cmV0dXJuIChlbnRyeSkgPT4gZW50cnkucHJvamVjdDtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwiYXJlYVwiOlxuXHRcdFx0XHRyZXR1cm4gKGVudHJ5KSA9PiBlbnRyeS5hcmVhO1xuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cdH0sXG5cblx0bnVtYmVyVHlwZVRvU3RyaW5nKHZhbCk6IHN0cmluZyB7XG5cdFx0c3dpdGNoICh2YWwudHlwZSkge1xuXHRcdFx0Y2FzZSBUeXBlcy5GbGVldGluZzpcblx0XHRcdFx0cmV0dXJuIFwiZmxlZXRpbmdcIjtcblx0XHRcdGNhc2UgVHlwZXMuTG9nOlxuXHRcdFx0XHRyZXR1cm4gXCJsb2dcIjtcblx0XHRcdGNhc2UgVHlwZXMuUHJvamVjdDpcblx0XHRcdFx0cmV0dXJuIFwicHJvamVjdFwiO1xuXHRcdFx0Y2FzZSBUeXBlcy5Pcmc6XG5cdFx0XHRcdHJldHVybiBcIm9yZ1wiO1xuXHRcdFx0Y2FzZSBUeXBlcy5Eb21haW46XG5cdFx0XHRcdHJldHVybiBcImRvbWFpblwiO1xuXHRcdFx0Y2FzZSBUeXBlcy5Db21wb25lbnQ6XG5cdFx0XHRcdHJldHVybiBcImNvbXBvbmVudFwiO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdGBudW1iZXJUeXBlVG9TdHJpbmc6IHR5cGU6IFwiJHt2YWwudHlwZX1cIiBub3QgaW1wbGVtZW50ZWQgXCIke3ZhbC51dWlkfVwiYCxcblx0XHRcdFx0KTtcblx0XHR9XG5cdH0sXG5cblx0cm91bmRUb09uZURlY2ltYWwodmFsOiBudW1iZXIpOiBudW1iZXIge1xuXHRcdHJldHVybiBNYXRoLnJvdW5kKHZhbCAqIDEwKSAvIDEwO1xuXHR9LFxuXG5cdGlzQ2hpbGRUYWcocGFyZW50LCBjaGlsZCkge1xuXHRcdGlmIChjaGlsZC5sZW5ndGggPD0gcGFyZW50Lmxlbmd0aCArIDEpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9IGVsc2UgaWYgKGNoaWxkLnNsaWNlKDAsIHBhcmVudC5sZW5ndGggKyAxKSAhPSBgJHtwYXJlbnR9L2ApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0Z2V0RmllbGQoZmllbGQsIGRlZmF1bHRWYWx1ZSkge1xuXHRcdGlmIChmaWVsZCA9PT0gdW5kZWZpbmVkIHx8IGZpZWxkID09PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gZGVmYXVsdFZhbHVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gZmllbGQ7XG5cdFx0fVxuXHR9LFxuXG5cdGdldERhdGUoZHQpIHtcblx0XHRpZiAoZHQgPT09IFwiXCIgfHwgZHQgPT09IG51bGwpIHtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fSBlbHNlIGlmIChkdCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRkdCA9IG5ldyBEYXRlKGR0KTtcblx0XHRcdGlmIChpc05hTihkdCkpIHtcblx0XHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBkdDtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cdH0sXG5cblx0Z2V0VGFnKGZtLCB0eXBlLCBlbXB0eURlZmF1bHQgPSB1bmRlZmluZWQpIHtcblx0XHRsZXQgbmFtZSA9IFwiXCI7XG5cdFx0bGV0IGRlZmF1bHRWYWx1ZSA9IFwiXCI7XG5cblx0XHRpZiAodHlwZSA9PT0gXCJhcmVhXCIpIHtcblx0XHRcdG5hbWUgPSBOYW1lc3BhY2UuQXJlYTtcblx0XHRcdGRlZmF1bHRWYWx1ZSA9IERlZmF1bHQuQXJlYTtcblx0XHR9IGVsc2UgaWYgKHR5cGUgPT09IFwiY29udGV4dFwiKSB7XG5cdFx0XHRuYW1lID0gTmFtZXNwYWNlLkNvbnRleHQ7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSBEZWZhdWx0LkNvbnRleHQ7XG5cdFx0fSBlbHNlIGlmICh0eXBlID09PSBcImxheWVyXCIpIHtcblx0XHRcdG5hbWUgPSBOYW1lc3BhY2UuTGF5ZXI7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSBEZWZhdWx0LkxheWVyO1xuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gXCJvcmdcIikge1xuXHRcdFx0bmFtZSA9IE5hbWVzcGFjZS5Pcmc7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSBEZWZhdWx0Lk9yZztcblx0XHR9IGVsc2UgaWYgKHR5cGUgPT09IFwicHJvamVjdFwiKSB7XG5cdFx0XHRuYW1lID0gTmFtZXNwYWNlLlByb2plY3Q7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSBEZWZhdWx0LlByb2plY3Q7XG5cdFx0fSBlbHNlIGlmICh0eXBlID09IFwiZG9tYWluXCIpIHtcblx0XHRcdG5hbWUgPSBcImRvbWFpblwiO1xuXHRcdFx0ZGVmYXVsdFZhbHVlID0gXCJub25lXCI7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgZ2V0VGFnIGdvdCB1bnN1cG9ydGVkIHR5cGU6ICcke3R5cGV9J2ApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGxlbiA9IG5hbWUubGVuZ3RoICsgMTtcblx0XHRjb25zdCBkZWZhdWx0VGFnID0gYCR7bmFtZX0vJHtkZWZhdWx0VmFsdWV9YDtcblxuXHRcdGxldCBkZWZhdWx0UmV0VmFsID0gZGVmYXVsdFRhZztcblx0XHRpZiAoZW1wdHlEZWZhdWx0KSB7XG5cdFx0XHRkZWZhdWx0UmV0VmFsID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gZGVmYXVsdFJldFZhbDtcblx0XHR9XG5cblx0XHRjb25zdCB0YWdzID0gZm0udGFncztcblx0XHRpZiAodGFncyA9PT0gdW5kZWZpbmVkIHx8IHRhZ3MubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gZGVmYXVsdFJldFZhbDtcblx0XHR9XG5cdFx0Ly8gLT4gdGFnIG4nZXhpc3RlIHBhcyAtPiB2YWxldXIgcGFyIGRlZmF1dFxuXHRcdC8vIC0+IHRhZyBleGlzdGUgbWFpcyBpbCBhIHVuZSB2YWxldXIgcGFyIGRlZmF1dCAtPiB2YWxldXIgcGFyIGRlZmF1dFxuXHRcdGZvciAoY29uc3QgdGFnIG9mIHRhZ3MpIHtcblx0XHRcdGlmICh0YWcgPT0gZGVmYXVsdFRhZykge1xuXHRcdFx0XHRyZXR1cm4gZGVmYXVsdFJldFZhbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRhZy5sZW5ndGggPiBsZW4gJiYgdGFnLnNsaWNlKDAsIGxlbikgPT0gYCR7bmFtZX0vYCkge1xuXHRcdFx0XHRyZXR1cm4gdGFnO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBkZWZhdWx0UmV0VmFsO1xuXHR9LFxuXG5cdGdldE5hbWUoZm0pOiBzdHJpbmcge1xuXHRcdGNvbnN0IGNvbXBvbmVudHMgPSBIZWxwZXIuZ2V0Q29tcG9uZW50cyhmbSk7XG5cdFx0aWYgKGNvbXBvbmVudHMubGVuZ3RoIDwgMSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBIZWxwZXIuZ2V0TmFtZSgpICR7Zm19YCk7XG5cdFx0fVxuXG5cdFx0bGV0IG5hbWUgPSB1bmRlZmluZWQ7XG5cdFx0bGV0IG9jY3VyZW5jZXMgPSAwO1xuXHRcdGZvciAoY29uc3QgY29tcG9uZW50IG9mIGNvbXBvbmVudHMpIHtcblx0XHRcdGlmIChjb21wb25lbnQuc2xpY2UoMCwgMTUpID09PSBcImNvbXBvbmVudC9uYW1lL1wiKSB7XG5cdFx0XHRcdG5hbWUgPSBjb21wb25lbnQuc2xpY2UoMTUpO1xuXHRcdFx0XHRvY2N1cmVuY2VzICs9IDE7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKG9jY3VyZW5jZXMgPiAxKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdGBIZWxwZXIuZ2V0TmFtZSgpICR7Zm19IG11bHRpcGxlIG9jY3VyZW5jZXMgb2YgJ2NvbXBvbmVudC9uYW1lJ2AsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGlmIChuYW1lID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0YEhlbHBlci5nZXROYW1lKCkgJHtmbX0gJ2NvbXBvbmVudC9uYW1lJyB1bmRlZmluZWRgLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbmFtZTtcblx0fSxcblxuXHRnZXRDb21wb25lbnRzKGZtKSB7XG5cdFx0Y29uc3QgY29tcG9uZW50cyA9IFtdO1xuXHRcdGlmIChIZWxwZXIubmlsQ2hlY2soZm0udGFncykpIHtcblx0XHRcdHJldHVybiBbXTtcblx0XHR9XG5cdFx0Zm9yIChjb25zdCB0YWcgb2YgZm0udGFncykge1xuXHRcdFx0aWYgKHRhZy5sZW5ndGggPiAxMCAmJiB0YWcuc2xpY2UoMCwgMTApID09PSBcImNvbXBvbmVudC9cIikge1xuXHRcdFx0XHRjb21wb25lbnRzLnB1c2godGFnKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGNvbXBvbmVudHM7XG5cdH0sXG5cblx0Z2V0QXJlYShmbSwgZW1wdHlEZWZhdWx0ID0gZmFsc2UpIHtcblx0XHRyZXR1cm4gSGVscGVyLmdldFRhZyhmbSwgXCJhcmVhXCIsIGVtcHR5RGVmYXVsdCk7XG5cdH0sXG5cblx0Z2V0Q29udGV4dChmbSwgZW1wdHlEZWZhdWx0ID0gZmFsc2UpIHtcblx0XHRyZXR1cm4gSGVscGVyLmdldFRhZyhmbSwgXCJjb250ZXh0XCIsIGVtcHR5RGVmYXVsdCk7XG5cdH0sXG5cblx0Z2V0RG9tYWluKGZtLCBlbXB0eURlZmF1bHQgPSBmYWxzZSkge1xuXHRcdHJldHVybiBIZWxwZXIuZ2V0VGFnKGZtLCBcImRvbWFpblwiLCBlbXB0eURlZmF1bHQpO1xuXHR9LFxuXG5cdGdldExheWVyKGZtLCBlbXB0eURlZmF1bHQgPSBmYWxzZSkge1xuXHRcdHJldHVybiBIZWxwZXIuZ2V0VGFnKGZtLCBcImxheWVyXCIsIGVtcHR5RGVmYXVsdCk7XG5cdH0sXG5cblx0Z2V0T3JnKGZtLCBlbXB0eURlZmF1bHQgPSBmYWxzZSkge1xuXHRcdHJldHVybiBIZWxwZXIuZ2V0VGFnKGZtLCBcIm9yZ1wiLCBlbXB0eURlZmF1bHQpO1xuXHR9LFxuXG5cdGdldFByb2plY3QoZm0sIGVtcHR5RGVmYXVsdCA9IGZhbHNlKSB7XG5cdFx0cmV0dXJuIEhlbHBlci5nZXRUYWcoZm0sIFwicHJvamVjdFwiLCBlbXB0eURlZmF1bHQpO1xuXHR9LFxuXG5cdGR1cmF0aW9uU3RyaW5nVG9TZWModmFsKSB7XG5cdFx0aWYgKHZhbCA9PT0gdW5kZWZpbmVkIHx8IHZhbC5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblx0XHRjb25zdCBtdWx0ID0gdmFsLnNsaWNlKC0xKTtcblx0XHRsZXQgbSA9IDA7XG5cdFx0aWYgKG11bHQgPT09IFwiaFwiKSB7XG5cdFx0XHRtID0gNjAgKiA2MDtcblx0XHR9IGVsc2UgaWYgKG11bHQgPT09IFwibVwiKSB7XG5cdFx0XHRtID0gNjA7XG5cdFx0fSBlbHNlIGlmIChtdWx0ID09PSBcImRcIikge1xuXHRcdFx0bSA9IDI0ICogNjAgKiA2MDtcblx0XHR9IGVsc2UgaWYgKG11bHQgPT0gXCJ3XCIpIHtcblx0XHRcdG0gPSAyNCAqIDYwICogNjAgKiA3O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLndhcm4oYFVuaGFuZGxlZCBjYXNlIHZhbDogJHt2YWx9YCk7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdHJldHVybiBtICogcGFyc2VJbnQodmFsLnNsaWNlKDAsIC0xKSk7XG5cdH0sXG5cblx0bXNlY1RvU3RyaW5nRHVyYXRpb24odmFsOiBudW1iZXIpIHtcblx0XHRjb25zdCBvbmVIb3VySW5Nc2VjID0gMzYwMDAwMDsgLy8gMSBob3VyIGluIG1zZWNcblx0XHRjb25zdCBvbmVEYXlJbk1zZWMgPSA4NjQwMDAwMDsgLy8gMSBkYXkgaW4gbXNlY1xuXHRcdGlmICh2YWwgPj0gMjQgKiBvbmVIb3VySW5Nc2VjKSB7XG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRTdHJpbmcoSGVscGVyLnJvdW5kVG9PbmVEZWNpbWFsKHZhbCAvIG9uZURheUluTXNlYykpLnBhZFN0YXJ0KFxuXHRcdFx0XHRcdDIsXG5cdFx0XHRcdFx0XCIwXCIsXG5cdFx0XHRcdCkgKyBcIiBkXCJcblx0XHRcdCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFN0cmluZyhIZWxwZXIucm91bmRUb09uZURlY2ltYWwodmFsIC8gb25lSG91ckluTXNlYykpLnBhZFN0YXJ0KFxuXHRcdFx0XHRcdDIsXG5cdFx0XHRcdFx0XCIwXCIsXG5cdFx0XHRcdCkgKyBcIiBoXCJcblx0XHRcdCk7XG5cdFx0fVxuXHR9LFxuXG5cdGlzVVVJRCh2YWw6IHN0cmluZyk6IGJvb2xlYW4ge1xuXHRcdGlmICh0eXBlb2YgdmFsICE9PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiB2YWwubGVuZ3RoID09PSAzNjtcblx0fSxcblxuXHRzb3J0QnlBZ2UoYSwgYikge1xuXHRcdGNvbnN0IGZtQSA9IG5ldyBGcm9udG1hdHRlckpTKGEpO1xuXHRcdGNvbnN0IGZtQiA9IG5ldyBGcm9udG1hdHRlckpTKGIpO1xuXG5cdFx0cmV0dXJuIGZtQS5jcmVhdGVkQXQuZ2V0VGltZSgpIC0gZm1CLmNyZWF0ZWRBdC5nZXRUaW1lKCk7XG5cdH0sXG5cblx0c29ydEJ5UHJpb3JpdHkoYSwgYikge1xuXHRcdGNvbnN0IGZtQSA9IG5ldyBGcm9udG1hdHRlckpTKGEpO1xuXHRcdGNvbnN0IGZtQiA9IG5ldyBGcm9udG1hdHRlckpTKGIpO1xuXG5cdFx0cmV0dXJuIGZtQi5mbS5wcmlvcml0eSAtIGZtQS5mbS5wcmlvcml0eTtcblx0fSxcblxuXHRzb3J0QnlQcmlvcml0eUFuZEFnZShhLCBiKSB7XG5cdFx0Y29uc3QgZm1BID0gbmV3IEZyb250bWF0dGVySlMoYSk7XG5cdFx0Y29uc3QgZm1CID0gbmV3IEZyb250bWF0dGVySlMoYik7XG5cblx0XHRpZiAoZm1BLmZtLnByaW9yaXR5ICE9PSBmbUIuZm0ucHJpb3JpdHkucHJpb3JpdHkpIHtcblx0XHRcdHJldHVybiBIZWxwZXIuc29ydEJ5UHJpb3JpdHkoYSwgYik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBIZWxwZXIuc29ydEJ5QWdlKGEsIGIpO1xuXHRcdH1cblx0fSxcblxuXHRzb3J0QnlEdXJhdGlvbihhLCBiKSB7XG5cdFx0Y29uc3QgZm1BID0gbmV3IEZyb250bWF0dGVySlMoYSk7XG5cdFx0Y29uc3QgZm1CID0gbmV3IEZyb250bWF0dGVySlMoYik7XG5cdFx0cmV0dXJuIChcblx0XHRcdEhlbHBlci5kdXJhdGlvblN0cmluZ1RvU2VjKGZtQS5mbS50aW1lX2VzdGltYXRlKSAtXG5cdFx0XHRIZWxwZXIuZHVyYXRpb25TdHJpbmdUb1NlYyhmbUIuZm0udGltZV9lc3RpbWF0ZSlcblx0XHQpO1xuXHR9LFxuXG5cdHNvcnRCeVByaW9yaXR5QW5kRHVyYXRpb24oYSwgYikge1xuXHRcdGNvbnN0IGZtQSA9IG5ldyBGcm9udG1hdHRlckpTKGEpO1xuXHRcdGNvbnN0IGZtQiA9IG5ldyBGcm9udG1hdHRlckpTKGIpO1xuXG5cdFx0aWYgKGZtQS5mbS5wcmlvcml0eSAhPT0gZm1CLmZtLnByaW9yaXR5KSB7XG5cdFx0XHRyZXR1cm4gSGVscGVyLnNvcnRCeVByaW9yaXR5KGEsIGIpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gSGVscGVyLnNvcnRCeUR1cmF0aW9uKGEsIGIpO1xuXHRcdH1cblx0fSxcblxuXHRzb3J0QnlQcmlvcml0eUFuZER1cmF0aW9uQW5kQWdlKGEsIGIpIHtcblx0XHRjb25zdCBmbUEgPSBuZXcgRnJvbnRtYXR0ZXJKUyhhKTtcblx0XHRjb25zdCBmbUIgPSBuZXcgRnJvbnRtYXR0ZXJKUyhiKTtcblxuXHRcdGlmIChmbUEuZm0ucHJpb3JpdHkgIT09IGZtQi5mbS5wcmlvcml0eSkge1xuXHRcdFx0cmV0dXJuIEhlbHBlci5zb3J0QnlQcmlvcml0eShhLCBiKTtcblx0XHR9IGVsc2UgaWYgKGZtQS5mbS50aW1lX2VzdGltYXRlICE9PSBmbUIuZm0udGltZV9lc3RpbWF0ZSkge1xuXHRcdFx0cmV0dXJuIEhlbHBlci5zb3J0QnlEdXJhdGlvbihhLCBiKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIEhlbHBlci5zb3J0QnlBZ2UoYSwgYik7XG5cdFx0fVxuXHR9LFxufTtcblxuZXhwb3J0IGNvbnN0IEF1dG9GaWVsZCA9IHtcblx0dGFncyhkdiwgZm0sIGxldmVsID0gMikge1xuXHRcdGNvbnN0IHRhZ3MgPSBmbS50YWdzO1xuXHRcdGlmICh0YWdzID09IHVuZGVmaW5lZCB8fCB0YWdzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRhZ3Muc29ydCgpO1xuXHRcdGR2LmhlYWRlcihsZXZlbCwgXCJUYWdzXCIpO1xuXHRcdGxldCBzID0gXCJcIjtcblx0XHRmb3IgKGNvbnN0IHRhZyBvZiB0YWdzKSB7XG5cdFx0XHRzICs9IGAgIyR7dGFnfWA7XG5cdFx0fVxuXHRcdGR2LnBhcmFncmFwaChzKTtcblx0fSxcblxuXHRoZWFsbW9uKGR2KSB7XG5cdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhkdi5jdXJyZW50KCkpO1xuXHRcdGNvbnN0IGN1cnJlbnQgPSBmbS5jcmVhdGVkQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cblx0XHRjb25zdCBwYWdlcyA9IGR2LnBhZ2VzKGBcIiR7UGF0aHMuSm91cm5hbH1cImApLndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRjb25zdCBqRm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdGlmIChqRm0uZ2V0UHJvamVjdCgpICE9PSBcImhvbWVjb29rXCIpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgakN1cnJlbnQgPSBudWxsO1xuXHRcdFx0Ly8gbGEgZmljaGUgaG9tZWNvb2sgc2UgdHJvdXZlIHRvdWpvdXJzIFx1MDBFMCBsYSBkYXRlIGotMVxuXHRcdFx0Y29uc3QgY3VycmVudE1pbnVzT25lID0gbmV3IERhdGUoXG5cdFx0XHRcdGZtLmNyZWF0ZWRBdC5nZXRUaW1lKCkgLSAyNCAqIDYwICogNjAgKiAxMDAwLFxuXHRcdFx0KTtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdC8vIG9uIHMnaW50XHUwMEU5cmVzc2UgYXUgcmVwYXMgZGUgbGEgdmVpbGxlIGRhbnMgaGVhbG1vblxuXHRcdFx0XHQvLyBuZSBjb3V2cmUgcGFzIG91IGxlIHJlcGFzIGVzdCBwcmlzIGFwcmVzIDAwaCBsZSBqb3VyIGVuIGNvdXJzXG5cdFx0XHRcdC8vIHNlcmEgZ1x1MDBFOXJcdTAwRTkgYXZlYyBsYSBmaWNoZSBkaXJlY3RlbWVudCBwb3VyIGxlIG1vbWVudFxuXHRcdFx0XHRqQ3VycmVudCA9IGpGbS5jcmVhdGVkQXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0ZHYucGFyYWdyYXBoKFxuXHRcdFx0XHRcdGBJbnZhbGlkIGRhdGU6ICR7UmVuZGVyZXIubWFrZUxpbmtTaG9ydFVVSUQoZHYsIHBhZ2UuZmlsZSl9YCxcblx0XHRcdFx0KTtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihqRm0pO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY3VycmVudE1pbnVzT25lLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApICE9PSBqQ3VycmVudCkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0pO1xuXG5cdFx0ZHYuaGVhZGVyKDQsIFwicmVwYXMgKHZlaWxsZSlcIik7XG5cdFx0aWYgKHBhZ2VzLmxlbmd0aCkge1xuXHRcdFx0Zm9yIChjb25zdCBwYWdlIG9mIHBhZ2VzKSB7XG5cdFx0XHRcdGR2LnBhcmFncmFwaChSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRChkdiwgcGFnZS5maWxlKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdGF1dGhvcnMoZHYsIGZtKSB7XG5cdFx0Y29uc3QgYXV0aG9ycyA9IGZtLmF1dGhvcnM7XG5cdFx0aWYgKGF1dGhvcnMgPT09IHVuZGVmaW5lZCB8fCBhdXRob3JzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGR2LmhlYWRlcigzLCBcIkF1dGhvcnNcIik7XG5cdFx0ZHYubGlzdChhdXRob3JzKTtcblx0fSxcblxuXHR0aXRsZShkdiwgZm0pIHtcblx0XHRjb25zdCB0aXRsZSA9IGZtLmFsaWFzO1xuXHRcdGlmICh0aXRsZSA9PT0gdW5kZWZpbmVkIHx8IHRpdGxlLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGR2LmhlYWRlcigzLCB0aXRsZSk7XG5cdH0sXG5cblx0bG9ncyhkdiwgZW50cmllcykge1xuXHRcdGNvbnNvbGUubG9nKFwiY291Y291LCB0dSB2ZXV4IHZvaXIgbWEgYml0ZT9cIik7XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGxldCB0b3RhbFRpbWUgPSAwO1xuXG5cdFx0Zm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKSB7XG5cdFx0XHRjb25zdCBmbWUgPSBlbnRyeS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0Y29uc3QgZSA9IFtdO1xuXHRcdFx0bGV0IHN0YXJ0OiBhbnkgPSAwO1xuXHRcdFx0bGV0IHN0b3A6IGFueSA9IDA7XG5cdFx0XHRpZiAoZm1lID09PSB1bmRlZmluZWQgfHwgZm1lLmNyZWF0ZWRfYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZnJvbnRtYXR0ZXI6ICR7Zm1lLnV1aWR9YCk7XG5cdFx0XHR9XG5cblx0XHRcdHN0YXJ0ID0gbmV3IERhdGUoZm1lLmNyZWF0ZWRfYXQpO1xuXHRcdFx0ZS5wdXNoKHN0YXJ0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApKTtcblx0XHRcdGlmIChmbWUuZG9uZV9hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHN0b3AgPSBEYXRlLm5vdygpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c3RvcCA9IG5ldyBEYXRlKGZtZS5kb25lX2F0KTtcblx0XHRcdH1cblx0XHRcdHRvdGFsVGltZSArPSBzdG9wIC0gc3RhcnQ7XG5cdFx0XHRlLnB1c2goXG5cdFx0XHRcdGR2LnNlY3Rpb25MaW5rKFxuXHRcdFx0XHRcdGZtZS51dWlkLFxuXHRcdFx0XHRcdFwiIyMgQ29udGVudFwiLFxuXHRcdFx0XHRcdGZhbHNlLFxuXHRcdFx0XHRcdGZtZS51dWlkLnNsaWNlKDAsIDgpLFxuXHRcdFx0XHQpLFxuXHRcdFx0KTtcblx0XHRcdGUucHVzaChNYXRoLnJvdW5kKCgoc3RvcCAtIHN0YXJ0KSAvICgxMDAwICogNjAgKiA2MCkpICogMTApIC8gMTApO1xuXHRcdFx0aWYgKGZtZS5yZXZpZXdlZCA9PT0gdW5kZWZpbmVkIHx8IGZtZS5yZXZpZXdlZCA9PT0gMCkge1xuXHRcdFx0XHRlLnB1c2goMCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlLnB1c2goZm1lLnJldmlld2VkKTtcblx0XHRcdH1cblx0XHRcdGJ1ZmYucHVzaChlKTtcblx0XHR9XG5cblx0XHRpZiAoYnVmZi5sZW5ndGggPiAwKSB7XG5cdFx0XHRkdi5oZWFkZXIoMiwgXCJMb2dzXCIpO1xuXHRcdFx0ZHYudGFibGUoW1wiY3JlYXRlZF9hdFwiLCBcInV1aWRcIiwgXCJzZXNzaW9uXCIsIFwicmV2aWV3ZWRcIl0sIGJ1ZmYpO1xuXHRcdFx0aWYgKHRvdGFsVGltZSA+IDApIHtcblx0XHRcdFx0ZHYucGFyYWdyYXBoKFxuXHRcdFx0XHRcdGBfdG90YWxUaW1lIChoKTpfICR7TWF0aC5yb3VuZCgodG90YWxUaW1lIC8gKDEwMDAgKiA2MCAqIDYwKSkgKiAxMCkgLyAxMFxuXHRcdFx0XHRcdH1gLFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRtZWRpYShkdikge1xuXHRcdGNvbnN0IGN1cnJlbnQgPSBkdi5jdXJyZW50KCk7XG5cdFx0Y29uc3QgZm0gPSBjdXJyZW50LmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0Y29uc3QgcGFnZXMgPSBkdi5wYWdlcyhgXCIke1BhdGhzLlJlZnN9LyR7Zm0ucmVmX2lkfVwiYCkuYXJyYXkoKTtcblx0XHRpZiAocGFnZXMubGVuZ3RoICE9PSAxKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbnN0IG1lZGlhID0gcGFnZXNbMF07XG5cdFx0Y29uc3QgbWVkaWFGbSA9IG1lZGlhLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0QXV0b0ZpZWxkLnRpdGxlKGR2LCBtZWRpYUZtKTtcblx0XHRkdi5wYXJhZ3JhcGgoUmVuZGVyZXIubWFrZUxpbmtBbGlhcyhkdiwgbWVkaWEuZmlsZSkpO1xuXHRcdEF1dG9GaWVsZC5hdXRob3JzKGR2LCBtZWRpYUZtKTtcblx0XHRBdXRvRmllbGQudGFncyhkdiwgbWVkaWFGbSwgMyk7XG5cblx0XHRjb25zdCBsb2dFbnRyaWVzID0gZHZcblx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLkxvZ3N9LyR7Zm0udXVpZH1cImApXG5cdFx0XHQud2hlcmUoKHApID0+IHAudHlwZSA9PT0gNilcblx0XHRcdC5zb3J0KChrKSA9PiBrLmNyZWF0ZWRfYXQsIFwiZGVzY1wiKTtcblx0XHRBdXRvRmllbGQubG9ncyhkdiwgbG9nRW50cmllcyk7XG5cdH0sXG5cblx0YXV0b0ZpZWxkVGl0bGUoZHYsIGZtKSB7XG5cdFx0Y29uc3QgdGl0bGUgPSBmbS5hbGlhcztcblx0XHRpZiAodGl0bGUgPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0ZHYuaGVhZGVyKDEsIHRpdGxlKTtcblx0fSxcblxuXHRhdXRvRmllbGRBdXRob3JzKGR2LCBmbSkge1xuXHRcdGNvbnN0IGF1dGhvcnMgPSBmbS5hdXRob3JzO1xuXHRcdGlmIChhdXRob3JzID09PSB1bmRlZmluZWQgfHwgYXV0aG9ycy5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0ZHYuaGVhZGVyKDIsIFwiQXV0aG9yc1wiKTtcblx0XHRkdi5saXN0KGF1dGhvcnMpO1xuXHR9LFxuXG5cdGF1dG9GaWVsZFRhZ3MoZHYsIGZtKSB7XG5cdFx0Y29uc3QgdGFncyA9IGZtLnRhZ3M7XG5cdFx0aWYgKHRhZ3MgPT0gdW5kZWZpbmVkIHx8IHRhZ3MubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGFncy5zb3J0KCk7XG5cdFx0ZHYuaGVhZGVyKDIsIFwiVGFnc1wiKTtcblx0XHRsZXQgcyA9IFwiXCI7XG5cdFx0Zm9yIChjb25zdCB0YWcgb2YgdGFncykge1xuXHRcdFx0cyArPSBgICMke3RhZ31gO1xuXHRcdH1cblx0XHRkdi5wYXJhZ3JhcGgocyk7XG5cdH0sXG5cblx0bGl0ZXJhdHVyZShkdikge1xuXHRcdGNvbnN0IGN1cnJlbnQgPSBkdi5jdXJyZW50KCk7XG5cdFx0Y29uc3QgZm0gPSBjdXJyZW50LmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKEhlbHBlci5uaWxDaGVjayhmbS5hdXRob3JzKSkge1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmF1dG9GaWVsZFRpdGxlKGR2LCBmbSk7XG5cdFx0XHR0aGlzLmF1dG9GaWVsZEF1dGhvcnMoZHYsIGZtKTtcblx0XHRcdHRoaXMuYXV0b0ZpZWxkVGFncyhkdiwgZm0pO1xuXHRcdH1cblx0fSxcblxuXHRnb2FsKGR2KSB7XG5cdFx0Y29uc3QgY3VycmVudCA9IGR2LmN1cnJlbnQoKTtcblx0XHRjb25zdCBmbSA9IGN1cnJlbnQuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Y29uc29sZS53YXJuKFwiZm0gaXMgcmVxdWlyZWRcIik7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gdGhpcy5hdXRvRmllbGROZWVkKGR2LCBmbSk7XG5cdFx0Ly8gdGhpcy5hdXRvRmllbGROZWVkZWRCeShkdiwgY3VycmVudCk7XG5cdFx0Ly8gdGhpcy5hdXRvRmllbGRUYWdzKGR2LCBmbSk7XG5cdFx0Ly9cblx0XHRjb25zdCBjcmVhdGVkX2F0ID0gbmV3IERhdGUoZm0uY3JlYXRlZF9hdCk7XG5cdFx0Y29uc3QgbG9nRW50cmllcyA9IGR2XG5cdFx0XHQucGFnZXMoYFwiJHtQYXRocy5Mb2dzfS8ke2ZtLnV1aWR9XCJgKVxuXHRcdFx0LndoZXJlKChwKSA9PiBwLnR5cGUgPT09IDYpXG5cdFx0XHQuc29ydCgoaykgPT4gay5jcmVhdGVkX2F0LCBcImRlc2NcIik7XG5cblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Zm9yIChjb25zdCBlbnRyeSBvZiBsb2dFbnRyaWVzKSB7XG5cdFx0XHRjb25zdCBmbWUgPSBlbnRyeS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0Y29uc3QgZSA9IFtdO1xuXG5cdFx0XHRpZiAoZm1lID09PSB1bmRlZmluZWQgfHwgZm1lLmNyZWF0ZWRfYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZnJvbnRtYXR0ZXI6ICR7Zm1lLnV1aWR9YCk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoZm1lLmNyZWF0ZWRfYXQpO1xuXHRcdFx0ZS5wdXNoKHN0YXJ0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApKTtcblxuXHRcdFx0ZS5wdXNoKFxuXHRcdFx0XHRkdi5zZWN0aW9uTGluayhcblx0XHRcdFx0XHRmbWUudXVpZCxcblx0XHRcdFx0XHRcIiMjIENvbnRlbnRcIixcblx0XHRcdFx0XHRmYWxzZSxcblx0XHRcdFx0XHRmbWUudXVpZC5zbGljZSgwLCA4KSxcblx0XHRcdFx0KSxcblx0XHRcdCk7XG5cblx0XHRcdGJ1ZmYucHVzaChlKTtcblx0XHR9XG5cblx0XHRjb25zdCBiZWZvcmUgPSBuZXcgRGF0ZShmbS5iZWZvcmUpO1xuXHRcdC8vIGRheXNcblx0XHRjb25zdCB0aW1lZnJhbWUgPVxuXHRcdFx0KGJlZm9yZS5nZXRUaW1lKCkgLSBjcmVhdGVkX2F0LmdldFRpbWUoKSkgLyAoMTAwMCAqIDM2MDAgKiAyNCk7XG5cdFx0bGV0IHRpbWVmcmFtZVRleHQgPSBcIlwiO1xuXHRcdC8vIDEgam91clxuXHRcdC8vIDEgc2VtYWluZVxuXHRcdC8vIDIgc2VtYWluZVxuXHRcdC8vIDEgbW9pc1xuXHRcdC8vIDIgbW9pc1xuXHRcdC8vIDYgbW9pc1xuXHRcdC8vIDEgYW5cblx0XHQvLyAyIGFuc1xuXHRcdC8vIDUgYW5zXG5cdFx0ZHYuaGVhZGVyKDMsIFwiVGltZWZyYW1lXCIpO1xuXHRcdGlmICh0aW1lZnJhbWUgPiAwICYmIHRpbWVmcmFtZSA8IDMwKSB7XG5cdFx0XHR0aW1lZnJhbWVUZXh0ID0gXCJydW5hd2F5XCI7XG5cdFx0fSBlbHNlIGlmICh0aW1lZnJhbWUgPCA2MCkge1xuXHRcdFx0dGltZWZyYW1lVGV4dCA9IFwiMTAsMDAwIGZlZXRcIjtcblx0XHR9IGVsc2UgaWYgKHRpbWVmcmFtZSA8IDM2MCkge1xuXHRcdFx0dGltZWZyYW1lVGV4dCA9IFwiMjAsMDAwIGZlZXRcIjtcblx0XHR9IGVsc2UgaWYgKHRpbWVmcmFtZSA8IDcyMCkge1xuXHRcdFx0dGltZWZyYW1lVGV4dCA9IFwiMzAsMDAwIGZlZXRcIjtcblx0XHR9IGVsc2UgaWYgKHRpbWVmcmFtZSA8IDEwODApIHtcblx0XHRcdHRpbWVmcmFtZVRleHQgPSBcIjQwLDAwMCBmZWV0XCI7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRpbWVmcmFtZVRleHQgPSBcIjUwLDAwMCBmZWV0XCI7XG5cdFx0fVxuXG5cdFx0ZHYucGFyYWdyYXBoKHRpbWVmcmFtZVRleHQpO1xuXG5cdFx0aWYgKGJ1ZmYubGVuZ3RoID4gMCkge1xuXHRcdFx0ZHYuaGVhZGVyKDIsIFwiUmV2aWV3c1wiKTtcblx0XHRcdGR2LnRhYmxlKFtcInJldmlld2VkX2F0XCIsIFwidXVpZFwiXSwgYnVmZik7XG5cdFx0fVxuXHR9LFxuXG5cdGRhaWx5KGR2KSB7XG5cdFx0Y29uc3QgY3VycmVudCA9IGR2LmN1cnJlbnQoKS5maWxlLmZyb250bWF0dGVyO1xuXHRcdGNvbnN0IGN1cnJlbnRBdCA9IG5ldyBEYXRlKGN1cnJlbnQuYXQpO1xuXHRcdGNvbnN0IGN1cnJlbnRBdFNob3J0ID0gY3VycmVudEF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgNyk7XG5cblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0Y29uc3QgZ29uZXh0ID0gYXBwLnBsdWdpbnMucGx1Z2lucy5vYnNpZGlhbl9nb25leHQ7XG5cdFx0Y29uc3Qgbm90ZUhlbHBlciA9IG5ldyBOb3RlSGVscGVyKGdvbmV4dCwgZHYsIG5ldyBGcm9udG1hdHRlcihnb25leHQpKTtcblxuXHRcdGNvbnNvbGUubG9nKFwiMVwiKVxuXHRcdGNvbnN0IHBhZ2VzID0gZHZcblx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfVwiYClcblx0XHRcdC53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0XHQvLyBpZiAocGFnZS5maWxlLmZyb250bWF0dGVyLmF0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ly8gXHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdC8vIH1cblxuXHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRpZiAoY3VycmVudC51dWlkID09PSBmbS51dWlkKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGZtLmZtLnN0YXR1cyAhPT0gXCJ0b2RvXCIgfHwgZm0uZ2V0UHJvamVjdCgpID09PSBcImRhaWx5XCIpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRjb25zdCBub3cgPSBjdXJyZW50QXQ7XG5cdFx0XHRcdGxldCBmbUF0U2hvcnQgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Zm1BdFNob3J0ID0gZm0uYXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cdFx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihgJHtmbS51dWlkfWApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCFub3RlSGVscGVyLmlzRG9hYmxlKHBhZ2UsIGN1cnJlbnRBdCkpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBpZiAoZm0udXVpZCA9PT0gXCIyYTk3ZGUzNS1jYTg3LTQyNjctOTE1OS02YzA5NmQ0MTYzZjFcIikge1xuXHRcdFx0XHQvLyBcdGNvbnNvbGUubG9nKGB1dWlkOiAke2ZtLnV1aWR9YCk7XG5cdFx0XHRcdC8vIFx0Y29uc29sZS5sb2coYG5vdzogJHtub3d9YCk7XG5cdFx0XHRcdC8vIFx0Y29uc29sZS5sb2coYGZtLmF0OiAke2ZtLmF0fWApO1xuXHRcdFx0XHQvLyBcdGNvbnNvbGUubG9nKGBmbUF0U2hvcnQ6ICR7Zm1BdFNob3J0fWApO1xuXHRcdFx0XHQvLyBcdGNvbnNvbGUubG9nKGBjdXJyZW50QXRTaG9ydDogJHtjdXJyZW50QXRTaG9ydH1gKTtcblx0XHRcdFx0Ly8gXHRjb25zb2xlLmxvZyhgY29uZGl0aW9uOiAke2ZtLmF0ICE9PSB1bmRlZmluZWQgJiYgZm1BdFNob3J0ID09PSBjdXJyZW50QXRTaG9ydH1gKTtcblx0XHRcdFx0Ly8gfVxuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRwYWdlLmZpbGUuZnJvbnRtYXR0ZXIuYXQgIT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0XHRcdGZtQXRTaG9ydCA9PT0gY3VycmVudEF0U2hvcnRcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0cGFnZS5maWxlLmZyb250bWF0dGVyLmF0ICE9PSB1bmRlZmluZWQgJiZcblx0XHRcdFx0XHRmbS5hdC5nZXRUaW1lKCkgPCBub3cuZ2V0VGltZSgpXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHBhZ2UuZmlsZS5mcm9udG1hdHRlci5iZWZvcmUgIT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0XHRcdGZtLmJlZm9yZS5nZXRUaW1lKCkgPiBub3cuZ2V0VGltZSgpXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHBhZ2UuZmlsZS5mcm9udG1hdHRlci5hZnRlciAhPT0gdW5kZWZpbmVkICYmXG5cdFx0XHRcdFx0Zm0uYWZ0ZXIuZ2V0VGltZSgpIDwgbm93LmdldFRpbWUoKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0pXG5cdFx0XHQuc29ydCgoaykgPT4gay5hdCwgXCJhc2NcIik7XG5cblx0XHRpZiAocGFnZXMubGVuZ3RoID4gMCkge1xuXHRcdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdFx0Zm9yIChjb25zdCBwYWdlIG9mIHBhZ2VzKSB7XG5cdFx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRcdGNvbnN0IGggPSBTdHJpbmcoZm0uYXQuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0XHRjb25zdCBtID0gU3RyaW5nKGZtLmF0LmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0XHRpZiAocGFnZS5maWxlLmZyb250bWF0dGVyLnN0YXR1cyA9PT0gXCJkb25lXCIpIHtcblx0XHRcdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRcdFx0YH5+JHtSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRChkdiwgcGFnZS5maWxlLCBcIlRhc2tcIil9fn5gLFxuXHRcdFx0XHRcdFx0YH5+JHtofToke219fn5gLFxuXHRcdFx0XHRcdF0pO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGJ1ZmYucHVzaChbXG5cdFx0XHRcdFx0XHRgJHtSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRChkdiwgcGFnZS5maWxlLCBcIlRhc2tcIil9YCxcblx0XHRcdFx0XHRcdGAke2h9OiR7bX1gLFxuXHRcdFx0XHRcdF0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRkdi50YWJsZShbXCJ1dWlkXCIsIFwiYXRcIl0sIGJ1ZmYpO1xuXG5cdFx0fVxuXG5cdFx0Ly8gQXV0b0ZpZWxkLmRhaWx5Sm91cmFsKGR2KTtcblx0XHRBdXRvRmllbGQubW9udGhseUpvdXJhbChkdik7XG5cblx0fSxcblxuXHRtb250aGx5Sm91cmFsKGR2KSB7XG5cdFx0Y29uc3QgY3VycmVudCA9IG5ldyBGcm9udG1hdHRlckpTKGR2LmN1cnJlbnQoKSk7XG5cdFx0Y29uc3QgY3VycmVudEF0U2hvcnQgPSBjdXJyZW50LmF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgNyk7XG5cblx0XHRjb25zdCBwYWdlcyA9IGR2XG5cdFx0XHQucGFnZXMoYFwiSm91cm5hbFwiYClcblx0XHRcdC53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRjb25zdCBhdFNob3J0ID0gZm0uY3JlYXRlZEF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgNyk7XG5cdFx0XHRcdGlmIChhdFNob3J0ID09PSBjdXJyZW50QXRTaG9ydCAmJiBmbS5nZXRQcm9qZWN0KCkgPT09IFwibW9udGhseVwiKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9KVxuXHRcdFx0LnNvcnQoKGspID0+IGsuY3JlYXRlZF9hdCwgXCJhc2NcIik7XG5cblx0XHRkdi5oZWFkZXIoMiwgXCJKb3VybmFsXCIpO1xuXHRcdGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuXHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdGlmIChwYWdlLmZpbGUuZnJvbnRtYXR0ZXIuYWxpYXMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRwYWdlLmZpbGUuZnJvbnRtYXR0ZXIubmFtZSA9IHBhZ2UuZmlsZS5mcm9udG1hdHRlci5hbGlhcztcblx0XHRcdH0gZWxzZSBpZiAoZm0uZ2V0UHJvamVjdCgpICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0cGFnZS5maWxlLmZyb250bWF0dGVyLm5hbWUgPSBmbS5nZXRQcm9qZWN0KCk7XG5cdFx0XHR9IGVsc2UgaWYgKGZtLmdldERvbWFpbigpICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0cGFnZS5maWxlLmZyb250bWF0dGVyLm5hbWUgPSBmbS5nZXREb21haW4oKTtcblx0XHRcdH1cblxuXHRcdFx0ZHYucGFyYWdyYXBoKFJlbmRlcmVyLm1ha2VMaW5rTmFtZShkdiwgcGFnZS5maWxlKSk7XG5cdFx0fVxuXHR9LFxuXG5cdGRhaWx5Sm91cmFsKGR2KSB7XG5cdFx0Y29uc3QgY3VycmVudCA9IG5ldyBGcm9udG1hdHRlckpTKGR2LmN1cnJlbnQoKSk7XG5cdFx0Y29uc3QgY3VycmVudEF0U2hvcnQgPSBjdXJyZW50LmF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xuXHRcdGNvbnNvbGUubG9nKGN1cnJlbnRBdFNob3J0KTtcblx0XHRjb25zdCBwYWdlcyA9IGR2XG5cdFx0XHQucGFnZXMoYFwiSm91cm5hbFwiYClcblx0XHRcdC53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRjb25zdCBhdFNob3J0ID0gZm0uY3JlYXRlZEF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xuXHRcdFx0XHRpZiAoYXRTaG9ydCA9PT0gY3VycmVudEF0U2hvcnQpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0pXG5cdFx0XHQuc29ydCgoaykgPT4gay5jcmVhdGVkX2F0LCBcImFzY1wiKTtcblxuXHRcdGR2LmhlYWRlcigyLCBcIkpvdXJuYWxcIik7XG5cdFx0Zm9yIChjb25zdCBwYWdlIG9mIHBhZ2VzKSB7XG5cdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0aWYgKHBhZ2UuZmlsZS5mcm9udG1hdHRlci5hbGlhcyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHBhZ2UuZmlsZS5mcm9udG1hdHRlci5uYW1lID0gcGFnZS5maWxlLmZyb250bWF0dGVyLmFsaWFzO1xuXHRcdFx0fSBlbHNlIGlmIChmbS5nZXRQcm9qZWN0KCkgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRwYWdlLmZpbGUuZnJvbnRtYXR0ZXIubmFtZSA9IGZtLmdldFByb2plY3QoKTtcblx0XHRcdH0gZWxzZSBpZiAoZm0uZ2V0RG9tYWluKCkgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRwYWdlLmZpbGUuZnJvbnRtYXR0ZXIubmFtZSA9IGZtLmdldERvbWFpbigpO1xuXHRcdFx0fVxuXG5cdFx0XHRkdi5wYXJhZ3JhcGgoUmVuZGVyZXIubWFrZUxpbmtOYW1lKGR2LCBwYWdlLmZpbGUpKTtcblx0XHRcdC8vIGR2LnBhcmFncmFwaChSZW5kZXJlci5tYWtlTGlua0FsaWFzKGR2LCBwYWdlLmZpbGUpKTtcblx0XHR9XG5cdH0sXG5cblx0ZGFpbHlHb2Fscyhkdikge1xuXHRcdGNvbnN0IGN1cnJlbnQgPSBkdi5jdXJyZW50KCkuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRjb25zdCBjdXJyZW50QXQgPSBuZXcgRGF0ZShjdXJyZW50LmF0KTtcblxuXHRcdGNvbnN0IHBhZ2VzID0gZHZcblx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLkdvYWxzfVwiYClcblx0XHRcdC53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0XHRpZiAocGFnZS5maWxlLmZyb250bWF0dGVyLnN0YXR1cyAhPT0gXCJhY3RpdmVcIikge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHRcdC5zb3J0KChrKSA9PiBrLmF0LCBcImFzY1wiKTtcblxuXHRcdGlmIChwYWdlcy5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRmb3IgKGNvbnN0IHBhZ2Ugb2YgcGFnZXMpIHtcblx0XHRcdGR2LnBhcmFncmFwaChSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRChkdiwgcGFnZS5maWxlKSk7XG5cdFx0fVxuXHR9LFxuXG5cdHRhc2soZHYpIHtcblx0XHRjb25zdCBkdkxpYiA9IG5ldyBEdkxpYigpO1xuXHRcdGR2TGliLmF1dG9GaWVsZFRhc2soZHYpO1xuXHR9LFxuXG5cdGxvZyhkdikge1xuXHRcdGNvbnN0IGN1cnJlbnQgPSBkdi5jdXJyZW50KCk7XG5cdFx0Y29uc3QgY3VyRm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhjdXJyZW50KTtcblx0XHRjb25zdCBjdXJyZW50SWQgPSBjdXJGbS51dWlkO1xuXHRcdGNvbnN0IGN1cnJlbnRQYXJlbnRJZCA9IGN1cnJlbnQuZmlsZS5wYXRoLnNwbGl0KFwiL1wiKVsxXTtcblx0XHRBc3NlcnQuVHJ1ZShcblx0XHRcdGN1cnJlbnRQYXJlbnRJZCAhPT0gdW5kZWZpbmVkLFxuXHRcdFx0YGN1cnJlbnRQYXJlbnRJZCB1bmRlZmluZWQgZm9yICR7Y3VyRm0udXVpZH1gLFxuXHRcdCk7XG5cblx0XHRjb25zdCBwYWdlcyA9IGR2XG5cdFx0XHQucGFnZXMoYFwiJHtQYXRocy5Mb2dzfVwiYClcblx0XHRcdC53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRjb25zdCBwYXJlbnRJZCA9IHBhZ2UuZmlsZS5wYXRoLnNwbGl0KFwiL1wiKVsxXTtcblx0XHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdFx0cGFyZW50SWQgIT09IHVuZGVmaW5lZCxcblx0XHRcdFx0XHRgcGFyZW50SWQgdW5kZWZpbmVkIGZvciAke2ZtLnV1aWR9YCxcblx0XHRcdFx0KTtcblx0XHRcdFx0aWYgKHBhcmVudElkICE9PSBjdXJyZW50UGFyZW50SWQpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH0pXG5cdFx0XHQuc29ydCgoaykgPT4gay5jcmVhdGVkX2F0LCBcImFzY1wiKTtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcGFnZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IHBhZ2UgPSBwYWdlc1tpXTtcblx0XHRcdEFzc2VydC5UcnVlKHBhZ2UgIT09IHVuZGVmaW5lZCwgXCJhc3MgZXJ0IGZhaWxlZFwiKTtcblx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRpZiAoZm0udXVpZCA9PT0gY3VycmVudElkKSB7XG5cdFx0XHRcdC8vIGdvdGNoYVxuXHRcdFx0XHRpZiAoaSA9PT0gMCkge1xuXHRcdFx0XHRcdGNvbnN0IGR2TGliID0gbmV3IER2TGliKCk7XG5cdFx0XHRcdFx0ZHZMaWIuYXV0b0ZpZWxkTG9nKGR2KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRkdi5wYXJhZ3JhcGgoUmVuZGVyZXIubWFrZUxpbmtTaG9ydFVVSUQoZHYsIHBhZ2VzW2kgLSAxXS5maWxlKSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0sXG59O1xuXG4vLyB0aGlzIG11c3QgYmUgY2FsbGVkIGZyb20gYGRhdGF2aWV3anNgIGNvZGVibG9ja3NcbmV4cG9ydCBjb25zdCBSZW5kZXJlciA9IHtcblx0bWFrZUxpbmtOYW1lKGR2LCBmLCBhbmNob3IgPSBcIkNvbnRlbnRcIikge1xuXHRcdGlmIChIZWxwZXIubmlsQ2hlY2soZi5mcm9udG1hdHRlci5uYW1lKSkge1xuXHRcdFx0cmV0dXJuIFJlbmRlcmVyLm1ha2VMaW5rU2hvcnRVVUlEKGR2LCBmLCBhbmNob3IpO1xuXHRcdH1cblxuXHRcdHJldHVybiBkdi5zZWN0aW9uTGluayhmLnBhdGgsIGFuY2hvciwgZmFsc2UsIGAke2YuZnJvbnRtYXR0ZXIubmFtZX1gKTtcblx0fSxcblxuXHRtYWtlTGlua0FsaWFzKGR2LCBmLCBhbmNob3IgPSBcIkNvbnRlbnRcIikge1xuXHRcdGlmIChIZWxwZXIubmlsQ2hlY2soZi5mcm9udG1hdHRlci5hbGlhcykpIHtcblx0XHRcdHJldHVybiBSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRChkdiwgZiwgYW5jaG9yKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZHYuc2VjdGlvbkxpbmsoZi5wYXRoLCBhbmNob3IsIGZhbHNlLCBgJHtmLmZyb250bWF0dGVyLmFsaWFzfWApO1xuXHR9LFxuXG5cdG1ha2VMaW5rU2hvcnRVVUlEKGR2LCBmLCBhbmNob3IgPSBcIkNvbnRlbnRcIikge1xuXHRcdHJldHVybiBkdi5zZWN0aW9uTGluayhcblx0XHRcdGYucGF0aCxcblx0XHRcdGFuY2hvcixcblx0XHRcdGZhbHNlLFxuXHRcdFx0YCR7Zi5mcm9udG1hdHRlci51dWlkLnNsaWNlKDAsIDgpfWAsXG5cdFx0KTtcblx0fSxcblxuXHRtYWtlTGluayhkdiwgZiwgbmFtZSA9IHVuZGVmaW5lZCwgYW5jaG9yID0gXCJDb250ZW50XCIpIHtcblx0XHRyZXR1cm4gZHYuc2VjdGlvbkxpbmsoZi5wYXRoLCBhbmNob3IsIGZhbHNlLCBuYW1lKTtcblx0fSxcblxuXHRwcm9qZWN0TG9ncyhkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGNvbHMgPSBbXCJ0eXBlXCIsIFwidGFza19pZFwiLCBcImxvZ19pZFwiLCBcInRvb2tcIiwgXCJyZXZpZXdlZFwiXTtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0bGV0IHRvdGFsVGltZSA9IDA7XG5cblx0XHRmb3IgKGNvbnN0IGQgb2YgZGF0YSkge1xuXHRcdFx0Y29uc3QgZiA9IGQuZmlsZTtcblx0XHRcdGNvbnN0IGZtID0gZC5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdCFIZWxwZXIubmlsQ2hlY2soZm0udXVpZCksXG5cdFx0XHRcdGBcInV1aWRcIiBpZCBub3QgZGVmaW5lZCBmb3I6ICR7Zi5wYXRofWAsXG5cdFx0XHQpO1xuXHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdCFIZWxwZXIubmlsQ2hlY2soZm0udHlwZSksXG5cdFx0XHRcdGBcInR5cGVcIiBpZCBub3QgZGVmaW5lZCBmb3I6ICR7Zi5wYXRofWAsXG5cdFx0XHQpO1xuXG5cdFx0XHRjb25zdCBjcmVhdGVkQXQgPSBuZXcgRGF0ZShmbS5jcmVhdGVkX2F0KTtcblx0XHRcdGNvbnN0IGRvbmVBdCA9IG5ldyBEYXRlKGZtLmRvbmVfYXQpO1xuXHRcdFx0Y29uc3QgZGVsdGEgPSBkb25lQXQuZ2V0VGltZSgpIC0gY3JlYXRlZEF0LmdldFRpbWUoKTtcblxuXHRcdFx0dG90YWxUaW1lICs9IGRlbHRhO1xuXHRcdFx0Y29uc3QgcmVjb3JkID0ge1xuXHRcdFx0XHR0YXNrSWQ6IFwiXCIsXG5cdFx0XHRcdGxvZ0lkOiBSZW5kZXJlci5tYWtlTGlua0FsaWFzKGR2LCBmKSxcblx0XHRcdFx0dG9vazogTWF0aC5yb3VuZCgoZGVsdGEgLyAoMTAwMCAqIDYwICogNjApKSAqIDEwKSAvIDEwLFxuXHRcdFx0XHRyZXZpZXdlZDogSGVscGVyLm5pbENoZWNrKGZtLnJldmlld2VkKSA/IDAgOiBmbS5yZXZpZXdlZCxcblx0XHRcdFx0dHlwZTogdW5kZWZpbmVkLFxuXHRcdFx0fTtcblx0XHRcdGNvbnN0IHBhZ2VzID0gZHYucGFnZXMoYFwiJHtQYXRocy5UYXNrc30vJHtmbS5wYXJlbnRfaWR9XCJgKS5hcnJheSgpO1xuXHRcdFx0aWYgKHBhZ2VzLmxlbmd0aCAhPT0gMSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0YHBhcmVudCB0YXNrIHdpdGggaWQ6IFwiJHtmbS5wYXJlbnRfaWR9XCIgZG9lcyBub3QgZXhpc3RzYCxcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IHBhcmVudCA9IHBhZ2VzWzBdO1xuXHRcdFx0c3dpdGNoIChwYXJlbnQuZmlsZS5mcm9udG1hdHRlci50eXBlKSB7XG5cdFx0XHRcdGNhc2UgVHlwZXMuVGFzazpcblx0XHRcdFx0XHRyZWNvcmQudHlwZSA9IGA8Zm9udCBjb2xvcj04QjAwMDA+dGFzazwvZm9udD5gO1xuXHRcdFx0XHRcdHJlY29yZC50YXNrSWQgPSBSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRChcblx0XHRcdFx0XHRcdGR2LFxuXHRcdFx0XHRcdFx0cGFyZW50LmZpbGUsXG5cdFx0XHRcdFx0XHRcIlRhc2tcIixcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFR5cGVzLk1lZGlhOlxuXHRcdFx0XHRcdHJlY29yZC50eXBlID0gYDxmb250IGNvbG9yPTAwMDA4Qj5tZWRpYTwvZm9udD5gO1xuXHRcdFx0XHRcdHJlY29yZC50YXNrSWQgPSBSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRChcblx0XHRcdFx0XHRcdGR2LFxuXHRcdFx0XHRcdFx0cGFyZW50LmZpbGUsXG5cdFx0XHRcdFx0XHRcIkNvbnRlbnRcIixcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFR5cGVzLlByYXhpczpcblx0XHRcdFx0XHRyZWNvcmQudHlwZSA9IGA8Zm9udCBjb2xvcj1GRjhDMDA+cHJheGlzPC9mb250PmA7XG5cdFx0XHRcdFx0cmVjb3JkLnRhc2tJZCA9IFJlbmRlcmVyLm1ha2VMaW5rU2hvcnRVVUlEKFxuXHRcdFx0XHRcdFx0ZHYsXG5cdFx0XHRcdFx0XHRwYXJlbnQuZmlsZSxcblx0XHRcdFx0XHRcdFwiQ29udGVudFwiLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgVHlwZXMuUHJvdmlzaW9uOlxuXHRcdFx0XHRcdHJlY29yZC50eXBlID0gYDxmb250IGNvbG9yPURDMTQzQz5wcm92aXNpb248L2ZvbnQ+YDtcblx0XHRcdFx0XHRyZWNvcmQudGFza0lkID0gUmVuZGVyZXIubWFrZUxpbmtTaG9ydFVVSUQoXG5cdFx0XHRcdFx0XHRkdixcblx0XHRcdFx0XHRcdHBhcmVudC5maWxlLFxuXHRcdFx0XHRcdFx0XCJDb250ZW50XCIsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0XHRgUmVuZGVyZXIucHJvamVjdExvZ3M6IHR5cGUgXCIke3BhcmVudC5maWxlLmZyb250bWF0dGVyLnR5cGV9XCIgbm90IGltcGxlbWVudGVkYCxcblx0XHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0YnVmZi5wdXNoKFtcblx0XHRcdFx0cmVjb3JkLnR5cGUsXG5cdFx0XHRcdHJlY29yZC50YXNrSWQsXG5cdFx0XHRcdHJlY29yZC5sb2dJZCxcblx0XHRcdFx0cmVjb3JkLnRvb2ssXG5cdFx0XHRcdHJlY29yZC5yZXZpZXdlZCxcblx0XHRcdF0pO1xuXHRcdH1cblxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHRcdC8vIE1hdGgucm91bmQoKHRvdGFsVGltZSAvICgxMDAwICogNjAgKiA2MCkpICogMTApIC8gMTAsXG5cdH0sXG5cblx0Z29hbChkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRmb3IgKGNvbnN0IGZtIG9mIGRhdGEpIHtcblx0XHRcdGNvbnN0IGNyZWF0ZWRfYXQgPSBmbS5jcmVhdGVkQXQ7XG5cdFx0XHRjb25zdCBsb2dFbnRyaWVzID0gZHZcblx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuTG9nc30vJHtmbS51dWlkfVwiYClcblx0XHRcdFx0LndoZXJlKChwKSA9PiBwLnR5cGUgPT09IDYpXG5cdFx0XHRcdC5zb3J0KChrKSA9PiBrLmNyZWF0ZWRfYXQsIFwiZGVzY1wiKTtcblx0XHRcdGNvbnN0IGJlZm9yZSA9IG5ldyBEYXRlKGZtLmZtLmJlZm9yZSk7XG5cblx0XHRcdGNvbnN0IHRpbWVmcmFtZSA9XG5cdFx0XHRcdChiZWZvcmUuZ2V0VGltZSgpIC0gY3JlYXRlZF9hdC5nZXRUaW1lKCkpIC8gKDEwMDAgKiAzNjAwICogMjQpO1xuXHRcdFx0bGV0IHRpbWVmcmFtZVRleHQgPSBcIlwiO1xuXHRcdFx0aWYgKHRpbWVmcmFtZSA+IDAgJiYgdGltZWZyYW1lIDwgMzApIHtcblx0XHRcdFx0dGltZWZyYW1lVGV4dCA9IFwicnVuYXdheVwiO1xuXHRcdFx0fSBlbHNlIGlmICh0aW1lZnJhbWUgPCA2MCkge1xuXHRcdFx0XHR0aW1lZnJhbWVUZXh0ID0gXCIxMCwwMDAgZmVldFwiO1xuXHRcdFx0fSBlbHNlIGlmICh0aW1lZnJhbWUgPCAzNjApIHtcblx0XHRcdFx0dGltZWZyYW1lVGV4dCA9IFwiMjAsMDAwIGZlZXRcIjtcblx0XHRcdH0gZWxzZSBpZiAodGltZWZyYW1lIDwgNzIwKSB7XG5cdFx0XHRcdHRpbWVmcmFtZVRleHQgPSBcIjMwLDAwMCBmZWV0XCI7XG5cdFx0XHR9IGVsc2UgaWYgKHRpbWVmcmFtZSA8IDEwODApIHtcblx0XHRcdFx0dGltZWZyYW1lVGV4dCA9IFwiNDAsMDAwIGZlZXRcIjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRpbWVmcmFtZVRleHQgPSBcIjUwLDAwMCBmZWV0XCI7XG5cdFx0XHR9XG5cblx0XHRcdGJ1ZmYucHVzaChbXG5cdFx0XHRcdGJlZm9yZS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKSxcblx0XHRcdFx0ZHYuc2VjdGlvbkxpbmsoXG5cdFx0XHRcdFx0Zm0udXVpZCxcblx0XHRcdFx0XHRcIiMjIENvbnRlbnRcIixcblx0XHRcdFx0XHRmYWxzZSxcblx0XHRcdFx0XHRmbS51dWlkLnNsaWNlKDAsIDgpLFxuXHRcdFx0XHQpLFxuXHRcdFx0XHRmbS5nZXREb21haW4oKSxcblx0XHRcdFx0dGltZWZyYW1lVGV4dCxcblx0XHRcdF0pO1xuXHRcdH1cblxuXHRcdGR2LnRhYmxlKFtcImRlYWRsaW5lXCIsIFwidXVpZFwiLCBcImRvbWFpblwiLCBcInRpbWVmcmFtZVwiXSwgYnVmZik7XG5cdH0sXG5cblx0aW5ib3hFbnRyeShkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGNvbHMgPSBbXG5cdFx0XHRcInV1aWRcIixcblx0XHRcdC8vIFwidHlwZVwiLFxuXHRcdFx0Ly8gXCJhZ2VcIixcblx0XHRcdC8vIFwic2l6ZVwiLFxuXHRcdFx0XCJuYW1lXCIsXG5cdFx0XHQvLyBcInByb2plY3RcIixcblx0XHRcdC8vIFwiZG9tYWluXCIsXG5cdFx0XHQvLyBcImNvbXBvbmVudHNcIixcblx0XHRdO1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRmb3IgKGNvbnN0IGQgb2YgZGF0YSkge1xuXHRcdFx0Y29uc3QgZiA9IGQuZmlsZTtcblx0XHRcdGNvbnN0IGZtID0gZC5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdCFIZWxwZXIubmlsQ2hlY2soZm0udXVpZCksXG5cdFx0XHRcdGBcInV1aWRcIiBpZCBub3QgZGVmaW5lZCBmb3I6ICR7Zi5wYXRofWAsXG5cdFx0XHQpO1xuXHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdCFIZWxwZXIubmlsQ2hlY2soZm0udHlwZSksXG5cdFx0XHRcdGBcInR5cGVcIiBpZCBub3QgZGVmaW5lZCBmb3I6ICR7Zi5wYXRofWAsXG5cdFx0XHQpO1xuXG5cdFx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0Y29uc3QgZGVsdGEgPSBub3cuZ2V0VGltZSgpIC0gZm0uY3JlYXRlZEF0LmdldFRpbWUoKTtcblx0XHRcdGNvbnN0IHNpbmNlID0gSGVscGVyLm1zZWNUb1N0cmluZ0R1cmF0aW9uKGRlbHRhKTtcblx0XHRcdGxldCBuYW1lID0gXCJcIjtcblxuXHRcdFx0aWYgKGZtLmRvbWFpbiAhPT0gXCJkb21haW4vdW5kZWZpbmVkXCIpIHtcblx0XHRcdFx0bmFtZSA9IGZtLmRvbWFpbjtcblx0XHRcdH0gZWxzZSBpZiAoZm0ucHJvamVjdCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG5hbWUgPSBmbS5wcm9qZWN0O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bmFtZSA9IFwiXFxcXC1cIjtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgcmVjb3JkID0ge1xuXHRcdFx0XHR1dWlkOlxuXHRcdFx0XHRcdEhlbHBlci5udW1iZXJUeXBlVG9TdHJpbmcoZm0pID09PSBcImZsZWV0aW5nXCJcblx0XHRcdFx0XHRcdD8gYCYjMTI4MTk2ICR7UmVuZGVyZXIubWFrZUxpbmtBbGlhcyhkdiwgZil9YFxuXHRcdFx0XHRcdFx0OiBSZW5kZXJlci5tYWtlTGlua0FsaWFzKGR2LCBmKSxcblx0XHRcdFx0Ly8gdXVpZDogYCYjOTcyOCAke1JlbmRlcmVyLm1ha2VMaW5rQWxpYXMoZHYsIGYpfWAsXG5cdFx0XHRcdHR5cGU6IEhlbHBlci5udW1iZXJUeXBlVG9TdHJpbmcoZm0pLFxuXHRcdFx0XHRzaW5jZTogYCR7c2luY2V9YCxcblx0XHRcdFx0c2l6ZTogZi5zaXplLFxuXHRcdFx0XHRwcm9qZWN0OiBmbS5wcm9qZWN0ID09PSB1bmRlZmluZWQgPyBcIlxcXFwtXCIgOiBmbS5wcm9qZWN0LnNsaWNlKDgpLFxuXHRcdFx0XHRkb21haW46IGZtLmRvbWFpbiA9PT0gdW5kZWZpbmVkID8gXCJcXFxcLVwiIDogZm0uZG9tYWluLnNsaWNlKDcpLCAvL1JlbmRlcmVyLmRvbWFpbkJhc2UoZHYsIGZtLmRvbWFpbiksXG5cdFx0XHRcdG5hbWU6IG5hbWUsXG5cdFx0XHR9O1xuXG5cdFx0XHRpZiAocmVjb3JkLnR5cGUgPT09IFwibG9nXCIpIHtcblx0XHRcdFx0Y29uc3QgcGFnZXMgPSBkdlxuXHRcdFx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfS8ke2ZtLnBhcmVudF9pZH1cImApXG5cdFx0XHRcdFx0LmFycmF5KCk7XG5cdFx0XHRcdGlmIChwYWdlcy5sZW5ndGggIT09IDEpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYCR7Zm0ucGFyZW50X2lkfSAke2ZtLmlkfWApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnN0IHBhcmVudCA9IHBhZ2VzWzBdO1xuXHRcdFx0XHRzd2l0Y2ggKHBhcmVudC50eXBlKSB7XG5cdFx0XHRcdFx0Y2FzZSBUeXBlcy5UYXNrOlxuXHRcdFx0XHRcdFx0cmVjb3JkLnV1aWQgPSBgJiMxMjgyMTEgJHtyZWNvcmQudXVpZH1gO1xuXHRcdFx0XHRcdFx0cmVjb3JkLnR5cGUgPSBgPGZvbnQgY29sb3I9OEIwMDAwPnRhc2s8L2ZvbnQ+YDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgVHlwZXMuUHJheGlzOlxuXHRcdFx0XHRcdFx0cmVjb3JkLnV1aWQgPSBgJiMxMjgxODggJHtyZWNvcmQudXVpZH1gO1xuXHRcdFx0XHRcdFx0cmVjb3JkLnR5cGUgPSBgPGZvbnQgY29sb3I9RkY4QzAwPnByYXhpczwvZm9udD5gO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBUeXBlcy5NZWRpYTpcblx0XHRcdFx0XHRcdHJlY29yZC51dWlkID0gYCYjMTI4MTkxICR7cmVjb3JkLnV1aWR9YDtcblx0XHRcdFx0XHRcdHJlY29yZC50eXBlID0gYDxmb250IGNvbG9yPTAwMDA4Qj5tZWRpYTwvZm9udD5gO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBUeXBlcy5Qcm92aXNpb246XG5cdFx0XHRcdFx0XHRyZWNvcmQudHlwZSA9IGA8Zm9udCBjb2xvcj1EQzE0M0M+cHJvdmlzaW9uPC9mb250PmA7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0YnVmZi5wdXNoKFtcblx0XHRcdFx0cmVjb3JkLnV1aWQsXG5cdFx0XHRcdC8vIHJlY29yZC50eXBlLFxuXHRcdFx0XHQvLyByZWNvcmQuc2luY2UsXG5cdFx0XHRcdC8vIHJlY29yZC5zaXplLFxuXHRcdFx0XHRyZWNvcmQubmFtZSxcblx0XHRcdFx0Ly8gcmVjb3JkLnByb2plY3QsXG5cdFx0XHRcdC8vIHJlY29yZC5kb21haW4sXG5cdFx0XHRdKTtcblx0XHR9XG5cblx0XHRkdi50YWJsZShjb2xzLCBidWZmKTtcblx0fSxcblxuXHRyZXNvdXJjZUJhc2UoZHYsIGRhdGEpIHtcblx0XHRjb25zdCBjb2xzID0gW1widXVpZFwiXTtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Zm9yIChjb25zdCBkIG9mIGRhdGEpIHtcblx0XHRcdGNvbnN0IGYgPSBkLmZpbGU7XG5cdFx0XHRjb25zdCBmbSA9IGQuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdEFzc2VydC5UcnVlKFxuXHRcdFx0XHQhSGVscGVyLm5pbENoZWNrKGZtLnV1aWQpLFxuXHRcdFx0XHRgXCJ1dWlkXCIgaWQgbm90IGRlZmluZWQgZm9yOiAke2YucGF0aH1gLFxuXHRcdFx0KTtcblx0XHRcdGJ1ZmYucHVzaChbUmVuZGVyZXIubWFrZUxpbmtBbGlhcyhkdiwgZildKTtcblx0XHR9XG5cblx0XHRkdi50YWJsZShjb2xzLCBidWZmKTtcblx0fSxcblxuXHRiYXNpY1JlbGF0aW9uKGR2LCBkYXRhKSB7XG5cdFx0Y29uc3QgY29scyA9IFtcInV1aWRcIiwgXCJuYW1lXCJdO1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRmb3IgKGNvbnN0IGQgb2YgZGF0YSkge1xuXHRcdFx0Y29uc3QgZiA9IGQuZmlsZTtcblx0XHRcdGNvbnN0IGZtID0gZC5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdCFIZWxwZXIubmlsQ2hlY2soZm0udXVpZCksXG5cdFx0XHRcdGBcInV1aWRcIiBpZCBub3QgZGVmaW5lZCBmb3I6ICR7Zi5wYXRofWAsXG5cdFx0XHQpO1xuXHRcdFx0YnVmZi5wdXNoKFtSZW5kZXJlci5tYWtlTGlua0FsaWFzKGR2LCBmKSwgZm0ubmFtZV0pO1xuXHRcdH1cblxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHR9LFxuXG5cdHByYXhpc0Jhc2UoZHYsIGRhdGEpIHtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Y29uc3QgY29scyA9IFtcInRhc2tzXCIsIFwidXVpZFwiLCBcImVzdGltYXRlXCJdO1xuXHRcdGZvciAoY29uc3QgZCBvZiBkYXRhKSB7XG5cdFx0XHRjb25zdCBmID0gZC5maWxlO1xuXHRcdFx0Y29uc3QgZm0gPSBmLmZyb250bWF0dGVyO1xuXHRcdFx0YnVmZi5wdXNoKFtcblx0XHRcdFx0ZHYubWFya2Rvd25UYXNrTGlzdChmLnRhc2tzKSxcblx0XHRcdFx0ZHYuZmlsZUxpbmsoZi5wYXRoLCBmYWxzZSwgZi5uYW1lLnNsaWNlKDAsIDgpKSxcblx0XHRcdFx0Zm0udGltZV9lc3RpbWF0ZSxcblx0XHRcdF0pO1xuXHRcdH1cblxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHR9LFxuXG5cdHdhaXRpbmdUYXNrKGR2LCBkYXRhKSB7XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGNvbnN0IGNvbHMgPSBbXCJ0YXNrc1wiLCBcInV1aWRcIiwgXCJlc3RpbWF0ZVwiLCBcImNhdXNlXCJdO1xuXHRcdGZvciAoY29uc3QgZCBvZiBkYXRhKSB7XG5cdFx0XHRjb25zdCBmID0gZC5maWxlO1xuXHRcdFx0Y29uc3QgZm0gPSBmLmZyb250bWF0dGVyO1xuXHRcdFx0YnVmZi5wdXNoKFtcblx0XHRcdFx0ZHYubWFya2Rvd25UYXNrTGlzdChmLnRhc2tzKSxcblx0XHRcdFx0ZHYuZmlsZUxpbmsoZi5wYXRoLCBmYWxzZSwgZi5uYW1lLnNsaWNlKDAsIDgpKSxcblx0XHRcdFx0Zm0udGltZV9lc3RpbWF0ZSxcblx0XHRcdFx0Zm0uY2F1c2UsXG5cdFx0XHRdKTtcblx0XHR9XG5cblx0XHRkdi50YWJsZShjb2xzLCBidWZmKTtcblx0fSxcblxuXHRyZWFkeVRhc2soZHYsIGRhdGEpIHtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Y29uc3QgY29scyA9IFtcInV1aWRcIiwgXCJ0YXNrXCIsIFwiZXN0aW1hdGVcIiwgXCJhcmVhXCJdO1xuXHRcdGZvciAoY29uc3QgZCBvZiBkYXRhKSB7XG5cdFx0XHRjb25zdCBmID0gZC5maWxlO1xuXHRcdFx0Y29uc3QgZm0gPSBmLmZyb250bWF0dGVyO1xuXG5cdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRSZW5kZXJlci5tYWtlTGlua0FsaWFzKGR2LCBmLCBcIlRhc2tcIiksXG5cdFx0XHRcdGR2Lm1hcmtkb3duVGFza0xpc3QoZi50YXNrcyksXG5cdFx0XHRcdGZtLnRpbWVfZXN0aW1hdGUsXG5cdFx0XHRcdEhlbHBlci5nZXRGaWVsZChIZWxwZXIuZ2V0QXJlYShmbSwgdHJ1ZSksIFwiXFxcXC1cIiksXG5cdFx0XHRdKTtcblx0XHR9XG5cdFx0ZHYudGFibGUoY29scywgYnVmZik7XG5cdH0sXG5cblx0cHJvdmlzaW9uQmFzZShkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRjb25zdCBjb2xzID0gW1widXVpZFwiLCBcInN1cHBsaWVyXCIsIFwiY29udGVudFwiLCBcImVzdGltYXRlXCJdO1xuXHRcdGZvciAoY29uc3QgZCBvZiBkYXRhKSB7XG5cdFx0XHRjb25zdCBmID0gZC5maWxlO1xuXHRcdFx0Y29uc3QgZm0gPSBmLmZyb250bWF0dGVyO1xuXHRcdFx0YnVmZi5wdXNoKFtcblx0XHRcdFx0ZHYuZmlsZUxpbmsoZi5wYXRoLCBmYWxzZSwgZm0udXVpZC5zbGljZSgwLCA4KSksXG5cdFx0XHRcdGZtLnN1cHBsaWVyLFxuXHRcdFx0XHRkdi5tYXJrZG93blRhc2tMaXN0KGYudGFza3MpLFxuXHRcdFx0XHRmbS50aW1lX2VzdGltYXRlLFxuXHRcdFx0XSk7XG5cdFx0fVxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHR9LFxuXG5cdGJhc2ljVGFza0pvdXJuYWxOZXh0QWN0aW9uKGR2LCBkYXRhKSB7XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdC8vIGNvbnN0IGNvbHMgPSBbXCJqb3VybmFsXCIsIFwidXVpZFwiLCBcInRhc2tzXCIsIFwiZXN0aW1hdGVcIl07XG5cdFx0Y29uc3QgY29scyA9IFtcInV1aWRcIiwgXCJwcmlvcml0eVwiLCBcImVzdGltYXRlXCIsIFwidGFza3NcIl07XG5cdFx0Ly8gY29uc3Qgam91cm5hbCA9IGR2LnBhZ2VzKGBcIiR7UGF0aHMuSm91cm5hbH1cImApLmFycmF5KClbMF0uZmlsZVxuXHRcdC8vIFx0LmZyb250bWF0dGVyLnRhc2tzO1xuXG5cdFx0Zm9yIChjb25zdCBkIG9mIGRhdGEpIHtcblx0XHRcdGNvbnN0IGYgPSBkLmZpbGU7XG5cdFx0XHRjb25zdCBmbSA9IGYuZnJvbnRtYXR0ZXI7XG5cdFx0XHRjb25zdCBkb21haW4gPVxuXHRcdFx0XHRIZWxwZXIuZ2V0RG9tYWluKGZtLCB0cnVlKSA9PT0gdW5kZWZpbmVkXG5cdFx0XHRcdFx0PyBcIlxcXFwtXCJcblx0XHRcdFx0XHQ6IEhlbHBlci5nZXREb21haW4oZm0pO1xuXG5cdFx0XHRpZiAoZm0ucmVmX2lkID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coYG5hbWU6ICR7ZC5maWxlLnBhdGh9YClcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coYHRhc2tzOiAke2QuZmlsZS50YXNrcy5sZW5ndGh9YClcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coYHRhc2tzQjogJHtmLnRhc2tzLmxlbmd0aH1gKVxuXHRcdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRcdC8vIGpvdXJuYWwuY29udGFpbnMoZm0udXVpZCkgPyBcIi0+XCIgOiBcIlxcXFwtXCIsXG5cdFx0XHRcdFx0ZHYuZmlsZUxpbmsoZi5wYXRoLCBmYWxzZSwgZm0udXVpZC5zbGljZSgwLCA4KSksXG5cdFx0XHRcdFx0Zm0ucHJpb3JpdHksXG5cdFx0XHRcdFx0Zm0udGltZV9lc3RpbWF0ZSxcblx0XHRcdFx0XHRkdi5tYXJrZG93blRhc2tMaXN0KGYudGFza3MpLFxuXHRcdFx0XHRdKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IHJlZiA9IGR2LnBhZ2VzKGBcIiR7UGF0aHMuUmVmc30vJHtmbS5yZWZfaWR9XCJgKS5hcnJheSgpO1xuXHRcdFx0XHRpZiAocmVmLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHRcdGB0YXNrOiAnJHtmbS51dWlkfScgaGFzIGFuIHVuZGVmaW5lZCByZWZfaWQ6ICcke2ZtLnJlZl9pZH0nYCxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGJ1ZmYucHVzaChbXG5cdFx0XHRcdFx0XHRkdi5maWxlTGluayhmLnBhdGgsIGZhbHNlLCBmbS51dWlkLnNsaWNlKDAsIDgpKSxcblx0XHRcdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rQWxpYXMoZHYsIHJlZlswXS5maWxlKSxcblx0XHRcdFx0XHRcdGZtLnRpbWVfZXN0aW1hdGUsXG5cdFx0XHRcdFx0XHRkb21haW4sXG5cdFx0XHRcdFx0XSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0ZHYudGFibGUoY29scywgYnVmZik7XG5cdH0sXG5cblx0YmFzaWNUYXNrSm91cm5hbFdhaXRpbmcoZHYsIGRhdGEpIHtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Y29uc3QgY29scyA9IFtcInV1aWRcIiwgXCJjYXVzZVwiLCBcInRhc2tzXCJdO1xuXG5cdFx0Zm9yIChjb25zdCBkIG9mIGRhdGEpIHtcblx0XHRcdGNvbnN0IGYgPSBkLmZpbGU7XG5cdFx0XHRjb25zdCBmbSA9IGYuZnJvbnRtYXR0ZXI7XG5cdFx0XHRjb25zdCBkb21haW4gPVxuXHRcdFx0XHRIZWxwZXIuZ2V0RG9tYWluKGZtLCB0cnVlKSA9PT0gdW5kZWZpbmVkXG5cdFx0XHRcdFx0PyBcIlxcXFwtXCJcblx0XHRcdFx0XHQ6IEhlbHBlci5nZXREb21haW4oZm0pO1xuXG5cdFx0XHRpZiAoZm0ucmVmX2lkID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coYG5hbWU6ICR7ZC5maWxlLnBhdGh9YClcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coYHRhc2tzOiAke2QuZmlsZS50YXNrcy5sZW5ndGh9YClcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coYHRhc2tzQjogJHtmLnRhc2tzLmxlbmd0aH1gKVxuXHRcdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRcdC8vIGpvdXJuYWwuY29udGFpbnMoZm0udXVpZCkgPyBcIi0+XCIgOiBcIlxcXFwtXCIsXG5cdFx0XHRcdFx0ZHYuZmlsZUxpbmsoZi5wYXRoLCBmYWxzZSwgZm0udXVpZC5zbGljZSgwLCA4KSksXG5cdFx0XHRcdFx0ZC5jYXVzZSxcblx0XHRcdFx0XHRkdi5tYXJrZG93blRhc2tMaXN0KGYudGFza3MpLFxuXHRcdFx0XHRdKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IHJlZiA9IGR2LnBhZ2VzKGBcIiR7UGF0aHMuUmVmc30vJHtmbS5yZWZfaWR9XCJgKS5hcnJheSgpO1xuXHRcdFx0XHRpZiAocmVmLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHRcdGB0YXNrOiAnJHtmbS51dWlkfScgaGFzIGFuIHVuZGVmaW5lZCByZWZfaWQ6ICcke2ZtLnJlZl9pZH0nYCxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGJ1ZmYucHVzaChbXG5cdFx0XHRcdFx0XHRkdi5maWxlTGluayhmLnBhdGgsIGZhbHNlLCBmbS51dWlkLnNsaWNlKDAsIDgpKSxcblx0XHRcdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rQWxpYXMoZHYsIHJlZlswXS5maWxlKSxcblx0XHRcdFx0XHRcdGZtLnRpbWVfZXN0aW1hdGUsXG5cdFx0XHRcdFx0XHRkb21haW4sXG5cdFx0XHRcdFx0XSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0ZHYudGFibGUoY29scywgYnVmZik7XG5cdH0sXG5cdGJhc2ljVGFza0pvdXJuYWwoZHYsIGRhdGEpIHtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Ly8gY29uc3QgY29scyA9IFtcImpvdXJuYWxcIiwgXCJ1dWlkXCIsIFwidGFza3NcIiwgXCJlc3RpbWF0ZVwiXTtcblx0XHRjb25zdCBjb2xzID0gW1widXVpZFwiLCBcInRhc2tzXCIsIFwiZXN0aW1hdGVcIl07XG5cdFx0Ly8gY29uc3Qgam91cm5hbCA9IGR2LnBhZ2VzKGBcIiR7UGF0aHMuSm91cm5hbH1cImApLmFycmF5KClbMF0uZmlsZVxuXHRcdC8vIFx0LmZyb250bWF0dGVyLnRhc2tzO1xuXG5cdFx0Zm9yIChjb25zdCBkIG9mIGRhdGEpIHtcblx0XHRcdGNvbnN0IGYgPSBkLmZpbGU7XG5cdFx0XHRjb25zdCBmbSA9IGYuZnJvbnRtYXR0ZXI7XG5cdFx0XHRjb25zdCBkb21haW4gPVxuXHRcdFx0XHRIZWxwZXIuZ2V0RG9tYWluKGZtLCB0cnVlKSA9PT0gdW5kZWZpbmVkXG5cdFx0XHRcdFx0PyBcIlxcXFwtXCJcblx0XHRcdFx0XHQ6IEhlbHBlci5nZXREb21haW4oZm0pO1xuXG5cdFx0XHRpZiAoZm0ucmVmX2lkID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coYG5hbWU6ICR7ZC5maWxlLnBhdGh9YClcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coYHRhc2tzOiAke2QuZmlsZS50YXNrcy5sZW5ndGh9YClcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coYHRhc2tzQjogJHtmLnRhc2tzLmxlbmd0aH1gKVxuXHRcdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRcdC8vIGpvdXJuYWwuY29udGFpbnMoZm0udXVpZCkgPyBcIi0+XCIgOiBcIlxcXFwtXCIsXG5cdFx0XHRcdFx0ZHYuZmlsZUxpbmsoZi5wYXRoLCBmYWxzZSwgZm0udXVpZC5zbGljZSgwLCA4KSksXG5cdFx0XHRcdFx0ZHYubWFya2Rvd25UYXNrTGlzdChmLnRhc2tzKSxcblx0XHRcdFx0XHRmbS50aW1lX2VzdGltYXRlLFxuXHRcdFx0XHRdKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IHJlZiA9IGR2LnBhZ2VzKGBcIiR7UGF0aHMuUmVmc30vJHtmbS5yZWZfaWR9XCJgKS5hcnJheSgpO1xuXHRcdFx0XHRpZiAocmVmLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHRcdGB0YXNrOiAnJHtmbS51dWlkfScgaGFzIGFuIHVuZGVmaW5lZCByZWZfaWQ6ICcke2ZtLnJlZl9pZH0nYCxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGJ1ZmYucHVzaChbXG5cdFx0XHRcdFx0XHRkdi5maWxlTGluayhmLnBhdGgsIGZhbHNlLCBmbS51dWlkLnNsaWNlKDAsIDgpKSxcblx0XHRcdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rQWxpYXMoZHYsIHJlZlswXS5maWxlKSxcblx0XHRcdFx0XHRcdGZtLnRpbWVfZXN0aW1hdGUsXG5cdFx0XHRcdFx0XHRkb21haW4sXG5cdFx0XHRcdFx0XSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0ZHYudGFibGUoY29scywgYnVmZik7XG5cdH0sXG5cdGFjdGl2ZVRhc2soZHYsIGRhdGEpIHtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Y29uc3QgY29scyA9IFtcInV1aWRcIiwgXCJ0YXNrc1wiLCBcInNlc3Npb25cIl07XG5cdFx0Zm9yIChjb25zdCBkIG9mIGRhdGEpIHtcblx0XHRcdGNvbnN0IGYgPSBkLmZpbGU7XG5cdFx0XHRjb25zdCBmbSA9IGYuZnJvbnRtYXR0ZXI7XG5cdFx0XHRjb25zdCBsb2dzID0gZHZcblx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuTG9nc30vJHtmbS51dWlkfVwiYClcblx0XHRcdFx0LndoZXJlKChwKSA9PiBwLnR5cGUgPT09IDYpXG5cdFx0XHRcdC5zb3J0KChrKSA9PiBrLmNyZWF0ZWRfYXQsIFwiZGVzY1wiKTtcblx0XHRcdGNvbnN0IGxhc3QgPSBsb2dzWzBdO1xuXHRcdFx0Y29uc3QgY3JlYXRlZEF0ID0gbmV3IERhdGUobGFzdC5jcmVhdGVkX2F0KTtcblx0XHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG5cdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRkdi5maWxlTGluayhmLnBhdGgsIGZhbHNlLCBmbS51dWlkLnNsaWNlKDAsIDgpKSxcblx0XHRcdFx0ZHYubWFya2Rvd25UYXNrTGlzdChmLnRhc2tzKSxcblx0XHRcdFx0KCh0KSA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIE1hdGgucm91bmQoKHQgLyAoMzYwMCAqIDEwMDApKSAqIDEwKSAvIDEwO1xuXHRcdFx0XHR9KShub3cuZ2V0VGltZSgpIC0gY3JlYXRlZEF0LmdldFRpbWUoKSksXG5cdFx0XHRdKTtcblx0XHR9XG5cdFx0ZHYudGFibGUoY29scywgYnVmZik7XG5cdH0sXG5cblx0YmFzaWNUYXNrKGR2LCBkYXRhKSB7XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGNvbnN0IGNvbHMgPSBbXCJ1dWlkXCIsIFwidGFza3NcIiwgXCJlc3RpbWF0ZVwiLCBcImRvbWFpblwiXTtcblx0XHRmb3IgKGNvbnN0IGQgb2YgZGF0YSkge1xuXHRcdFx0Y29uc3QgZiA9IGQuZmlsZTtcblx0XHRcdGNvbnN0IGZtID0gZi5mcm9udG1hdHRlcjtcblx0XHRcdGNvbnN0IGRvbWFpbiA9XG5cdFx0XHRcdEhlbHBlci5nZXREb21haW4oZm0sIHRydWUpID09PSB1bmRlZmluZWRcblx0XHRcdFx0XHQ/IFwiXFxcXC1cIlxuXHRcdFx0XHRcdDogSGVscGVyLmdldERvbWFpbihmbSk7XG5cblx0XHRcdGlmIChmbS5yZWZfaWQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHQvLyBjb25zb2xlLmxvZyhgbmFtZTogJHtkLmZpbGUucGF0aH1gKVxuXHRcdFx0XHQvLyBjb25zb2xlLmxvZyhgdGFza3M6ICR7ZC5maWxlLnRhc2tzLmxlbmd0aH1gKVxuXHRcdFx0XHQvLyBjb25zb2xlLmxvZyhgdGFza3NCOiAke2YudGFza3MubGVuZ3RofWApXG5cdFx0XHRcdGJ1ZmYucHVzaChbXG5cdFx0XHRcdFx0ZHYuZmlsZUxpbmsoZi5wYXRoLCBmYWxzZSwgZm0udXVpZC5zbGljZSgwLCA4KSksXG5cdFx0XHRcdFx0ZHYubWFya2Rvd25UYXNrTGlzdChmLnRhc2tzKSxcblx0XHRcdFx0XHRmbS50aW1lX2VzdGltYXRlLFxuXHRcdFx0XHRcdGRvbWFpbixcblx0XHRcdFx0XSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zdCByZWYgPSBkdi5wYWdlcyhgXCIke1BhdGhzLlJlZnN9LyR7Zm0ucmVmX2lkfVwiYCkuYXJyYXkoKTtcblx0XHRcdFx0aWYgKHJlZi5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0XHRgdGFzazogJyR7Zm0udXVpZH0nIGhhcyBhbiB1bmRlZmluZWQgcmVmX2lkOiAnJHtmbS5yZWZfaWR9J2AsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRidWZmLnB1c2goW1xuXHRcdFx0XHRcdFx0ZHYuZmlsZUxpbmsoZi5wYXRoLCBmYWxzZSwgZm0udXVpZC5zbGljZSgwLCA4KSksXG5cdFx0XHRcdFx0XHRSZW5kZXJlci5tYWtlTGlua0FsaWFzKGR2LCByZWZbMF0uZmlsZSksXG5cdFx0XHRcdFx0XHRmbS50aW1lX2VzdGltYXRlLFxuXHRcdFx0XHRcdFx0ZG9tYWluLFxuXHRcdFx0XHRcdF0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHR9LFxuXG5cdGxvZ3MoZHYsIGVudHJpZXMpIHtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0bGV0IHRvdGFsVGltZSA9IDA7XG5cblx0XHRmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcblx0XHRcdGNvbnN0IGZtZSA9IGVudHJ5LmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRjb25zdCBlID0gW107XG5cdFx0XHRsZXQgc3RhcnQ6IGFueSA9IDA7XG5cdFx0XHRsZXQgc3RvcDogYW55ID0gMDtcblx0XHRcdGlmIChmbWUgPT09IHVuZGVmaW5lZCB8fCBmbWUuY3JlYXRlZF9hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBmcm9udG1hdHRlcjogJHtmbWUudXVpZH1gKTtcblx0XHRcdH1cblxuXHRcdFx0c3RhcnQgPSBuZXcgRGF0ZShmbWUuY3JlYXRlZF9hdCk7XG5cdFx0XHRlLnB1c2goc3RhcnQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCkpO1xuXHRcdFx0aWYgKGZtZS5kb25lX2F0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0c3RvcCA9IERhdGUubm93KCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzdG9wID0gbmV3IERhdGUoZm1lLmRvbmVfYXQpO1xuXHRcdFx0fVxuXHRcdFx0dG90YWxUaW1lICs9IHN0b3AgLSBzdGFydDtcblx0XHRcdGUucHVzaChcblx0XHRcdFx0ZHYuc2VjdGlvbkxpbmsoXG5cdFx0XHRcdFx0Zm1lLnV1aWQsXG5cdFx0XHRcdFx0XCIjIyBDb250ZW50XCIsXG5cdFx0XHRcdFx0ZmFsc2UsXG5cdFx0XHRcdFx0Zm1lLnV1aWQuc2xpY2UoMCwgOCksXG5cdFx0XHRcdCksXG5cdFx0XHQpO1xuXHRcdFx0ZS5wdXNoKE1hdGgucm91bmQoKChzdG9wIC0gc3RhcnQpIC8gKDEwMDAgKiA2MCAqIDYwKSkgKiAxMCkgLyAxMCk7XG5cdFx0XHRpZiAoZm1lLnJldmlld2VkID09PSB1bmRlZmluZWQgfHwgZm1lLnJldmlld2VkID09PSAwKSB7XG5cdFx0XHRcdGUucHVzaCgwKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGUucHVzaChmbWUucmV2aWV3ZWQpO1xuXHRcdFx0fVxuXHRcdFx0YnVmZi5wdXNoKGUpO1xuXHRcdH1cblxuXHRcdGlmIChidWZmLmxlbmd0aCA+IDApIHtcblx0XHRcdGR2LmhlYWRlcigyLCBcIkxvZ3NcIik7XG5cdFx0XHRkdi50YWJsZShbXCJjcmVhdGVkX2F0XCIsIFwidXVpZFwiLCBcInNlc3Npb25cIiwgXCJyZXZpZXdlZFwiXSwgYnVmZik7XG5cdFx0XHRpZiAodG90YWxUaW1lID4gMCkge1xuXHRcdFx0XHRkdi5wYXJhZ3JhcGgoXG5cdFx0XHRcdFx0YF90b3RhbFRpbWUgKGgpOl8gJHtNYXRoLnJvdW5kKCh0b3RhbFRpbWUgLyAoMTAwMCAqIDYwICogNjApKSAqIDEwKSAvIDEwXG5cdFx0XHRcdFx0fWAsXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdG1lZGlhV2l0aExvZ3MoZHYsIGRhdGEpIHtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Y29uc3QgY29scyA9IFtcInV1aWRcIiwgXCJ0YXNrc1wiLCBcImVzdGltYXRlXCIsIFwiY3VycmVudFwiLCBcImRvbWFpblwiXTtcblxuXHRcdGZvciAoY29uc3QgZCBvZiBkYXRhKSB7XG5cdFx0XHRjb25zdCBmID0gZC5maWxlO1xuXHRcdFx0Y29uc3QgZm0gPSBmLmZyb250bWF0dGVyO1xuXHRcdFx0Y29uc3QgcmVmID0gZHYucGFnZXMoYFwiJHtQYXRocy5SZWZzfS8ke2ZtLnJlZl9pZH1cImApLmFycmF5KCk7XG5cdFx0XHRpZiAocmVmLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0YHRhc2s6ICcke2ZtLnV1aWR9JyBoYXMgYW4gdW5kZWZpbmVkIHJlZl9pZDogJyR7Zm0ucmVmX2lkfSdgLFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgZG9tYWluID1cblx0XHRcdFx0SGVscGVyLmdldERvbWFpbihmbSwgdHJ1ZSkgPT09IHVuZGVmaW5lZFxuXHRcdFx0XHRcdD8gXCJcXFxcLVwiXG5cdFx0XHRcdFx0OiBIZWxwZXIuZ2V0RG9tYWluKGZtKTtcblx0XHRcdGNvbnN0IGxvZ0VudHJpZXMgPSBkdlxuXHRcdFx0XHQucGFnZXMoYFwiJHtQYXRocy5Mb2dzfS8ke2ZtLnV1aWR9XCJgKVxuXHRcdFx0XHQud2hlcmUoKHApID0+IHAudHlwZSA9PT0gVHlwZXMuTG9nKVxuXHRcdFx0XHQuc29ydCgoaykgPT4gay5jcmVhdGVkX2F0LCBcImRlc2NcIik7XG5cdFx0XHRsZXQgdG90YWxUaW1lID0gMDtcblx0XHRcdGZvciAoY29uc3QgZW50cnkgb2YgbG9nRW50cmllcykge1xuXHRcdFx0XHRjb25zdCBmbWUgPSBlbnRyeS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0XHRjb25zdCBlID0gW107XG5cdFx0XHRcdGxldCBzdGFydDogYW55ID0gMDtcblx0XHRcdFx0bGV0IHN0b3A6IGFueSA9IDA7XG5cdFx0XHRcdGlmIChmbWUgPT09IHVuZGVmaW5lZCB8fCBmbWUuY3JlYXRlZF9hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGZyb250bWF0dGVyOiAke2ZtZS51dWlkfWApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0c3RhcnQgPSBuZXcgRGF0ZShmbWUuY3JlYXRlZF9hdCk7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0ZS5wdXNoKHN0YXJ0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApKTtcblx0XHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvcihlbnRyeS51dWlkKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoZm1lLmRvbmVfYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHN0b3AgPSBEYXRlLm5vdygpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHN0b3AgPSBuZXcgRGF0ZShmbWUuZG9uZV9hdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dG90YWxUaW1lICs9IHN0b3AgLSBzdGFydDtcblx0XHRcdH1cblxuXHRcdFx0YnVmZi5wdXNoKFtcblx0XHRcdFx0ZHYuZmlsZUxpbmsoZi5wYXRoLCBmYWxzZSwgZm0udXVpZC5zbGljZSgwLCA4KSksXG5cdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rQWxpYXMoZHYsIHJlZlswXS5maWxlKSxcblx0XHRcdFx0Zm0udGltZV9lc3RpbWF0ZSxcblx0XHRcdFx0YCR7TWF0aC5yb3VuZCgodG90YWxUaW1lIC8gKDEwMDAgKiA2MCAqIDYwKSkgKiAxMCkgLyAxMH1oYCxcblx0XHRcdFx0ZG9tYWluLFxuXHRcdFx0XSk7XG5cdFx0fVxuXG5cdFx0ZHYudGFibGUoY29scywgYnVmZik7XG5cdH0sXG5cblx0dGFza0RvbmVXaXRoTG9ncyhkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRjb25zdCBjb2xzID0gW1xuXHRcdFx0XCJ0YXNrSWRcIixcblx0XHRcdFwibG9nSWRcIixcblx0XHRcdFwiY3JlYXRlZEF0XCIsXG5cdFx0XHRcImRvbmVBdFwiLFxuXHRcdFx0XCJ0aW1lRXN0aW1hdGVcIixcblx0XHRcdFwidG9va1wiLFxuXHRcdFx0XCJwcm9qZWN0XCIsXG5cdFx0XTtcblx0XHRmb3IgKGNvbnN0IGQgb2YgZGF0YSkge1xuXHRcdFx0Y29uc3QgZiA9IGQuZmlsZTtcblx0XHRcdGNvbnN0IGZtID0gZC5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0Y29uc3QgY3JlYXRlZEF0OiBhbnkgPSBuZXcgRGF0ZShmbS5jcmVhdGVkX2F0KTtcblx0XHRcdGNvbnN0IGRvbmVBdDogYW55ID0gbmV3IERhdGUoZm0uZG9uZV9hdCk7XG5cdFx0XHRjb25zdCB0aW1lRXN0aW1hdGUgPSBcIlwiO1xuXHRcdFx0Y29uc3QgdG9vayA9IChkb25lQXQgLSBjcmVhdGVkQXQpIC8gKDEwMDAgKiAzNjAwKTtcblx0XHRcdGNvbnN0IHBhZ2VzID0gZHZcblx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9XCJgKVxuXHRcdFx0XHQud2hlcmUoKHBhZ2UpID0+IHBhZ2UuZmlsZS5mcm9udG1hdHRlci51dWlkID09PSBmbS5wYXJlbnRfaWQpO1xuXHRcdFx0aWYgKHBhZ2VzLmxlbmd0aCAhPT0gMSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoKTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IHBhcmVudCA9IHBhZ2VzWzBdO1xuXHRcdFx0Y29uc3QgcGFyZW50Rm0gPSBwYXJlbnQuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGNvbnN0IHBhcmVudEYgPSBwYXJlbnQuZmlsZTtcblx0XHRcdGJ1ZmYucHVzaChbXG5cdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rU2hvcnRVVUlEKGR2LCBwYXJlbnQuZmlsZSwgXCJUYXNrXCIpLFxuXHRcdFx0XHRSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRChkdiwgZiksXG5cdFx0XHRcdGNyZWF0ZWRBdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKSxcblx0XHRcdFx0ZG9uZUF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApLFxuXHRcdFx0XHR0aW1lRXN0aW1hdGUsXG5cdFx0XHRcdCgodCkgPT4ge1xuXHRcdFx0XHRcdHJldHVybiBNYXRoLnJvdW5kKHQgKiAxMCkgLyAxMDtcblx0XHRcdFx0fSkodG9vayksXG5cdFx0XHRcdEhlbHBlci5nZXRQcm9qZWN0KHBhcmVudEZtKSxcblx0XHRcdF0pO1xuXHRcdH1cblxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHR9LFxuXG5cdHByb2plY3RzKGR2LCBwYWdlcykge1xuXHRcdGNvbnN0IGNvbHMgPSBbXCJuYW1lXCJdO1xuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblxuXHRcdGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuXHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdGJ1ZmYucHVzaChbUmVuZGVyZXIubWFrZUxpbmsoZHYsIHBhZ2UuZmlsZSwgZm0uZ2V0TmFtZSgpKV0pO1xuXHRcdH1cblxuXHRcdGR2LnRhYmxlKGNvbHMsIGJ1ZmYpO1xuXHR9LFxuXG5cdGJhc2ljRG9uZVRhc2tXaXRoTG9ncyhkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGNvbHMgPSBbXG5cdFx0XHRcInV1aWRcIixcblx0XHRcdFwiY3JlYXRlZEF0XCIsXG5cdFx0XHRcImRvbmVBdFwiLFxuXHRcdFx0XCJ0aW1lRXN0aW1hdGVcIixcblx0XHRcdFwidG9va1wiLFxuXHRcdFx0XCJkZWx0YVwiLFxuXHRcdFx0XCJwcm9qZWN0XCIsXG5cdFx0XHRcImFyZWFcIixcblx0XHRdO1xuXHRcdGR2LnRhYmxlKGNvbHMsIGRhdGEpO1xuXHR9LFxuXG5cdGJhc2ljRG9uZVRhc2tXaXRob3V0TG9ncyhkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGNvbHMgPSBbXCJ0YXNrSWRcIiwgXCJjcmVhdGVkQXRcIiwgXCJwcm9qZWN0XCIsIFwiYXJlYVwiXTtcblx0XHRkdi50YWJsZShjb2xzLCBkYXRhKTtcblx0fSxcblxuXHRiYXNpY1Byb2dyZXNzZWRUYXNrV2l0aExvZyhkdiwgZGF0YSkge1xuXHRcdGNvbnN0IGNvbHMgPSBbXG5cdFx0XHRcInRhc2tJZFwiLFxuXHRcdFx0XCJsb2dJZFwiLFxuXHRcdFx0Ly8gXCJjcmVhdGVkQXRcIixcblx0XHRcdC8vIFwiZG9uZUF0XCIsXG5cdFx0XHRcInRvb2tcIixcblx0XHRcdC8vIFwidG9va0FjY1wiLFxuXHRcdFx0XCJwcm9qZWN0XCIsXG5cdFx0XHQvLyBcImRvbWFpblwiLFxuXHRcdF07XG5cdFx0ZHYudGFibGUoY29scywgZGF0YSk7XG5cdH0sXG5cblx0Ly8gZGFpbHlUYXNrKGR2LCBkYXRhKSB7XG5cdC8vIFx0UmVuZGVyZXIubWFrZUxpbmtTaG9ydFVVSUQodGhpcy5kdiwgcGFnZS5maWxlKSxcblx0Ly8gXHRkdi5cblx0Ly8gXHRcdFx0XHRycy5wdXNoKFtcblx0Ly8gXHRcdFx0XHRcdFwicGFyYWdyYXBoXCIsXG5cdC8vIFx0XHRcdFx0XHRSZW5kZXJlci5tYWtlTGlua1Nob3J0VVVJRCh0aGlzLmR2LCBwYWdlLmZpbGUpLFxuXHQvLyBcdFx0XHRcdF0pO1xuXHQvLyB9XG5cblx0ZG8oZHYsIHJzKSB7XG5cdFx0Zm9yIChjb25zdCByb3cgb2YgcnMpIHtcblx0XHRcdHN3aXRjaCAocm93WzBdKSB7XG5cdFx0XHRcdGNhc2UgXCJoZWFkZXJcIjpcblx0XHRcdFx0XHRjb25zdCBbLCBsZXZlbCwgaGVhZGluZ10gPSByb3c7XG5cdFx0XHRcdFx0ZHYuaGVhZGVyKGxldmVsLCBoZWFkaW5nKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcInBhcmFncmFwaFwiOlxuXHRcdFx0XHRcdGNvbnN0IFssIHRleHRdID0gcm93O1xuXHRcdFx0XHRcdGR2LnBhcmFncmFwaCh0ZXh0KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcImFycmF5XCI6XG5cdFx0XHRcdFx0Y29uc3QgWywgcmVuZGVyZXIsIGRhdGFdID0gcm93O1xuXHRcdFx0XHRcdHJlbmRlcmVyKGR2LCBkYXRhKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcInN0YXRzXCI6XG5cdFx0XHRcdFx0Y29uc3QgWywgbmFtZSwgdW5pdCwgdmFsdWVdID0gcm93O1xuXHRcdFx0XHRcdGR2LnBhcmFncmFwaChgJHtuYW1lfSAoJHt1bml0fSk6ICR7dmFsdWV9YCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBVbnN1cG9ydGVkIG9wY29kZTogXCJmdWNrb2ZmXCJgKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG59O1xuXG5leHBvcnQgY2xhc3MgRnJvbnRtYXR0ZXIge1xuXHRnb25leHQ6IGFueTtcblxuXHRjb25zdHJ1Y3Rvcihnb25leHQpIHtcblx0XHR0aGlzLmdvbmV4dCA9IGdvbmV4dDtcblx0fVxuXG5cdHByb2plY3RQYXJzZU1ldGEoZHYpIHtcblx0XHQvLyBmYXV0ZSBkZSBtaWV1eCBwb3VyIGxlIG1vbWVudFxuXHRcdGNvbnN0IGN1cnJlbnQgPSBkdi5jdXJyZW50KCk7XG5cdFx0Y29uc3QgcHJvamVjdE5hbWUgPSBjdXJyZW50LmZpbGUuZm9sZGVyLnNsaWNlKFxuXHRcdFx0UGF0aHMuUHJvamVjdHMubGVuZ3RoICsgMSxcblx0XHQpO1xuXHRcdGNvbnN0IHByb2plY3REaXIgPSBjdXJyZW50LmZpbGUuZm9sZGVyO1xuXHRcdGlmIChwcm9qZWN0TmFtZS5jb250YWlucyhcIi9cIikpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0YHByb2plY3REaXI6ICR7cHJvamVjdERpcn0gZm9sZGVyOiAke2N1cnJlbnQuZmlsZS5mb2xkZXJ9YCxcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgcGFnZXMgPSBkdi5wYWdlcyhgXCIke3Byb2plY3REaXJ9L21ldGFcImApLmFycmF5KCk7XG5cdFx0aWYgKHBhZ2VzLmxlbmd0aCAhPT0gMSkge1xuXHRcdFx0Ly8gY29uc29sZS5sb2cocGFnZXMpO1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBsZW46ICR7cGFnZXMubGVuZ3RofWApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGZtID0gcGFnZXNbMF0uZmlsZS5mcm9udG1hdHRlcjtcblx0XHRjb25zdCB1dWlkID0gZm0udXVpZDtcblx0XHRpZiAoSGVscGVyLm5pbENoZWNrKHV1aWQpKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYHByb2plY3QgJ3V1aWQnIGlzIG5vdCBkZWZpbmVkYCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgbmFtZSA9IGZtLm5hbWU7XG5cdFx0aWYgKEhlbHBlci5uaWxDaGVjayhuYW1lKSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGAnbmFtZScgaXMgbm90IGRlZmluZWRgKTtcblx0XHR9XG5cblx0XHRjb25zdCBkb21haW5zID0gZm0uZG9tYWlucztcblx0XHRpZiAoIUFycmF5LmlzQXJyYXkoZG9tYWlucykpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgJ2RvbWFpbnMnIG11c3QgYmUgb2YgYXJyYXkgdHlwZWApO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHR1dWlkOiB1dWlkLFxuXHRcdFx0bmFtZTogbmFtZSxcblx0XHRcdGRvbWFpbnM6IGRvbWFpbnMsXG5cdFx0fTtcblx0fVxuXG5cdGdldENyZWF0ZWRBdChmKTogRGF0ZSB7XG5cdFx0cmV0dXJuIEhlbHBlci5uaWxDaGVjayhmLmZyb250bWF0dGVyLmNyZWF0ZWRfYXQpXG5cdFx0XHQ/IG5ldyBEYXRlKGYuY3RpbWUudHMpXG5cdFx0XHQ6IG5ldyBEYXRlKGYuZnJvbnRtYXR0ZXIuY3JlYXRlZF9hdCk7XG5cdH1cblxuXHRnZXRDdXJyZW50RnJvbnRtYXR0ZXIoKSB7XG5cdFx0Y29uc3QgZmlsZSA9IHRoaXMuZ29uZXh0LndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XG5cdFx0Y29uc3QgZmlsZUNvbnRlbnQgPSB0aGlzLmdvbmV4dC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShmaWxlKTtcblx0XHRpZiAoZmlsZUNvbnRlbnQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Ly8gY29uc29sZS53YXJuKFwiJ2ZpbGVDb250ZW50JyBpcyB1bmRlZmluZWRcIik7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdGNvbnN0IGZtID0gZmlsZUNvbnRlbnQuZnJvbnRtYXR0ZXI7XG5cdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdC8vIGNvbnNvbGUud2FybihcIidmbScgaXMgdW5kZWZpbmVkXCIpO1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHRyZXR1cm4gZm07XG5cdH1cblxuXHRwYXJzZUxpc3RCeU5hbWVzcGFjZShmbSkge1xuXHRcdGNvbnN0IGJ5QXJlYXMgPSBmbS5ieV9hcmVhcyA9PT0gdW5kZWZpbmVkID8gW10gOiBmbS5ieV9hcmVhcztcblx0XHRjb25zdCBieUNvbnRleHRzID0gZm0uYnlfY29udGV4dHMgPT09IHVuZGVmaW5lZCA/IFtdIDogZm0uYnlfY29udGV4dHM7XG5cdFx0Y29uc3QgYnlMYXllcnMgPSBmbS5ieV9sYXllcnMgPT09IHVuZGVmaW5lZCA/IFtdIDogZm0uYnlfbGF5ZXJzO1xuXHRcdGNvbnN0IGJ5T3JncyA9IGZtLmJ5X29yZ3MgPT09IHVuZGVmaW5lZCA/IFtdIDogZm0uYnlfb3Jncztcblx0XHRjb25zdCBieVByb2plY3RzID0gZm0uYnlfcHJvamVjdHMgPT09IHVuZGVmaW5lZCA/IFtdIDogZm0uYnlfcHJvamVjdHM7XG5cblx0XHRyZXR1cm4gW2J5QXJlYXMsIGJ5Q29udGV4dHMsIGJ5TGF5ZXJzLCBieU9yZ3MsIGJ5UHJvamVjdHNdO1xuXHR9XG5cblx0cGFyc2VMaXN0QmVmb3JlQWZ0ZXIoZm0pIHtcblx0XHRjb25zdCBiZWZvcmUgPSBIZWxwZXIuZ2V0RGF0ZShmbS5iZWZvcmUpO1xuXHRcdGNvbnN0IGFmdGVyID0gSGVscGVyLmdldERhdGUoZm0uYWZ0ZXIpO1xuXHRcdHJldHVybiBbYmVmb3JlLCBhZnRlcl07XG5cdH1cblxuXHRwYXJzZUxpc3RGaWx0ZXJCeShmbSkge1xuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gW107XG5cdFx0fVxuXG5cdFx0Y29uc3QgZmlsdGVyQnkgPSBmbS5maWx0ZXJfYnk7XG5cdFx0aWYgKCFBcnJheS5pc0FycmF5KGZpbHRlckJ5KSkge1xuXHRcdFx0cmV0dXJuIFtdO1xuXHRcdH1cblxuXHRcdHJldHVybiBmaWx0ZXJCeTtcblx0fVxuXG5cdHBhcnNlTGlzdEdyb3VwQnkoZm0pIHtcblx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIFwiXCI7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZ3JvdXBCeSA9IGZtLmdyb3VwX2J5O1xuXHRcdGlmIChcblx0XHRcdCEodHlwZW9mIGdyb3VwQnkgPT09IFwidW5kZWZpbmVkXCIpICYmXG5cdFx0XHQhKHR5cGVvZiBncm91cEJ5ID09PSBcInN0cmluZ1wiKVxuXHRcdCkge1xuXHRcdFx0cmV0dXJuIFwiXCI7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGdyb3VwQnk7XG5cdH1cblxuXHRwYXJzZUFsbFByb2dyZXNzZWRUYXNrcygpIHtcblx0XHRjb25zdCBmbSA9IHRoaXMuZ2V0Q3VycmVudEZyb250bWF0dGVyKCk7XG5cdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBmcm9udG1hdHRlciwgY2Fubm90IHByb2NlZWRgKTtcblx0XHR9XG5cblx0XHRjb25zdCBncm91cEJ5ID0gdGhpcy5wYXJzZUxpc3RHcm91cEJ5KGZtKTtcblx0XHRjb25zdCBmaWx0ZXJCeSA9IHRoaXMucGFyc2VMaXN0RmlsdGVyQnkoZm0pO1xuXHRcdGNvbnN0IFtiZWZvcmUsIGFmdGVyXSA9IHRoaXMucGFyc2VMaXN0QmVmb3JlQWZ0ZXIoZm0pO1xuXG5cdFx0cmV0dXJuIFtncm91cEJ5LCBmaWx0ZXJCeSwgYmVmb3JlLCBhZnRlcl07XG5cdH1cblxuXHRwYXJzZUFsbERvbmVUYXNrcygpIHtcblx0XHRyZXR1cm4gdGhpcy5wYXJzZUFsbFByb2dyZXNzZWRUYXNrcygpO1xuXHR9XG5cblx0cGFyc2VBbGxEb25lVGFza1dpdGhvdXRMb2coKSB7XG5cdFx0cmV0dXJuIHRoaXMucGFyc2VBbGxQcm9ncmVzc2VkVGFza3MoKTtcblx0fVxuXG5cdHBhcnNlQWxsVG9kb0FkSG9jKCkge1xuXHRcdGNvbnN0IGZtID0gdGhpcy5nZXRDdXJyZW50RnJvbnRtYXR0ZXIoKTtcblx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGZyb250bWF0dGVyLCBjYW5ub3QgcHJvY2VlZGApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGdyb3VwQnkgPSB0aGlzLnBhcnNlTGlzdEdyb3VwQnkoZm0pO1xuXHRcdGNvbnN0IGZpbHRlckJ5ID0gdGhpcy5wYXJzZUxpc3RGaWx0ZXJCeShmbSk7XG5cdFx0Y29uc3QgW2JlZm9yZSwgYWZ0ZXJdID0gdGhpcy5wYXJzZUxpc3RCZWZvcmVBZnRlcihmbSk7XG5cdFx0Y29uc3QgbWluUHJpb3JpdHkgPSBIZWxwZXIuZ2V0RmllbGQoZm0ubWluX3ByaW9yaXR5LCAwKTtcblxuXHRcdHJldHVybiBbZ3JvdXBCeSwgZmlsdGVyQnksIGJlZm9yZSwgYWZ0ZXIsIG1pblByaW9yaXR5XTtcblx0fVxuXG5cdHBhcnNlSW5ib3goKSB7XG5cdFx0Y29uc3QgZm0gPSB0aGlzLmdldEN1cnJlbnRGcm9udG1hdHRlcigpO1xuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gW1tdLCBbXSwgMCwgMHhmZmZmZmZmZl07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgc291cmNlID0gSGVscGVyLm5pbENoZWNrKGZtLnNvdXJjZSlcblx0XHRcdD8gW1wibG9nc1wiLCBcImZsZWV0aW5nXCJdXG5cdFx0XHQ6IGZtLnNvdXJjZTtcblx0XHRjb25zdCBncm91cEJ5ID0gSGVscGVyLm5pbENoZWNrKGZtLmdyb3VwX2J5KSA/IFwibm9uZVwiIDogZm0uZ3JvdXBfYnk7XG5cdFx0Y29uc3QgZmlsdGVyQnkgPSB0aGlzLnBhcnNlTGlzdEZpbHRlckJ5KGZtKTtcblx0XHRjb25zdCBtaW5TaXplID0gSGVscGVyLm5pbENoZWNrKGZtLm1pbl9zaXplKSA/IDAgOiBmbS5taW5fc2l6ZTtcblx0XHRjb25zdCBtYXhTaXplID0gSGVscGVyLm5pbENoZWNrKGZtLm1heF9zaXplKSA/IDB4ZmZmZmZmZmYgOiBmbS5tYXhfc2l6ZTtcblxuXHRcdHJldHVybiBbc291cmNlLCBncm91cEJ5LCBmaWx0ZXJCeSwgbWluU2l6ZSwgbWF4U2l6ZV07XG5cdH1cblxuXHRwYXJzZVRvZG9MaXN0KCkge1xuXHRcdGNvbnN0IGZtID0gdGhpcy5nZXRDdXJyZW50RnJvbnRtYXR0ZXIoKTtcblx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIFtbXSwgW10sIFtdLCBbXSwgW10sIDBdO1xuXHRcdH1cblxuXHRcdGNvbnN0IFtieUFyZWFzLCBieUNvbnRleHRzLCBieUxheWVycywgYnlPcmdzLCBieVByb2plY3RzXSA9XG5cdFx0XHR0aGlzLnBhcnNlTGlzdEJ5TmFtZXNwYWNlKGZtKTtcblx0XHRjb25zdCBtaW5Qcmlvcml0eSA9IEhlbHBlci5nZXRGaWVsZChmbS5taW5fcHJpb3JpdHksIDApO1xuXG5cdFx0cmV0dXJuIFtieUFyZWFzLCBieUNvbnRleHRzLCBieUxheWVycywgYnlPcmdzLCBieVByb2plY3RzLCBtaW5Qcmlvcml0eV07XG5cdH1cblxuXHRwYXJzZURvbmVMaXN0KCkge1xuXHRcdGNvbnN0IGZtID0gdGhpcy5nZXRDdXJyZW50RnJvbnRtYXR0ZXIoKTtcblx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIFtbXSwgW10sIFtdLCBbXSwgW10sIFtdLCBbXV07XG5cdFx0fVxuXG5cdFx0Y29uc3QgW2J5QXJlYXMsIGJ5Q29udGV4dHMsIGJ5TGF5ZXJzLCBieU9yZ3MsIGJ5UHJvamVjdHNdID1cblx0XHRcdHRoaXMucGFyc2VMaXN0QnlOYW1lc3BhY2UoZm0pO1xuXHRcdGNvbnN0IFtiZWZvcmUsIGFmdGVyXSA9IHRoaXMucGFyc2VMaXN0QmVmb3JlQWZ0ZXIoZm0pO1xuXHRcdGNvbnN0IGZpZWxkcyA9IEhlbHBlci5nZXRGaWVsZChmbS5maWVsZHMsIFtdKTtcblx0XHRjb25zdCBzdGF0cyA9IEhlbHBlci5nZXRGaWVsZChmbS5zdGF0cywgW10pO1xuXG5cdFx0cmV0dXJuIFtcblx0XHRcdGJ5QXJlYXMsXG5cdFx0XHRieUNvbnRleHRzLFxuXHRcdFx0YnlMYXllcnMsXG5cdFx0XHRieU9yZ3MsXG5cdFx0XHRieVByb2plY3RzLFxuXHRcdFx0ZmllbGRzLFxuXHRcdFx0c3RhdHMsXG5cdFx0XHRiZWZvcmUsXG5cdFx0XHRhZnRlcixcblx0XHRdO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBOb3RlSGVscGVyIHtcblx0ZHY6IGFueTtcblx0Z29uZXh0OiBhbnk7XG5cdGZyb250bWF0dGVyOiBGcm9udG1hdHRlcjtcblxuXHRjb25zdHJ1Y3Rvcihnb25leHQsIGR2LCBmcm9udG1hdHRlcikge1xuXHRcdHRoaXMuZ29uZXh0ID0gZ29uZXh0O1xuXHRcdHRoaXMuZHYgPSBkdjtcblx0XHR0aGlzLmZyb250bWF0dGVyID0gZnJvbnRtYXR0ZXI7XG5cdH1cblxuXHRpc0RvYWJsZSh0YXNrLCBhdCA9IHVuZGVmaW5lZCkge1xuXHRcdGNvbnN0IGZtID0gdGFzay5maWxlLmZyb250bWF0dGVyO1xuXHRcdGlmIChmbS5zdGF0dXMgIT09IFN0YXR1cy5Ub2RvKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKGZtLmFmdGVyICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGNvbnN0IGFmdGVyID0gbmV3IERhdGUoZm0uYWZ0ZXIpO1xuXHRcdFx0aWYgKERhdGUubm93KCkgPD0gYWZ0ZXIuZ2V0VGltZSgpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoYXQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Y29uc3QgZm1BdCA9IG5ldyBEYXRlKGZtLmF0KTtcblx0XHRcdGZtQXQuc2V0SG91cnMoMCk7XG5cdFx0XHRmbUF0LnNldE1pbnV0ZXMoMCk7XG5cdFx0XHRmbUF0LnNldFNlY29uZHMoMCk7XG5cblx0XHRcdC8vIGlmIChmbS51dWlkID09PSBcIjJhOTdkZTM1LWNhODctNDI2Ny05MTU5LTZjMDk2ZDQxNjNmMVwiKSB7XG5cdFx0XHQvLyBcdGNvbnNvbGUubG9nKGB1dWlkOiAke2ZtLnV1aWR9YCk7XG5cdFx0XHQvLyBcdGNvbnNvbGUubG9nKGBhdDogJHthdC5nZXRUaW1lKCl9YCk7XG5cdFx0XHQvLyBcdGNvbnNvbGUubG9nKGBmbUF0OiAke2ZtQXQuZ2V0VGltZSgpfWApO1xuXHRcdFx0Ly8gXHRjb25zb2xlLmxvZyhgaWY6ICR7YXQuZ2V0VGltZSgpIDwgZm1BdC5nZXRUaW1lKCl9YCk7XG5cdFx0XHQvLyB9XG5cblx0XHRcdGlmIChhdC5nZXRUaW1lKCkgPCBmbUF0LmdldFRpbWUoKSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmIChmbS5hdCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGNvbnN0IGF0ID0gbmV3IERhdGUoZm0uYXQpO1xuXHRcdFx0XHRpZiAoRGF0ZS5ub3coKSA8PSBhdC5nZXRUaW1lKCkpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCBkZXBzID0gZm0ubmVlZHM7XG5cdFx0aWYgKGRlcHMgPT09IHVuZGVmaW5lZCB8fCBkZXBzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuaGFzUGVuZGluZ0RlcGVuZGVuY2llcyhkZXBzKSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0aGFzUGVuZGluZ0RlcGVuZGVuY2llcyhkZXBzKSB7XG5cdFx0Zm9yIChjb25zdCBkZXAgb2YgZGVwcykge1xuXHRcdFx0Y29uc3QgdGFzayA9IHRoaXMuZHYucGFnZXMoYFwiJHtQYXRocy5UYXNrc30vJHtkZXB9XCJgKS5hcnJheSgpO1xuXHRcdFx0aWYgKHRhc2subGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdGNvbnNvbGUud2Fybihcblx0XHRcdFx0XHRgaGFzUGVuZGluZ0RlcGVuZGVuY2llczogXCIke1BhdGhzLlRhc2tzfS8ke2RlcH1cIiB0YXNrIGRvZXMgbm90IGV4aXN0c2AsXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBmbSA9IHRhc2tbMF0uZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGlmIChcblx0XHRcdFx0Zm0udHlwZSAhPT0gVHlwZXMuVGFzayAmJlxuXHRcdFx0XHRmbS50eXBlICE9PSBUeXBlcy5Qcm92aXNpb24gJiZcblx0XHRcdFx0Zm0udHlwZSAhPT0gVHlwZXMuUHJheGlzXG5cdFx0XHQpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChmbS5zdGF0dXMgPT09IFN0YXR1cy5Ub2RvKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGlzQ2hpbGRUYWcocGFyZW50LCBjaGlsZCkge1xuXHRcdGlmIChjaGlsZC5sZW5ndGggPD0gcGFyZW50Lmxlbmd0aCArIDEpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9IGVsc2UgaWYgKGNoaWxkLnNsaWNlKDAsIHBhcmVudC5sZW5ndGggKyAxKSAhPSBgJHtwYXJlbnR9L2ApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRnZXROYW1lc3BhY2VDb250ZW50KG5zOiBzdHJpbmcpIHtcblx0XHRjb25zdCBjaGlsZHJlbiA9IFtdO1xuXHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdi5wYWdlcyhgIyR7bnN9YCk7XG5cdFx0Zm9yIChjb25zdCBwIG9mIHBhZ2VzKSB7XG5cdFx0XHRjb25zdCB0YWdzID0gcC5maWxlLmZyb250bWF0dGVyLnRhZ3M7XG5cblx0XHRcdGlmICh0YWdzID09PSB1bmRlZmluZWQgfHwgdGFncy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGZvciAoY29uc3QgdGFnIG9mIHRhZ3MpIHtcblx0XHRcdFx0aWYgKHRoaXMuaXNDaGlsZFRhZyhucywgdGFnKSkge1xuXHRcdFx0XHRcdGNvbnN0IHQgPSB0YWcuc2xpY2UobnMubGVuZ3RoICsgMSk7XG5cdFx0XHRcdFx0aWYgKCFjaGlsZHJlbi5jb250YWlucyh0KSkge1xuXHRcdFx0XHRcdFx0Y2hpbGRyZW4ucHVzaCh0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY2hpbGRyZW47XG5cdH1cblxuXHRpc0xhc3RSZXZpc2lvbihwYWdlKTogYm9vbGVhbiB7XG5cdFx0Y29uc3QgcmV2aXNpb25MaXN0ID0gKGR2LCByb290OiBzdHJpbmcsIGN1cnJlbnQpID0+IHtcblx0XHRcdGxldCBoZWFkID0gY3VycmVudDtcblx0XHRcdHdoaWxlICh0cnVlKSB7XG5cdFx0XHRcdGNvbnN0IHBhZ2VzID0gZHZcblx0XHRcdFx0XHQucGFnZXMoYFwiJHtyb290fVwiYClcblx0XHRcdFx0XHQud2hlcmUoXG5cdFx0XHRcdFx0XHQocGFnZSkgPT5cblx0XHRcdFx0XHRcdFx0cGFnZS5maWxlLmZyb250bWF0dGVyLm5leHQgPT09XG5cdFx0XHRcdFx0XHRcdGhlYWQuZmlsZS5mcm9udG1hdHRlci51dWlkLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdGlmIChwYWdlcy5sZW5ndGggPiAxKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCk7XG5cdFx0XHRcdH0gZWxzZSBpZiAocGFnZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdFx0aGVhZCA9IHBhZ2VzWzBdO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBidWZmID0gW107XG5cdFx0XHRsZXQgY3VyID0gaGVhZDtcblx0XHRcdHdoaWxlICh0cnVlKSB7XG5cdFx0XHRcdGJ1ZmYucHVzaChjdXIpO1xuXHRcdFx0XHRjb25zdCBmbSA9IGN1ci5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0XHRpZiAoZm0ubmV4dCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29uc3QgcGFnZXMgPSBkdi5wYWdlcyhgXCIke3Jvb3R9LyR7Zm0ubmV4dH1cImApO1xuXHRcdFx0XHRpZiAocGFnZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y3VyID0gcGFnZXNbMF07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBidWZmO1xuXHRcdH07XG5cblx0XHRjb25zdCBub3RlID0gcGFnZTtcblx0XHRjb25zdCBmbSA9IG5vdGUuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRsZXQgcmV2aXNpb25zID0gW107XG5cdFx0c3dpdGNoIChmbS50eXBlKSB7XG5cdFx0XHRjYXNlIFR5cGVzLlBlcm1hbmVudDpcblx0XHRcdFx0cmV2aXNpb25zID0gcmV2aXNpb25MaXN0KHRoaXMuZHYsIFBhdGhzLlNsaXBib3gsIG5vdGUpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgVHlwZXMuUmVzb3VyY2U6XG5cdFx0XHRcdHJldmlzaW9ucyA9IHJldmlzaW9uTGlzdCh0aGlzLmR2LCBQYXRocy5SZXNvdXJjZXMsIG5vdGUpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcigpO1xuXHRcdH1cblxuXHRcdGlmIChyZXZpc2lvbnMubGVuZ3RoIDw9IDEpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdHJldHVybiByZXZpc2lvbnNbMF0uZmlsZS5mcm9udG1hdHRlci51dWlkID09PSBmbS51dWlkO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBHZW5lcmF0b3Ige1xuXHRhcHA6IGFueTtcblx0ZHY6IGFueTtcblx0Z29uZXh0OiBhbnk7XG5cblx0Y29uc3RydWN0b3IoYXBwKSB7XG5cdFx0dGhpcy5hcHAgPSBhcHA7XG5cdFx0dGhpcy5kdiA9IGFwcC5kdjtcblx0XHR0aGlzLmdvbmV4dCA9IGFwcC5nb25leHQ7XG5cdH1cblxuXHRmbGVldGluZygpIHtcblx0XHRjb25zdCBkdCA9IG5ldyBEYXRlKCk7XG5cdFx0Y29uc3Qgbm90ZSA9IHtcblx0XHRcdHV1aWQ6IHV1aWR2NCgpLFxuXHRcdFx0dHlwZTogMTMsXG5cdFx0XHR2ZXJzaW9uOiBcIjAuMC40XCIsXG5cdFx0XHRjcmVhdGVkX2F0OiBkdC50b0lTT1N0cmluZygpLFxuXHRcdFx0cGF0aDogXCJcIixcblx0XHRcdGRhdGE6IFwiXCIsXG5cdFx0fTtcblxuXHRcdG5vdGUucGF0aCA9IGA4MDAgSW5ib3gvJHtub3RlLnV1aWR9Lm1kYDtcblx0XHRub3RlLmRhdGEgPSBgLS0tXFxudHlwZTogMTNcXG51dWlkOiBcIiR7bm90ZS51dWlkfVwiXFxuY3JlYXRlZF9hdDogXCIke25vdGUuY3JlYXRlZF9hdH1cIlxcbnZlcnNpb246IFwiMC4wLjRcIlxcbi0tLVxcbiMjIENvbnRlbnRcXG5gO1xuXG5cdFx0Y29uc3QgZiA9IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZShub3RlLnBhdGgsIG5vdGUuZGF0YSkudGhlbigoZikgPT4ge1xuXHRcdFx0cmV0dXJuIGY7XG5cdFx0fSk7XG5cdFx0Y29uc3QgYWN0aXZlID0gdGhpcy5hcHAud29ya3NwYWNlLmFjdGl2ZUxlYWY7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGNvbnN0IHJvb3QgPSBhY3RpdmUucGFyZW50O1xuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5jcmVhdGVMZWFmSW5QYXJlbnQocm9vdCwgcm9vdC5jaGlsZHJlbi5sZW5ndGggKyAxKTtcblx0XHRjb25zdCBsZWFmID0gcm9vdC5jaGlsZHJlbltyb290LmNoaWxkcmVuLmxlbmd0aCAtIDFdO1xuXHRcdGYudGhlbigoZmlsZSkgPT4ge1xuXHRcdFx0bGVhZi5vcGVuRmlsZShmaWxlLCB7IGFjdGl2ZTogdHJ1ZSB9KTtcblx0XHR9KTtcblx0fVxuXG5cdGpvdXJuYWxFbnRyeSgpIHtcblx0XHRjb25zdCBkdCA9IG5ldyBEYXRlKCk7XG5cdFx0Y29uc3Qgbm90ZSA9IHtcblx0XHRcdHV1aWQ6IHV1aWR2NCgpLFxuXHRcdFx0dHlwZTogMjAsXG5cdFx0XHR2ZXJzaW9uOiBcIjAuMC40XCIsXG5cdFx0XHRjcmVhdGVkX2F0OiBkdC50b0lTT1N0cmluZygpLFxuXHRcdFx0cGF0aDogXCJcIixcblx0XHRcdGRhdGE6IFwiXCIsXG5cdFx0fTtcblxuXHRcdG5vdGUucGF0aCA9IGBKb3VybmFsLyR7bm90ZS51dWlkfS5tZGA7XG5cdFx0bm90ZS5kYXRhID0gYC0tLVxcbnR5cGU6IDIwXFxudXVpZDogXCIke25vdGUudXVpZH1cIlxcbmNyZWF0ZWRfYXQ6IFwiJHtub3RlLmNyZWF0ZWRfYXR9XCJcXG52ZXJzaW9uOiBcIjAuMC40XCJcXG50YWdzOlxcbiAgICAtIHByb2plY3QvbWlzc2lvblxcbi0tLVxcbiMjIENvbnRlbnRcXG4jIyMgZW50cnlcXG5gO1xuXG5cdFx0cmV0dXJuIHRoaXMuYXBwLnZhdWx0LmNyZWF0ZShub3RlLnBhdGgsIG5vdGUuZGF0YSkudGhlbigoZikgPT4ge1xuXHRcdFx0cmV0dXJuIGY7XG5cdFx0fSk7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIExpc3RNYWtlciB7XG5cdGR2OiBhbnk7XG5cdGdvbmV4dDogYW55O1xuXHRmcm9udG1hdHRlcjogRnJvbnRtYXR0ZXI7XG5cdG5vdGVIZWxwZXI6IE5vdGVIZWxwZXI7XG5cblx0Y29uc3RydWN0b3IoZ29uZXh0LCBkdiwgZnJvbnRtYXR0ZXIpIHtcblx0XHR0aGlzLmdvbmV4dCA9IGdvbmV4dDtcblx0XHR0aGlzLmR2ID0gZHY7XG5cdFx0dGhpcy5mcm9udG1hdHRlciA9IGZyb250bWF0dGVyO1xuXHRcdHRoaXMubm90ZUhlbHBlciA9IG5ldyBOb3RlSGVscGVyKGdvbmV4dCwgZHYsIGZyb250bWF0dGVyKTtcblx0fVxuXG5cdG5hbWVJbk5hbWVzcGFjZShmbTogYW55LCBuczogc3RyaW5nW10pIHtcblx0XHRsZXQgZm91bmQgPSBmYWxzZTtcblx0XHRpZiAobnMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRmb3IgKGNvbnN0IGEgb2YgbnMpIHtcblx0XHRcdGNvbnN0IHJvb3QgPSBhLnNwbGl0KFwiL1wiKTtcblx0XHRcdEFzc2VydC5UcnVlKHJvb3QubGVuZ3RoID09PSAyLCBgSW52YWxpZCB0YWc6ICcke2F9J2ApO1xuXHRcdFx0Y29uc3QgcGFyZW50ID1cblx0XHRcdFx0cm9vdFswXS5zbGljZSgwLCAxKSA9PT0gXCIhXCIgPyByb290WzBdLnNsaWNlKDEpIDogcm9vdFswXTtcblx0XHRcdC8vIGNvbnNvbGUubG9nKHBhcmVudClcblx0XHRcdGNvbnN0IG5hbWUgPSBIZWxwZXIuZ2V0VGFnKGZtLCBwYXJlbnQpO1xuXG5cdFx0XHRpZiAoYS5zbGljZSgwLCAxKSA9PT0gXCIhXCIpIHtcblx0XHRcdFx0Ly8gbmVnYXRpdmUgbWF0Y2gsIGRpc2NhcmQgZW50cnlcblx0XHRcdFx0aWYgKG5hbWUgPT09IGEuc2xpY2UoMSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0Ly8gbm8gbWF0Y2gsIHJlaW5pdFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGZvdW5kID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gcG9zaXRpdmUgbWF0Y2gsIGtlZXAgZW50cnlcblx0XHRcdFx0aWYgKG5hbWUgPT09IGEpIHtcblx0XHRcdFx0XHRmb3VuZCA9IHRydWU7XG5cdFx0XHRcdFx0Ly8gbm8gbWF0Y2gsIHJlaW5pdFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGZvdW5kID0gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZm91bmQ7XG5cdH1cblxuXHRteU5hbWVJbk5hbWVzcGFjZShuYW1lOiBzdHJpbmcsIG5zOiBzdHJpbmdbXSkge1xuXHRcdGxldCBmb3VuZCA9IGZhbHNlO1xuXHRcdGlmIChucy5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdGZvciAoY29uc3QgYSBvZiBucykge1xuXHRcdFx0aWYgKGEuc2xpY2UoMCwgMSkgPT09IFwiIVwiKSB7XG5cdFx0XHRcdC8vIG5lZ2F0aXZlIG1hdGNoLCBkaXNjYXJkIGVudHJ5XG5cdFx0XHRcdGlmIChuYW1lID09PSBhLnNsaWNlKDEpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdC8vIG5vIG1hdGNoLCByZWluaXRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRmb3VuZCA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIHBvc2l0aXZlIG1hdGNoLCBrZWVwIGVudHJ5XG5cdFx0XHRcdGlmIChuYW1lID09PSBhKSB7XG5cdFx0XHRcdFx0Zm91bmQgPSB0cnVlO1xuXHRcdFx0XHRcdC8vIG5vIG1hdGNoLCByZWluaXRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRmb3VuZCA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZvdW5kO1xuXHR9XG5cblx0ZmlsdGVyQnlOYW1lc3BhY2UoXG5cdFx0Zm06IGFueSxcblx0XHRieUFyZWFzOiBzdHJpbmdbXSxcblx0XHRieUNvbnRleHRzOiBzdHJpbmdbXSxcblx0XHRieUxheWVyczogc3RyaW5nW10sXG5cdFx0YnlPcmdzOiBzdHJpbmdbXSxcblx0XHRieVByb2plY3RzOiBzdHJpbmdbXSxcblx0KTogYm9vbGVhbiB7XG5cdFx0Ly8gaWYgKGJ5QXJlYXMubGVuZ3RoID4gMCAmJiAhYnlBcmVhcy5jb250YWlucyhIZWxwZXIuZ2V0QXJlYShmbSkpKSB7XG5cdFx0Ly8gXHRyZXR1cm4gZmFsc2U7XG5cdFx0Ly8gfVxuXG5cdFx0aWYgKCF0aGlzLm15TmFtZUluTmFtZXNwYWNlKEhlbHBlci5nZXRBcmVhKGZtKSwgYnlBcmVhcykpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBjb25zdCBhcmVhID0gSGVscGVyLmdldEFyZWEoZm0pO1xuXHRcdC8vIGxldCBmb3VuZCA9IGZhbHNlO1xuXHRcdC8vIGZvciAoY29uc3QgYSBvZiBieUFyZWFzKSB7XG5cdFx0Ly8gXHRpZiAoYS5zbGljZSgwLCAxKSA9PT0gXCIhXCIpIHtcblx0XHQvLyBcdFx0Ly8gbmVnYXRpdmUgbWF0Y2gsIGRpc2NhcmQgZW50cnlcblx0XHQvLyBcdFx0aWYgKGFyZWEgPT09IGEuc2xpY2UoMSkpIHtcblx0XHQvLyBcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0Ly8gXHRcdFx0Ly8gbm8gbWF0Y2gsIHJlaW5pdFxuXHRcdC8vIFx0XHR9IGVsc2Uge1xuXHRcdC8vIFx0XHRcdGZvdW5kID0gdHJ1ZTtcblx0XHQvLyBcdFx0fVxuXHRcdC8vIFx0fSBlbHNlIHtcblx0XHQvLyBcdFx0Ly8gcG9zaXRpdmUgbWF0Y2gsIGtlZXAgZW50cnlcblx0XHQvLyBcdFx0aWYgKGFyZWEgPT09IGEpIHtcblx0XHQvLyBcdFx0XHRmb3VuZCA9IHRydWU7XG5cdFx0Ly8gXHRcdFx0Ly8gbm8gbWF0Y2gsIHJlaW5pdFxuXHRcdC8vIFx0XHR9IGVsc2Uge1xuXHRcdC8vIFx0XHRcdGZvdW5kID0gZmFsc2U7XG5cdFx0Ly8gXHRcdH1cblx0XHQvLyBcdH1cblx0XHQvLyB9XG5cdFx0Ly9cblx0XHQvLyBpZiAoIWZvdW5kKSB7XG5cdFx0Ly8gXHRyZXR1cm4gZmFsc2U7XG5cdFx0Ly8gfVxuXG5cdFx0Ly8gaWYgKFxuXHRcdC8vIFx0YnlDb250ZXh0cy5sZW5ndGggPiAwICYmXG5cdFx0Ly8gXHQhYnlDb250ZXh0cy5jb250YWlucyhIZWxwZXIuZ2V0Q29udGV4dChmbSkpXG5cdFx0Ly8gKSB7XG5cdFx0Ly8gXHRyZXR1cm4gZmFsc2U7XG5cdFx0Ly8gfVxuXHRcdGlmICghdGhpcy5teU5hbWVJbk5hbWVzcGFjZShIZWxwZXIuZ2V0Q29udGV4dChmbSksIGJ5Q29udGV4dHMpKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaWYgKGJ5TGF5ZXJzLmxlbmd0aCA+IDAgJiYgIWJ5TGF5ZXJzLmNvbnRhaW5zKEhlbHBlci5nZXRMYXllcihmbSkpKSB7XG5cdFx0Ly8gXHRyZXR1cm4gZmFsc2U7XG5cdFx0Ly8gfVxuXHRcdGlmICghdGhpcy5teU5hbWVJbk5hbWVzcGFjZShIZWxwZXIuZ2V0TGF5ZXIoZm0pLCBieUxheWVycykpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBpZiAoYnlPcmdzLmxlbmd0aCA+IDAgJiYgIWJ5T3Jncy5jb250YWlucyhIZWxwZXIuZ2V0T3JnKGZtKSkpIHtcblx0XHQvLyBcdHJldHVybiBmYWxzZTtcblx0XHQvLyB9XG5cdFx0aWYgKCF0aGlzLm15TmFtZUluTmFtZXNwYWNlKEhlbHBlci5nZXRPcmcoZm0pLCBieU9yZ3MpKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaWYgKFxuXHRcdC8vIFx0YnlQcm9qZWN0cy5sZW5ndGggPiAwICYmXG5cdFx0Ly8gXHQhYnlQcm9qZWN0cy5jb250YWlucyhIZWxwZXIuZ2V0UHJvamVjdChmbSkpXG5cdFx0Ly8gKSB7XG5cdFx0Ly8gXHRyZXR1cm4gZmFsc2U7XG5cdFx0Ly8gfVxuXHRcdGlmICghdGhpcy5teU5hbWVJbk5hbWVzcGFjZShIZWxwZXIuZ2V0UHJvamVjdChmbSksIGJ5UHJvamVjdHMpKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRmaWx0ZXJCeURhdGUoZHQ6IERhdGUsIGJlZm9yZTogRGF0ZSwgYWZ0ZXI6IERhdGUpOiBib29sZWFuIHtcblx0XHRpZiAoYmVmb3JlICE9PSB1bmRlZmluZWQgJiYgZHQuZ2V0VGltZSgpID4gYmVmb3JlLmdldFRpbWUoKSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmIChhZnRlciAhPT0gdW5kZWZpbmVkICYmIGR0LmdldFRpbWUoKSA8IGFmdGVyLmdldFRpbWUoKSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0Z29hbHMoKSB7XG5cdFx0Ly8gY29uc3QgZm0gPSB0aGlzLmZyb250bWF0dGVyLmdldEN1cnJlbnRGcm9udG1hdHRlcigpO1xuXHRcdGNvbnN0IHJzID0gW107XG5cdFx0Y29uc3QgYmlucyA9IHt9O1xuXHRcdGJpbnNbR29hbFN0YXR1cy5SZWZyYW1lXSA9IFtdO1xuXHRcdGJpbnNbR29hbFN0YXR1cy5SZXNlYXJjaF0gPSBbXTtcblx0XHRiaW5zW0dvYWxTdGF0dXMuT3BlcmF0aW9uYWxpemVdID0gW107XG5cdFx0Ymluc1tHb2FsU3RhdHVzLlBsYW5pZnldID0gW107XG5cdFx0Ymluc1tHb2FsU3RhdHVzLkRlcGVuZGFudF0gPSBbXTtcblx0XHRiaW5zW0dvYWxTdGF0dXMuQWN0aXZlXSA9IFtdO1xuXHRcdGJpbnNbR29hbFN0YXR1cy5TdWNjZXNzXSA9IFtdO1xuXHRcdGJpbnNbR29hbFN0YXR1cy5GYWlsZWRdID0gW107XG5cblx0XHRjb25zdCBwYWdlcyA9IHRoaXMuZHYucGFnZXMoYFwiJHtQYXRocy5Hb2Fsc31cImApLndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRjb25zdCBmbXAgPSBwYWdlLmZpbGUuZnJvbnRtYXR0ZXI7XG5cblx0XHRcdGlmIChiaW5zW2ZtcC5zdGF0dXNdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ly8gY29uc29sZS5lcnJvcihgSW52YWxpZCBzdGF0dXMgZm9yIGdvYWw6IFwiJHtmbXAudXVpZH1cImApO1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRcdGJpbnNbZm1wLnN0YXR1c10ucHVzaChmbSk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhiaW5zKTtcblx0XHRrZXlzLnNvcnQoKTtcblx0XHRmb3IgKGNvbnN0IGsgb2Yga2V5cykge1xuXHRcdFx0Y29uc3QgYnVmZiA9IGJpbnNba107XG5cdFx0XHRidWZmLnNvcnQoKGEsIGIpID0+IHtcblx0XHRcdFx0Y29uc3QgZHRhID0gbmV3IERhdGUoYS5mbS5iZWZvcmUpO1xuXHRcdFx0XHRjb25zdCBkdGIgPSBuZXcgRGF0ZShiLmZtLmJlZm9yZSk7XG5cdFx0XHRcdHJldHVybiBkdGEuZ2V0VGltZSgpIC0gZHRiLmdldFRpbWUoKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGNvbnN0IGRpc3BsYXlHb2FscyA9IChrLCBycykgPT4ge1xuXHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMywga10pO1xuXHRcdFx0Y29uc3QgYnVmZiA9IGJpbnNba107XG5cdFx0XHRycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLmdvYWwsIGJ1ZmZdKTtcblx0XHR9O1xuXG5cdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMiwgXCJvcGVyYXRpb25hbFwiXSk7XG5cdFx0ZGlzcGxheUdvYWxzKFwiYWN0aXZlXCIsIHJzKTtcblx0XHRkaXNwbGF5R29hbHMoXCJwbGFuaWZ5XCIsIHJzKTtcblxuXHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIFwibm9uLW9wZXJhdGlvbmFsXCJdKTtcblx0XHRkaXNwbGF5R29hbHMoXCJyZWZyYW1lXCIsIHJzKTtcblx0XHRkaXNwbGF5R29hbHMoXCJyZXNlYXJjaFwiLCBycyk7XG5cdFx0ZGlzcGxheUdvYWxzKFwib3BlcmF0aW9uYWxpemVcIiwgcnMpO1xuXHRcdC8vIGRpc3BsYXlHb2FscyhcImRlcGVuZGFudFwiLCBycyk7XG5cblx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBcImRvbmVcIl0pO1xuXHRcdGRpc3BsYXlHb2FscyhcInN1Y2Nlc3NcIiwgcnMpO1xuXHRcdGRpc3BsYXlHb2FscyhcImZhaWxlZFwiLCBycyk7XG5cblx0XHRyZXR1cm4gcnM7XG5cdH1cblxuXHRwcm9qZWN0VGFza3NTaGVldFJlbGF0aW9uRnJvbnRtYXR0ZXIoZHYpIHtcblx0XHRjb25zdCBjdXJyZW50ID0gZHYuY3VycmVudCgpO1xuXHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMoY3VycmVudCk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0bmFtZTogZm0uZ2V0TmFtZSgpLFxuXHRcdFx0dXVpZDogZm0udXVpZCxcblx0XHRcdGFjdGl2ZTpcblx0XHRcdFx0Zm0uZm0uYWN0aXZlID09PSB1bmRlZmluZWQgfHwgZm0uZm0uYWN0aXZlID09PSB0cnVlXG5cdFx0XHRcdFx0PyB0cnVlXG5cdFx0XHRcdFx0OiBmYWxzZSxcblx0XHR9O1xuXHR9XG5cblx0cHJvamVjdFRhc2tzU2hlZXRSZWxhdGlvbihkdikge1xuXHRcdGNvbnN0IHByb2plY3QgPSB0aGlzLnByb2plY3RUYXNrc1NoZWV0UmVsYXRpb25Gcm9udG1hdHRlcihkdik7XG5cblx0XHRjb25zdCBycyA9IFtdO1xuXHRcdGNvbnN0IGJpbnMgPSB7XG5cdFx0XHRuZXh0QWN0aW9uOiBbXSxcblx0XHRcdHdhaXRpbmdGb3I6IFtdLFxuXHRcdFx0c29tZWRheU1heWJlOiBbXSxcblx0XHR9O1xuXG5cdFx0e1xuXHRcdFx0Y29uc3QgcGFnZXMgPSBkdlxuXHRcdFx0XHQucGFnZXMoYFwiSm91cm5hbFwiYClcblx0XHRcdFx0LndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdFx0XHRyZXR1cm4gZm0uZ2V0UHJvamVjdCgpID09PSBwcm9qZWN0Lm5hbWU7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5zb3J0KChrKSA9PiBrLmNyZWF0ZWRfYXQsIFwiZGVzY1wiKTtcblxuXHRcdFx0aWYgKHBhZ2VzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMiwgYEpvdXJuYWwgKCR7cGFnZXMubGVuZ3RofSlgXSk7XG5cdFx0XHRcdGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuXHRcdFx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRcdFx0Y29uc3QgdGV4dCA9IFJlbmRlcmVyLm1ha2VMaW5rKFxuXHRcdFx0XHRcdFx0ZHYsXG5cdFx0XHRcdFx0XHRmbS5mLFxuXHRcdFx0XHRcdFx0YCR7Zm0uY3JlYXRlZEF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApfWAsXG5cdFx0XHRcdFx0XHRcImVudHJ5XCIsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRycy5wdXNoKFtcInBhcmFncmFwaFwiLCB0ZXh0XSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCBwYWdlcyA9IGR2LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9XCJgKS53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdGlmIChmbS5mbS5zdGF0dXMgPT09IFwiZG9uZVwiKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKFtcImRhaWx5XCIsIFwid2Vla2x5XCIsIFwibW9udGhseVwiXS5jb250YWlucyhwcm9qZWN0Lm5hbWUpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0gZWxzZSBpZiAoXG5cdFx0XHRcdHByb2plY3QubmFtZSA9PT0gXCJhZGhvY1wiICYmXG5cdFx0XHRcdGZtLmdldFByb2plY3QoKSA9PT0gdW5kZWZpbmVkXG5cdFx0XHQpIHtcblx0XHRcdFx0cGFnZS5maWxlLmZyb250bWF0dGVyLnByb2plY3QgPSBcImFkaG9jXCI7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fSBlbHNlIGlmIChwcm9qZWN0Lm5hbWUgPT09IGZtLmdldFByb2plY3QoKSkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuXHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblxuXHRcdFx0aWYgKHRoaXMubm90ZUhlbHBlci5pc0RvYWJsZShwYWdlKSkge1xuXHRcdFx0XHRpZiAoZm0uZm0ucHJpb3JpdHkgPiAwKSB7XG5cdFx0XHRcdFx0Ymlucy5uZXh0QWN0aW9uLnB1c2gocGFnZSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ymlucy5zb21lZGF5TWF5YmUucHVzaChwYWdlKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdGZtLmZtLm5lZWRzICE9PSB1bmRlZmluZWQgJiZcblx0XHRcdFx0XHR0aGlzLm5vdGVIZWxwZXIuaGFzUGVuZGluZ0RlcGVuZGVuY2llcyhmbS5mbS5uZWVkcylcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0cGFnZS5jYXVzZSA9IFwiZGVwZW5kZW5jaWVzXCI7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29uc3QgZm1BdCA9IGZtLmF0O1xuXHRcdFx0XHRcdGNvbnN0IGN1cnJlbnRBdCA9IG5ldyBEYXRlKCk7XG5cdFx0XHRcdFx0Y29uc3QgZm1BZnRlciA9IGZtLmFmdGVyO1xuXG5cdFx0XHRcdFx0aWYgKGZtLmZtLmF0ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdGZtQXQuc2V0SG91cnMoMCk7XG5cdFx0XHRcdFx0XHRmbUF0LnNldE1pbnV0ZXMoMCk7XG5cdFx0XHRcdFx0XHRmbUF0LnNldFNlY29uZHMoMCk7XG5cdFx0XHRcdFx0XHRmbUF0LnNldE1pbGxpc2Vjb25kcygwKTtcblx0XHRcdFx0XHRcdGN1cnJlbnRBdC5zZXRIb3VycygwKTtcblx0XHRcdFx0XHRcdGN1cnJlbnRBdC5zZXRNaW51dGVzKDApO1xuXHRcdFx0XHRcdFx0Y3VycmVudEF0LnNldFNlY29uZHMoMCk7XG5cdFx0XHRcdFx0XHRjdXJyZW50QXQuc2V0TWlsbGlzZWNvbmRzKDApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoZm0uYWZ0ZXIgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0Zm1BZnRlci5zZXRIb3VycygwKTtcblx0XHRcdFx0XHRcdGZtQWZ0ZXIuc2V0TWludXRlcygwKTtcblx0XHRcdFx0XHRcdGZtQWZ0ZXIuc2V0U2Vjb25kcygwKTtcblx0XHRcdFx0XHRcdGZtQWZ0ZXIuc2V0TWlsbGlzZWNvbmRzKDApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGBjdXJyZW50OiAke2N1cnJlbnRBdC5nZXRUaW1lKCl9YCk7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coYGF0OiAke2ZtLmF0LmdldFRpbWUoKX1gKTtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhgYWZ0ZXI6ICR7Zm0uYWZ0ZXIuZ2V0VGltZSgpfWApO1xuXG5cdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0Zm0uZm0uYXQgIT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0XHRcdFx0Zm1BdC5nZXRUaW1lKCkgPiBjdXJyZW50QXQuZ2V0VGltZSgpXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRwYWdlLmNhdXNlID0gXCJhdFwiO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoXG5cdFx0XHRcdFx0XHRmbS5mbS5hZnRlciAhPT0gdW5kZWZpbmVkICYmXG5cdFx0XHRcdFx0XHRmbUFmdGVyLmdldFRpbWUoKSA8IGN1cnJlbnRBdC5nZXRUaW1lKClcblx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdHBhZ2UuY2F1c2UgPSBcImFmdGVyXCI7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHBhZ2UuY2F1c2UgPSBcInVua25vd25cIjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRiaW5zLndhaXRpbmdGb3IucHVzaChwYWdlKTtcblx0XHRcdFx0Ly8gYXRcblx0XHRcdFx0Ly8gYWZ0ZXJcblx0XHRcdFx0Ly8gbmVlZHNcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoYmlucy5uZXh0QWN0aW9uLmxlbmd0aCA+IDApIHtcblx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIGBOZXh0IEFjdGlvbnMgKCR7Ymlucy5uZXh0QWN0aW9uLmxlbmd0aH0pYF0pO1xuXHRcdFx0Ymlucy5uZXh0QWN0aW9uLnNvcnQoSGVscGVyLnNvcnRCeVByaW9yaXR5QW5kRHVyYXRpb25BbmRBZ2UpO1xuXHRcdFx0cnMucHVzaChbXG5cdFx0XHRcdFwiYXJyYXlcIixcblx0XHRcdFx0UmVuZGVyZXIuYmFzaWNUYXNrSm91cm5hbE5leHRBY3Rpb24sXG5cdFx0XHRcdGJpbnMubmV4dEFjdGlvbixcblx0XHRcdF0pO1xuXHRcdH1cblxuXHRcdGlmIChiaW5zLndhaXRpbmdGb3IubGVuZ3RoID4gMCkge1xuXHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMiwgYFdhaXRpbmcgKCR7Ymlucy53YWl0aW5nRm9yLmxlbmd0aH0pYF0pO1xuXHRcdFx0Ymlucy53YWl0aW5nRm9yLnNvcnQoSGVscGVyLnNvcnRCeVByaW9yaXR5QW5kRHVyYXRpb25BbmRBZ2UpO1xuXHRcdFx0cnMucHVzaChbXG5cdFx0XHRcdFwiYXJyYXlcIixcblx0XHRcdFx0UmVuZGVyZXIuYmFzaWNUYXNrSm91cm5hbFdhaXRpbmcsXG5cdFx0XHRcdGJpbnMud2FpdGluZ0Zvcixcblx0XHRcdF0pO1xuXHRcdH1cblxuXHRcdGlmIChiaW5zLnNvbWVkYXlNYXliZS5sZW5ndGggPiAwKSB7XG5cdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBgTWF5YmUgKCR7Ymlucy5zb21lZGF5TWF5YmUubGVuZ3RofSlgXSk7XG5cdFx0XHRiaW5zLnNvbWVkYXlNYXliZS5zb3J0KEhlbHBlci5zb3J0QnlQcmlvcml0eUFuZER1cmF0aW9uQW5kQWdlKTtcblx0XHRcdHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIuYmFzaWNUYXNrSm91cm5hbCwgYmlucy5zb21lZGF5TWF5YmVdKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcnM7XG5cdH1cblxuXHRwcm9qZWN0TG9nc1NoZWV0UmVsYXRpb24oZHYpIHtcblx0XHRjb25zdCBwcm9qZWN0ID0gdGhpcy5wcm9qZWN0VGFza3NTaGVldFJlbGF0aW9uRnJvbnRtYXR0ZXIoZHYpO1xuXG5cdFx0Y29uc3QgZmlsdGVyQnkgPSBbXTtcblx0XHRjb25zdCBycyA9IFtdO1xuXG5cdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMiwgXCJMb2dzXCJdKTtcblxuXHRcdGNvbnN0IGxvZ3MgPSB0aGlzLmR2LnBhZ2VzKGBcIiR7UGF0aHMuTG9nc31cImApLndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRpZiAocGFnZS50eXBlICE9PSBUeXBlcy5Mb2cpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHBhZ2UuZmlsZS5mcm9udG1hdHRlci5yZXZpZXdlZCA+IDApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSk7XG5cblx0XHRjb25zdCBidWZmID0ge307XG5cdFx0Zm9yIChjb25zdCBlIG9mIGxvZ3MpIHtcblx0XHRcdGNvbnN0IGZtID0gZS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0aWYgKGZpbHRlckJ5Lmxlbmd0aCA+IDAgJiYgIXRoaXMubmFtZUluTmFtZXNwYWNlKGZtLCBmaWx0ZXJCeSkpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGZtLmNyZWF0ZWRBdCA9IHRoaXMuZnJvbnRtYXR0ZXIuZ2V0Q3JlYXRlZEF0KGUuZmlsZSk7XG5cdFx0XHRBc3NlcnQuVHJ1ZShcblx0XHRcdFx0IUhlbHBlci5uaWxDaGVjayhmbS5wYXJlbnRfaWQpLFxuXHRcdFx0XHRgTWlzc2luZyBmaWVsZCBcInBhcmVudF9pZFwiIGZyb20gbG9nOiBcIiR7Zm0udXVpZH1cImAsXG5cdFx0XHQpO1xuXHRcdFx0Y29uc3QgcGFyZW50ID0gdGhpcy5kdlxuXHRcdFx0XHQucGFnZXMoYFwiJHtQYXRocy5UYXNrc30vJHtmbS5wYXJlbnRfaWR9XCJgKVxuXHRcdFx0XHQuYXJyYXkoKTtcblx0XHRcdGlmIChwYXJlbnQubGVuZ3RoICE9PSAxKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdHBhcmVudC5sZW5ndGggPT09IDEsXG5cdFx0XHRcdGBQYXJlbnQ6ICR7Zm0ucGFyZW50X2lkfSBub3QgZm91bmQgZm9yIGxvZzogXCIke2ZtLnV1aWR9XCJgLFxuXHRcdFx0KTtcblx0XHRcdGZtLnByb2plY3QgPSBIZWxwZXIuZ2V0UHJvamVjdChwYXJlbnRbMF0uZmlsZS5mcm9udG1hdHRlcik7XG5cdFx0XHRmbS5hcmVhID0gSGVscGVyLmdldEFyZWEocGFyZW50WzBdLmZpbGUuZnJvbnRtYXR0ZXIsIHRydWUpO1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRmbS5wcm9qZWN0ICE9PVxuXHRcdFx0XHRgcHJvamVjdC8ke3Byb2plY3QubmFtZSA9PT0gXCJhZGhvY1wiID8gXCJub25lXCIgOiBwcm9qZWN0Lm5hbWV9YFxuXHRcdFx0KSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoSGVscGVyLm5pbENoZWNrKGZtLmRvbmVfYXQpKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgZGF0ZSA9IGZtLmRvbmVfYXQuc2xpY2UoMCwgMTApO1xuXG5cdFx0XHRpZiAoYnVmZltkYXRlXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGJ1ZmZbZGF0ZV0gPSBbZV07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRidWZmW2RhdGVdLnB1c2goZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGJ1ZmYpO1xuXHRcdGtleXMuc29ydCgpO1xuXHRcdGZvciAoY29uc3QgZGF0ZSBvZiBrZXlzKSB7XG5cdFx0XHRidWZmW2RhdGVdLnNvcnQoXG5cdFx0XHRcdChhLCBiKSA9PlxuXHRcdFx0XHRcdGIuZmlsZS5mcm9udG1hdHRlci5jcmVhdGVkQXQuZ2V0VGltZSgpIC1cblx0XHRcdFx0XHRhLmZpbGUuZnJvbnRtYXR0ZXIuY3JlYXRlZEF0LmdldFRpbWUoKSxcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Zm9yIChjb25zdCBkYXRlIG9mIGtleXMucmV2ZXJzZSgpKSB7XG5cdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAzLCBkYXRlXSk7XG5cdFx0XHRycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLnByb2plY3RMb2dzLCBidWZmW2RhdGVdXSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJzO1xuXHR9XG5cblx0Z2V0UHJvamVjdExvZ3MoZHYsIHByb2plY3QpIHtcblx0XHRjb25zdCBsb2dzID0gdGhpcy5kdi5wYWdlcyhgXCIke1BhdGhzLkxvZ3N9XCJgKS53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0aWYgKHBhZ2UudHlwZSAhPT0gVHlwZXMuTG9nKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0pO1xuXG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGZvciAoY29uc3QgZSBvZiBsb2dzKSB7XG5cdFx0XHRjb25zdCBmbSA9IGUuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdEFzc2VydC5UcnVlKFxuXHRcdFx0XHQhSGVscGVyLm5pbENoZWNrKGZtLnBhcmVudF9pZCksXG5cdFx0XHRcdGBNaXNzaW5nIGZpZWxkIFwicGFyZW50X2lkXCIgZnJvbSBsb2c6IFwiJHtmbS51dWlkfVwiYCxcblx0XHRcdCk7XG5cdFx0XHRjb25zdCBwYXJlbnQgPSB0aGlzLmR2XG5cdFx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfS8ke2ZtLnBhcmVudF9pZH1cImApXG5cdFx0XHRcdC5hcnJheSgpO1xuXHRcdFx0aWYgKHBhcmVudC5sZW5ndGggIT09IDEpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHQvLyBBc3NlcnQuVHJ1ZShcblx0XHRcdC8vIFx0cGFyZW50Lmxlbmd0aCA9PT0gMSxcblx0XHRcdC8vIFx0YFBhcmVudDogJHtmbS5wYXJlbnRfaWR9IG5vdCBmb3VuZCBmb3IgbG9nOiBcIiR7Zm0udXVpZH1cImAsXG5cdFx0XHQvLyApO1xuXHRcdFx0Zm0ucHJvamVjdCA9IEhlbHBlci5nZXRQcm9qZWN0KHBhcmVudFswXS5maWxlLmZyb250bWF0dGVyKTtcblx0XHRcdGZtLmFyZWEgPSBIZWxwZXIuZ2V0QXJlYShwYXJlbnRbMF0uZmlsZS5mcm9udG1hdHRlciwgdHJ1ZSk7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdGZtLnByb2plY3QgIT09XG5cdFx0XHRcdGBwcm9qZWN0LyR7cHJvamVjdC5uYW1lID09PSBcImFkaG9jXCIgPyBcIm5vbmVcIiA6IHByb2plY3QubmFtZX1gXG5cdFx0XHQpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChIZWxwZXIubmlsQ2hlY2soZm0uZG9uZV9hdCkpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRidWZmLnB1c2goZSk7XG5cdFx0fVxuXHRcdHJldHVybiBidWZmO1xuXHR9XG5cblx0cHJvamVjdExvZ3NTaGVldChkdikge1xuXHRcdGNvbnN0IHByb2plY3QgPSB0aGlzLmZyb250bWF0dGVyLnByb2plY3RQYXJzZU1ldGEoZHYpO1xuXHRcdGNvbnN0IGZtbCA9IHRoaXMuZnJvbnRtYXR0ZXIuZ2V0Q3VycmVudEZyb250bWF0dGVyKCk7XG5cdFx0aWYgKGZtbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZnJvbnRtYXR0ZXIsIGNhbm5vdCBwcm9jZWVkYCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgYmVmb3JlID0gSGVscGVyLm5pbENoZWNrKGZtbC5iZWZvcmUpXG5cdFx0XHQ/IG5ldyBEYXRlKDApXG5cdFx0XHQ6IG5ldyBEYXRlKGZtbC5iZWZvcmUpO1xuXHRcdGNvbnN0IGFmdGVyID0gSGVscGVyLm5pbENoZWNrKGZtbC5hZnRlcilcblx0XHRcdD8gbmV3IERhdGUoKVxuXHRcdFx0OiBuZXcgRGF0ZShmbWwuYWZ0ZXIpO1xuXG5cdFx0Ly8gY29uc29sZS5sb2coYGJlZm9yZTogJyR7YmVmb3JlfSdgKTtcblx0XHQvLyBjb25zb2xlLmxvZyhgYWZ0ZXI6ICcke2FmdGVyfSdgKTtcblx0XHRjb25zdCBmaWx0ZXJCeSA9IHRoaXMuZnJvbnRtYXR0ZXIucGFyc2VMaXN0RmlsdGVyQnkoZm1sKTtcblx0XHRjb25zdCBycyA9IFtdO1xuXHRcdGxldCB0b3RhbFRpbWUgPSAwO1xuXHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDEsIHByb2plY3QubmFtZV0pO1xuXG5cdFx0Y29uc3QgbG9ncyA9IHRoaXMuZHYucGFnZXMoYFwiJHtQYXRocy5Mb2dzfVwiYCkud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdGlmIChwYWdlLnR5cGUgIT09IFR5cGVzLkxvZykge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9KTtcblxuXHRcdGNvbnN0IGJ1ZmYgPSB7fTtcblx0XHRmb3IgKGNvbnN0IGUgb2YgbG9ncykge1xuXHRcdFx0Y29uc3QgZm0gPSBlLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRpZiAoZmlsdGVyQnkubGVuZ3RoID4gMCAmJiAhdGhpcy5uYW1lSW5OYW1lc3BhY2UoZm0sIGZpbHRlckJ5KSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Zm0uY3JlYXRlZEF0ID0gdGhpcy5mcm9udG1hdHRlci5nZXRDcmVhdGVkQXQoZS5maWxlKTtcblx0XHRcdEFzc2VydC5UcnVlKFxuXHRcdFx0XHQhSGVscGVyLm5pbENoZWNrKGZtLnBhcmVudF9pZCksXG5cdFx0XHRcdGBNaXNzaW5nIGZpZWxkIFwicGFyZW50X2lkXCIgZnJvbSBsb2c6IFwiJHtmbS51dWlkfVwiYCxcblx0XHRcdCk7XG5cdFx0XHRjb25zdCBwYXJlbnQgPSB0aGlzLmR2XG5cdFx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfS8ke2ZtLnBhcmVudF9pZH1cImApXG5cdFx0XHRcdC5hcnJheSgpO1xuXHRcdFx0aWYgKHBhcmVudC5sZW5ndGggIT09IDEpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHQvLyBBc3NlcnQuVHJ1ZShcblx0XHRcdC8vIFx0cGFyZW50Lmxlbmd0aCA9PT0gMSxcblx0XHRcdC8vIFx0YFBhcmVudDogJHtmbS5wYXJlbnRfaWR9IG5vdCBmb3VuZCBmb3IgbG9nOiBcIiR7Zm0udXVpZH1cImAsXG5cdFx0XHQvLyApO1xuXHRcdFx0Zm0ucHJvamVjdCA9IEhlbHBlci5nZXRQcm9qZWN0KHBhcmVudFswXS5maWxlLmZyb250bWF0dGVyKTtcblx0XHRcdGZtLmFyZWEgPSBIZWxwZXIuZ2V0QXJlYShwYXJlbnRbMF0uZmlsZS5mcm9udG1hdHRlciwgdHJ1ZSk7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdGZtLnByb2plY3QgIT09XG5cdFx0XHRcdGBwcm9qZWN0LyR7cHJvamVjdC5uYW1lID09PSBcImFkaG9jXCIgPyBcIm5vbmVcIiA6IHByb2plY3QubmFtZX1gXG5cdFx0XHQpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChIZWxwZXIubmlsQ2hlY2soZm0uZG9uZV9hdCkpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGRhdGUgPSBmbS5kb25lX2F0LnNsaWNlKDAsIDEwKTtcblx0XHRcdGNvbnN0IGNyZWF0ZWRBdCA9IG5ldyBEYXRlKGZtLmNyZWF0ZWRfYXQpO1xuXHRcdFx0Y29uc3QgZG9uZUF0ID0gbmV3IERhdGUoZm0uZG9uZV9hdCk7XG5cblx0XHRcdGlmIChjcmVhdGVkQXQgPiBiZWZvcmUpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjcmVhdGVkQXQgPCBhZnRlcikge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGJ1ZmZbZGF0ZV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRidWZmW2RhdGVdID0gW2VdO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YnVmZltkYXRlXS5wdXNoKGUpO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBkZWx0YSA9IGRvbmVBdC5nZXRUaW1lKCkgLSBjcmVhdGVkQXQuZ2V0VGltZSgpO1xuXG5cdFx0XHR0b3RhbFRpbWUgKz0gZGVsdGE7XG5cdFx0fVxuXG5cdFx0ZHYucGFyYWdyYXBoKFxuXHRcdFx0YF90b3RhbFRpbWUgKGgpOl8gJHtNYXRoLnJvdW5kKCh0b3RhbFRpbWUgLyAoMTAwMCAqIDYwICogNjApKSAqIDEwKSAvIDEwfWAsXG5cdFx0KTtcblxuXHRcdGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhidWZmKTtcblx0XHRrZXlzLnNvcnQoKTtcblx0XHRmb3IgKGNvbnN0IGRhdGUgb2Yga2V5cykge1xuXHRcdFx0YnVmZltkYXRlXS5zb3J0KFxuXHRcdFx0XHQoYSwgYikgPT5cblx0XHRcdFx0XHRiLmZpbGUuZnJvbnRtYXR0ZXIuY3JlYXRlZEF0LmdldFRpbWUoKSAtXG5cdFx0XHRcdFx0YS5maWxlLmZyb250bWF0dGVyLmNyZWF0ZWRBdC5nZXRUaW1lKCksXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGZvciAoY29uc3QgZGF0ZSBvZiBrZXlzLnJldmVyc2UoKSkge1xuXHRcdFx0cnMucHVzaChbXCJoZWFkZXJcIiwgMywgZGF0ZV0pO1xuXHRcdFx0cnMucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci5wcm9qZWN0TG9ncywgYnVmZltkYXRlXV0pO1xuXHRcdH1cblxuXHRcdHJldHVybiBycztcblx0fVxuXG5cdGxvZ3MoKSB7XG5cdFx0Y29uc3QgW2dyb3VwQnksIGZpbHRlckJ5LCBiZWZvcmUsIGFmdGVyXSA9XG5cdFx0XHR0aGlzLmZyb250bWF0dGVyLnBhcnNlQWxsUHJvZ3Jlc3NlZFRhc2tzKCk7XG5cblx0XHRjb25zdCB0YXNrcyA9IHRoaXMuZHZcblx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfVwiYClcblx0XHRcdC53aGVyZSgocGFnZSkgPT4gcGFnZS5maWxlLmZyb250bWF0dGVyLnN0YXR1cyAhPT0gXCJkb2luZ1wiKTtcblxuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRmb3IgKGNvbnN0IHRhc2sgb2YgdGFza3MpIHtcblx0XHRcdGNvbnN0IGZtID0gdGFzay5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0aWYgKGZpbHRlckJ5Lmxlbmd0aCA+IDAgJiYgIXRoaXMubmFtZUluTmFtZXNwYWNlKGZtLCBmaWx0ZXJCeSkpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHRpbWVFc3RpbWF0ZSA9IEhlbHBlci5kdXJhdGlvblN0cmluZ1RvU2VjKGZtLnRpbWVfZXN0aW1hdGUpO1xuXHRcdFx0aWYgKHRpbWVFc3RpbWF0ZSA9PT0gdW5kZWZpbmVkICYmIGZtLnRpbWVfZXN0aW1hdGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0YEludmFsaWQgdmFsdWU6IFwiJHtmbS50aW1lX2VzdGltYXRlfVwiIGZvciBlbnRyeTogXCIke2ZtLnV1aWR9XCJgLFxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm0udGltZUVzdGltYXRlID0gdGltZUVzdGltYXRlO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBsb2dzID0gdGhpcy5kdlxuXHRcdFx0XHQucGFnZXMoYFwiJHtQYXRocy5Mb2dzfS8ke2ZtLnV1aWR9XCJgKVxuXHRcdFx0XHQud2hlcmUoKHBhZ2UpID0+IHBhZ2UudHlwZSA9PT0gVHlwZXMuTG9nKVxuXHRcdFx0XHQuc29ydCgoaykgPT4gay5jcmVhdGVkX2F0LCBcImFzY1wiKTtcblxuXHRcdFx0Ly8gZGlzY2FyZCB0YXNrcyB3aXRob3V0IGxvZyBlbnRyeVxuXHRcdFx0aWYgKGxvZ3MubGVuZ3RoIDwgMSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Zm0udG9vayA9IDA7XG5cdFx0XHRjb25zdCBwcm9qZWN0ID0gSGVscGVyLmdldEZpZWxkKEhlbHBlci5nZXRQcm9qZWN0KGZtLCB0cnVlKSwgXCJcIik7XG5cdFx0XHRjb25zdCBhcmVhID0gSGVscGVyLmdldEZpZWxkKEhlbHBlci5nZXRBcmVhKGZtLCB0cnVlKSwgXCJcIik7XG5cblx0XHRcdGZvciAoY29uc3QgbG9nIG9mIGxvZ3MpIHtcblx0XHRcdFx0Y29uc3QgZm1sID0gbG9nLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRcdGNvbnN0IGVudHJ5ID0ge1xuXHRcdFx0XHRcdGFsaWFzOiBmbS5hbGlhcyxcblx0XHRcdFx0XHR1dWlkOiBmbS51dWlkLFxuXHRcdFx0XHRcdGxvZ0lkOiBmbWwudXVpZCxcblx0XHRcdFx0XHRlc3RpbWF0ZTogZm0udGltZUVzdGltYXRlLFxuXHRcdFx0XHRcdHByb2plY3Q6IHByb2plY3QsXG5cdFx0XHRcdFx0YXJlYTogYXJlYSxcblx0XHRcdFx0XHRkb21haW46IEhlbHBlci5nZXRGaWVsZChIZWxwZXIuZ2V0RG9tYWluKGZtLCB0cnVlKSwgXCJcIiksXG5cdFx0XHRcdFx0cGF0aDogdGFzay5maWxlLnBhdGgsXG5cdFx0XHRcdFx0bG9nUGF0aDogbG9nLmZpbGUucGF0aCxcblx0XHRcdFx0XHRjcmVhdGVkQXQ6IHVuZGVmaW5lZCxcblx0XHRcdFx0XHRkb25lQXQ6IHVuZGVmaW5lZCxcblx0XHRcdFx0XHR0b29rOiB1bmRlZmluZWQsXG5cdFx0XHRcdFx0dG9va0FjYzogdW5kZWZpbmVkLFxuXHRcdFx0XHRcdGRlbHRhQWNjOiB1bmRlZmluZWQsXG5cdFx0XHRcdH07XG5cdFx0XHRcdGlmIChmbWwuY3JlYXRlZF9hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvcihsb2cpO1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHRcdGB0YXNrOiAke2ZtLnV1aWR9IGxhc3QgZW50cnkgaXMgbWlzc2luZyAnY3JlYXRlZF9hdCcgZmllbGRgLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZm1sLmRvbmVfYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IobG9nKTtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0XHRgdGFzazogJHtmbS51dWlkfSBsYXN0IGVudHJ5IGlzIG1pc3NpbmcgJ2RvbmVfYXQnIGZpZWxkYCxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZW50cnkuY3JlYXRlZEF0ID0gbmV3IERhdGUoZm1sLmNyZWF0ZWRfYXQpO1xuXHRcdFx0XHRlbnRyeS5kb25lQXQgPSBuZXcgRGF0ZShmbWwuZG9uZV9hdCk7XG5cdFx0XHRcdGlmICghdGhpcy5maWx0ZXJCeURhdGUoZW50cnkuZG9uZUF0LCBiZWZvcmUsIGFmdGVyKSkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3QgdG9vayA9XG5cdFx0XHRcdFx0KGVudHJ5LmRvbmVBdC5nZXRUaW1lKCkgLSBlbnRyeS5jcmVhdGVkQXQuZ2V0VGltZSgpKSAvIDEwMDA7XG5cdFx0XHRcdGZtLnRvb2sgKz0gdG9vaztcblx0XHRcdFx0ZW50cnkudG9vayA9IHRvb2s7XG5cdFx0XHRcdGVudHJ5LnRvb2tBY2MgPSBmbS50b29rO1xuXHRcdFx0XHRlbnRyeS5kZWx0YUFjYyA9IHRpbWVFc3RpbWF0ZSAtIGZtLnRvb2s7XG5cdFx0XHRcdGJ1ZmYucHVzaChlbnRyeSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3Qga2V5R2V0dGVyID0gSGVscGVyLmdldEtleShncm91cEJ5KTtcblx0XHRjb25zdCBiaW5zID0ge307XG5cdFx0Zm9yIChjb25zdCBlbnRyeSBvZiBidWZmKSB7XG5cdFx0XHRsZXQgZCA9IHVuZGVmaW5lZDtcblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0ZCA9IGtleUdldHRlcihlbnRyeSk7XG5cdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGVudHJ5KTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGJpbnNbZF0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRiaW5zW2RdID0gW2VudHJ5XTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJpbnNbZF0ucHVzaChlbnRyeSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGJpbnMpO1xuXHRcdGtleXMuc29ydCgpO1xuXG5cdFx0Ly8gYnVpbGRzIHJlbmRlcmluZyBhcnJheVxuXHRcdGNvbnN0IHJzID0gW107XG5cdFx0Zm9yIChjb25zdCBrZXkgb2Yga2V5cy5yZXZlcnNlKCkpIHtcblx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIGtleV0pO1xuXHRcdFx0Y29uc3QgYXJyID0gW107XG5cdFx0XHRsZXQgdG90YWxUaW1lID0gMDtcblxuXHRcdFx0Ly8gZGF5IGxvb3Bcblx0XHRcdGZvciAoY29uc3QgZSBvZiBiaW5zW2tleV0pIHtcblx0XHRcdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdFx0XHRidWZmLnB1c2goXG5cdFx0XHRcdFx0UmVuZGVyZXIubWFrZUxpbmtTaG9ydFVVSUQoXG5cdFx0XHRcdFx0XHR0aGlzLmR2LFxuXHRcdFx0XHRcdFx0eyBwYXRoOiBlLnBhdGgsIGZyb250bWF0dGVyOiB7IHV1aWQ6IGUudXVpZCB9IH0sXG5cdFx0XHRcdFx0XHRcIlRhc2tcIixcblx0XHRcdFx0XHQpLFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdC8vIGJ1ZmYucHVzaChcblx0XHRcdFx0Ly8gXHR0aGlzLmR2LnNlY3Rpb25MaW5rKFxuXHRcdFx0XHQvLyBcdFx0ZS5wYXRoLFxuXHRcdFx0XHQvLyBcdFx0XCJUYXNrXCIsXG5cdFx0XHRcdC8vIFx0XHRmYWxzZSxcblx0XHRcdFx0Ly8gXHRcdGAke2UudXVpZC5zbGljZSgwLCA4KX1gLFxuXHRcdFx0XHQvLyBcdCksXG5cdFx0XHRcdC8vICk7XG5cblx0XHRcdFx0YnVmZi5wdXNoKFxuXHRcdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rU2hvcnRVVUlEKFxuXHRcdFx0XHRcdFx0dGhpcy5kdixcblx0XHRcdFx0XHRcdHsgcGF0aDogZS5sb2dQYXRoLCBmcm9udG1hdHRlcjogeyB1dWlkOiBlLmxvZ0lkIH0gfSxcblx0XHRcdFx0XHRcdFwiQ29udGVudFwiLFxuXHRcdFx0XHRcdCksXG5cdFx0XHRcdCk7XG5cdFx0XHRcdC8vIGJ1ZmYucHVzaChcblx0XHRcdFx0Ly8gXHR0aGlzLmR2LnNlY3Rpb25MaW5rKFxuXHRcdFx0XHQvLyBcdFx0ZS5sb2dQYXRoLFxuXHRcdFx0XHQvLyBcdFx0XCJDb250ZW50XCIsXG5cdFx0XHRcdC8vIFx0XHRmYWxzZSxcblx0XHRcdFx0Ly8gXHRcdGAke2UubG9nSWQuc2xpY2UoMCwgOCl9YCxcblx0XHRcdFx0Ly8gXHQpLFxuXHRcdFx0XHQvLyApO1xuXG5cdFx0XHRcdC8vIGJ1ZmYucHVzaChgJHtlLmNyZWF0ZWRBdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDE2KX1gKTtcblx0XHRcdFx0Ly8gYnVmZi5wdXNoKGAke2UuZG9uZUF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTYpfWApO1xuXG5cdFx0XHRcdGNvbnN0IGNvbnZlcnRTZWNvbmRzVG9Ib3VycyA9ICh0KSA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIE1hdGgucm91bmQoKHQgLyAzNjAwKSAqIDEwKSAvIDEwO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHRidWZmLnB1c2goYCR7Y29udmVydFNlY29uZHNUb0hvdXJzKGUudG9vayl9YCk7XG5cdFx0XHRcdGJ1ZmYucHVzaChgJHtlLnByb2plY3R9YCk7XG5cblx0XHRcdFx0YXJyLnB1c2goYnVmZik7XG5cdFx0XHRcdHRvdGFsVGltZSArPSBlLnRvb2s7XG5cdFx0XHR9XG5cblx0XHRcdC8vIHRhc2tcblx0XHRcdHRvdGFsVGltZSA9IE1hdGgucm91bmQoKHRvdGFsVGltZSAvIDM2MDApICogMTApIC8gMTA7XG5cdFx0XHRycy5wdXNoKFtcInN0YXRzXCIsIFwidG90YWxUaW1lXCIsIFwiaFwiLCB0b3RhbFRpbWVdKTtcblx0XHRcdHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIuYmFzaWNQcm9ncmVzc2VkVGFza1dpdGhMb2csIGFycl0pO1xuXHRcdH1cblxuXHRcdHJldHVybiBycztcblx0fVxuXG5cdGluYm94KGR2KSB7XG5cdFx0Y29uc3QgcnMgPSBbXTtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Ly8gZm9uY3Rpb24gZCdleHRyYWN0aW9uIGV0IGQnaW5pdGlhbGlzYXRpb24gZGVzIHBhcmFtcnRyZXMgZHUgZnJvbnRtYXR0ZXJcblx0XHQvLyBmb25jdGlvbiBmaWx0ZXIsICh0YXNrKSAtPiBib29sXG5cblx0XHRjb25zdCBmaWx0ZXJCeSA9IFtdO1xuXHRcdGNvbnN0IG1pblNpemUgPSAwO1xuXHRcdGNvbnN0IG1heFNpemUgPSA0Mjk0OTY3Mjk1O1xuXG5cdFx0Y29uc3QgZmxlZXRpbmdzID0gdGhpcy5kdi5wYWdlcyhgXCIke1BhdGhzLkluYm94fVwiYCkuYXJyYXkoKTtcblx0XHRmb3IgKGNvbnN0IGUgb2YgZmxlZXRpbmdzKSB7XG5cdFx0XHRjb25zdCBmbSA9IGUuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGUuZmlsZS5mcm9udG1hdHRlci5jcmVhdGVkQXQgPSB0aGlzLmZyb250bWF0dGVyLmdldENyZWF0ZWRBdChcblx0XHRcdFx0ZS5maWxlLFxuXHRcdFx0KTtcblx0XHRcdGxldCBmbWpzID0gbnVsbDtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGZtanMgPSBuZXcgRnJvbnRtYXR0ZXJKUyhlKTtcblx0XHRcdH0gY2F0Y2ggKFZhbGlkYXRpb25FcnJvcikge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhlKTtcblx0XHRcdFx0ZHYucGFyYWdyYXBoKFJlbmRlcmVyLm1ha2VMaW5rKGR2LCBlLmZpbGUpKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cblx0XHRcdGZtLnByb2plY3QgPSBIZWxwZXIuZ2V0UHJvamVjdChmbSwgdHJ1ZSk7XG5cdFx0XHRmbS5kb21haW4gPSBgZG9tYWluLyR7Zm1qcy5nZXREb21haW4oKX1gO1xuXHRcdFx0Zm0uY29tcG9uZW50cyA9IEhlbHBlci5nZXRDb21wb25lbnRzKGZtKTtcblxuXHRcdFx0aWYgKGUuZmlsZS5zaXplIDwgbWluU2l6ZSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGlmIChlLmZpbGUuc2l6ZSA+IG1heFNpemUpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGJ1ZmYucHVzaChlKTtcblx0XHR9XG5cblx0XHRjb25zdCBsb2dzID0gW107XG5cblx0XHRmb3IgKGNvbnN0IGUgb2YgbG9ncykge1xuXHRcdFx0Y29uc3QgZm0gPSBlLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRmbS5jcmVhdGVkQXQgPSB0aGlzLmZyb250bWF0dGVyLmdldENyZWF0ZWRBdChlLmZpbGUpO1xuXHRcdFx0QXNzZXJ0LlRydWUoXG5cdFx0XHRcdCFIZWxwZXIubmlsQ2hlY2soZm0ucGFyZW50X2lkKSxcblx0XHRcdFx0YE1pc3NpbmcgZmllbGQgXCJwYXJlbnRfaWRcIiBmcm9tIGxvZzogXCIke2ZtLnV1aWR9XCJgLFxuXHRcdFx0KTtcblx0XHRcdGNvbnN0IHBhcmVudCA9IHRoaXMuZHZcblx0XHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9LyR7Zm0ucGFyZW50X2lkfVwiYClcblx0XHRcdFx0LmFycmF5KCk7XG5cdFx0XHRBc3NlcnQuVHJ1ZShcblx0XHRcdFx0cGFyZW50Lmxlbmd0aCA9PT0gMSxcblx0XHRcdFx0YFBhcmVudDogJHtmbS5wYXJlbnRfaWR9IG5vdCBmb3VuZCBmb3IgbG9nOiBcIiR7Zm0udXVpZH1cImAsXG5cdFx0XHQpO1xuXHRcdFx0Zm0ucHJvamVjdCA9IEhlbHBlci5nZXRQcm9qZWN0KHBhcmVudFswXS5maWxlLmZyb250bWF0dGVyLCB0cnVlKTtcblx0XHRcdGZtLmRvbWFpbiA9IHVuZGVmaW5lZDtcblx0XHRcdGZtLmNvbXBvbmVudHMgPSBbXTtcblxuXHRcdFx0aWYgKGUuZmlsZS5zaXplIDwgbWluU2l6ZSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGlmIChlLmZpbGUuc2l6ZSA+IG1heFNpemUpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGJ1ZmYucHVzaChlKTtcblx0XHR9XG5cblx0XHRjb25zdCBzb3J0QnlTaXplVGhlbkRhdGUgPSBmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHRjb25zdCBmQSA9IGEuZmlsZTtcblx0XHRcdGNvbnN0IGZCID0gYi5maWxlO1xuXHRcdFx0aWYgKGZBLnNpemUgIT09IGZCLnNpemUpIHtcblx0XHRcdFx0cmV0dXJuIGZCLnNpemUgLSBmQS5zaXplO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHRmQS5mcm9udG1hdHRlci5jcmVhdGVkQXQuZ2V0VGltZSgpIC1cblx0XHRcdFx0XHRmQi5mcm9udG1hdHRlci5jcmVhdGVkQXQuZ2V0VGltZSgpXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdGNvbnN0IHNvcnRCeUFnZSA9IChhLCBiKSA9PlxuXHRcdFx0YS5maWxlLmZyb250bWF0dGVyLmNyZWF0ZWRBdC5nZXRUaW1lKCkgLVxuXHRcdFx0Yi5maWxlLmZyb250bWF0dGVyLmNyZWF0ZWRBdC5nZXRUaW1lKCk7XG5cblx0XHRidWZmLnNvcnQoc29ydEJ5QWdlKTtcblx0XHRycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLmluYm94RW50cnksIGJ1ZmZdKTtcblxuXHRcdHJldHVybiBycztcblx0fVxuXG5cdHByb2plY3RzKCkge1xuXHRcdGNvbnN0IHJzID0gW107XG5cdFx0Y29uc3QgYmlucyA9IHtcblx0XHRcdGFjdGl2ZTogW10sXG5cdFx0XHRpbmFjdGl2ZTogW10sXG5cdFx0fTtcblxuXHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdi5wYWdlcyhgXCJQcm9qZWN0c1wiYCkuc29ydCgoaykgPT4gay5uYW1lLCBcImFzY1wiKTtcblx0XHRmb3IgKGNvbnN0IHByb2plY3Qgb2YgcGFnZXMpIHtcblx0XHRcdGNvbnN0IGZtUHJvamVjdCA9IG5ldyBGcm9udG1hdHRlckpTKHByb2plY3QpO1xuXHRcdFx0aWYgKGZtUHJvamVjdC5mbS5hY3RpdmUgPT09IGZhbHNlKSB7XG5cdFx0XHRcdGJpbnMuaW5hY3RpdmUucHVzaChwcm9qZWN0KTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKGZtUHJvamVjdC5nZXROYW1lKCkgPT09IFwiYWRob2NcIikge1xuXHRcdFx0XHRiaW5zLmFjdGl2ZS5wdXNoKHByb2plY3QpO1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAoXG5cdFx0XHRcdFtcInllYXJseVwiLCBcIm1vbnRobHlcIiwgXCJ3ZWVrbHlcIiwgXCJkYWlseVwiXS5jb250YWlucyhcblx0XHRcdFx0XHRmbVByb2plY3QuZ2V0TmFtZSgpLFxuXHRcdFx0XHQpXG5cdFx0XHQpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHRhc2tzID0gdGhpcy5kdlxuXHRcdFx0XHQucGFnZXMoYCNwcm9qZWN0LyR7Zm1Qcm9qZWN0LmdldE5hbWUoKX1gKVxuXHRcdFx0XHQud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdFx0XHRpZiAocGFnZS5maWxlLmZvbGRlciAhPT0gYCR7UGF0aHMuVGFza3N9YCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnN0IGZtVGFzayA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRcdGlmIChmbVRhc2suZm0ucHJpb3JpdHkgPT09IDApIHtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0XHRbXCJ0b2RvXCIsIFwiZG9pbmdcIiwgXCJ3YWl0aW5nXCJdLmNvbnRhaW5zKGZtVGFzay5mbS5zdGF0dXMpXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRpZiAodGFza3MubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRiaW5zLmFjdGl2ZS5wdXNoKHByb2plY3QpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ymlucy5pbmFjdGl2ZS5wdXNoKHByb2plY3QpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIFwiQWN0aXZlXCJdKTtcblx0XHRycy5wdXNoKFtcImFycmF5XCIsIFJlbmRlcmVyLnByb2plY3RzLCBiaW5zLmFjdGl2ZV0pO1xuXHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIFwiSW5hY3RpdmVcIl0pO1xuXHRcdHJzLnB1c2goW1wiYXJyYXlcIiwgUmVuZGVyZXIucHJvamVjdHMsIGJpbnMuaW5hY3RpdmVdKTtcblxuXHRcdHJldHVybiBycztcblx0fVxuXG5cdHByYXhpcygpIHtcblx0XHRjb25zdCBwYWdlcyA9IHRoaXMuZHZcblx0XHRcdC5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfVwiYClcblx0XHRcdC53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0XHRpZiAocGFnZS5maWxlLmZyb250bWF0dGVyLnR5cGUgIT09IFR5cGVzLlByYXhpcykge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChwYWdlLmZpbGUuZnJvbnRtYXR0ZXIuc3RhdHVzICE9PSBTdGF0dXMuVG9kbykge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fSlcblx0XHRcdC5hcnJheSgpO1xuXG5cdFx0Y29uc3QgcnMgPSBbXTtcblx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAxLCBcIlByYXhpc1wiXSk7XG5cdFx0cnMucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci5iYXNpY1Rhc2ssIHBhZ2VzXSk7XG5cblx0XHRyZXR1cm4gcnM7XG5cdH1cblxuXHRwbGFubmluZyhsYXN0V2VlayA9IDIpIHtcblx0XHRjb25zdCBycyA9IFtdO1xuXHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdlxuXHRcdFx0LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9XCJgKVxuXHRcdFx0LndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRcdGlmIChmbS5hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGZtLmdldFByb2plY3QoKSAhPT0gXCJkYWlseVwiKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9KVxuXHRcdFx0LnNvcnQoKHBhZ2UpID0+IHBhZ2UuZmlsZS5mcm9udG1hdHRlci5hdCwgXCJkZXNjXCIpO1xuXG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKTtcblx0XHQvLyBjb25zdCBub3cgPSBuZXcgRGF0ZShcIjIwMjQtMTItMzFcIik7XG5cdFx0Y29uc3QgYmlucyA9IHt9O1xuXHRcdGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuXHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdGxldCBhdCA9IHVuZGVmaW5lZDtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGF0ID0gZm0uYXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG5cdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGRhdGU6ICcke2ZtLmZtLnV1aWR9J2ApO1xuXHRcdFx0fVxuXG5cblx0XHRcdGNvbnN0IHdlZWtOdW1iZXIgPSB0aGlzLmdldFdlZWtOdW1iZXI1KGZtLmF0KTtcblx0XHRcdGlmIChmbS5hdC5nZXRGdWxsWWVhcigpIDwgbm93LmdldEZ1bGxZZWFyKCkpIHtcblx0XHRcdFx0aWYgKHdlZWtOdW1iZXIgPiAxKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdC8vIGNvbnN0IHdlZWtOdW1iZXIgPSB0aGlzLmdldFdlZWtOdW1iZXIoZm0uYXQpO1xuXHRcdFx0aWYgKGJpbnNbd2Vla051bWJlcl0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRiaW5zW3dlZWtOdW1iZXJdID0gW2ZtXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJpbnNbd2Vla051bWJlcl0ucHVzaChmbSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3QgY3VycmVudFdlZWtOdW1iZXIgPSB0aGlzLmdldFdlZWtOdW1iZXI1KG5vdyk7XG5cdFx0Ly8gY29uc3QgY3VycmVudFdlZWtOdW1iZXIgPSB0aGlzLmdldFdlZWtOdW1iZXIobm93KTtcblx0XHRmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhiaW5zKSkge1xuXHRcdFx0Y29uc3Qgd2Vla051bWJlciA9IE51bWJlcihrZXkpO1xuXHRcdFx0aWYgKHdlZWtOdW1iZXIgKyBsYXN0V2VlayA8IGN1cnJlbnRXZWVrTnVtYmVyKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHdlZWtOdW1iZXIgPCBjdXJyZW50V2Vla051bWJlcikge1xuXHRcdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBgfn53ZWVrICR7a2V5fX5+YF0pO1xuXHRcdFx0fSBlbHNlIGlmICh3ZWVrTnVtYmVyID09PSBjdXJyZW50V2Vla051bWJlcikge1xuXHRcdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCAyLCBgKndlZWsgJHtrZXl9KmBdKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIGB3ZWVrICR7a2V5fWBdKTtcblx0XHRcdH1cblxuXHRcdFx0Ymluc1trZXldLnNvcnQoKGEsIGIpID0+IHtcblx0XHRcdFx0cmV0dXJuIGEuYXQuZ2V0VGltZSgpIC0gYi5hdC5nZXRUaW1lKCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Zm9yIChjb25zdCB0YXNrIG9mIGJpbnNba2V5XSkge1xuXHRcdFx0XHRjb25zdCBkYXkgPSBbXCJTdW5cIiwgXCJNb25cIiwgXCJUdWVcIiwgXCJXZWRcIiwgXCJUaHVcIiwgXCJGcmlcIiwgXCJTYXRcIl1bXG5cdFx0XHRcdFx0dGFzay5hdC5nZXREYXkoKVxuXHRcdFx0XHRdO1xuXHRcdFx0XHRjb25zdCB0ZXh0ID0gUmVuZGVyZXIubWFrZUxpbmsoXG5cdFx0XHRcdFx0dGhpcy5kdixcblx0XHRcdFx0XHR0YXNrLmYsXG5cdFx0XHRcdFx0YCR7dGFzay5hdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKX0sICR7ZGF5fWAsXG5cdFx0XHRcdFx0XCJUYXNrXCIsXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKHdlZWtOdW1iZXIgPCBjdXJyZW50V2Vla051bWJlcikge1xuXHRcdFx0XHRcdHJzLnB1c2goW1wicGFyYWdyYXBoXCIsIGB+fiR7dGV4dH1+fmBdKTtcblx0XHRcdFx0fSBlbHNlIGlmICh3ZWVrTnVtYmVyID09PSBjdXJyZW50V2Vla051bWJlcikge1xuXHRcdFx0XHRcdGlmICh0aGlzLmRheU9mWWVhcih0YXNrLmF0KSA8IHRoaXMuZGF5T2ZZZWFyKG5vdykpIHtcblx0XHRcdFx0XHRcdHJzLnB1c2goW1wicGFyYWdyYXBoXCIsIGB+fiR7dGV4dH1+fmBdKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cnMucHVzaChbXCJwYXJhZ3JhcGhcIiwgYCR7dGV4dH1gXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJzLnB1c2goW1wicGFyYWdyYXBoXCIsIGAke3RleHR9YF0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJzO1xuXHR9XG5cblx0ZGF5T2ZZZWFyKGR0KTogbnVtYmVyIHtcblx0XHRjb25zdCB5ZWFyID0gZHQuZ2V0RnVsbFllYXIoKTtcblx0XHRjb25zdCBtb250aCA9IGR0LmdldE1vbnRoKCkgKyAxO1xuXHRcdGNvbnN0IGRheSA9IGR0LmdldERhdGUoKTtcblxuXHRcdGNvbnN0IE4xID0gTWF0aC5mbG9vcigoMjc1ICogbW9udGgpIC8gOSk7XG5cdFx0Y29uc3QgTjIgPSBNYXRoLmZsb29yKChtb250aCArIDkpIC8gMTIpO1xuXHRcdGNvbnN0IE4zID0gMSArIE1hdGguZmxvb3IoKHllYXIgLSA0ICogTWF0aC5mbG9vcih5ZWFyIC8gNCkgKyAyKSAvIDMpO1xuXHRcdHJldHVybiBOMSAtIE4yICogTjMgKyBkYXkgLSAzMDtcblx0fVxuXG5cdGdldFdlZWtOdW1iZXIoZCkge1xuXHRcdC8vIENvcHkgZGF0ZSBzbyBkb24ndCBtb2RpZnkgb3JpZ2luYWxcblx0XHRkID0gbmV3IERhdGUoRGF0ZS5VVEMoZC5nZXRGdWxsWWVhcigpLCBkLmdldE1vbnRoKCksIGQuZ2V0RGF0ZSgpKSk7XG5cdFx0Ly8gU2V0IHRvIG5lYXJlc3QgVGh1cnNkYXk6IGN1cnJlbnQgZGF0ZSArIDQgLSBjdXJyZW50IGRheSBudW1iZXJcblx0XHQvLyBNYWtlIFN1bmRheSdzIGRheSBudW1iZXIgN1xuXHRcdGQuc2V0VVRDRGF0ZShkLmdldFVUQ0RhdGUoKSArIDQgLSAoZC5nZXRVVENEYXkoKSB8fCA3KSk7XG5cdFx0Ly8gR2V0IGZpcnN0IGRheSBvZiB5ZWFyXG5cdFx0Y29uc3QgeWVhclN0YXJ0OiBhbnkgPSBuZXcgRGF0ZShEYXRlLlVUQyhkLmdldFVUQ0Z1bGxZZWFyKCksIDAsIDEpKTtcblx0XHQvLyBDYWxjdWxhdGUgZnVsbCB3ZWVrcyB0byBuZWFyZXN0IFRodXJzZGF5XG5cdFx0cmV0dXJuIE1hdGguY2VpbCgoKGQgLSB5ZWFyU3RhcnQpIC8gODY0MDAwMDAgKyAxKSAvIDcpO1xuXHR9XG5cblx0Ly8gaHR0cHM6Ly9jb2RlcGVuLmlvL2xkaWprbWFuL3Blbi9MWWROSnZNXG5cdGdldFdlZWtOdW1iZXI1KGR0KSB7XG5cdFx0Y29uc3QgdGR0ID0gbmV3IERhdGUoZHQudmFsdWVPZigpKTtcblx0XHQvLyBjb25zdCBkYXluID0gKGR0LmdldERheSgpICsgNikgJSA3O1xuXHRcdGNvbnN0IGRheW4gPSBkdC5nZXREYXkoKTtcblx0XHR0ZHQuc2V0RGF0ZSh0ZHQuZ2V0RGF0ZSgpIC0gZGF5biArIDMpO1xuXHRcdGNvbnN0IGZpcnN0VGh1cnNkYXkgPSB0ZHQudmFsdWVPZigpO1xuXHRcdHRkdC5zZXRNb250aCgwLCAxKTtcblx0XHRpZiAodGR0LmdldERheSgpICE9PSA0KSB7XG5cdFx0XHR0ZHQuc2V0TW9udGgoMCwgMSArICgoNCAtIHRkdC5nZXREYXkoKSkgKyA3KSAlIDcpO1xuXHRcdH1cblx0XHRyZXR1cm4gMSArIE1hdGguY2VpbCgoZmlyc3RUaHVyc2RheSAtIHRkdCkgLyA2MDQ4MDAwMDApO1xuXHR9XG5cblx0Z2V0V2Vla051bWJlcjQoZCkge1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRkID0gbmV3IERhdGUoRGF0ZS5VVEMoZC5nZXRGdWxsWWVhcigpLCBkLmdldE1vbnRoKCksIGQuZ2V0RGF0ZSgpKSk7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGNvbnN0IHllYXJTdGFydCA9IG5ldyBEYXRlKERhdGUuVVRDKGQuZ2V0VVRDRnVsbFllYXIoKSwgMCwgMSkpO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRjb25zdCBmaXJzdFN1bmRheSA9XG5cdFx0XHR5ZWFyU3RhcnQuZ2V0VVRDRGF5KCkgPT09IDBcblx0XHRcdFx0PyB5ZWFyU3RhcnRcblx0XHRcdFx0OiBuZXcgRGF0ZShcblx0XHRcdFx0XHREYXRlLlVUQyhcblx0XHRcdFx0XHRcdGQuZ2V0VVRDRnVsbFllYXIoKSxcblx0XHRcdFx0XHRcdDAsXG5cdFx0XHRcdFx0XHQxICsgKDcgLSB5ZWFyU3RhcnQuZ2V0VVRDRGF5KCkpLFxuXHRcdFx0XHRcdCksXG5cdFx0XHRcdCk7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGNvbnN0IGRheXNTaW5jZUZpcnN0U3VuZGF5ID0gKGQgLSBmaXJzdFN1bmRheSArIDg2NDAwMDAwKSAvIDg2NDAwMDAwO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRyZXR1cm4gTWF0aC5jZWlsKGRheXNTaW5jZUZpcnN0U3VuZGF5IC8gNyk7XG5cdH1cblxuXHRnZXRNb250aCh5ZWFyLCB3ZWVrTnVtYmVyKSB7XG5cdFx0Ly8gQ3JlYXRlIGEgZGF0ZSBvYmplY3QgZm9yIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHllYXJcblx0XHRjb25zdCBmaXJzdERheU9mWWVhciA9IG5ldyBEYXRlKHllYXIsIDAsIDEpO1xuXG5cdFx0Ly8gRGV0ZXJtaW5lIHRoZSBkYXkgb2YgdGhlIHdlZWsgZm9yIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHllYXJcblx0XHRjb25zdCBmaXJzdERheU9mV2VlayA9IGZpcnN0RGF5T2ZZZWFyLmdldERheSgpO1xuXG5cdFx0Ly8gQ2FsY3VsYXRlIHRoZSBudW1iZXIgb2YgZGF5cyB0byBhZGQgdG8gdGhlIGZpcnN0IGRheSBvZiB0aGUgeWVhclxuXHRcdC8vIHRvIGdldCB0byB0aGUgc3RhcnQgb2YgdGhlIHNwZWNpZmllZCB3ZWVrXG5cdFx0Ly8gV2Vla3Mgc3RhcnQgb24gTW9uZGF5OyBpZiB0aGUgZmlyc3QgZGF5IG9mIHRoZSB5ZWFyIGlzIGEgTW9uZGF5LFxuXHRcdC8vIG5vIGFkanVzdG1lbnQgaXMgbmVlZGVkLCBvdGhlcndpc2UgYWRqdXN0IHRvIHRoZSBuZXh0IE1vbmRheVxuXHRcdGNvbnN0IGRheXNUb0FkZCA9XG5cdFx0XHQod2Vla051bWJlciAtIDEpICogNyAtXG5cdFx0XHRmaXJzdERheU9mV2VlayArXG5cdFx0XHQoZmlyc3REYXlPZldlZWsgPT09IDAgPyAxIDogMCk7XG5cblx0XHQvLyBBZGp1c3QgdGhlIGRhdGUgdG8gdGhlIHN0YXJ0IG9mIHRoZSBzcGVjaWZpZWQgd2Vla1xuXHRcdGNvbnN0IHdlZWtTdGFydERhdGUgPSBuZXcgRGF0ZShcblx0XHRcdGZpcnN0RGF5T2ZZZWFyLnNldERhdGUoZmlyc3REYXlPZlllYXIuZ2V0RGF0ZSgpICsgZGF5c1RvQWRkKSxcblx0XHQpO1xuXG5cdFx0Ly8gQ2hlY2sgaWYgdGhlIHdlZWtTdGFydERhdGUgaXMgb24gdGhlIGxhc3QgZGF5IG9mIHRoZSBtb250aCxcblx0XHQvLyBpZiBzbywgbW92ZSB0byB0aGUgbmV4dCBtb250aCB0byByb3VuZCB1cCBmb3IgYSB3ZWVrIHRoYXQgc3BhbnMgYSBtb250aCB0cmFuc2l0aW9uXG5cdFx0aWYgKHdlZWtTdGFydERhdGUuZ2V0RGF0ZSgpID4gMjQpIHtcblx0XHRcdHdlZWtTdGFydERhdGUuc2V0RGF0ZSh3ZWVrU3RhcnREYXRlLmdldERhdGUoKSArIDcpO1xuXHRcdH1cblxuXHRcdC8vIEV4dHJhY3QgdGhlIG1vbnRoIG51bWJlciAoMC0xMSBmb3IgSmFuLURlYykgZnJvbSB0aGUgd2Vla1N0YXJ0RGF0ZVxuXHRcdGNvbnN0IG1vbnRoTnVtYmVyID0gd2Vla1N0YXJ0RGF0ZS5nZXRNb250aCgpO1xuXG5cdFx0cmV0dXJuIG1vbnRoTnVtYmVyICsgMTsgLy8gUmV0dXJuIG1vbnRoIG51bWJlciAoMS0xMilcblx0fVxuXG5cdGdldE1vbnRoTmFtZShtb250aE51bWJlcikge1xuXHRcdGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgyMDAwLCBtb250aE51bWJlciAtIDEpOyAvLyBZZWFyIDIwMDAgaXMgdXNlZCBhcmJpdHJhcmlseTsgYW55IG5vbi1sZWFwIHllYXIgd2lsbCBkb1xuXHRcdHJldHVybiBkYXRlLnRvTG9jYWxlU3RyaW5nKFwiZGVmYXVsdFwiLCB7IG1vbnRoOiBcImxvbmdcIiB9KTtcblx0fVxuXG5cdGVuZXJneShkdikge1xuXHRcdGNvbnN0IGN1cnJlbnQgPSBkdi5jdXJyZW50KCk7XG5cdFx0aWYgKGN1cnJlbnQuZW5lcmd5ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGN1cnJlbnQuZW5lcmd5ID0gMDtcblx0XHR9XG5cdFx0bGV0IGNvbXAgPSB1bmRlZmluZWQ7XG5cdFx0c3dpdGNoIChjdXJyZW50Lm9wKSB7XG5cdFx0XHRjYXNlIFwiPlwiOlxuXHRcdFx0XHRjb21wID0gKGEsIGIpID0+IGEgPiBiO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgXCI+PVwiOlxuXHRcdFx0XHRjb21wID0gKGEsIGIpID0+IGEgPj0gYjtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwiPFwiOlxuXHRcdFx0XHRjb21wID0gKGEsIGIpID0+IGEgPCBiO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgXCI8PVwiOlxuXHRcdFx0XHRjb21wID0gKGEsIGIpID0+IGEgPD0gYjtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRjb21wID0gKGEsIGIpID0+IGEgPT09IGI7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblxuXHRcdGNvbnN0IHJzID0gW107XG5cdFx0Y29uc3QgcGFnZXMgPSBkdi5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfVwiYCkud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRpZiAoZm0uZ2V0UHJvamVjdCgpID09PSBcImRhaWx5XCIpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZm0uZm0uc3RhdHVzICE9PSBcInRvZG9cIikge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBjb21wKGZtLmVuZXJneSwgY3VycmVudC5lbmVyZ3kpO1xuXHRcdH0pO1xuXG5cdFx0cnMucHVzaChbXG5cdFx0XHRcImFycmF5XCIsXG5cdFx0XHQoZHYsIGRhdGEpID0+IHtcblx0XHRcdFx0Zm9yIChjb25zdCBlbnRyeSBvZiBkYXRhKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coZW50cnkpO1xuXHRcdFx0XHRcdGR2LnBhcmFncmFwaChcblx0XHRcdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rQWxpYXMoZHYsIGVudHJ5LmZpbGUsIFwiIyMgVGFza1wiKSxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0cGFnZXMsXG5cdFx0XSk7XG5cblx0XHRyZXR1cm4gcnM7XG5cdH1cblxuXHRtYW5kYWxhKGR2KSB7XG5cdFx0bGV0IG1hbmRhbGFMbyA9IC0xO1xuXHRcdGxldCBtYW5kYWxhSGkgPSAtMTtcblx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuXHRcdHtcblx0XHRcdGNvbnN0IHdlZWtOdW1iZXIgPSB0aGlzLmdldFdlZWtOdW1iZXI0KG5vdyk7XG5cdFx0XHRtYW5kYWxhTG8gPSB3ZWVrTnVtYmVyIC0gNjtcblx0XHRcdG1hbmRhbGFIaSA9IHdlZWtOdW1iZXIgLSA1O1xuXHRcdFx0aWYgKG1hbmRhbGFMbyA8IDAgfHwgbWFuZGFsYUhpIDwgMCkge1xuXHRcdFx0XHRkdi5wYXJhZ3JhcGgoYHdlZWtOdW1iZXI6ICR7d2Vla051bWJlcn1gKTtcblx0XHRcdFx0ZHYucGFyYWdyYXBoKGBtYW5kYWxhTG86ICR7bWFuZGFsYUxvfWApO1xuXHRcdFx0XHRkdi5wYXJhZ3JhcGgoYG1hbmRhbGFIaTogJHttYW5kYWxhSGl9YCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGR2LnBhcmFncmFwaChgd2Vla051bWJlcjogJHt3ZWVrTnVtYmVyfWApO1xuXHRcdFx0ZHYucGFyYWdyYXBoKGBtYW5kYWxhTG86ICR7bWFuZGFsYUxvfWApO1xuXHRcdFx0ZHYucGFyYWdyYXBoKGBtYW5kYWxhSGk6ICR7bWFuZGFsYUhpfWApO1xuXHRcdH1cblxuXHRcdGNvbnN0IHJzID0gW107XG5cdFx0Y29uc3QgYmlucyA9IHt9O1xuXHRcdGNvbnN0IHN1aXZpV2Vla2x5ID0ge307XG5cdFx0Y29uc3Qgc3VpdmlNb250aGx5ID0ge307XG5cdFx0Y29uc3Qgc3VpdmlZZWFybHkgPSB7fTtcblx0XHRjb25zdCBwYWdlcyA9IHRoaXMuZHZcblx0XHRcdC5wYWdlcyhgXCJKb3VybmFsXCJgKVxuXHRcdFx0LndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRcdGNvbnN0IHdlZWtOdW1iZXIgPSB0aGlzLmdldFdlZWtOdW1iZXI0KGZtLmNyZWF0ZWRBdCk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKHdlZWtOdW1iZXIpO1xuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0d2Vla051bWJlciA+PSBtYW5kYWxhTG8gJiZcblx0XHRcdFx0XHR3ZWVrTnVtYmVyIDw9IG1hbmRhbGFIaSAmJlxuXHRcdFx0XHRcdGZtLmNyZWF0ZWRBdC5nZXRGdWxsWWVhcigpID09PSBub3cuZ2V0RnVsbFllYXIoKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0pXG5cdFx0XHQuc29ydCgocGFnZSkgPT4gcGFnZS5maWxlLmZyb250bWF0dGVyLmNyZWF0ZWRfYXQsIFwiZGVzY1wiKTtcblx0XHRjb25zb2xlLmxvZyhwYWdlcy5sZW5ndGgpO1xuXG5cdFx0Zm9yIChjb25zdCBwYWdlIG9mIHBhZ2VzKSB7XG5cdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0Ly8gY29uc3Qgd2Vla051bWJlciA9IHRoaXMuZ2V0V2Vla051bWJlcihmbS5jcmVhdGVkQXQpO1xuXHRcdFx0Y29uc3Qgd2Vla051bWJlciA9IHRoaXMuZ2V0V2Vla051bWJlcjQoZm0uY3JlYXRlZEF0KTtcblx0XHRcdGNvbnN0IHllYXIgPSBmbS5jcmVhdGVkQXQuZ2V0RnVsbFllYXIoKTtcblx0XHRcdGNvbnN0IG1vbnRoID0gZm0uY3JlYXRlZEF0LmdldE1vbnRoKCkgKyAxO1xuXG5cdFx0XHRsZXQgbXNnID0gXCJcIjtcblx0XHRcdG1zZyArPSBgY3JlYXRlZEF0OiAke2ZtLmNyZWF0ZWRBdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKX1cXG5gO1xuXHRcdFx0bXNnICs9IGB3ZWVrTnVtYmVyOiAke3dlZWtOdW1iZXJ9XFxuYDtcblx0XHRcdG1zZyArPSBgeWVhcjogJHt5ZWFyfVxcbmA7XG5cdFx0XHRtc2cgKz0gYG1vbnRoOiAke21vbnRofVxcbmA7XG5cdFx0XHRtc2cgKz0gYGRheTogJHtmbS5jcmVhdGVkQXQuZ2V0RGF5KCl9XFxuYDtcblx0XHRcdGNvbnN0IGRheSA9IFtcIlN1blwiLCBcIk1vblwiLCBcIlR1ZVwiLCBcIldlZFwiLCBcIlRodVwiLCBcIkZyaVwiLCBcIlNhdFwiXVtcblx0XHRcdFx0Zm0uY3JlYXRlZEF0LmdldERheSgpXG5cdFx0XHRdO1xuXHRcdFx0bXNnICs9IGBkYXk6ICR7ZGF5fVxcbmA7XG5cblx0XHRcdGNvbnNvbGUubG9nKG1zZyk7XG5cblx0XHRcdGlmIChiaW5zW3llYXJdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ymluc1t5ZWFyXSA9IHt9O1xuXHRcdFx0fVxuXHRcdFx0aWYgKGJpbnNbeWVhcl1bd2Vla051bWJlci50b1N0cmluZygpXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGJpbnNbeWVhcl1bd2Vla051bWJlci50b1N0cmluZygpXSA9IHt9O1xuXHRcdFx0fVxuXHRcdFx0aWYgKHN1aXZpTW9udGhseVt5ZWFyXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHN1aXZpTW9udGhseVt5ZWFyXSA9IHt9O1xuXHRcdFx0fVxuXHRcdFx0aWYgKHN1aXZpV2Vla2x5W3llYXJdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0c3VpdmlXZWVrbHlbeWVhcl0gPSB7fTtcblx0XHRcdH1cblxuXHRcdFx0bGV0IHRhZyA9IFwiXCI7XG5cdFx0XHRpZiAoZm0uZ2V0RG9tYWluKCkgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR0YWcgPSBmbS5nZXREb21haW4oKTtcblx0XHRcdH0gZWxzZSBpZiAoZm0uZ2V0UHJvamVjdCgpICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dGFnID0gZm0uZ2V0UHJvamVjdCgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGFnID0gXCJhZGhvY1wiO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodGFnID09IFwid2Vla2x5XCIpIHtcblx0XHRcdFx0aWYgKHN1aXZpV2Vla2x5W3llYXJdW3dlZWtOdW1iZXJdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRzdWl2aVdlZWtseVt5ZWFyXVt3ZWVrTnVtYmVyXSA9IFtwYWdlXTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzdWl2aVdlZWtseVt5ZWFyXVt3ZWVrTnVtYmVyXS5wdXNoKHBhZ2UpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmICh0YWcgPT09IFwibW9udGhseVwiKSB7XG5cdFx0XHRcdGlmIChzdWl2aU1vbnRobHlbeWVhcl1bbW9udGhdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRzdWl2aU1vbnRobHlbeWVhcl1bbW9udGhdID0gW3BhZ2VdO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHN1aXZpTW9udGhseVt5ZWFyXVttb250aF0ucHVzaChwYWdlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAodGFnID09PSBcInllYXJseVwiKSB7XG5cdFx0XHRcdGlmIChzdWl2aVllYXJseVt5ZWFyXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0c3VpdmlZZWFybHlbeWVhcl0gPSBbcGFnZV07XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c3VpdmlZZWFybHlbeWVhcl0ucHVzaChwYWdlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGJpbnNbeWVhcl1bd2Vla051bWJlcl1bdGFnXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGJpbnNbeWVhcl1bd2Vla051bWJlcl1bdGFnXSA9IFtwYWdlXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJpbnNbeWVhcl1bd2Vla051bWJlcl1bdGFnXS5wdXNoKHBhZ2UpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHtcblx0XHRcdGNvbnN0IHllYXJzID0gT2JqZWN0LmtleXMoYmlucyk7XG5cdFx0XHRsZXQgbGFzdFllYXIgPSA5OTk5O1xuXHRcdFx0bGV0IGxhc3RNb250aCA9IDEzO1xuXHRcdFx0eWVhcnMuc29ydCgpLnJldmVyc2UoKTtcblxuXHRcdFx0Zm9yIChjb25zdCB5ZWFyIG9mIHllYXJzKSB7XG5cdFx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIHllYXJdKTtcblxuXHRcdFx0XHRpZiAocGFyc2VJbnQoeWVhciwgMTApIDwgbGFzdFllYXIpIHtcblx0XHRcdFx0XHRsYXN0TW9udGggPSAxMztcblx0XHRcdFx0XHRsYXN0WWVhciA9IHBhcnNlSW50KHllYXIsIDEwKTtcblx0XHRcdFx0XHRpZiAoc3VpdmlZZWFybHlbeWVhcl0gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0Zm9yIChjb25zdCBwYWdlIG9mIHN1aXZpWWVhcmx5W3llYXJdKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRcdFx0XHRcdHJzLnB1c2goW1xuXHRcdFx0XHRcdFx0XHRcdFwicGFyYWdyYXBoXCIsXG5cdFx0XHRcdFx0XHRcdFx0UmVuZGVyZXIubWFrZUxpbmtBbGlhcyh0aGlzLmR2LCBmbS5mKSxcblx0XHRcdFx0XHRcdFx0XSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Zm9yIChsZXQgd2VlayA9IDUyOyB3ZWVrID4gMDsgd2Vlay0tKSB7XG5cdFx0XHRcdFx0Y29uc3QgdGhpc01vbnRoID0gdGhpcy5nZXRNb250aCh5ZWFyLCB3ZWVrKTtcblxuXHRcdFx0XHRcdGlmIChzdWl2aU1vbnRobHlbeWVhcl1bdGhpc01vbnRoXSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRpZiAobGFzdE1vbnRoICE9PSB0aGlzTW9udGgpIHtcblx0XHRcdFx0XHRcdFx0bGFzdE1vbnRoID0gdGhpc01vbnRoO1xuXHRcdFx0XHRcdFx0XHRycy5wdXNoKFtcblx0XHRcdFx0XHRcdFx0XHRcImhlYWRlclwiLFxuXHRcdFx0XHRcdFx0XHRcdDMsXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5nZXRNb250aE5hbWUobGFzdE1vbnRoKSxcblx0XHRcdFx0XHRcdFx0XSk7XG5cblx0XHRcdFx0XHRcdFx0aWYgKHN1aXZpTW9udGhseVt5ZWFyXVt0aGlzTW9udGhdICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdFx0XHRmb3IgKGNvbnN0IHBhZ2Ugb2Ygc3VpdmlNb250aGx5W3llYXJdW1xuXHRcdFx0XHRcdFx0XHRcdFx0dGhpc01vbnRoXG5cdFx0XHRcdFx0XHRcdFx0XSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdFx0XHRcdFx0XHRcdHJzLnB1c2goW1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcInBhcmFncmFwaFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRSZW5kZXJlci5tYWtlTGlua0FsaWFzKHRoaXMuZHYsIGZtLmYpLFxuXHRcdFx0XHRcdFx0XHRcdFx0XSk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0c3VpdmlXZWVrbHlbeWVhcl1bd2Vla10gPT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0XHRcdFx0Ymluc1t5ZWFyXVt3ZWVrXSA9PT0gdW5kZWZpbmVkXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCA0LCBgd2VlayAke3dlZWsudG9TdHJpbmcoKX1gXSk7XG5cdFx0XHRcdFx0aWYgKHN1aXZpV2Vla2x5W3llYXJdW3dlZWtdICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdGZvciAoY29uc3QgcGFnZSBvZiBzdWl2aVdlZWtseVt5ZWFyXVt3ZWVrXSkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRcdFx0XHRycy5wdXNoKFtcblx0XHRcdFx0XHRcdFx0XHRcInBhcmFncmFwaFwiLFxuXHRcdFx0XHRcdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rQWxpYXModGhpcy5kdiwgZm0uZiksXG5cdFx0XHRcdFx0XHRcdF0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChiaW5zW3llYXJdW3dlZWtdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIGRvbWFpbiA+IHByb2plY3Rcblx0XHRcdFx0XHRjb25zdCB0YWdzID0gT2JqZWN0LmtleXMoYmluc1t5ZWFyXVt3ZWVrXSk7XG5cdFx0XHRcdFx0dGFncy5zb3J0KCk7XG5cblx0XHRcdFx0XHRmb3IgKGNvbnN0IHRhZyBvZiB0YWdzKSB7XG5cdFx0XHRcdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCA1LCB0YWddKTtcblx0XHRcdFx0XHRcdGJpbnNbeWVhcl1bd2Vla11bdGFnXS5zb3J0KChhLCBiKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGZtQSA9IG5ldyBGcm9udG1hdHRlckpTKGEpO1xuXHRcdFx0XHRcdFx0XHRjb25zdCBmbUIgPSBuZXcgRnJvbnRtYXR0ZXJKUyhiKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHRcdFx0XHRmbUIuY3JlYXRlZEF0LmdldFRpbWUoKSAtXG5cdFx0XHRcdFx0XHRcdFx0Zm1BLmNyZWF0ZWRBdC5nZXRUaW1lKClcblx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRmb3IgKGNvbnN0IHBhZ2Ugb2YgYmluc1t5ZWFyXVt3ZWVrXVt0YWddKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRcdFx0XHRcdGlmIChmbS50eXBlID09PSA2KSB7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgZCA9IGZtLmNyZWF0ZWRBdFxuXHRcdFx0XHRcdFx0XHRcdFx0LnRvSVNPU3RyaW5nKClcblx0XHRcdFx0XHRcdFx0XHRcdC5zbGljZSgwLCAxMCk7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgZGF5ID0gW1xuXHRcdFx0XHRcdFx0XHRcdFx0XCJTdW5cIixcblx0XHRcdFx0XHRcdFx0XHRcdFwiTW9uXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcIlR1ZVwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XCJXZWRcIixcblx0XHRcdFx0XHRcdFx0XHRcdFwiVGh1XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcIkZyaVwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XCJTYXRcIixcblx0XHRcdFx0XHRcdFx0XHRdW2ZtLmNyZWF0ZWRBdC5nZXREYXkoKV07XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgdGV4dCA9IGAke2R9LCAke2RheX1gO1xuXHRcdFx0XHRcdFx0XHRcdHJzLnB1c2goW1xuXHRcdFx0XHRcdFx0XHRcdFx0XCJwYXJhZ3JhcGhcIixcblx0XHRcdFx0XHRcdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rKHRoaXMuZHYsIGZtLmYsIHRleHQpLFxuXHRcdFx0XHRcdFx0XHRcdF0pO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJzO1xuXHR9XG5cblx0am91cm5hbCgpIHtcblx0XHRjb25zdCBycyA9IFtdO1xuXHRcdGNvbnN0IGJpbnMgPSB7fTtcblx0XHRjb25zdCBzdWl2aVdlZWtseSA9IHt9O1xuXHRcdGNvbnN0IHN1aXZpTW9udGhseSA9IHt9O1xuXHRcdGNvbnN0IHN1aXZpWWVhcmx5ID0ge307XG5cdFx0Y29uc3QgcGFnZXMgPSB0aGlzLmR2XG5cdFx0XHQucGFnZXMoYFwiSm91cm5hbFwiYClcblx0XHRcdC5zb3J0KChwYWdlKSA9PiBwYWdlLmZpbGUuZnJvbnRtYXR0ZXIuY3JlYXRlZF9hdCwgXCJkZXNjXCIpO1xuXG5cdFx0Zm9yIChjb25zdCBwYWdlIG9mIHBhZ2VzKSB7XG5cdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0Ly8gY29uc3Qgd2Vla051bWJlciA9IHRoaXMuZ2V0V2Vla051bWJlcihmbS5jcmVhdGVkQXQpO1xuXHRcdFx0Y29uc3Qgd2Vla051bWJlciA9IHRoaXMuZ2V0V2Vla051bWJlcjQoZm0uY3JlYXRlZEF0KTtcblx0XHRcdGNvbnN0IHllYXIgPSBmbS5jcmVhdGVkQXQuZ2V0RnVsbFllYXIoKTtcblx0XHRcdGNvbnN0IG1vbnRoID0gZm0uY3JlYXRlZEF0LmdldE1vbnRoKCkgKyAxO1xuXG5cdFx0XHRsZXQgbXNnID0gXCJcIjtcblx0XHRcdG1zZyArPSBgY3JlYXRlZEF0OiAke2ZtLmNyZWF0ZWRBdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKX1cXG5gO1xuXHRcdFx0bXNnICs9IGB3ZWVrTnVtYmVyOiAke3dlZWtOdW1iZXJ9XFxuYDtcblx0XHRcdG1zZyArPSBgeWVhcjogJHt5ZWFyfVxcbmA7XG5cdFx0XHRtc2cgKz0gYG1vbnRoOiAke21vbnRofVxcbmA7XG5cdFx0XHRtc2cgKz0gYGRheTogJHtmbS5jcmVhdGVkQXQuZ2V0RGF5KCl9XFxuYDtcblx0XHRcdGNvbnN0IGRheSA9IFtcIlN1blwiLCBcIk1vblwiLCBcIlR1ZVwiLCBcIldlZFwiLCBcIlRodVwiLCBcIkZyaVwiLCBcIlNhdFwiXVtcblx0XHRcdFx0Zm0uY3JlYXRlZEF0LmdldERheSgpXG5cdFx0XHRdO1xuXHRcdFx0bXNnICs9IGBkYXk6ICR7ZGF5fVxcbmA7XG5cblx0XHRcdC8vIGNvbnNvbGUubG9nKG1zZyk7XG5cblx0XHRcdGlmIChiaW5zW3llYXJdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ymluc1t5ZWFyXSA9IHt9O1xuXHRcdFx0fVxuXHRcdFx0aWYgKGJpbnNbeWVhcl1bd2Vla051bWJlci50b1N0cmluZygpXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGJpbnNbeWVhcl1bd2Vla051bWJlci50b1N0cmluZygpXSA9IHt9O1xuXHRcdFx0fVxuXHRcdFx0aWYgKHN1aXZpTW9udGhseVt5ZWFyXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHN1aXZpTW9udGhseVt5ZWFyXSA9IHt9O1xuXHRcdFx0fVxuXHRcdFx0aWYgKHN1aXZpV2Vla2x5W3llYXJdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0c3VpdmlXZWVrbHlbeWVhcl0gPSB7fTtcblx0XHRcdH1cblxuXHRcdFx0bGV0IHRhZyA9IFwiXCI7XG5cdFx0XHRpZiAoZm0uZ2V0RG9tYWluKCkgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR0YWcgPSBmbS5nZXREb21haW4oKTtcblx0XHRcdH0gZWxzZSBpZiAoZm0uZ2V0UHJvamVjdCgpICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dGFnID0gZm0uZ2V0UHJvamVjdCgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGFnID0gXCJhZGhvY1wiO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodGFnID09IFwid2Vla2x5XCIpIHtcblx0XHRcdFx0aWYgKHN1aXZpV2Vla2x5W3llYXJdW3dlZWtOdW1iZXJdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRzdWl2aVdlZWtseVt5ZWFyXVt3ZWVrTnVtYmVyXSA9IFtwYWdlXTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzdWl2aVdlZWtseVt5ZWFyXVt3ZWVrTnVtYmVyXS5wdXNoKHBhZ2UpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmICh0YWcgPT09IFwibW9udGhseVwiKSB7XG5cdFx0XHRcdGlmIChzdWl2aU1vbnRobHlbeWVhcl1bbW9udGhdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRzdWl2aU1vbnRobHlbeWVhcl1bbW9udGhdID0gW3BhZ2VdO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHN1aXZpTW9udGhseVt5ZWFyXVttb250aF0ucHVzaChwYWdlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAodGFnID09PSBcInllYXJseVwiKSB7XG5cdFx0XHRcdGlmIChzdWl2aVllYXJseVt5ZWFyXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0c3VpdmlZZWFybHlbeWVhcl0gPSBbcGFnZV07XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c3VpdmlZZWFybHlbeWVhcl0ucHVzaChwYWdlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGJpbnNbeWVhcl1bd2Vla051bWJlcl1bdGFnXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGJpbnNbeWVhcl1bd2Vla051bWJlcl1bdGFnXSA9IFtwYWdlXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJpbnNbeWVhcl1bd2Vla051bWJlcl1bdGFnXS5wdXNoKHBhZ2UpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHtcblx0XHRcdGNvbnN0IHllYXJzID0gT2JqZWN0LmtleXMoYmlucyk7XG5cdFx0XHRsZXQgbGFzdFllYXIgPSA5OTk5O1xuXHRcdFx0bGV0IGxhc3RNb250aCA9IDEzO1xuXHRcdFx0eWVhcnMuc29ydCgpLnJldmVyc2UoKTtcblxuXHRcdFx0Zm9yIChjb25zdCB5ZWFyIG9mIHllYXJzKSB7XG5cdFx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIHllYXJdKTtcblxuXHRcdFx0XHRpZiAocGFyc2VJbnQoeWVhciwgMTApIDwgbGFzdFllYXIpIHtcblx0XHRcdFx0XHRsYXN0TW9udGggPSAxMztcblx0XHRcdFx0XHRsYXN0WWVhciA9IHBhcnNlSW50KHllYXIsIDEwKTtcblx0XHRcdFx0XHRpZiAoc3VpdmlZZWFybHlbeWVhcl0gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0Zm9yIChjb25zdCBwYWdlIG9mIHN1aXZpWWVhcmx5W3llYXJdKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRcdFx0XHRcdHJzLnB1c2goW1xuXHRcdFx0XHRcdFx0XHRcdFwicGFyYWdyYXBoXCIsXG5cdFx0XHRcdFx0XHRcdFx0UmVuZGVyZXIubWFrZUxpbmtBbGlhcyh0aGlzLmR2LCBmbS5mKSxcblx0XHRcdFx0XHRcdFx0XSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Zm9yIChsZXQgd2VlayA9IDUyOyB3ZWVrID4gMDsgd2Vlay0tKSB7XG5cdFx0XHRcdFx0Y29uc3QgdGhpc01vbnRoID0gdGhpcy5nZXRNb250aCh5ZWFyLCB3ZWVrKTtcblxuXHRcdFx0XHRcdGlmIChzdWl2aU1vbnRobHlbeWVhcl1bdGhpc01vbnRoXSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRpZiAobGFzdE1vbnRoICE9PSB0aGlzTW9udGgpIHtcblx0XHRcdFx0XHRcdFx0bGFzdE1vbnRoID0gdGhpc01vbnRoO1xuXHRcdFx0XHRcdFx0XHRycy5wdXNoKFtcblx0XHRcdFx0XHRcdFx0XHRcImhlYWRlclwiLFxuXHRcdFx0XHRcdFx0XHRcdDMsXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5nZXRNb250aE5hbWUobGFzdE1vbnRoKSxcblx0XHRcdFx0XHRcdFx0XSk7XG5cblx0XHRcdFx0XHRcdFx0aWYgKHN1aXZpTW9udGhseVt5ZWFyXVt0aGlzTW9udGhdICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdFx0XHRmb3IgKGNvbnN0IHBhZ2Ugb2Ygc3VpdmlNb250aGx5W3llYXJdW1xuXHRcdFx0XHRcdFx0XHRcdFx0dGhpc01vbnRoXG5cdFx0XHRcdFx0XHRcdFx0XSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdFx0XHRcdFx0XHRcdHJzLnB1c2goW1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcInBhcmFncmFwaFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRSZW5kZXJlci5tYWtlTGlua0FsaWFzKHRoaXMuZHYsIGZtLmYpLFxuXHRcdFx0XHRcdFx0XHRcdFx0XSk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0c3VpdmlXZWVrbHlbeWVhcl1bd2Vla10gPT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0XHRcdFx0Ymluc1t5ZWFyXVt3ZWVrXSA9PT0gdW5kZWZpbmVkXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCA0LCBgd2VlayAke3dlZWsudG9TdHJpbmcoKX1gXSk7XG5cdFx0XHRcdFx0aWYgKHN1aXZpV2Vla2x5W3llYXJdW3dlZWtdICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdGZvciAoY29uc3QgcGFnZSBvZiBzdWl2aVdlZWtseVt5ZWFyXVt3ZWVrXSkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0XHRcdFx0XHRycy5wdXNoKFtcblx0XHRcdFx0XHRcdFx0XHRcInBhcmFncmFwaFwiLFxuXHRcdFx0XHRcdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rQWxpYXModGhpcy5kdiwgZm0uZiksXG5cdFx0XHRcdFx0XHRcdF0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChiaW5zW3llYXJdW3dlZWtdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIGRvbWFpbiA+IHByb2plY3Rcblx0XHRcdFx0XHRjb25zdCB0YWdzID0gT2JqZWN0LmtleXMoYmluc1t5ZWFyXVt3ZWVrXSk7XG5cdFx0XHRcdFx0dGFncy5zb3J0KCk7XG5cblx0XHRcdFx0XHRmb3IgKGNvbnN0IHRhZyBvZiB0YWdzKSB7XG5cdFx0XHRcdFx0XHRycy5wdXNoKFtcImhlYWRlclwiLCA1LCB0YWddKTtcblx0XHRcdFx0XHRcdGJpbnNbeWVhcl1bd2Vla11bdGFnXS5zb3J0KChhLCBiKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGZtQSA9IG5ldyBGcm9udG1hdHRlckpTKGEpO1xuXHRcdFx0XHRcdFx0XHRjb25zdCBmbUIgPSBuZXcgRnJvbnRtYXR0ZXJKUyhiKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHRcdFx0XHRmbUIuY3JlYXRlZEF0LmdldFRpbWUoKSAtXG5cdFx0XHRcdFx0XHRcdFx0Zm1BLmNyZWF0ZWRBdC5nZXRUaW1lKClcblx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRmb3IgKGNvbnN0IHBhZ2Ugb2YgYmluc1t5ZWFyXVt3ZWVrXVt0YWddKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRcdFx0XHRcdGlmIChmbS50eXBlID09PSA2KSB7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgZCA9IGZtLmNyZWF0ZWRBdFxuXHRcdFx0XHRcdFx0XHRcdFx0LnRvSVNPU3RyaW5nKClcblx0XHRcdFx0XHRcdFx0XHRcdC5zbGljZSgwLCAxMCk7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgZGF5ID0gW1xuXHRcdFx0XHRcdFx0XHRcdFx0XCJTdW5cIixcblx0XHRcdFx0XHRcdFx0XHRcdFwiTW9uXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcIlR1ZVwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XCJXZWRcIixcblx0XHRcdFx0XHRcdFx0XHRcdFwiVGh1XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcIkZyaVwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XCJTYXRcIixcblx0XHRcdFx0XHRcdFx0XHRdW2ZtLmNyZWF0ZWRBdC5nZXREYXkoKV07XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgdGV4dCA9IGAke2R9LCAke2RheX1gO1xuXHRcdFx0XHRcdFx0XHRcdHJzLnB1c2goW1xuXHRcdFx0XHRcdFx0XHRcdFx0XCJwYXJhZ3JhcGhcIixcblx0XHRcdFx0XHRcdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rKHRoaXMuZHYsIGZtLmYsIHRleHQpLFxuXHRcdFx0XHRcdFx0XHRcdF0pO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJzO1xuXHR9XG5cblx0Y2FsZW5kYXIoKSB7XG5cdFx0Y29uc3QgcnMgPSBbXTtcblx0XHRjb25zdCBiaW5zID0ge307XG5cdFx0Y29uc3QgcGFnZXMgPSB0aGlzLmR2LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9XCJgKS53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdGlmIChcblx0XHRcdFx0Zm0uZm0uYXQgPT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0XHRmbS5mbS5iZWZvcmUgPT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0XHRmbS5mbS5hZnRlciA9PT0gdW5kZWZpbmVkXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZm0uZm0uc3RhdHVzICE9PSBcInRvZG9cIikge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChmbS5nZXRQcm9qZWN0KCkgPT09IFwiZGFpbHlcIikge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0pO1xuXG5cdFx0Zm9yIChjb25zdCBwYWdlIG9mIHBhZ2VzKSB7XG5cdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0bGV0IHllYXIgPSAwO1xuXHRcdFx0bGV0IG1vbnRoID0gMDtcblx0XHRcdGxldCBkYXkgPSAwO1xuXG5cdFx0XHRpZiAoZm0uZm0uYmVmb3JlICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0eWVhciA9IGZtLmJlZm9yZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0XHRtb250aCA9IGZtLmJlZm9yZS5nZXRNb250aCgpO1xuXHRcdFx0XHRkYXkgPSBmbS5iZWZvcmUuZ2V0VVRDRGF0ZSgpO1xuXHRcdFx0fSBlbHNlIGlmIChmbS5mbS5hdCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHllYXIgPSBmbS5hdC5nZXRGdWxsWWVhcigpO1xuXHRcdFx0XHRtb250aCA9IGZtLmF0LmdldE1vbnRoKCk7XG5cdFx0XHRcdGRheSA9IGZtLmF0LmdldFVUQ0RhdGUoKTtcblx0XHRcdH0gZWxzZSBpZiAoZm0uYWZ0ZXIgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR5ZWFyID0gZm0uYWZ0ZXIuZ2V0RnVsbFllYXIoKTtcblx0XHRcdFx0bW9udGggPSBmbS5hZnRlci5nZXRNb250aCgpO1xuXHRcdFx0XHRkYXkgPSBmbS5hZnRlci5nZXRVVENEYXRlKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGJpbnNbeWVhcl0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRiaW5zW3llYXJdID0ge307XG5cdFx0XHR9XG5cblx0XHRcdGlmIChiaW5zW3llYXJdW21vbnRoXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGJpbnNbeWVhcl1bbW9udGhdID0ge307XG5cdFx0XHR9XG5cblx0XHRcdGlmIChiaW5zW3llYXJdW21vbnRoXVtkYXldID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ymluc1t5ZWFyXVttb250aF1bZGF5XSA9IHt9O1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoYmluc1t5ZWFyXVttb250aF1bZGF5XVtcImF0XCJdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ymluc1t5ZWFyXVttb250aF1bZGF5XVtcImF0XCJdID0gW107XG5cdFx0XHR9XG5cdFx0XHRpZiAoYmluc1t5ZWFyXVttb250aF1bZGF5XVtcImJlZm9yZVwiXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGJpbnNbeWVhcl1bbW9udGhdW2RheV1bXCJiZWZvcmVcIl0gPSBbXTtcblx0XHRcdH1cblx0XHRcdGlmIChiaW5zW3llYXJdW21vbnRoXVtkYXldW1wiYWZ0ZXJcIl0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRiaW5zW3llYXJdW21vbnRoXVtkYXldW1wiYWZ0ZXJcIl0gPSBbXTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGZtLmZtLmJlZm9yZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGJpbnNbeWVhcl1bbW9udGhdW2RheV1bXCJiZWZvcmVcIl0ucHVzaChwYWdlKTtcblx0XHRcdH0gZWxzZSBpZiAoZm0uZm0uYXQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRiaW5zW3llYXJdW21vbnRoXVtkYXldW1wiYXRcIl0ucHVzaChwYWdlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJpbnNbeWVhcl1bbW9udGhdW2RheV1bXCJhZnRlclwiXS5wdXNoKHBhZ2UpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHtcblx0XHRcdGNvbnN0IHllYXJzID0gT2JqZWN0LmtleXMoYmlucyk7XG5cdFx0XHR5ZWFycy5zb3J0KChhLCBiKSA9PiBwYXJzZUludChhKSAtIHBhcnNlSW50KGIpKTtcblxuXHRcdFx0Zm9yIChjb25zdCB5ZWFyIG9mIHllYXJzKSB7XG5cdFx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIHllYXJdKTtcblx0XHRcdFx0Y29uc3QgbW9udGhzID0gT2JqZWN0LmtleXMoYmluc1t5ZWFyXSk7XG5cdFx0XHRcdG1vbnRocy5zb3J0KChhLCBiKSA9PiBwYXJzZUludChhKSAtIHBhcnNlSW50KGIpKTtcblx0XHRcdFx0Zm9yIChjb25zdCBtb250aCBvZiBtb250aHMpIHtcblx0XHRcdFx0XHRycy5wdXNoKFtcblx0XHRcdFx0XHRcdFwiaGVhZGVyXCIsXG5cdFx0XHRcdFx0XHQzLFxuXHRcdFx0XHRcdFx0YCR7W1wiSmFudWFyeVwiLCBcIkZlYnVhcnlcIiwgXCJNYXJjaFwiLCBcIkFwcmlsXCIsIFwiTWF5XCIsIFwiSnVuZVwiLCBcIkp1bHlcIiwgXCJBdWd1c3RcIiwgXCJTZXB0ZW1iZXJcIiwgXCJPY3RvYmVyXCIsIFwiTm92ZW1iZXJcIiwgXCJEZWNlbWJlclwiXVttb250aF19YCxcblx0XHRcdFx0XHRdKTtcblxuXHRcdFx0XHRcdGNvbnN0IGRheXMgPSBPYmplY3Qua2V5cyhiaW5zW3llYXJdW21vbnRoXSk7XG5cdFx0XHRcdFx0ZGF5cy5zb3J0KChhLCBiKSA9PiBwYXJzZUludChhKSAtIHBhcnNlSW50KGIpKTtcblx0XHRcdFx0XHRmb3IgKGNvbnN0IGRheSBvZiBkYXlzKSB7XG5cdFx0XHRcdFx0XHRjb25zdCB3ZWVrcyA9IFtcblx0XHRcdFx0XHRcdFx0XCJTdW5cIixcblx0XHRcdFx0XHRcdFx0XCJNb25cIixcblx0XHRcdFx0XHRcdFx0XCJUdWVcIixcblx0XHRcdFx0XHRcdFx0XCJXZWRcIixcblx0XHRcdFx0XHRcdFx0XCJUaHVcIixcblx0XHRcdFx0XHRcdFx0XCJGcmlcIixcblx0XHRcdFx0XHRcdFx0XCJTYXRcIixcblx0XHRcdFx0XHRcdF07XG5cblx0XHRcdFx0XHRcdGNvbnN0IGJlZm9yZSA9IGJpbnNbeWVhcl1bbW9udGhdW2RheV1bXCJiZWZvcmVcIl07XG5cdFx0XHRcdFx0XHRjb25zdCBhdCA9IGJpbnNbeWVhcl1bbW9udGhdW2RheV1bXCJhdFwiXTtcblx0XHRcdFx0XHRcdGNvbnN0IGFmdGVyID0gYmluc1t5ZWFyXVttb250aF1bZGF5XVtcImFmdGVyXCJdO1xuXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhcblx0XHRcdFx0XHRcdFx0YHllYXI6ICR7eWVhcn1cXG5tb250aDogJHttb250aH1cXG5kYXk6ICR7ZGF5fWAsXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0aWYgKGJlZm9yZS5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0XHRcdGZvciAoY29uc3QgcGFnZSBvZiBiZWZvcmUpIHtcblx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIi0tLSBiZWZvcmUgLS0tXCIpO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKHBhZ2UpO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiLS0tLS0tXCIpO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgdGV4dCA9IGBiZWZvcmU6ICR7d2Vla3NbZm0uYmVmb3JlLmdldERheSgpXX0gJHtkYXl9ICR7Zm0uYXQudG9JU09TdHJpbmcoKS5zbGljZSgxMSwgMTYpfSB8ICR7Zm0uZ2V0UHJvamVjdCgpfWA7XG5cdFx0XHRcdFx0XHRcdFx0cnMucHVzaChbXG5cdFx0XHRcdFx0XHRcdFx0XHRcInBhcmFncmFwaFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0UmVuZGVyZXIubWFrZUxpbmsoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuZHYsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZtLmYsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRleHQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFwiVGFza1wiLFxuXHRcdFx0XHRcdFx0XHRcdFx0KSxcblx0XHRcdFx0XHRcdFx0XHRdKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpZiAoYXQubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0XHRhdC5zb3J0KChhLCBiKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgZm1BID0gbmV3IEZyb250bWF0dGVySlMoYSk7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgZm1CID0gbmV3IEZyb250bWF0dGVySlMoYik7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGZtQi5hdC5nZXRUaW1lKCkgLSBmbUEuYXQuZ2V0VGltZSgpO1xuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0Zm9yIChjb25zdCBwYWdlIG9mIGF0KSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coXCItLS0gYXQgLS0tXCIpO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKHBhZ2UpO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiLS0tLS0tXCIpO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgdGV4dCA9IGBhdDogJHt3ZWVrc1tmbS5hdC5nZXREYXkoKV19ICR7ZGF5fSAke2ZtLmF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMTEsIDE2KX0gfCAke2ZtLmdldFByb2plY3QoKX1gO1xuXHRcdFx0XHRcdFx0XHRcdHJzLnB1c2goW1xuXHRcdFx0XHRcdFx0XHRcdFx0XCJwYXJhZ3JhcGhcIixcblx0XHRcdFx0XHRcdFx0XHRcdFJlbmRlcmVyLm1ha2VMaW5rKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLmR2LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmbS5mLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0ZXh0LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcIlRhc2tcIixcblx0XHRcdFx0XHRcdFx0XHRcdCksXG5cdFx0XHRcdFx0XHRcdFx0XSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aWYgKGFmdGVyLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRcdFx0Zm9yIChjb25zdCBwYWdlIG9mIGFmdGVyKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coXCItLS0gYWZ0ZXIgLS0tXCIpO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKHBhZ2UpO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiLS0tLS0tXCIpO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgdGV4dCA9IGAgYWZ0ZXI6ICR7d2Vla3NbZm0uYWZ0ZXIuZ2V0RGF5KCldfSAke2RheX0gJHtmbS5hdC50b0lTT1N0cmluZygpLnNsaWNlKDExLCAxNil9IHwgJHtmbS5nZXRQcm9qZWN0KCl9YDtcblx0XHRcdFx0XHRcdFx0XHRycy5wdXNoKFtcblx0XHRcdFx0XHRcdFx0XHRcdFwicGFyYWdyYXBoXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRSZW5kZXJlci5tYWtlTGluayhcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5kdixcblx0XHRcdFx0XHRcdFx0XHRcdFx0Zm0uZixcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGV4dCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XCJUYXNrXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHQpLFxuXHRcdFx0XHRcdFx0XHRcdF0pO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJzO1xuXHR9XG5cblx0Z2xvYmFsVGFza0xpc3QocGFnZXMpIHtcblx0XHRjb25zdCBycyA9IFtdO1xuXHRcdGNvbnN0IGJpbnMgPSB7fTtcblxuXHRcdGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuXHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdGlmIChmbS5nZXRQcm9qZWN0KCkgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRmbS5wcm9qZWN0cyA9IFtcImFkaG9jXCJdO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoYmluc1tmbS5nZXRQcm9qZWN0KCldID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ymluc1tmbS5nZXRQcm9qZWN0KCldID0gW3BhZ2VdO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ymluc1tmbS5nZXRQcm9qZWN0KCldLnB1c2gocGFnZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3QgcHJvamVjdHMgPSBPYmplY3Qua2V5cyhiaW5zKTtcblx0XHRwcm9qZWN0cy5zb3J0KCk7XG5cdFx0Zm9yIChjb25zdCBwcm9qZWN0IG9mIHByb2plY3RzKSB7XG5cdFx0XHRjb25zdCB0YXNrcyA9IGJpbnNbcHJvamVjdF07XG5cdFx0XHR0YXNrcy5zb3J0KEhlbHBlci5zb3J0QnlQcmlvcml0eUFuZER1cmF0aW9uQW5kQWdlKTtcblx0XHRcdHJzLnB1c2goW1wiaGVhZGVyXCIsIDIsIGAke3Byb2plY3R9YF0pO1xuXHRcdFx0cnMucHVzaChbXCJhcnJheVwiLCBSZW5kZXJlci5iYXNpY1Rhc2tKb3VybmFsLCB0YXNrc10pO1xuXHRcdH1cblxuXHRcdHJldHVybiBycztcblx0fVxuXG5cdG5leHRBY3Rpb25zKGR2KSB7XG5cdFx0Y29uc3QgcGFnZXMgPSB0aGlzLmR2LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9XCJgKS53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdGlmIChcblx0XHRcdFx0W1wiZGFpbHlcIiwgXCJ3ZWVrbHlcIiwgXCJtb250aGx5XCIsIFwieWVhcmx5XCJdLmNvbnRhaW5zKFxuXHRcdFx0XHRcdGZtLmdldFByb2plY3QoKSxcblx0XHRcdFx0KVxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCF0aGlzLnByb2plY3RJc0FjdGl2ZShmbS5nZXRQcm9qZWN0KCkpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gZXhjbHVkZSB0YXNrcyB3aXRoIHVuZnVsZmlsbGVkIGRlcGVuZGVuY2llc1xuXHRcdFx0aWYgKCF0aGlzLm5vdGVIZWxwZXIuaXNEb2FibGUocGFnZSkpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBleGNsdWRlIHNvbWVkYXkgbWF5YmUgdGFza3Ncblx0XHRcdGlmIChmbS5mbS5wcmlvcml0eSA9PT0gMCkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHRoaXMuZ2xvYmFsVGFza0xpc3QocGFnZXMpO1xuXHR9XG5cblx0d2FpdGluZ0Zvcihkdikge1xuXHRcdGNvbnN0IHBhZ2VzID0gdGhpcy5kdi5wYWdlcyhgXCIke1BhdGhzLlRhc2tzfVwiYCkud2hlcmUoKHBhZ2UpID0+IHtcblx0XHRcdGNvbnN0IGZtID0gbmV3IEZyb250bWF0dGVySlMocGFnZSk7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdFtcImRhaWx5XCIsIFwid2Vla2x5XCIsIFwibW9udGhseVwiLCBcInllYXJseVwiXS5jb250YWlucyhcblx0XHRcdFx0XHRmbS5nZXRQcm9qZWN0KCksXG5cdFx0XHRcdClcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghW1widG9kb1wiLCBcIndhaXRpbmdcIl0uY29udGFpbnMoZm0uZm0uc3RhdHVzKSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghdGhpcy5wcm9qZWN0SXNBY3RpdmUoZm0uZ2V0UHJvamVjdCgpKSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGV4Y2x1ZGUgdGFza3Mgd2l0aCBmdWxmaWxsZWQgZGVwZW5kZW5jaWVzIGFuZCBzb21lZGF5IG1heWJlXG5cdFx0XHRpZiAodGhpcy5ub3RlSGVscGVyLmlzRG9hYmxlKHBhZ2UpIHx8IGZtLmZtLnByaW9yaXR5ID09PSAwKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gdGhpcy5nbG9iYWxUYXNrTGlzdChwYWdlcyk7XG5cdH1cblxuXHRwcm9qZWN0SXNBY3RpdmUobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG5cdFx0Y29uc3QgcHJvamVjdCA9IHRoaXMuZHYucGFnZXMoYFwiUHJvamVjdHNcImApLndoZXJlKChwYWdlKSA9PiB7XG5cdFx0XHRjb25zdCBmbSA9IG5ldyBGcm9udG1hdHRlckpTKHBhZ2UpO1xuXHRcdFx0aWYgKGZtLmdldE5hbWUoKSAhPT0gbmFtZSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChmbS5mbS5hY3RpdmUgPT09IGZhbHNlKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gcHJvamVjdC5sZW5ndGggPiAwO1xuXHR9XG5cblx0c29tZWRheU1heWJlKGR2KSB7XG5cdFx0Y29uc3QgcGFnZXMgPSB0aGlzLmR2LnBhZ2VzKGBcIiR7UGF0aHMuVGFza3N9XCJgKS53aGVyZSgocGFnZSkgPT4ge1xuXHRcdFx0Y29uc3QgZm0gPSBuZXcgRnJvbnRtYXR0ZXJKUyhwYWdlKTtcblx0XHRcdGlmIChcblx0XHRcdFx0W1wiZGFpbHlcIiwgXCJ3ZWVrbHlcIiwgXCJtb250aGx5XCIsIFwieWVhcmx5XCJdLmNvbnRhaW5zKFxuXHRcdFx0XHRcdGZtLmdldFByb2plY3QoKSxcblx0XHRcdFx0KVxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCF0aGlzLnByb2plY3RJc0FjdGl2ZShmbS5nZXRQcm9qZWN0KCkpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gZXhjbHVkZSB0YXNrcyB3aXRoIHVuZnVsZmlsbGVkIGRlcGVuZGVuY2llc1xuXHRcdFx0aWYgKCF0aGlzLm5vdGVIZWxwZXIuaXNEb2FibGUocGFnZSkgfHwgZm0uZm0ucHJpb3JpdHkgPiAwKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gdGhpcy5nbG9iYWxUYXNrTGlzdChwYWdlcyk7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIER2TGliIHtcblx0dGFza0RpciA9IFwiODEzIFRhc2tzXCI7XG5cdGluYm94RGlyID0gXCI4MDAgSW5ib3hcIjtcblx0cmVmRGlyID0gXCI4MDIgUmVmc1wiO1xuXHRsb2dEaXIgPSBcIjYwMCBMb2dcIjtcblxuXHRUYXNrID0ge1xuXHRcdEJBU0U6IDMsXG5cdFx0REFJTFk6IDQsXG5cdH07XG5cblx0VHlwZSA9IHtcblx0XHRUQVNLOiAzLFxuXHRcdERBSUxZOiA0LFxuXHRcdExPRzogNixcblx0fTtcblxuXHRTdGF0dXMgPSB7XG5cdFx0VE9ETzogXCJ0b2RvXCIsXG5cdFx0RE9ORTogXCJkb25lXCIsXG5cdFx0RE9JTkc6IFwiZG9pbmdcIixcblx0XHRUUkFTSDogXCJ0cmFzaFwiLFxuXHRcdE1BWUJFOiBcIm1heWJlXCIsXG5cdFx0U1RBTkRCWTogXCJzdGFuZGJ5XCIsXG5cdH07XG5cblx0TmFtZXNwYWNlID0ge1xuXHRcdEFSRUE6IFwiYXJlYVwiLFxuXHRcdENPTlRFWFQ6IFwiY29udGV4dFwiLFxuXHRcdExBWUVSOiBcImxheWVyXCIsXG5cdFx0T1JHOiBcIm9yZ1wiLFxuXHRcdFBST0pFQ1Q6IFwicHJvamVjdFwiLFxuXHR9O1xuXG5cdERlZmF1bHQgPSB7XG5cdFx0QVJFQTogXCJub25lXCIsXG5cdFx0Q09OVEVYVDogXCJhbnlcIixcblx0XHRMQVlFUjogXCJub25lXCIsXG5cdFx0T1JHOiBcIm5vbmVcIixcblx0XHRQUk9KRUNUOiBcIm5vbmVcIixcblx0fTtcblxuXHRfZHYgPSBcIlwiO1xuXG5cdHNldCBkdihtb2QpIHtcblx0XHR0aGlzLl9kdiA9IG1vZDtcblx0fVxuXG5cdGdldCBkdigpIHtcblx0XHRyZXR1cm4gdGhpcy5fZHY7XG5cdH1cblxuXHRpc0NoaWxkVGFnKHBhcmVudCwgY2hpbGQpIHtcblx0XHRpZiAoY2hpbGQubGVuZ3RoIDw9IHBhcmVudC5sZW5ndGggKyAxKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSBlbHNlIGlmIChjaGlsZC5zbGljZSgwLCBwYXJlbnQubGVuZ3RoICsgMSkgIT0gYCR7cGFyZW50fS9gKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0c3RyaXBUYWcodGFnKSB7XG5cdFx0bGV0IHQgPSBcIlwiO1xuXHRcdGlmICh0YWcuc2xpY2UoLTEpID09PSBcIi9cIikge1xuXHRcdFx0dCA9IHRhZy5zbGljZSgwLCAtMSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHQgPSB0YWc7XG5cdFx0fVxuXHRcdGlmICh0LnNsaWNlKDAsIDEpID09PSBcIiNcIikge1xuXHRcdFx0dCA9IHQuc2xpY2UoMSwgdC5sZW5ndGgpO1xuXHRcdH1cblx0XHRyZXR1cm4gdDtcblx0fVxuXG5cdGdldFRhc2tGcm9tVVVJRChkdiwgdXVpZCkge1xuXHRcdGNvbnN0IG4gPSBkdi5wYWdlcyhgXCIke3RoaXMudGFza0Rpcn0vJHt1dWlkfVwiYCk7XG5cdFx0aWYgKG4ubGVuZ3RoID09PSAwKSB7XG5cdFx0XHQvLyBzaG91bGQgd2FybiwgdGhpcyBtZWFucyBub3RlIGRlcGVuZHMgb24gYSBub24tZXhpc3RpbmcgdGFza1xuXHRcdFx0Y29uc29sZS53YXJuKGBcIiR7dGhpcy50YXNrRGlyfS8ke3V1aWR9XCIgdGFzayBkb2VzIG5vdCBleGlzdHNgKTtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdHJldHVybiBuWzBdO1xuXHR9XG5cblx0aGFzVmFsaWRGb3JtYXQodGFzaykge1xuXHRcdC8vIGR2LnBhZ2VzIHJldHVybnMgYW4gYXJyYXkgd2V0aGVyIGl0IGZpbmRzIDEgb3IgbW9yZSBub3Rlc1xuXHRcdGNvbnN0IGZtID0gdGFzay5maWxlLmZyb250bWF0dGVyO1xuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHQvLyB0aGlzIHNob3VsZCB3YXJuLCBhbGwgdGFza3Mgc2hvdWxkIGhhdmUgYSBmcm9udG1hdHRlclxuXHRcdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0XHRgXCIke3RoaXMudGFza0Rpcn0vJHt0YXNrLnV1aWR9XCIgdGFzayBkb2VzIG5vdCBoYXZlIGEgZnJvbnRtYXR0ZXJgLFxuXHRcdFx0KTtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRpZiAoZm0udHlwZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHQvLyBhbGwgdGFza3MgbXVzdCBoYXZlIGEgYHR5cGVgIGZpZWxkXG5cdFx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcdGBcIiR7dGhpcy50YXNrRGlyfS8ke3Rhc2sudXVpZH1cIiB0YXNrIGRvZXMgbm90IGhhdmUgYSBcXGB0eXBlXFxgIGZpZWxkYCxcblx0XHRcdCk7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKGZtLnN0YXR1cyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHQvLyBhbGwgdGFza3MgbXVzdCBoYXZlIGEgYHN0YXR1c2AgZmllbGRcblx0XHRcdGNvbnNvbGUud2Fybihcblx0XHRcdFx0YFwiJHt0aGlzLnRhc2tEaXJ9LyR7dGFzay51dWlkfVwiIHRhc2sgZG9lcyBub3QgaGF2ZSBhIFxcYHN0YXR1c1xcYCBmaWVsZGAsXG5cdFx0XHQpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGhhc1BlbmRpbmdEZXBlbmRlbmNpZXMoZHYsIGRlcHMpIHtcblx0XHRmb3IgKGNvbnN0IGRlcCBvZiBkZXBzKSB7XG5cdFx0XHRjb25zdCB0YXNrID0gdGhpcy5nZXRUYXNrRnJvbVVVSUQoZHYsIGRlcCk7XG5cdFx0XHRpZiAodGFzayA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCF0aGlzLmhhc1ZhbGlkRm9ybWF0KHRhc2spKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgZm0gPSB0YXNrLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRpZiAoZm0udHlwZSAhPT0gdGhpcy5UYXNrLkJBU0UgJiYgZm0udHlwZSAhPT0gdGhpcy5UYXNrLkRBSUxZKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGZtLnN0YXR1cyA9PT0gdGhpcy5TdGF0dXMuVE9ETykge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0aXNEb2FibGUoZHYsIHRhc2spIHtcblx0XHRjb25zdCBmbSA9IHRhc2suZmlsZS5mcm9udG1hdHRlcjtcblxuXHRcdGlmIChmbS5zdGF0dXMgIT09IHRoaXMuU3RhdHVzLlRPRE8pIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRpZiAoZm0uYWZ0ZXIgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Y29uc3QgYWZ0ZXIgPSBuZXcgRGF0ZShmbS5hZnRlcik7XG5cdFx0XHRpZiAoRGF0ZS5ub3coKSA8PSBhZnRlci5nZXRUaW1lKCkpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IGRlcHMgPSBmbS5uZWVkcztcblx0XHRpZiAoZGVwcyA9PT0gdW5kZWZpbmVkIHx8IGRlcHMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5oYXNQZW5kaW5nRGVwZW5kZW5jaWVzKGR2LCBkZXBzKSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0Z2V0TmFtZXNwYWNlQ29udGVudChkdiwgbnMpIHtcblx0XHRjb25zdCBjaGlsZHJlbiA9IFtdO1xuXHRcdGNvbnN0IHJlc3AgPSBkdi5wYWdlcyhgIyR7bnN9YCk7XG5cdFx0Zm9yIChjb25zdCBmIG9mIHJlc3ApIHtcblx0XHRcdGNvbnN0IHRhZ3MgPSBmLnRhZ3M7XG5cdFx0XHRpZiAodGFncyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKGNvbnN0IHRhZyBvZiB0YWdzKSB7XG5cdFx0XHRcdGlmICh0aGlzLmlzQ2hpbGRUYWcobnMsIHRhZykpIHtcblx0XHRcdFx0XHRjb25zdCB0ID0gdGFnLnNsaWNlKG5zLmxlbmd0aCArIDEpO1xuXHRcdFx0XHRcdGlmICghY2hpbGRyZW4uaW5jbHVkZXModCkpIHtcblx0XHRcdFx0XHRcdGNoaWxkcmVuLnB1c2godCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNoaWxkcmVuO1xuXHR9XG5cblx0aXNEb25lKGR2LCBkZXApIHtcblx0XHRjb25zdCB0YXNrID0gdGhpcy5nZXRUYXNrRnJvbVVVSUQoZHYsIGRlcCk7XG5cdFx0aWYgKHRhc2sgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmICghdGhpcy5oYXNWYWxpZEZvcm1hdCh0YXNrKSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGNvbnN0IGZtID0gdGFzay5maWxlLmZyb250bWF0dGVyO1xuXHRcdGlmIChmbS5zdGF0dXMgPT09IHRoaXMuU3RhdHVzLkRPTkUpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGdldFRhc2tzKFxuXHRcdGR2LFxuXHRcdHRhZyxcblx0XHR0YXNrVHlwZSA9IFt0aGlzLlRhc2suQkFTRSwgdGhpcy5UYXNrLkRBSUxZXSxcblx0XHRzdGF0dXMgPSB0aGlzLlN0YXR1cy5UT0RPLFxuXHQpIHtcblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0Y29uc3QgdGFza3MgPSBkdi5wYWdlcyh0YWcpO1xuXG5cdFx0Zm9yIChjb25zdCB0YXNrIG9mIHRhc2tzKSB7XG5cdFx0XHRjb25zdCBmbSA9IHRhc2suZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGZtLnN0YXR1cyA9PT0gdW5kZWZpbmVkIHx8IGZtLnN0YXR1cyAhPT0gc3RhdHVzKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGZtLnR5cGUgPT09IHVuZGVmaW5lZCB8fCAhdGFza1R5cGUuY29udGFpbnMoZm0udHlwZSkpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRidWZmLnB1c2godGFzayk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGJ1ZmY7XG5cdH1cblxuXHRmb3JtYXRUYXNrKGR2LCB0YXNrKSB7XG5cdFx0cmV0dXJuIGR2LmZpbGVMaW5rKHRhc2suZmlsZS5wYXRoKTtcblx0fVxuXG5cdGZvcm1hdFRhc2tCaXMoZHYsIHRhc2spIHtcblx0XHRjb25zdCBmID0gdGFzay5maWxlO1xuXHRcdGxldCBjdHggPSBcIlwiO1xuXG5cdFx0Zm9yIChjb25zdCB0YWcgb2YgZi50YWdzKSB7XG5cdFx0XHRpZiAodGFnLnNsaWNlKDAsIDkpID09IFwiI2NvbnRleHQvXCIpIHtcblx0XHRcdFx0Y3R4ID0gdGFnLnNsaWNlKDkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBbXG5cdFx0XHRkdi5maWxlTGluayhmLnBhdGgpLFxuXHRcdFx0ZHYubWFya2Rvd25UYXNrTGlzdChmLnRhc2tzKSxcblx0XHRcdGYuZnJvbnRtYXR0ZXIudGltZV9lc3RpbWF0ZSxcblx0XHRcdGN0eCxcblx0XHRdO1xuXHR9XG5cblx0Zm9ybWF0VGFza0Jhc2UoZHYsIHRhc2spIHtcblx0XHRjb25zdCBmID0gdGFzay5maWxlO1xuXHRcdGNvbnN0IGZtID0gZi5mcm9udG1hdHRlcjtcblx0XHRjb25zdCB0YWdzID0gZm0udGFncztcblxuXHRcdGNvbnN0IGFyZWEgPSB0aGlzLmdldEFyZWEodGFncyk7XG5cblx0XHRyZXR1cm4gW1xuXHRcdFx0ZHYuZmlsZUxpbmsoZi5wYXRoLCBmYWxzZSwgZm0udXVpZC5zbGljZSgwLCA4KSksXG5cdFx0XHRkdi5tYXJrZG93blRhc2tMaXN0KGYudGFza3MpLFxuXHRcdFx0Zm0udGltZV9lc3RpbWF0ZSxcblx0XHRcdGFyZWEsXG5cdFx0XTtcblx0fVxuXG5cdGZvcm1hdFRhc2tXYWl0aW5nKGR2LCB0YXNrKSB7XG5cdFx0Y29uc3QgZiA9IHRhc2suZmlsZTtcblx0XHRjb25zdCBmbSA9IGYuZnJvbnRtYXR0ZXI7XG5cdFx0Y29uc3QgZGVwcyA9IFtdO1xuXG5cdFx0aWYgKGZtLm5lZWRzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGZvciAoY29uc3QgZGVwIG9mIGZtLm5lZWRzKSB7XG5cdFx0XHRcdGRlcHMucHVzaChkdi5maWxlTGluayhgJHt0aGlzLnRhc2tEaXJ9LyR7ZGVwfWApKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRmb3JtYXRUYXNrTWF5YmUoZHYsIHRhc2spIHtcblx0XHRjb25zdCBmID0gdGFzay5maWxlO1xuXHRcdGNvbnN0IGZtID0gZi5mcm9udG1hdHRlcjtcblx0XHRjb25zdCBkZXBzID0gW107XG5cblx0XHRyZXR1cm4gW2R2LmZpbGVMaW5rKGYucGF0aCldO1xuXHR9XG5cblx0bWFrZUFzeW5jUmVxdWVzdChkdiwgdXVpZCkge1xuXHRcdHJldHVybiBkdlxuXHRcdFx0LnF1ZXJ5KGBMSVNUIFdIRVJFIG5lZWRzIEFORCBjb250YWlucyhuZWVkcywgXCIke3V1aWR9XCIpYClcblx0XHRcdC50aGVuKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHR9KTtcblx0fVxuXG5cdGdldERlcGVuZGFudFRhc2tzKGR2LCB0YXNrKSB7XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGNvbnN0IHV1aWQgPSB0YXNrLmZpbGUubmFtZTtcblxuXHRcdGlmICh0YXNrLmZpbGUuZnJvbnRtYXR0ZXIgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIGJ1ZmY7XG5cdFx0fVxuXG5cdFx0Y29uc3QgdGFza3MgPSBkdlxuXHRcdFx0LnBhZ2VzKGBcIiR7dGhpcy50YXNrRGlyfVwiYClcblx0XHRcdC53aGVyZSgocCkgPT4gcC5uZWVkcyAhPT0gdW5kZWZpbmVkICYmIHAubmVlZHMuY29udGFpbnModXVpZCkpO1xuXHRcdGZvciAoY29uc3QgdGsgb2YgdGFza3MpIHtcblx0XHRcdGNvbnN0IHQgPSBkdi5wYWdlcyhgXCIke3RrLmZpbGUucGF0aH1cImApO1xuXHRcdFx0YnVmZi5wdXNoKHRbMF0pO1xuXHRcdH1cblxuXHRcdHJldHVybiBidWZmO1xuXHR9XG5cblx0YnlEZXBlbmRlbmN5QW5kUHJpb3JpdHlBbmRDcmVhdGVkQXQoZHYsIGEsIGIpIHtcblx0XHRjb25zdCBmdEEgPSBhLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0Y29uc3QgZnRCID0gYi5maWxlLmZyb250bWF0dGVyO1xuXHRcdGNvbnN0IHByaW9BID0gZnRBLnByaW9yaXR5O1xuXHRcdGNvbnN0IHByaW9CID0gZnRCLnByaW9yaXR5O1xuXHRcdC8vIGJlZm9yZSA+IGRlcHMgPiBwcmlvID4gY3JlYXRlZF9hdFxuXHRcdC8vIGxldCBiZWZvcmVBID0gZnRBLmJlZm9yZTtcblx0XHQvLyBsZXQgYmVmb3JlQiA9IGZ0Qi5iZWZvcmU7XG5cblx0XHRjb25zdCBkZXBzQSA9IHRoaXMuZ2V0RGVwZW5kYW50VGFza3MoZHYsIGEpO1xuXHRcdGNvbnN0IGRlcHNCID0gdGhpcy5nZXREZXBlbmRhbnRUYXNrcyhkdiwgYik7XG5cblx0XHRpZiAoZGVwc0EubGVuZ3RoIC0gZGVwc0IubGVuZ3RoICE9PSAwKSB7XG5cdFx0XHRyZXR1cm4gZGVwc0EubGVuZ3RoIC0gZGVwc0IubGVuZ3RoO1xuXHRcdH1cblxuXHRcdGlmIChwcmlvQSAtIHByaW9CICE9PSAwKSB7XG5cdFx0XHRyZXR1cm4gcHJpb0EgLSBwcmlvQjtcblx0XHR9XG5cblx0XHRjb25zdCBkYXRlQSA9IG5ldyBEYXRlKGZ0QS5jcmVhdGVkX2F0KTtcblx0XHRjb25zdCBkYXRlQiA9IG5ldyBEYXRlKGZ0Qi5jcmVhdGVkX2F0KTtcblxuXHRcdHJldHVybiAoZGF0ZUEuZ2V0VGltZSgpIC0gZGF0ZUIuZ2V0VGltZSgpKSAqIC0xO1xuXHR9XG5cblx0Zm9ybWF0VGFza1BsYW5uaW5nV2FpdGluZyhkdiwgdGFzaykge1xuXHRcdGNvbnN0IGYgPSB0YXNrLmZpbGU7XG5cblx0XHRyZXR1cm4gW1xuXHRcdFx0Ly8gYWpvdXRlciBhbGlhcyBzdXIgbGUgbGlua1xuXHRcdFx0ZHYubWFya2Rvd25UYXNrTGlzdChmLnRhc2tzKSxcblx0XHRcdGR2LmZpbGVMaW5rKGYucGF0aCwgZmFsc2UsIGYubmFtZS5zbGljZSgwLCA4KSksXG5cdFx0XHRmLmZyb250bWF0dGVyLnRpbWVfZXN0aW1hdGUsXG5cdFx0XHRmLmZyb250bWF0dGVyLmNhdXNlLFxuXHRcdF07XG5cdH1cblxuXHRyZW5kZXJCYXNlQXNBcnJheShkdiwgdGFza3MpIHtcblx0XHRjb25zdCBhcnIgPSBbXTtcblx0XHR0YXNrcy5mb3JFYWNoKCh0YXNrKSA9PiB7XG5cdFx0XHRhcnIucHVzaCh0aGlzLmZvcm1hdFRhc2tCYXNlKGR2LCB0YXNrKSk7XG5cdFx0fSk7XG5cdFx0ZHYudGFibGUoW1widXVpZFwiLCBcInRhc2tzXCIsIFwiZXN0aW1hdGVcIiwgXCJhcmVhXCJdLCBhcnIpO1xuXHR9XG5cblx0cmVuZGVyUGxhbm5pbmdXYWl0aW5nKGR2LCB0YXNrcykge1xuXHRcdGNvbnN0IGFyciA9IFtdO1xuXHRcdHRhc2tzLmZvckVhY2goKHRhc2spID0+IHtcblx0XHRcdGFyci5wdXNoKHRoaXMuZm9ybWF0VGFza1BsYW5uaW5nV2FpdGluZyhkdiwgdGFzaykpO1xuXHRcdH0pO1xuXHRcdGR2LnRhYmxlKFtcInRhc2tzXCIsIFwidXVpZFwiLCBcImVzdGltYXRlXCIsIFwiY2F1c2VcIl0sIGFycik7XG5cdH1cblxuXHRyZW5kZXJNYXliZUFzQXJyYXkoZHYsIHRhc2tzKSB7XG5cdFx0Y29uc3QgYXJyID0gW107XG5cdFx0dGFza3MuZm9yRWFjaCgoeyByZWYsIHRhc2sgfSkgPT4ge1xuXHRcdFx0aWYgKHRhc2sgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRhcnIucHVzaCh0aGlzLmZvcm1hdFRhc2tNYXliZShkdiwgdGFzaykpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdGR2LnRhYmxlKFtcInV1aWRcIl0sIGFycik7XG5cdH1cblxuXHRmb3JtYXRUYXNrRGFpbHkoZHYsIHRhc2spIHtcblx0XHRjb25zdCBmID0gdGFzay5maWxlO1xuXHRcdGNvbnN0IGZtID0gdGFzay5maWxlLmZyb250bWF0dGVyO1xuXHRcdGNvbnN0IHRhZ3MgPSB0YXNrLmZpbGUudGFncztcblx0XHRjb25zdCBhcmVhcyA9IFtdO1xuXG5cdFx0Zm9yIChjb25zdCB0YWcgb2YgdGFncykge1xuXHRcdFx0aWYgKHRhZy5zbGljZSgwLCA2KSA9PSBcIiNhcmVhL1wiKSB7XG5cdFx0XHRcdGFyZWFzLnB1c2godGFnLnNsaWNlKDYpKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCBsaW5rcyA9IFtdO1xuXHRcdGZvciAoY29uc3QgbGluayBvZiBmLm91dGxpbmtzKSB7XG5cdFx0XHRsaW5rcy5wdXNoKGxpbmspO1xuXHRcdH1cblxuXHRcdGNvbnN0IHRhc2tzID0gW107XG5cdFx0Zm9yIChjb25zdCB0IG9mIGYudGFza3MpIHtcblx0XHRcdHRhc2tzLnB1c2godCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIFtcblx0XHRcdGR2LmZpbGVMaW5rKGYucGF0aCksXG5cdFx0XHRsaW5rcy5sZW5ndGggPiAwXG5cdFx0XHRcdD8gZHYubWFya2Rvd25MaXN0KGxpbmtzKVxuXHRcdFx0XHQ6IGR2Lm1hcmtkb3duVGFza0xpc3QodGFza3MpLFxuXHRcdFx0Zm0udGltZV9hbGxvY2F0ZWQsXG5cdFx0XHRhcmVhcy5sZW5ndGggPiAwID8gZHYubWFya2Rvd25MaXN0KGFyZWFzKSA6IFwiXCIsXG5cdFx0XTtcblx0fVxuXG5cdGZvcm1hdEZsZWV0aW5nKGR2LCB0YXNrKSB7XG5cdFx0Y29uc3QgZiA9IHRhc2suZmlsZTtcblx0XHRjb25zdCBmbSA9IHRhc2suZmlsZS5mcm9udG1hdHRlcjtcblx0XHRjb25zdCB0YWdzID0gdGFzay5maWxlLnRhZ3M7XG5cdFx0Y29uc3QgaG91cnMgPSAzNjAwO1xuXHRcdGNvbnN0IGRheXMgPSA4NjQwMDtcblxuXHRcdGxldCBkdCA9IG5ldyBEYXRlKCk7XG5cdFx0aWYgKGZtICE9PSB1bmRlZmluZWQgJiYgZm0uY3JlYXRlZF9hdCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRkdCA9IG5ldyBEYXRlKGZtLmNyZWF0ZWRfYXQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkdCA9IG5ldyBEYXRlKGYuY3RpbWUudHMpO1xuXHRcdH1cblx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuXHRcdGNvbnN0IGRlbHRhID0gKG5vdy5nZXRUaW1lKCkgLSBkdC5nZXRUaW1lKCkpIC8gMTAwMDtcblx0XHRsZXQgc2luY2UgPSBcIlwiO1xuXHRcdGNvbnN0IHRvRHQgPSAodCkgPT4ge1xuXHRcdFx0cmV0dXJuIFN0cmluZyhNYXRoLnJvdW5kKHQgKiAxMCkgLyAxMCkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdH07XG5cdFx0aWYgKGRlbHRhID49IGRheXMpIHtcblx0XHRcdC8vIGRheXMgYWdvXG5cdFx0XHRzaW5jZSA9IHRvRHQoZGVsdGEgLyBkYXlzKSArIFwiZFwiO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBob3VycyBhZ29cblx0XHRcdHNpbmNlID0gdG9EdChkZWx0YSAvIGhvdXJzKSArIFwiaFwiO1xuXHRcdH1cblxuXHRcdC8vIHJldHVybiBbZHYuZmlsZUxpbmsoYCR7Zi5wYXRofSNDb250ZW50YCksIHNpbmNlLCBmLnNpemVdO1xuXHRcdGlmIChmbS5hbGlhcyA9PT0gdW5kZWZpbmVkIHx8IGZtLmFsaWFzID09PSBcIlwiKSB7XG5cdFx0XHRyZXR1cm4gW2R2LmZpbGVMaW5rKGAke2YucGF0aH1gKSwgc2luY2UsIGYuc2l6ZV07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBbZHYuZmlsZUxpbmsoYCR7Zi5wYXRofWAsIGZhbHNlLCBmbS5hbGlhcyksIHNpbmNlLCBmLnNpemVdO1xuXHRcdH1cblx0fVxuXG5cdHJlbmRlckRhaWx5QXNBcnJheShkdiwgdGFza3MpIHtcblx0XHRjb25zdCBhcnIgPSBbXTtcblx0XHR0YXNrcy5mb3JFYWNoKCh0YXNrKSA9PiB7XG5cdFx0XHRhcnIucHVzaCh0aGlzLmZvcm1hdFRhc2tEYWlseShkdiwgdGFzaykpO1xuXHRcdH0pO1xuXHRcdGR2LnRhYmxlKFtcInV1aWRcIiwgXCJjb250ZW50XCIsIFwiZHVyYXRpb25cIiwgXCJhcmVhXCJdLCBhcnIpO1xuXHR9XG5cblx0cmVuZGVyRmxlZXRpbmdBc0FycmF5KGR2LCB0YXNrcykge1xuXHRcdGNvbnN0IGFyciA9IFtdO1xuXHRcdHRhc2tzLmZvckVhY2goKHRhc2spID0+IHtcblx0XHRcdGFyci5wdXNoKHRoaXMuZm9ybWF0RmxlZXRpbmcoZHYsIHRhc2spKTtcblx0XHR9KTtcblx0XHRkdi50YWJsZShbXCJjb250ZW50XCIsIFwiYWdlXCIsIFwic2l6ZVwiXSwgYXJyKTtcblx0fVxuXG5cdGF1dG9GaWVsZE5lZWQoZHYsIGZtKSB7XG5cdFx0aWYgKGZtLm5lZWRzID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGZvciAoY29uc3QgZGVwIG9mIGZtLm5lZWRzKSB7XG5cdFx0XHRpZiAoIXRoaXMuaXNEb25lKGR2LCBkZXApKSB7XG5cdFx0XHRcdGJ1ZmYucHVzaChkdi5maWxlTGluayhgJHt0aGlzLnRhc2tEaXJ9LyR7ZGVwfWApKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKGJ1ZmYubGVuZ3RoID4gMCkge1xuXHRcdFx0ZHYuaGVhZGVyKDIsIFwiTmVlZHNcIik7XG5cdFx0XHRkdi5saXN0KGJ1ZmYpO1xuXHRcdH1cblx0fVxuXG5cdGF1dG9GaWVsZE5lZWRlZEJ5KGR2LCBjdXJyZW50KSB7XG5cdFx0Y29uc3QgdGFza3MgPSB0aGlzLmdldERlcGVuZGFudFRhc2tzKGR2LCBjdXJyZW50KTtcblx0XHRpZiAodGFza3MubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3QgYnVmZiA9IFtdO1xuXHRcdGZvciAoY29uc3QgdGFzayBvZiB0YXNrcykge1xuXHRcdFx0aWYgKCF0aGlzLmlzRG9uZShkdiwgdGFzay51dWlkKSkge1xuXHRcdFx0XHRidWZmLnB1c2goZHYuZmlsZUxpbmsodGFzay5maWxlLnBhdGgpKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKGJ1ZmYubGVuZ3RoID4gMCkge1xuXHRcdFx0ZHYuaGVhZGVyKDIsIFwiTmVlZGVkQnlcIik7XG5cdFx0XHRkdi5saXN0KGJ1ZmYpO1xuXHRcdH1cblx0fVxuXG5cdGF1dG9GaWVsZFRhZ3MoZHYsIGZtKSB7XG5cdFx0Y29uc3QgdGFncyA9IGZtLnRhZ3M7XG5cdFx0aWYgKHRhZ3MgPT0gdW5kZWZpbmVkIHx8IHRhZ3MubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGFncy5zb3J0KCk7XG5cdFx0ZHYuaGVhZGVyKDIsIFwiVGFnc1wiKTtcblx0XHRsZXQgcyA9IFwiXCI7XG5cdFx0Zm9yIChjb25zdCB0YWcgb2YgdGFncykge1xuXHRcdFx0cyArPSBgICMke3RhZ31gO1xuXHRcdH1cblx0XHRkdi5wYXJhZ3JhcGgocyk7XG5cblx0XHQvLyBkdi5wYXJhZ3JhcGgocyk7XG5cdFx0Ly8gZm9yIChjb25zdCB0YWcgb2YgdGFncykge1xuXHRcdC8vICAgZHYucGFyYWdyYXBoKGAjJHt0YWd9YCk7XG5cdFx0Ly8gfVxuXHR9XG5cblx0YXV0b0ZpZWxkVGFza0Jhc2UoZHYpIHtcblx0XHRjb25zdCBjdXJyZW50ID0gZHYuY3VycmVudCgpO1xuXHRcdGNvbnN0IGZtID0gY3VycmVudC5maWxlLmZyb250bWF0dGVyO1xuXHRcdGlmIChmbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRjb25zb2xlLndhcm4oXCJmbSBpcyByZXF1aXJlZFwiKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjb25zdCBwcm9qZWN0TmFtZSA9IEhlbHBlci5nZXRQcm9qZWN0KGZtKTtcblx0XHRpZiAocHJvamVjdE5hbWUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Y29uc3QgcHJvamVjdHMgPSBkdi5wYWdlcyhgXCJQcm9qZWN0c1wiYCkud2hlcmUoKGZtUCkgPT4ge1xuXHRcdFx0XHRpZiAoZm1QLm5hbWUgPT09IHByb2plY3ROYW1lLnNsaWNlKDgpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9KTtcblx0XHRcdGlmIChwcm9qZWN0cy5sZW5ndGgpIHtcblx0XHRcdFx0ZHYuaGVhZGVyKDIsIFwiUHJvamVjdFwiKTtcblx0XHRcdFx0ZHYucGFyYWdyYXBoKFJlbmRlcmVyLm1ha2VMaW5rTmFtZShkdiwgcHJvamVjdHNbMF0uZmlsZSkpO1xuXHRcdFx0XHQvLyBkdi5wYXJhZ3JhcGgoZHYuZmlsZUxpbmsoYFByb2plY3RzLyR7cHJvamVjdHNbMF0uZmlsZS5mcm9udG1hdHRlci51dWlkfWApKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0dGhpcy5hdXRvRmllbGROZWVkKGR2LCBmbSk7XG5cdFx0dGhpcy5hdXRvRmllbGROZWVkZWRCeShkdiwgY3VycmVudCk7XG5cdFx0Ly8gdGhpcy5hdXRvRmllbGRUYWdzKGR2LCBmbSk7XG5cblx0XHRjb25zdCBsb2dFbnRyaWVzID0gZHZcblx0XHRcdC5wYWdlcyhgXCIke3RoaXMubG9nRGlyfS8ke2ZtLnV1aWR9XCJgKVxuXHRcdFx0LndoZXJlKChwKSA9PiBwLnR5cGUgPT09IDYpXG5cdFx0XHQuc29ydCgoaykgPT4gay5jcmVhdGVkX2F0LCBcImRlc2NcIik7XG5cblx0XHRjb25zdCBidWZmID0gW107XG5cdFx0bGV0IHRvdGFsVGltZSA9IDA7XG5cdFx0Zm9yIChjb25zdCBlbnRyeSBvZiBsb2dFbnRyaWVzKSB7XG5cdFx0XHRjb25zdCBmbWUgPSBlbnRyeS5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0Y29uc3QgZSA9IFtdO1xuXHRcdFx0bGV0IHN0YXJ0OiBhbnkgPSAwO1xuXHRcdFx0bGV0IHN0b3A6IGFueSA9IDA7XG5cblx0XHRcdGlmIChmbWUgPT09IHVuZGVmaW5lZCB8fCBmbWUuY3JlYXRlZF9hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBmcm9udG1hdHRlcjogJHtmbWUudXVpZH1gKTtcblx0XHRcdH1cblxuXHRcdFx0c3RhcnQgPSBuZXcgRGF0ZShmbWUuY3JlYXRlZF9hdCk7XG5cdFx0XHRlLnB1c2goc3RhcnQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCkpO1xuXG5cdFx0XHRpZiAoZm1lLmRvbmVfYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRzdG9wID0gRGF0ZS5ub3coKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHN0b3AgPSBuZXcgRGF0ZShmbWUuZG9uZV9hdCk7XG5cdFx0XHR9XG5cdFx0XHR0b3RhbFRpbWUgKz0gc3RvcCAtIHN0YXJ0O1xuXG5cdFx0XHRlLnB1c2goXG5cdFx0XHRcdGR2LnNlY3Rpb25MaW5rKFxuXHRcdFx0XHRcdGZtZS51dWlkLFxuXHRcdFx0XHRcdFwiIyMgQ29udGVudFwiLFxuXHRcdFx0XHRcdGZhbHNlLFxuXHRcdFx0XHRcdGZtZS51dWlkLnNsaWNlKDAsIDgpLFxuXHRcdFx0XHQpLFxuXHRcdFx0KTtcblx0XHRcdGUucHVzaChNYXRoLnJvdW5kKCgoc3RvcCAtIHN0YXJ0KSAvICgxMDAwICogNjAgKiA2MCkpICogMTApIC8gMTApO1xuXHRcdFx0aWYgKGZtZS5yZXZpZXdlZCA9PT0gdW5kZWZpbmVkIHx8IGZtZS5yZXZpZXdlZCA9PT0gMCkge1xuXHRcdFx0XHRlLnB1c2goMCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlLnB1c2goZm1lLnJldmlld2VkKTtcblx0XHRcdH1cblxuXHRcdFx0YnVmZi5wdXNoKGUpO1xuXHRcdH1cblxuXHRcdGlmIChidWZmLmxlbmd0aCA+IDApIHtcblx0XHRcdGR2LmhlYWRlcigyLCBcIkxvZ3NcIik7XG5cdFx0XHRkdi50YWJsZShbXCJjcmVhdGVkX2F0XCIsIFwidXVpZFwiLCBcInNlc3Npb25cIiwgXCJyZXZpZXdlZFwiXSwgYnVmZik7XG5cdFx0XHRpZiAodG90YWxUaW1lID4gMCkge1xuXHRcdFx0XHRkdi5wYXJhZ3JhcGgoXG5cdFx0XHRcdFx0YF90b3RhbFRpbWUgKGgpOl8gJHtNYXRoLnJvdW5kKCh0b3RhbFRpbWUgLyAoMTAwMCAqIDYwICogNjApKSAqIDEwKSAvIDEwXG5cdFx0XHRcdFx0fWAsXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0YXV0b0ZpZWxkTG9nKGR2KSB7XG5cdFx0Y29uc3QgY3VycmVudCA9IGR2LmN1cnJlbnQoKTtcblx0XHRjb25zdCBmbSA9IGN1cnJlbnQuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGR2LmhlYWRlcigyLCBcIlBhcmVudFwiKTtcblx0XHRkdi5wYXJhZ3JhcGgoZHYuZmlsZUxpbmsoYCR7dGhpcy50YXNrRGlyfS8ke2ZtLnBhcmVudF9pZH1gKSk7XG5cdH1cblxuXHRhdXRvRmllbGRBdXRob3JzKGR2LCBmbSkge1xuXHRcdGNvbnN0IGF1dGhvcnMgPSBmbS5hdXRob3JzO1xuXHRcdGlmIChhdXRob3JzID09PSB1bmRlZmluZWQgfHwgYXV0aG9ycy5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0ZHYuaGVhZGVyKDIsIFwiQXV0aG9yc1wiKTtcblx0XHRkdi5saXN0KGF1dGhvcnMpO1xuXHR9XG5cblx0YXV0b0ZpZWxkVGl0bGUoZHYsIGZtKSB7XG5cdFx0Y29uc3QgdGl0bGUgPSBmbS5hbGlhcztcblx0XHRpZiAodGl0bGUgPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0ZHYuaGVhZGVyKDEsIHRpdGxlKTtcblx0fVxuXG5cdGF1dG9GaWVsZExpdGVyYXR1cmVOb3RlKGR2KSB7XG5cdFx0Y29uc3QgY3VycmVudCA9IGR2LmN1cnJlbnQoKTtcblx0XHRjb25zdCBmbSA9IGN1cnJlbnQuZmlsZS5mcm9udG1hdHRlcjtcblx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuYXV0b0ZpZWxkVGl0bGUoZHYsIGZtKTtcblx0XHR0aGlzLmF1dG9GaWVsZEF1dGhvcnMoZHYsIGZtKTtcblx0XHR0aGlzLmF1dG9GaWVsZFRhZ3MoZHYsIGZtKTtcblx0fVxuXG5cdGF1dG9GaWVsZFBlcm1hbmVudChkdikge1xuXHRcdGNvbnN0IGN1cnJlbnQgPSBkdi5jdXJyZW50KCk7XG5cdFx0Y29uc3QgZm0gPSBjdXJyZW50LmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLmF1dG9GaWVsZFRhZ3MoZHYsIGZtKTtcblx0fVxuXG5cdGF1dG9GaWVsZFRhc2soZHYpIHtcblx0XHRyZXR1cm4gdGhpcy5hdXRvRmllbGRUYXNrQmFzZShkdik7XG5cdH1cblxuXHRhdXRvRmllbGRMaXRlcmF0dXJlKGR2KSB7XG5cdFx0cmV0dXJuIHRoaXMuYXV0b0ZpZWxkTGl0ZXJhdHVyZU5vdGUoZHYpO1xuXHR9XG5cblx0YXV0b0ZpZWxkRmxlZXRpbmcoZHYpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRhdXRvRmllbGRTdXBwbHkoZHYpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRmaW5kVGFza3NCeVByb2plY3QoZHYsIG5hbWUpIHtcblx0XHRjb25zdCBidWZmID0gW107XG5cblx0XHRpZiAobmFtZSAhPT0gXCJcIiAmJiBuYW1lICE9PSBcIm5vbmVcIikge1xuXHRcdFx0Y29uc3QgdGFza3MgPSB0aGlzLmdldFRhc2tzKGR2LCBgJHt0aGlzLk5hbWVzcGFjZS5QUk9KRUNUfS9ub25lYCwgW1xuXHRcdFx0XHR0aGlzLlRhc2suQkFTRSxcblx0XHRcdF0pO1xuXHRcdFx0Zm9yIChjb25zdCB0YXNrIG9mIHRhc2tzKSB7XG5cdFx0XHRcdGNvbnN0IGZtID0gdGFzay5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0XHRpZiAodGhpcy5pc0RvYWJsZShkdiwgdGFzaykpIHtcblx0XHRcdFx0XHRidWZmLnB1c2godGFzayk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc3QgdGFza3MgPSB0aGlzLmdldFRhc2tzKGR2LCBcIlwiLCBbdGhpcy5UYXNrLkJBU0VdKTtcblx0XHRcdGZvciAoY29uc3QgdGFzayBvZiB0YXNrcykge1xuXHRcdFx0XHRjb25zdCBmbSA9IHRhc2suZmlsZS5mcm9udG1hdHRlcjtcblx0XHRcdFx0Y29uc3QgdGFncyA9IGZtLnRhZ3M7XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHQoZm0udGFncyA9PT0gdW5kZWZpbmVkICYmXG5cdFx0XHRcdFx0XHQobmFtZSA9PT0gXCJcIiB8fCBuYW1lID09PSBcIm5vbmVcIikpIHx8XG5cdFx0XHRcdFx0Zm0udGFncy5jb250YWlucyhgJHt0aGlzLk5hbWVzcGFjZS5QUk9KRUNUfS9ub25lYClcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0aWYgKHRoaXMuaXNEb2FibGUoZHYsIHRhc2spKSB7XG5cdFx0XHRcdFx0XHRidWZmLnB1c2godGFzayk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0YnVmZi5zb3J0KCk7XG5cdFx0cmV0dXJuIGJ1ZmY7XG5cdH1cblxuXHRnZXRUYWcodGFncywgdHlwZSkge1xuXHRcdGxldCBuYW1lID0gXCJcIjtcblx0XHRsZXQgZGVmYXVsdFZhbHVlID0gXCJcIjtcblxuXHRcdGlmICh0eXBlID09PSBcImFyZWFcIikge1xuXHRcdFx0bmFtZSA9IHRoaXMuTmFtZXNwYWNlLkFSRUE7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSB0aGlzLkRlZmF1bHQuQVJFQTtcblx0XHR9IGVsc2UgaWYgKHR5cGUgPT09IFwiY29udGV4dFwiKSB7XG5cdFx0XHRuYW1lID0gdGhpcy5OYW1lc3BhY2UuQ09OVEVYVDtcblx0XHRcdGRlZmF1bHRWYWx1ZSA9IHRoaXMuRGVmYXVsdC5DT05URVhUO1xuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gXCJsYXllclwiKSB7XG5cdFx0XHRuYW1lID0gdGhpcy5OYW1lc3BhY2UuTEFZRVI7XG5cdFx0XHRkZWZhdWx0VmFsdWUgPSB0aGlzLkRlZmF1bHQuTEFZRVI7XG5cdFx0fSBlbHNlIGlmICh0eXBlID09PSBcIm9yZ1wiKSB7XG5cdFx0XHRuYW1lID0gdGhpcy5OYW1lc3BhY2UuT1JHO1xuXHRcdFx0ZGVmYXVsdFZhbHVlID0gdGhpcy5EZWZhdWx0Lk9SRztcblx0XHR9IGVsc2UgaWYgKHR5cGUgPT09IFwicHJvamVjdFwiKSB7XG5cdFx0XHRuYW1lID0gdGhpcy5OYW1lc3BhY2UuUFJPSkVDVDtcblx0XHRcdGRlZmF1bHRWYWx1ZSA9IHRoaXMuRGVmYXVsdC5QUk9KRUNUO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYGdldFRhZyBnb3QgdW5zdXBvcnRlZCB0eXBlOiAke3R5cGV9YCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgbGVuID0gbmFtZS5sZW5ndGggKyAxO1xuXHRcdGNvbnN0IGRlZmF1bHRUYWcgPSBgJHtuYW1lfS8ke2RlZmF1bHRWYWx1ZX1gO1xuXHRcdGlmICh0YWdzID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBkZWZhdWx0VGFnO1xuXHRcdH1cblxuXHRcdGZvciAoY29uc3QgdGFnIG9mIHRhZ3MpIHtcblx0XHRcdGlmICh0YWcubGVuZ3RoID4gbGVuICYmIHRhZy5zbGljZSgwLCBsZW4pID09IGAke25hbWV9L2ApIHtcblx0XHRcdFx0cmV0dXJuIHRhZztcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZGVmYXVsdFRhZztcblx0fVxuXG5cdGdldEFyZWEodGFncykge1xuXHRcdHJldHVybiB0aGlzLmdldFRhZyh0YWdzLCBcImFyZWFcIik7XG5cdH1cblxuXHRnZXRDb250ZXh0KHRhZ3MpIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUYWcodGFncywgXCJjb250ZXh0XCIpO1xuXHR9XG5cdGdldExheWVyKHRhZ3MpIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUYWcodGFncywgXCJsYXllclwiKTtcblx0fVxuXG5cdGdldE9yZyh0YWdzKSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VGFnKHRhZ3MsIFwib3JnXCIpO1xuXHR9XG5cblx0Z2V0UHJvamVjdCh0YWdzKSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VGFnKHRhZ3MsIFwicHJvamVjdFwiKTtcblx0fVxuXG5cdHBhcnNlTGlzdEZyb250bWF0dGVyKGZtKSB7XG5cdFx0bGV0IG1pblByaW9yaXR5ID0gMDtcblx0XHRpZiAoZm0ubWluX3ByaW9yaXR5ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdG1pblByaW9yaXR5ID0gZm0ubWluX3ByaW9yaXR5O1xuXHRcdH1cblxuXHRcdGxldCBpZ25vcmUgPSBbXTtcblx0XHRpZiAoZm0uaWdub3JlICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGlnbm9yZSA9IGZtLmlnbm9yZTtcblx0XHR9XG5cblx0XHRsZXQgYnlBcmVhcyA9IFtdO1xuXHRcdGlmIChmbS5ieV9hcmVhcyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRieUFyZWFzID0gZm0uYnlfYXJlYXM7XG5cdFx0fVxuXG5cdFx0bGV0IGJ5UHJvamVjdHMgPSBbXTtcblx0XHRpZiAoZm0uYnlfcHJvamVjdHMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0YnlQcm9qZWN0cyA9IGZtLmJ5X3Byb2plY3RzO1xuXHRcdH1cblx0XHRyZXR1cm4gW21pblByaW9yaXR5LCBpZ25vcmUsIGJ5QXJlYXMsIGJ5UHJvamVjdHNdO1xuXHR9XG5cblx0cmVuZGVyTmFtZXNwYWNlQ29udGVudChkdikge1xuXHRcdGNvbnN0IHNlbGYgPSBkdi5jdXJyZW50KCk7XG5cdFx0Y29uc3QgbmFtZSA9IHNlbGYuZmlsZS5uYW1lLnRvTG93ZXJDYXNlKCkuc2xpY2UoMCwgLTEpO1xuXG5cdFx0ZHYuaGVhZGVyKDEsIFwiSW5kZXhcIik7XG5cdFx0ZHYuaGVhZGVyKDIsIGAke3NlbGYuZmlsZS5uYW1lfWApO1xuXG5cdFx0Y29uc3QgdGFncyA9IHRoaXMuZ2V0TmFtZXNwYWNlQ29udGVudChkdiwgbmFtZSk7XG5cdFx0dGFncy5zb3J0KCk7XG5cblx0XHRmb3IgKGNvbnN0IHRhZyBvZiB0YWdzKSB7XG5cdFx0XHRkdi5wYXJhZ3JhcGgoYCMke25hbWV9LyR7dGFnfWApO1xuXHRcdH1cblx0fVxuXG5cdHJlbmRlclVucHJvY2Vzc2VkTG9ncyhkdikge1xuXHRcdGNvbnN0IGxvZ3MgPSBkdlxuXHRcdFx0LnBhZ2VzKGBcIiR7dGhpcy5sb2dEaXJ9XCJgKVxuXHRcdFx0LndoZXJlKFxuXHRcdFx0XHQocCkgPT5cblx0XHRcdFx0XHRwLnR5cGUgPT09IHRoaXMuVHlwZS5MT0cgJiZcblx0XHRcdFx0XHQocC5yZXZpZXdkID09PSB1bmRlZmluZWQgfHwgcC5yZXZpZXdlZCA8IDEpLFxuXHRcdFx0KVxuXHRcdFx0LnNvcnQoKGspID0+IGsuY3JlYXRlZF9hdCwgXCJhc2NcIik7XG5cblx0XHRjb25zdCBidWZmID0gW107XG5cblx0XHRjb25zdCBhcnIgPSBbXTtcblx0XHRsb2dzLmZvckVhY2goKGVudHJ5KSA9PiB7XG5cdFx0XHRjb25zdCBmbSA9IGVudHJ5LmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0XHRpZiAoZm0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHBhcmVudElkID0gZm0ucGFyZW50X2lkO1xuXHRcdFx0aWYgKHBhcmVudElkID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGxvZyBlbnRyeTogJHtlbnRyeS5maWxlLnBhdGh9YCk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHBhcmVudCA9IGR2LnBhZ2VzKGBcIiR7dGhpcy50YXNrRGlyfS8ke3BhcmVudElkfVwiYCk7XG5cdFx0XHRjb25zdCBwYXJlbnRGbSA9IHBhcmVudC5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0aWYgKHBhcmVudEZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHRhc2s6ICR7cGFyZW50LmZpbGUucGF0aH1gKTtcblx0XHRcdH1cblxuXHRcdFx0bGV0IHByb2plY3QgPSB0aGlzLmdldFByb2plY3QocGFyZW50Rm0udGFncyk7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdHByb2plY3QgPT09IGAke3RoaXMuTmFtZXNwYWNlLlBST0pFQ1R9LyR7dGhpcy5EZWZhdWx0LlBST0pFQ1R9YFxuXHRcdFx0KSB7XG5cdFx0XHRcdHByb2plY3QgPSBcIlwiO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgYXJlYSA9IHRoaXMuZ2V0QXJlYShwYXJlbnRGbS50YWdzKTtcblx0XHRcdGlmIChhcmVhID09PSBgJHt0aGlzLk5hbWVzcGFjZS5BUkVBfS8ke3RoaXMuRGVmYXVsdC5BUkVBfWApIHtcblx0XHRcdFx0YXJlYSA9IFwiXCI7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGZvcm1hdGVkID0gW107XG5cblx0XHRcdGZvcm1hdGVkLnB1c2goXG5cdFx0XHRcdGR2LnNlY3Rpb25MaW5rKFxuXHRcdFx0XHRcdGVudHJ5LmZpbGUucGF0aCxcblx0XHRcdFx0XHRcIkNvbnRlbnRcIixcblx0XHRcdFx0XHRmYWxzZSxcblx0XHRcdFx0XHRgJHtmbS51dWlkLnNsaWNlKDAsIDgpfWAsXG5cdFx0XHRcdCksXG5cdFx0XHQpO1xuXHRcdFx0Y29uc3QgY3JlYXRlZEF0ID0gbmV3IERhdGUoZm0uY3JlYXRlZF9hdCk7XG5cdFx0XHRmb3JtYXRlZC5wdXNoKGNyZWF0ZWRBdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKSk7XG5cdFx0XHRmb3JtYXRlZC5wdXNoKHByb2plY3QpO1xuXHRcdFx0Zm9ybWF0ZWQucHVzaChhcmVhKTtcblx0XHRcdGFyci5wdXNoKGZvcm1hdGVkKTtcblx0XHR9KTtcblxuXHRcdGR2LnRhYmxlKFtcInV1aWRcIiwgXCJjcmVhdGVkX2F0XCIsIFwicHJvamVjdFwiLCBcImFyZWFcIl0sIGFycik7XG5cdH1cblxuXHRhc3NlcnRUYXNrRG9uZUF0KGR2LCB0YXNrSWQpIHtcblx0XHRjb25zdCB0YXNrID0gZHYucGFnZXMoYFwiJHt0aGlzLnRhc2tEaXJ9LyR7dGFza0lkfVwiYCk7XG5cdFx0aWYgKHRhc2subGVuZ3RoID09PSAwKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYHRhc2s6ICR7dGFza0lkfSBkb2VzdCBub3QgZXhpc3RzYCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZm0gPSB0YXNrLmZpbGUuZnJvbnRtYXR0ZXI7XG5cdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgdGFzazogJHt0YXNrSWR9IGRvZXMgbm90IGhhdmUgYSBmcm9udG1hdHRlcmApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGxvZ3MgPSBkdlxuXHRcdFx0LnBhZ2VzKGBcIiR7dGhpcy5sb2dEaXJ9LyR7dGFza0lkfVwiYClcblx0XHRcdC5zb3J0KChrKSA9PiBrLmNyZWF0ZWRfYXQsIFwiYXNjXCIpO1xuXHRcdGlmIChsb2dzLmxlbmd0aCA8IDEpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgdGFzazogJHt0YXNrSWR9IGhhcyBubyBMb2dzYCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgbGFzdEVudHJ5ID0gbG9nc1tsb2dzLmxlbmd0aCAtIDFdO1xuXHRcdGlmIChsYXN0RW50cnkuZmlsZS5mcm9udG1hdHRlci5kb25lX2F0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0YHRhc2s6ICR7dGFza0lkfSBsYXN0IGVudHJ5IGlzIG1pc3NpbmcgJ2RvbmVfYXQnIGZpZWxkYCxcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZG9uZUF0ID0gbmV3IERhdGUobGFzdEVudHJ5LmZpbGUuZnJvbnRtYXR0ZXIuZG9uZV9hdCk7XG5cdFx0cmV0dXJuIFtcblx0XHRcdGR2LnNlY3Rpb25MaW5rKFxuXHRcdFx0XHR0YXNrLmZpbGUucGF0aCxcblx0XHRcdFx0XCJDb250ZW50XCIsXG5cdFx0XHRcdGZhbHNlLFxuXHRcdFx0XHRgJHt0YXNrLmZpbGUuZnJvbnRtYXR0ZXIudXVpZC5zbGljZSgwLCA4KX1gLFxuXHRcdFx0KSxcblx0XHRcdGAke2RvbmVBdC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKX1gLFxuXHRcdF07XG5cdH1cblxuXHRnZXREb25lVGltZWxpbmUoZHYpIHtcblx0XHQvLyBwcmVuZHMgZW4gY29tcHRlIGRvaW5nIC0+IGRvbmUsIHBhcyBsZXMgdGFzayBzdXIgbGVxdWVsbGVzIGR1IHRyYXZhaWwgYSBcdTAwRTl0XHUwMEU5IGZhaXQgbWFpcyBxdWkgb250IFx1MDBFOXRcdTAwRTkgc3VzcGVuZFxuXHRcdC8vIGRhaWx5LCB0YXNrIHRyb3AgbG9uZ3VlIHBvdXIgZXRyZSBmYWl0ZSBlbiB1biBzaXR0aW5nXG5cdFx0Y29uc3QgdGFza3MgPSBkdlxuXHRcdFx0LnBhZ2VzKGBcIiR7dGhpcy50YXNrRGlyfVwiYClcblx0XHRcdC53aGVyZSgocCkgPT4gcC5zdGF0dXMgPT09IFwiZG9uZVwiKTtcblxuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRmb3IgKGNvbnN0IHRhc2sgb2YgdGFza3MpIHtcblx0XHRcdGNvbnN0IGZtID0gdGFzay5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGB0YXNrOiAke2ZtLnV1aWR9IGRvZXMgbm90IGhhdmUgYSBmcm9udG1hdHRlcmApO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBsb2dzID0gZHZcblx0XHRcdFx0LnBhZ2VzKGBcIiR7dGhpcy5sb2dEaXJ9LyR7Zm0udXVpZH1cImApXG5cdFx0XHRcdC5zb3J0KChrKSA9PiBrLmNyZWF0ZWRfYXQsIFwiYXNjXCIpO1xuXHRcdFx0aWYgKGxvZ3MubGVuZ3RoIDwgMSkge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oYHRhc2s6ICR7Zm0udXVpZH0gaGFzIG5vIExvZ3NgKTtcblx0XHRcdFx0Ly8gdGhyb3cgbmV3IEVycm9yKGB0YXNrOiAke3Rhc2tJZH0gaGFzIG5vIExvZ3NgKTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgbGFzdEVudHJ5ID0gbG9nc1tsb2dzLmxlbmd0aCAtIDFdO1xuXHRcdFx0aWYgKGxhc3RFbnRyeSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGxhc3RFbnRyeS5maWxlLmZyb250bWF0dGVyLmRvbmVfYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0YHRhc2s6ICR7Zm0udXVpZH0gbGFzdCBlbnRyeSBpcyBtaXNzaW5nICdkb25lX2F0JyBmaWVsZGAsXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdGZtLmRvbmVBdCA9IG5ldyBEYXRlKGxhc3RFbnRyeS5maWxlLmZyb250bWF0dGVyLmRvbmVfYXQpO1xuXHRcdFx0YnVmZi5wdXNoKHRhc2spO1xuXHRcdH1cblxuXHRcdGJ1ZmYuc29ydCgoYSwgYikgPT4ge1xuXHRcdFx0Y29uc3QgZGF0ZUEgPSBuZXcgRGF0ZShhLmZpbGUuZnJvbnRtYXR0ZXIuZG9uZUF0KTtcblx0XHRcdGNvbnN0IGRhdGVCID0gbmV3IERhdGUoYi5maWxlLmZyb250bWF0dGVyLmRvbmVBdCk7XG5cdFx0XHRyZXR1cm4gKGRhdGVBLmdldFRpbWUoKSAtIGRhdGVCLmdldFRpbWUoKSkgKiAtMTtcblx0XHR9KTtcblxuXHRcdGNvbnN0IGFyciA9IFtdO1xuXHRcdGJ1ZmYuZm9yRWFjaCgoZSkgPT4ge1xuXHRcdFx0YXJyLnB1c2goW1xuXHRcdFx0XHRkdi5zZWN0aW9uTGluayhcblx0XHRcdFx0XHRlLmZpbGUucGF0aCxcblx0XHRcdFx0XHRcIkNvbnRlbnRcIixcblx0XHRcdFx0XHRmYWxzZSxcblx0XHRcdFx0XHRgJHtlLmZpbGUuZnJvbnRtYXR0ZXIudXVpZC5zbGljZSgwLCA4KX1gLFxuXHRcdFx0XHQpLFxuXHRcdFx0XHRgJHtlLmZpbGUuZnJvbnRtYXR0ZXIuZG9uZUF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTYpfWAsXG5cdFx0XHRdKTtcblx0XHR9KTtcblxuXHRcdGR2LnRhYmxlKFtcInV1aWRcIiwgXCJkb25lQXRcIl0sIGFycik7XG5cdH1cblxuXHRkdXJhdGlvblN0cmluZ1RvU2VjKHZhbCkge1xuXHRcdGNvbnN0IG11bHQgPSB2YWwuc2xpY2UoLTEpO1xuXHRcdGxldCBtID0gMDtcblx0XHRpZiAobXVsdCA9PT0gXCJoXCIpIHtcblx0XHRcdG0gPSA2MCAqIDYwO1xuXHRcdH0gZWxzZSBpZiAobXVsdCA9PT0gXCJtXCIpIHtcblx0XHRcdG0gPSA2MDtcblx0XHR9IGVsc2UgaWYgKG11bHQgPT09IFwiZFwiKSB7XG5cdFx0XHRtID0gMjQgKiA2MCAqIDYwO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLndhcm4oYFVuaGFuZGxlZCBjYXNlIG11bHQ6ICR7bXVsdH1gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbSAqIHBhcnNlSW50KHZhbC5zbGljZSgwLCAtMSkpO1xuXHR9XG5cblx0dGVzdER2RnVuYygpIHtcblx0XHQvLyBwcmVuZHMgZW4gY29tcHRlIGRvaW5nIC0+IGRvbmUsIHBhcyBsZXMgdGFzayBzdXIgbGVxdWVsbGVzIGR1IHRyYXZhaWwgYSBcdTAwRTl0XHUwMEU5IGZhaXQgbWFpcyBxdWkgb250IFx1MDBFOXRcdTAwRTkgc3VzcGVuZFxuXHRcdC8vIGRhaWx5LCB0YXNrIHRyb3AgbG9uZ3VlIHBvdXIgZXRyZSBmYWl0ZSBlbiB1biBzaXR0aW5nXG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGNvbnN0IGR2ID0gYXBwLnBsdWdpbnMucGx1Z2lucy5kYXRhdmlldy5hcGk7XG5cdFx0Y29uc3QgdGFza3MgPSBkdlxuXHRcdFx0LnBhZ2VzKGBcIiR7dGhpcy50YXNrRGlyfVwiYClcblx0XHRcdC53aGVyZSgocCkgPT4gcC5zdGF0dXMgPT09IFwiZG9uZVwiKTtcblxuXHRcdGNvbnN0IGJ1ZmYgPSBbXTtcblx0XHRmb3IgKGNvbnN0IHRhc2sgb2YgdGFza3MpIHtcblx0XHRcdGNvbnN0IGZtID0gdGFzay5maWxlLmZyb250bWF0dGVyO1xuXHRcdFx0aWYgKGZtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGB0YXNrOiAke2ZtLnV1aWR9IGRvZXMgbm90IGhhdmUgYSBmcm9udG1hdHRlcmApO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBsb2dzID0gZHZcblx0XHRcdFx0LnBhZ2VzKGBcIiR7dGhpcy5sb2dEaXJ9LyR7Zm0udXVpZH1cImApXG5cdFx0XHRcdC5zb3J0KChrKSA9PiBrLmNyZWF0ZWRfYXQsIFwiYXNjXCIpO1xuXHRcdFx0aWYgKGxvZ3MubGVuZ3RoIDwgMSkge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oYHRhc2s6ICR7Zm0udXVpZH0gaGFzIG5vIExvZ3NgKTtcblx0XHRcdFx0Ly8gdGhyb3cgbmV3IEVycm9yKGB0YXNrOiAke3Rhc2tJZH0gaGFzIG5vIExvZ3NgKTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgbGFzdEVudHJ5ID0gbG9nc1tsb2dzLmxlbmd0aCAtIDFdO1xuXHRcdFx0aWYgKGxhc3RFbnRyeSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGxhc3RFbnRyeS5maWxlLmZyb250bWF0dGVyLmRvbmVfYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0YHRhc2s6ICR7Zm0udXVpZH0gbGFzdCBlbnRyeSBpcyBtaXNzaW5nICdkb25lX2F0JyBmaWVsZGAsXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdGZtLmRvbmVBdCA9IG5ldyBEYXRlKGxhc3RFbnRyeS5maWxlLmZyb250bWF0dGVyLmRvbmVfYXQpO1xuXHRcdFx0YnVmZi5wdXNoKHRhc2spO1xuXHRcdH1cblxuXHRcdGJ1ZmYuc29ydCgoYSwgYikgPT4ge1xuXHRcdFx0Y29uc3QgZGF0ZUEgPSBuZXcgRGF0ZShhLmZpbGUuZnJvbnRtYXR0ZXIuZG9uZUF0KTtcblx0XHRcdGNvbnN0IGRhdGVCID0gbmV3IERhdGUoYi5maWxlLmZyb250bWF0dGVyLmRvbmVBdCk7XG5cdFx0XHRyZXR1cm4gKGRhdGVBLmdldFRpbWUoKSAtIGRhdGVCLmdldFRpbWUoKSkgKiAtMTtcblx0XHR9KTtcblxuXHRcdGNvbnN0IGFyciA9IFtdO1xuXHRcdGJ1ZmYuZm9yRWFjaCgoZSkgPT4ge1xuXHRcdFx0YXJyLnB1c2goW1xuXHRcdFx0XHRkdi5zZWN0aW9uTGluayhcblx0XHRcdFx0XHRlLmZpbGUucGF0aCxcblx0XHRcdFx0XHRcIkNvbnRlbnRcIixcblx0XHRcdFx0XHRmYWxzZSxcblx0XHRcdFx0XHRgJHtlLmZpbGUuZnJvbnRtYXR0ZXIudXVpZC5zbGljZSgwLCA4KX1gLFxuXHRcdFx0XHQpLFxuXHRcdFx0XHRgJHtlLmZpbGUuZnJvbnRtYXR0ZXIuZG9uZUF0LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTYpfWAsXG5cdFx0XHRdKTtcblx0XHR9KTtcblxuXHRcdC8vIGR2LnRhYmxlKFtcInV1aWRcIiwgXCJkb25lQXRcIl0sIGFycik7XG5cdH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFB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LFdBQVcsT0FBTztBQUFBLE1BQ3RCLENBQUM7QUFBQSxNQUNEO0FBQUEsTUFDQSxNQUFNLEtBQUssU0FBUztBQUFBLElBQ3JCO0FBQUEsRUFDRDtBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ3BCLFVBQU0sS0FBSyxTQUFTLEtBQUssUUFBUTtBQUFBLEVBQ2xDO0FBQ0Q7QUFFTyxJQUFNLGVBQU4sY0FBMkIsc0JBQU07QUFBQSxFQUN2QyxZQUFZSCxNQUFVO0FBQ3JCLFVBQU1BLElBQUc7QUFBQSxFQUNWO0FBQUEsRUFFQSxTQUFTO0FBQ1IsVUFBTSxFQUFFLFVBQVUsSUFBSTtBQUV0QixVQUFNLEtBQUssS0FBSyxJQUFJLFFBQVEsUUFBUSxTQUFTO0FBQzdDLFVBQU0sUUFBUSxHQUFHLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxHQUFHLEVBQUU7QUFDNUMsUUFBSSxJQUFJO0FBQ1IsZUFBVyxRQUFRLE9BQU87QUFDekIsV0FBSyxHQUFHLEtBQUssS0FBSztBQUFBO0FBQUE7QUFBQSxJQUNuQjtBQUNBLGNBQVUsUUFBUSxDQUFDO0FBQUEsRUFDcEI7QUFBQSxFQUVBLFVBQVU7QUFDVCxVQUFNLEVBQUUsVUFBVSxJQUFJO0FBQ3RCLGNBQVUsTUFBTTtBQUFBLEVBQ2pCO0FBQ0Q7IiwKICAibmFtZXMiOiBbImUiLCAiYXQiLCAicGFnZSIsICJmbSIsICJhcHAiLCAiZiIsICJycyIsICJwYWdlcyIsICJidWZmIiwgIlZhbGlkYXRpb25FcnJvciIsICJkdiIsICJmaWxlIiwgImFwcCIsICJwYWdlIiwgIl9hIiwgImNvbXBvbmVudE5hbWUiXQp9Cg==
